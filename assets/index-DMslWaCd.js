function pT(r,e){for(var t=0;t<e.length;t++){const n=e[t];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in r)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(r,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();function yS(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var uv={exports:{}},oh={},dv={exports:{}},ln={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var k1;function mT(){if(k1)return ln;k1=1;var r=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),m=Symbol.iterator;function y(D){return D===null||typeof D!="object"?null:(D=m&&D[m]||D["@@iterator"],typeof D=="function"?D:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,b={};function _(D,B,ee){this.props=D,this.context=B,this.refs=b,this.updater=ee||v}_.prototype.isReactComponent={},_.prototype.setState=function(D,B){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,B,"setState")},_.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function S(){}S.prototype=_.prototype;function A(D,B,ee){this.props=D,this.context=B,this.refs=b,this.updater=ee||v}var E=A.prototype=new S;E.constructor=A,C(E,_.prototype),E.isPureReactComponent=!0;var P=Array.isArray,I=Object.prototype.hasOwnProperty,k={current:null},F={key:!0,ref:!0,__self:!0,__source:!0};function V(D,B,ee){var ie,se={},pe=null,me=null;if(B!=null)for(ie in B.ref!==void 0&&(me=B.ref),B.key!==void 0&&(pe=""+B.key),B)I.call(B,ie)&&!F.hasOwnProperty(ie)&&(se[ie]=B[ie]);var ve=arguments.length-2;if(ve===1)se.children=ee;else if(1<ve){for(var ke=Array(ve),$e=0;$e<ve;$e++)ke[$e]=arguments[$e+2];se.children=ke}if(D&&D.defaultProps)for(ie in ve=D.defaultProps,ve)se[ie]===void 0&&(se[ie]=ve[ie]);return{$$typeof:r,type:D,key:pe,ref:me,props:se,_owner:k.current}}function U(D,B){return{$$typeof:r,type:D.type,key:B,ref:D.ref,props:D.props,_owner:D._owner}}function O(D){return typeof D=="object"&&D!==null&&D.$$typeof===r}function Q(D){var B={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(ee){return B[ee]})}var q=/\/+/g;function te(D,B){return typeof D=="object"&&D!==null&&D.key!=null?Q(""+D.key):B.toString(36)}function X(D,B,ee,ie,se){var pe=typeof D;(pe==="undefined"||pe==="boolean")&&(D=null);var me=!1;if(D===null)me=!0;else switch(pe){case"string":case"number":me=!0;break;case"object":switch(D.$$typeof){case r:case e:me=!0}}if(me)return me=D,se=se(me),D=ie===""?"."+te(me,0):ie,P(se)?(ee="",D!=null&&(ee=D.replace(q,"$&/")+"/"),X(se,B,ee,"",function($e){return $e})):se!=null&&(O(se)&&(se=U(se,ee+(!se.key||me&&me.key===se.key?"":(""+se.key).replace(q,"$&/")+"/")+D)),B.push(se)),1;if(me=0,ie=ie===""?".":ie+":",P(D))for(var ve=0;ve<D.length;ve++){pe=D[ve];var ke=ie+te(pe,ve);me+=X(pe,B,ee,ke,se)}else if(ke=y(D),typeof ke=="function")for(D=ke.call(D),ve=0;!(pe=D.next()).done;)pe=pe.value,ke=ie+te(pe,ve++),me+=X(pe,B,ee,ke,se);else if(pe==="object")throw B=String(D),Error("Objects are not valid as a React child (found: "+(B==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":B)+"). If you meant to render a collection of children, use an array instead.");return me}function le(D,B,ee){if(D==null)return D;var ie=[],se=0;return X(D,ie,"","",function(pe){return B.call(ee,pe,se++)}),ie}function re(D){if(D._status===-1){var B=D._result;B=B(),B.then(function(ee){(D._status===0||D._status===-1)&&(D._status=1,D._result=ee)},function(ee){(D._status===0||D._status===-1)&&(D._status=2,D._result=ee)}),D._status===-1&&(D._status=0,D._result=B)}if(D._status===1)return D._result.default;throw D._result}var de={current:null},j={transition:null},Y={ReactCurrentDispatcher:de,ReactCurrentBatchConfig:j,ReactCurrentOwner:k};function G(){throw Error("act(...) is not supported in production builds of React.")}return ln.Children={map:le,forEach:function(D,B,ee){le(D,function(){B.apply(this,arguments)},ee)},count:function(D){var B=0;return le(D,function(){B++}),B},toArray:function(D){return le(D,function(B){return B})||[]},only:function(D){if(!O(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},ln.Component=_,ln.Fragment=t,ln.Profiler=i,ln.PureComponent=A,ln.StrictMode=n,ln.Suspense=c,ln.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Y,ln.act=G,ln.cloneElement=function(D,B,ee){if(D==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+D+".");var ie=C({},D.props),se=D.key,pe=D.ref,me=D._owner;if(B!=null){if(B.ref!==void 0&&(pe=B.ref,me=k.current),B.key!==void 0&&(se=""+B.key),D.type&&D.type.defaultProps)var ve=D.type.defaultProps;for(ke in B)I.call(B,ke)&&!F.hasOwnProperty(ke)&&(ie[ke]=B[ke]===void 0&&ve!==void 0?ve[ke]:B[ke])}var ke=arguments.length-2;if(ke===1)ie.children=ee;else if(1<ke){ve=Array(ke);for(var $e=0;$e<ke;$e++)ve[$e]=arguments[$e+2];ie.children=ve}return{$$typeof:r,type:D.type,key:se,ref:pe,props:ie,_owner:me}},ln.createContext=function(D){return D={$$typeof:o,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},D.Provider={$$typeof:s,_context:D},D.Consumer=D},ln.createElement=V,ln.createFactory=function(D){var B=V.bind(null,D);return B.type=D,B},ln.createRef=function(){return{current:null}},ln.forwardRef=function(D){return{$$typeof:l,render:D}},ln.isValidElement=O,ln.lazy=function(D){return{$$typeof:h,_payload:{_status:-1,_result:D},_init:re}},ln.memo=function(D,B){return{$$typeof:d,type:D,compare:B===void 0?null:B}},ln.startTransition=function(D){var B=j.transition;j.transition={};try{D()}finally{j.transition=B}},ln.unstable_act=G,ln.useCallback=function(D,B){return de.current.useCallback(D,B)},ln.useContext=function(D){return de.current.useContext(D)},ln.useDebugValue=function(){},ln.useDeferredValue=function(D){return de.current.useDeferredValue(D)},ln.useEffect=function(D,B){return de.current.useEffect(D,B)},ln.useId=function(){return de.current.useId()},ln.useImperativeHandle=function(D,B,ee){return de.current.useImperativeHandle(D,B,ee)},ln.useInsertionEffect=function(D,B){return de.current.useInsertionEffect(D,B)},ln.useLayoutEffect=function(D,B){return de.current.useLayoutEffect(D,B)},ln.useMemo=function(D,B){return de.current.useMemo(D,B)},ln.useReducer=function(D,B,ee){return de.current.useReducer(D,B,ee)},ln.useRef=function(D){return de.current.useRef(D)},ln.useState=function(D){return de.current.useState(D)},ln.useSyncExternalStore=function(D,B,ee){return de.current.useSyncExternalStore(D,B,ee)},ln.useTransition=function(){return de.current.useTransition()},ln.version="18.3.1",ln}var N1;function Kg(){return N1||(N1=1,dv.exports=mT()),dv.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var O1;function gT(){if(O1)return oh;O1=1;var r=Kg(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function o(l,c,d){var h,m={},y=null,v=null;d!==void 0&&(y=""+d),c.key!==void 0&&(y=""+c.key),c.ref!==void 0&&(v=c.ref);for(h in c)n.call(c,h)&&!s.hasOwnProperty(h)&&(m[h]=c[h]);if(l&&l.defaultProps)for(h in c=l.defaultProps,c)m[h]===void 0&&(m[h]=c[h]);return{$$typeof:e,type:l,key:y,ref:v,props:m,_owner:i.current}}return oh.Fragment=t,oh.jsx=o,oh.jsxs=o,oh}var F1;function yT(){return F1||(F1=1,uv.exports=gT()),uv.exports}var z=yT(),ue=Kg();const V2=yS(ue),vT=pT({__proto__:null,default:V2},[ue]);var vm={},fv={exports:{}},os={},hv={exports:{}},pv={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var B1;function xT(){return B1||(B1=1,(function(r){function e(j,Y){var G=j.length;j.push(Y);e:for(;0<G;){var D=G-1>>>1,B=j[D];if(0<i(B,Y))j[D]=Y,j[G]=B,G=D;else break e}}function t(j){return j.length===0?null:j[0]}function n(j){if(j.length===0)return null;var Y=j[0],G=j.pop();if(G!==Y){j[0]=G;e:for(var D=0,B=j.length,ee=B>>>1;D<ee;){var ie=2*(D+1)-1,se=j[ie],pe=ie+1,me=j[pe];if(0>i(se,G))pe<B&&0>i(me,se)?(j[D]=me,j[pe]=G,D=pe):(j[D]=se,j[ie]=G,D=ie);else if(pe<B&&0>i(me,G))j[D]=me,j[pe]=G,D=pe;else break e}}return Y}function i(j,Y){var G=j.sortIndex-Y.sortIndex;return G!==0?G:j.id-Y.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;r.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();r.unstable_now=function(){return o.now()-l}}var c=[],d=[],h=1,m=null,y=3,v=!1,C=!1,b=!1,_=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(j){for(var Y=t(d);Y!==null;){if(Y.callback===null)n(d);else if(Y.startTime<=j)n(d),Y.sortIndex=Y.expirationTime,e(c,Y);else break;Y=t(d)}}function P(j){if(b=!1,E(j),!C)if(t(c)!==null)C=!0,re(I);else{var Y=t(d);Y!==null&&de(P,Y.startTime-j)}}function I(j,Y){C=!1,b&&(b=!1,S(V),V=-1),v=!0;var G=y;try{for(E(Y),m=t(c);m!==null&&(!(m.expirationTime>Y)||j&&!Q());){var D=m.callback;if(typeof D=="function"){m.callback=null,y=m.priorityLevel;var B=D(m.expirationTime<=Y);Y=r.unstable_now(),typeof B=="function"?m.callback=B:m===t(c)&&n(c),E(Y)}else n(c);m=t(c)}if(m!==null)var ee=!0;else{var ie=t(d);ie!==null&&de(P,ie.startTime-Y),ee=!1}return ee}finally{m=null,y=G,v=!1}}var k=!1,F=null,V=-1,U=5,O=-1;function Q(){return!(r.unstable_now()-O<U)}function q(){if(F!==null){var j=r.unstable_now();O=j;var Y=!0;try{Y=F(!0,j)}finally{Y?te():(k=!1,F=null)}}else k=!1}var te;if(typeof A=="function")te=function(){A(q)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,le=X.port2;X.port1.onmessage=q,te=function(){le.postMessage(null)}}else te=function(){_(q,0)};function re(j){F=j,k||(k=!0,te())}function de(j,Y){V=_(function(){j(r.unstable_now())},Y)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(j){j.callback=null},r.unstable_continueExecution=function(){C||v||(C=!0,re(I))},r.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<j?Math.floor(1e3/j):5},r.unstable_getCurrentPriorityLevel=function(){return y},r.unstable_getFirstCallbackNode=function(){return t(c)},r.unstable_next=function(j){switch(y){case 1:case 2:case 3:var Y=3;break;default:Y=y}var G=y;y=Y;try{return j()}finally{y=G}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(j,Y){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var G=y;y=j;try{return Y()}finally{y=G}},r.unstable_scheduleCallback=function(j,Y,G){var D=r.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?D+G:D):G=D,j){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=G+B,j={id:h++,callback:Y,priorityLevel:j,startTime:G,expirationTime:B,sortIndex:-1},G>D?(j.sortIndex=G,e(d,j),t(c)===null&&j===t(d)&&(b?(S(V),V=-1):b=!0,de(P,G-D))):(j.sortIndex=B,e(c,j),C||v||(C=!0,re(I))),j},r.unstable_shouldYield=Q,r.unstable_wrapCallback=function(j){var Y=y;return function(){var G=y;y=Y;try{return j.apply(this,arguments)}finally{y=G}}}})(pv)),pv}var z1;function CT(){return z1||(z1=1,hv.exports=xT()),hv.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var V1;function wT(){if(V1)return os;V1=1;var r=Kg(),e=CT();function t(a){for(var u="https://reactjs.org/docs/error-decoder.html?invariant="+a,g=1;g<arguments.length;g++)u+="&args[]="+encodeURIComponent(arguments[g]);return"Minified React error #"+a+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,i={};function s(a,u){o(a,u),o(a+"Capture",u)}function o(a,u){for(i[a]=u,a=0;a<u.length;a++)n.add(u[a])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},m={};function y(a){return c.call(m,a)?!0:c.call(h,a)?!1:d.test(a)?m[a]=!0:(h[a]=!0,!1)}function v(a,u,g,w){if(g!==null&&g.type===0)return!1;switch(typeof u){case"function":case"symbol":return!0;case"boolean":return w?!1:g!==null?!g.acceptsBooleans:(a=a.toLowerCase().slice(0,5),a!=="data-"&&a!=="aria-");default:return!1}}function C(a,u,g,w){if(u===null||typeof u>"u"||v(a,u,g,w))return!0;if(w)return!1;if(g!==null)switch(g.type){case 3:return!u;case 4:return u===!1;case 5:return isNaN(u);case 6:return isNaN(u)||1>u}return!1}function b(a,u,g,w,T,L,W){this.acceptsBooleans=u===2||u===3||u===4,this.attributeName=w,this.attributeNamespace=T,this.mustUseProperty=g,this.propertyName=a,this.type=u,this.sanitizeURL=L,this.removeEmptyString=W}var _={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(a){_[a]=new b(a,0,!1,a,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(a){var u=a[0];_[u]=new b(u,1,!1,a[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(a){_[a]=new b(a,2,!1,a.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(a){_[a]=new b(a,2,!1,a,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(a){_[a]=new b(a,3,!1,a.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(a){_[a]=new b(a,3,!0,a,null,!1,!1)}),["capture","download"].forEach(function(a){_[a]=new b(a,4,!1,a,null,!1,!1)}),["cols","rows","size","span"].forEach(function(a){_[a]=new b(a,6,!1,a,null,!1,!1)}),["rowSpan","start"].forEach(function(a){_[a]=new b(a,5,!1,a.toLowerCase(),null,!1,!1)});var S=/[\-:]([a-z])/g;function A(a){return a[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(a){var u=a.replace(S,A);_[u]=new b(u,1,!1,a,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(a){var u=a.replace(S,A);_[u]=new b(u,1,!1,a,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(a){var u=a.replace(S,A);_[u]=new b(u,1,!1,a,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(a){_[a]=new b(a,1,!1,a.toLowerCase(),null,!1,!1)}),_.xlinkHref=new b("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(a){_[a]=new b(a,1,!1,a.toLowerCase(),null,!0,!0)});function E(a,u,g,w){var T=_.hasOwnProperty(u)?_[u]:null;(T!==null?T.type!==0:w||!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(C(u,g,T,w)&&(g=null),w||T===null?y(u)&&(g===null?a.removeAttribute(u):a.setAttribute(u,""+g)):T.mustUseProperty?a[T.propertyName]=g===null?T.type===3?!1:"":g:(u=T.attributeName,w=T.attributeNamespace,g===null?a.removeAttribute(u):(T=T.type,g=T===3||T===4&&g===!0?"":""+g,w?a.setAttributeNS(w,u,g):a.setAttribute(u,g))))}var P=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,I=Symbol.for("react.element"),k=Symbol.for("react.portal"),F=Symbol.for("react.fragment"),V=Symbol.for("react.strict_mode"),U=Symbol.for("react.profiler"),O=Symbol.for("react.provider"),Q=Symbol.for("react.context"),q=Symbol.for("react.forward_ref"),te=Symbol.for("react.suspense"),X=Symbol.for("react.suspense_list"),le=Symbol.for("react.memo"),re=Symbol.for("react.lazy"),de=Symbol.for("react.offscreen"),j=Symbol.iterator;function Y(a){return a===null||typeof a!="object"?null:(a=j&&a[j]||a["@@iterator"],typeof a=="function"?a:null)}var G=Object.assign,D;function B(a){if(D===void 0)try{throw Error()}catch(g){var u=g.stack.trim().match(/\n( *(at )?)/);D=u&&u[1]||""}return`
`+D+a}var ee=!1;function ie(a,u){if(!a||ee)return"";ee=!0;var g=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(u)if(u=function(){throw Error()},Object.defineProperty(u.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(u,[])}catch(Ue){var w=Ue}Reflect.construct(a,[],u)}else{try{u.call()}catch(Ue){w=Ue}a.call(u.prototype)}else{try{throw Error()}catch(Ue){w=Ue}a()}}catch(Ue){if(Ue&&w&&typeof Ue.stack=="string"){for(var T=Ue.stack.split(`
`),L=w.stack.split(`
`),W=T.length-1,ae=L.length-1;1<=W&&0<=ae&&T[W]!==L[ae];)ae--;for(;1<=W&&0<=ae;W--,ae--)if(T[W]!==L[ae]){if(W!==1||ae!==1)do if(W--,ae--,0>ae||T[W]!==L[ae]){var he=`
`+T[W].replace(" at new "," at ");return a.displayName&&he.includes("<anonymous>")&&(he=he.replace("<anonymous>",a.displayName)),he}while(1<=W&&0<=ae);break}}}finally{ee=!1,Error.prepareStackTrace=g}return(a=a?a.displayName||a.name:"")?B(a):""}function se(a){switch(a.tag){case 5:return B(a.type);case 16:return B("Lazy");case 13:return B("Suspense");case 19:return B("SuspenseList");case 0:case 2:case 15:return a=ie(a.type,!1),a;case 11:return a=ie(a.type.render,!1),a;case 1:return a=ie(a.type,!0),a;default:return""}}function pe(a){if(a==null)return null;if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case F:return"Fragment";case k:return"Portal";case U:return"Profiler";case V:return"StrictMode";case te:return"Suspense";case X:return"SuspenseList"}if(typeof a=="object")switch(a.$$typeof){case Q:return(a.displayName||"Context")+".Consumer";case O:return(a._context.displayName||"Context")+".Provider";case q:var u=a.render;return a=a.displayName,a||(a=u.displayName||u.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case le:return u=a.displayName||null,u!==null?u:pe(a.type)||"Memo";case re:u=a._payload,a=a._init;try{return pe(a(u))}catch{}}return null}function me(a){var u=a.type;switch(a.tag){case 24:return"Cache";case 9:return(u.displayName||"Context")+".Consumer";case 10:return(u._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return a=u.render,a=a.displayName||a.name||"",u.displayName||(a!==""?"ForwardRef("+a+")":"ForwardRef");case 7:return"Fragment";case 5:return u;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return pe(u);case 8:return u===V?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u}return null}function ve(a){switch(typeof a){case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function ke(a){var u=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function $e(a){var u=ke(a)?"checked":"value",g=Object.getOwnPropertyDescriptor(a.constructor.prototype,u),w=""+a[u];if(!a.hasOwnProperty(u)&&typeof g<"u"&&typeof g.get=="function"&&typeof g.set=="function"){var T=g.get,L=g.set;return Object.defineProperty(a,u,{configurable:!0,get:function(){return T.call(this)},set:function(W){w=""+W,L.call(this,W)}}),Object.defineProperty(a,u,{enumerable:g.enumerable}),{getValue:function(){return w},setValue:function(W){w=""+W},stopTracking:function(){a._valueTracker=null,delete a[u]}}}}function Re(a){a._valueTracker||(a._valueTracker=$e(a))}function Z(a){if(!a)return!1;var u=a._valueTracker;if(!u)return!0;var g=u.getValue(),w="";return a&&(w=ke(a)?a.checked?"true":"false":a.value),a=w,a!==g?(u.setValue(a),!0):!1}function Oe(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}function Ce(a,u){var g=u.checked;return G({},u,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:g??a._wrapperState.initialChecked})}function Ne(a,u){var g=u.defaultValue==null?"":u.defaultValue,w=u.checked!=null?u.checked:u.defaultChecked;g=ve(u.value!=null?u.value:g),a._wrapperState={initialChecked:w,initialValue:g,controlled:u.type==="checkbox"||u.type==="radio"?u.checked!=null:u.value!=null}}function Ee(a,u){u=u.checked,u!=null&&E(a,"checked",u,!1)}function rt(a,u){Ee(a,u);var g=ve(u.value),w=u.type;if(g!=null)w==="number"?(g===0&&a.value===""||a.value!=g)&&(a.value=""+g):a.value!==""+g&&(a.value=""+g);else if(w==="submit"||w==="reset"){a.removeAttribute("value");return}u.hasOwnProperty("value")?We(a,u.type,g):u.hasOwnProperty("defaultValue")&&We(a,u.type,ve(u.defaultValue)),u.checked==null&&u.defaultChecked!=null&&(a.defaultChecked=!!u.defaultChecked)}function Ae(a,u,g){if(u.hasOwnProperty("value")||u.hasOwnProperty("defaultValue")){var w=u.type;if(!(w!=="submit"&&w!=="reset"||u.value!==void 0&&u.value!==null))return;u=""+a._wrapperState.initialValue,g||u===a.value||(a.value=u),a.defaultValue=u}g=a.name,g!==""&&(a.name=""),a.defaultChecked=!!a._wrapperState.initialChecked,g!==""&&(a.name=g)}function We(a,u,g){(u!=="number"||Oe(a.ownerDocument)!==a)&&(g==null?a.defaultValue=""+a._wrapperState.initialValue:a.defaultValue!==""+g&&(a.defaultValue=""+g))}var Ke=Array.isArray;function Me(a,u,g,w){if(a=a.options,u){u={};for(var T=0;T<g.length;T++)u["$"+g[T]]=!0;for(g=0;g<a.length;g++)T=u.hasOwnProperty("$"+a[g].value),a[g].selected!==T&&(a[g].selected=T),T&&w&&(a[g].defaultSelected=!0)}else{for(g=""+ve(g),u=null,T=0;T<a.length;T++){if(a[T].value===g){a[T].selected=!0,w&&(a[T].defaultSelected=!0);return}u!==null||a[T].disabled||(u=a[T])}u!==null&&(u.selected=!0)}}function ht(a,u){if(u.dangerouslySetInnerHTML!=null)throw Error(t(91));return G({},u,{value:void 0,defaultValue:void 0,children:""+a._wrapperState.initialValue})}function K(a,u){var g=u.value;if(g==null){if(g=u.children,u=u.defaultValue,g!=null){if(u!=null)throw Error(t(92));if(Ke(g)){if(1<g.length)throw Error(t(93));g=g[0]}u=g}u==null&&(u=""),g=u}a._wrapperState={initialValue:ve(g)}}function H(a,u){var g=ve(u.value),w=ve(u.defaultValue);g!=null&&(g=""+g,g!==a.value&&(a.value=g),u.defaultValue==null&&a.defaultValue!==g&&(a.defaultValue=g)),w!=null&&(a.defaultValue=""+w)}function fe(a){var u=a.textContent;u===a._wrapperState.initialValue&&u!==""&&u!==null&&(a.value=u)}function Ye(a){switch(a){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Se(a,u){return a==null||a==="http://www.w3.org/1999/xhtml"?Ye(u):a==="http://www.w3.org/2000/svg"&&u==="foreignObject"?"http://www.w3.org/1999/xhtml":a}var Le,tt=(function(a){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(u,g,w,T){MSApp.execUnsafeLocalFunction(function(){return a(u,g,w,T)})}:a})(function(a,u){if(a.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in a)a.innerHTML=u;else{for(Le=Le||document.createElement("div"),Le.innerHTML="<svg>"+u.valueOf().toString()+"</svg>",u=Le.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;u.firstChild;)a.appendChild(u.firstChild)}});function Xe(a,u){if(u){var g=a.firstChild;if(g&&g===a.lastChild&&g.nodeType===3){g.nodeValue=u;return}}a.textContent=u}var et={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},gt=["Webkit","ms","Moz","O"];Object.keys(et).forEach(function(a){gt.forEach(function(u){u=u+a.charAt(0).toUpperCase()+a.substring(1),et[u]=et[a]})});function yt(a,u,g){return u==null||typeof u=="boolean"||u===""?"":g||typeof u!="number"||u===0||et.hasOwnProperty(a)&&et[a]?(""+u).trim():u+"px"}function Ve(a,u){a=a.style;for(var g in u)if(u.hasOwnProperty(g)){var w=g.indexOf("--")===0,T=yt(g,u[g],w);g==="float"&&(g="cssFloat"),w?a.setProperty(g,T):a[g]=T}}var lt=G({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function oe(a,u){if(u){if(lt[a]&&(u.children!=null||u.dangerouslySetInnerHTML!=null))throw Error(t(137,a));if(u.dangerouslySetInnerHTML!=null){if(u.children!=null)throw Error(t(60));if(typeof u.dangerouslySetInnerHTML!="object"||!("__html"in u.dangerouslySetInnerHTML))throw Error(t(61))}if(u.style!=null&&typeof u.style!="object")throw Error(t(62))}}function Te(a,u){if(a.indexOf("-")===-1)return typeof u.is=="string";switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Je=null;function Ge(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var nt=null,ce=null,ot=null;function Ze(a){if(a=ao(a)){if(typeof nt!="function")throw Error(t(280));var u=a.stateNode;u&&(u=$u(u),nt(a.stateNode,a.type,u))}}function be(a){ce?ot?ot.push(a):ot=[a]:ce=a}function Qe(){if(ce){var a=ce,u=ot;if(ot=ce=null,Ze(a),u)for(a=0;a<u.length;a++)Ze(u[a])}}function ft(a,u){return a(u)}function pt(){}var Ut=!1;function sn(a,u,g){if(Ut)return a(u,g);Ut=!0;try{return ft(a,u,g)}finally{Ut=!1,(ce!==null||ot!==null)&&(pt(),Qe())}}function kt(a,u){var g=a.stateNode;if(g===null)return null;var w=$u(g);if(w===null)return null;g=w[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(w=!w.disabled)||(a=a.type,w=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!w;break e;default:a=!1}if(a)return null;if(g&&typeof g!="function")throw Error(t(231,u,typeof g));return g}var tn=!1;if(l)try{var Cn={};Object.defineProperty(Cn,"passive",{get:function(){tn=!0}}),window.addEventListener("test",Cn,Cn),window.removeEventListener("test",Cn,Cn)}catch{tn=!1}function pi(a,u,g,w,T,L,W,ae,he){var Ue=Array.prototype.slice.call(arguments,3);try{u.apply(g,Ue)}catch(st){this.onError(st)}}var ur=!1,wr=null,dr=!1,_r=null,tr={onError:function(a){ur=!0,wr=a}};function Yi(a,u,g,w,T,L,W,ae,he){ur=!1,wr=null,pi.apply(tr,arguments)}function $a(a,u,g,w,T,L,W,ae,he){if(Yi.apply(this,arguments),ur){if(ur){var Ue=wr;ur=!1,wr=null}else throw Error(t(198));dr||(dr=!0,_r=Ue)}}function Ti(a){var u=a,g=a;if(a.alternate)for(;u.return;)u=u.return;else{a=u;do u=a,(u.flags&4098)!==0&&(g=u.return),a=u.return;while(a)}return u.tag===3?g:null}function el(a){if(a.tag===13){var u=a.memoizedState;if(u===null&&(a=a.alternate,a!==null&&(u=a.memoizedState)),u!==null)return u.dehydrated}return null}function J(a){if(Ti(a)!==a)throw Error(t(188))}function we(a){var u=a.alternate;if(!u){if(u=Ti(a),u===null)throw Error(t(188));return u!==a?null:a}for(var g=a,w=u;;){var T=g.return;if(T===null)break;var L=T.alternate;if(L===null){if(w=T.return,w!==null){g=w;continue}break}if(T.child===L.child){for(L=T.child;L;){if(L===g)return J(T),a;if(L===w)return J(T),u;L=L.sibling}throw Error(t(188))}if(g.return!==w.return)g=T,w=L;else{for(var W=!1,ae=T.child;ae;){if(ae===g){W=!0,g=T,w=L;break}if(ae===w){W=!0,w=T,g=L;break}ae=ae.sibling}if(!W){for(ae=L.child;ae;){if(ae===g){W=!0,g=L,w=T;break}if(ae===w){W=!0,w=L,g=T;break}ae=ae.sibling}if(!W)throw Error(t(189))}}if(g.alternate!==w)throw Error(t(190))}if(g.tag!==3)throw Error(t(188));return g.stateNode.current===g?a:u}function Ie(a){return a=we(a),a!==null?Fe(a):null}function Fe(a){if(a.tag===5||a.tag===6)return a;for(a=a.child;a!==null;){var u=Fe(a);if(u!==null)return u;a=a.sibling}return null}var Be=e.unstable_scheduleCallback,xt=e.unstable_cancelCallback,Pt=e.unstable_shouldYield,Nt=e.unstable_requestPaint,je=e.unstable_now,Bt=e.unstable_getCurrentPriorityLevel,zt=e.unstable_ImmediatePriority,Ot=e.unstable_UserBlockingPriority,fn=e.unstable_NormalPriority,nr=e.unstable_LowPriority,gn=e.unstable_IdlePriority,En=null,At=null;function bt(a){if(At&&typeof At.onCommitFiberRoot=="function")try{At.onCommitFiberRoot(En,a,void 0,(a.current.flags&128)===128)}catch{}}var Sn=Math.clz32?Math.clz32:Pi,Qt=Math.log,An=Math.LN2;function Pi(a){return a>>>=0,a===0?32:31-(Qt(a)/An|0)|0}var qn=64,Ln=4194304;function hn(a){switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return a&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return a}}function Or(a,u){var g=a.pendingLanes;if(g===0)return 0;var w=0,T=a.suspendedLanes,L=a.pingedLanes,W=g&268435455;if(W!==0){var ae=W&~T;ae!==0?w=hn(ae):(L&=W,L!==0&&(w=hn(L)))}else W=g&~T,W!==0?w=hn(W):L!==0&&(w=hn(L));if(w===0)return 0;if(u!==0&&u!==w&&(u&T)===0&&(T=w&-w,L=u&-u,T>=L||T===16&&(L&4194240)!==0))return u;if((w&4)!==0&&(w|=g&16),u=a.entangledLanes,u!==0)for(a=a.entanglements,u&=w;0<u;)g=31-Sn(u),T=1<<g,w|=a[g],u&=~T;return w}function Ls(a,u){switch(a){case 1:case 2:case 4:return u+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Wn(a,u){for(var g=a.suspendedLanes,w=a.pingedLanes,T=a.expirationTimes,L=a.pendingLanes;0<L;){var W=31-Sn(L),ae=1<<W,he=T[W];he===-1?((ae&g)===0||(ae&w)!==0)&&(T[W]=Ls(ae,u)):he<=u&&(a.expiredLanes|=ae),L&=~ae}}function fr(a){return a=a.pendingLanes&-1073741825,a!==0?a:a&1073741824?1073741824:0}function Kr(){var a=qn;return qn<<=1,(qn&4194240)===0&&(qn=64),a}function hs(a){for(var u=[],g=0;31>g;g++)u.push(a);return u}function ps(a,u,g){a.pendingLanes|=u,u!==536870912&&(a.suspendedLanes=0,a.pingedLanes=0),a=a.eventTimes,u=31-Sn(u),a[u]=g}function Au(a,u){var g=a.pendingLanes&~u;a.pendingLanes=u,a.suspendedLanes=0,a.pingedLanes=0,a.expiredLanes&=u,a.mutableReadLanes&=u,a.entangledLanes&=u,u=a.entanglements;var w=a.eventTimes;for(a=a.expirationTimes;0<g;){var T=31-Sn(g),L=1<<T;u[T]=0,w[T]=-1,a[T]=-1,g&=~L}}function ms(a,u){var g=a.entangledLanes|=u;for(a=a.entanglements;g;){var w=31-Sn(g),T=1<<w;T&u|a[w]&u&&(a[w]|=u),g&=~T}}var an=0;function Is(a){return a&=-a,1<a?4<a?(a&268435455)!==0?16:536870912:4:1}var Lo,tl,nl,Us,sa,qi=!1,gs=[],Fr=null,jt=null,Ki=null,Ri=new Map,ks=new Map,Zi=[],Tu="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function kn(a,u){switch(a){case"focusin":case"focusout":Fr=null;break;case"dragenter":case"dragleave":jt=null;break;case"mouseover":case"mouseout":Ki=null;break;case"pointerover":case"pointerout":Ri.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":ks.delete(u.pointerId)}}function ys(a,u,g,w,T,L){return a===null||a.nativeEvent!==L?(a={blockedOn:u,domEventName:g,eventSystemFlags:w,nativeEvent:L,targetContainers:[T]},u!==null&&(u=ao(u),u!==null&&tl(u)),a):(a.eventSystemFlags|=w,u=a.targetContainers,T!==null&&u.indexOf(T)===-1&&u.push(T),a)}function Pu(a,u,g,w,T){switch(u){case"focusin":return Fr=ys(Fr,a,u,g,w,T),!0;case"dragenter":return jt=ys(jt,a,u,g,w,T),!0;case"mouseover":return Ki=ys(Ki,a,u,g,w,T),!0;case"pointerover":var L=T.pointerId;return Ri.set(L,ys(Ri.get(L)||null,a,u,g,w,T)),!0;case"gotpointercapture":return L=T.pointerId,ks.set(L,ys(ks.get(L)||null,a,u,g,w,T)),!0}return!1}function Zr(a){var u=Wo(a.target);if(u!==null){var g=Ti(u);if(g!==null){if(u=g.tag,u===13){if(u=el(g),u!==null){a.blockedOn=u,sa(a.priority,function(){nl(g)});return}}else if(u===3&&g.stateNode.current.memoizedState.isDehydrated){a.blockedOn=g.tag===3?g.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Io(a){if(a.blockedOn!==null)return!1;for(var u=a.targetContainers;0<u.length;){var g=Jr(a.domEventName,a.eventSystemFlags,u[0],a.nativeEvent);if(g===null){g=a.nativeEvent;var w=new g.constructor(g.type,g);Je=w,g.target.dispatchEvent(w),Je=null}else return u=ao(g),u!==null&&tl(u),a.blockedOn=g,!1;u.shift()}return!0}function Uo(a,u,g){Io(a)&&g.delete(u)}function Di(){qi=!1,Fr!==null&&Io(Fr)&&(Fr=null),jt!==null&&Io(jt)&&(jt=null),Ki!==null&&Io(Ki)&&(Ki=null),Ri.forEach(Uo),ks.forEach(Uo)}function Zs(a,u){a.blockedOn===u&&(a.blockedOn=null,qi||(qi=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Di)))}function ko(a){function u(T){return Zs(T,a)}if(0<gs.length){Zs(gs[0],a);for(var g=1;g<gs.length;g++){var w=gs[g];w.blockedOn===a&&(w.blockedOn=null)}}for(Fr!==null&&Zs(Fr,a),jt!==null&&Zs(jt,a),Ki!==null&&Zs(Ki,a),Ri.forEach(u),ks.forEach(u),g=0;g<Zi.length;g++)w=Zi[g],w.blockedOn===a&&(w.blockedOn=null);for(;0<Zi.length&&(g=Zi[0],g.blockedOn===null);)Zr(g),g.blockedOn===null&&Zi.shift()}var Sr=P.ReactCurrentBatchConfig,br=!0;function Ns(a,u,g,w){var T=an,L=Sr.transition;Sr.transition=null;try{an=1,oa(a,u,g,w)}finally{an=T,Sr.transition=L}}function Ji(a,u,g,w){var T=an,L=Sr.transition;Sr.transition=null;try{an=4,oa(a,u,g,w)}finally{an=T,Sr.transition=L}}function oa(a,u,g,w){if(br){var T=Jr(a,u,g,w);if(T===null)Yu(a,u,w,No,g),kn(a,w);else if(Pu(T,a,u,g,w))w.stopPropagation();else if(kn(a,w),u&4&&-1<Tu.indexOf(a)){for(;T!==null;){var L=ao(T);if(L!==null&&Lo(L),L=Jr(a,u,g,w),L===null&&Yu(a,u,w,No,g),L===T)break;T=L}T!==null&&w.stopPropagation()}else Yu(a,u,w,null,g)}}var No=null;function Jr(a,u,g,w){if(No=null,a=Ge(w),a=Wo(a),a!==null)if(u=Ti(a),u===null)a=null;else if(g=u.tag,g===13){if(a=el(u),a!==null)return a;a=null}else if(g===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;a=null}else u!==a&&(a=null);return No=a,null}function Oo(a){switch(a){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Bt()){case zt:return 1;case Ot:return 4;case fn:case nr:return 16;case gn:return 536870912;default:return 16}default:return 16}}var mi=null,Js=null,Mr=null;function hr(){if(Mr)return Mr;var a,u=Js,g=u.length,w,T="value"in mi?mi.value:mi.textContent,L=T.length;for(a=0;a<g&&u[a]===T[a];a++);var W=g-a;for(w=1;w<=W&&u[g-w]===T[L-w];w++);return Mr=T.slice(a,1<w?1-w:void 0)}function Qs(a){var u=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&u===13&&(a=13)):a=u,a===10&&(a=13),32<=a||a===13?a:0}function gi(){return!0}function $s(){return!1}function Er(a){function u(g,w,T,L,W){this._reactName=g,this._targetInst=T,this.type=w,this.nativeEvent=L,this.target=W,this.currentTarget=null;for(var ae in a)a.hasOwnProperty(ae)&&(g=a[ae],this[ae]=g?g(L):L[ae]);return this.isDefaultPrevented=(L.defaultPrevented!=null?L.defaultPrevented:L.returnValue===!1)?gi:$s,this.isPropagationStopped=$s,this}return G(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var g=this.nativeEvent;g&&(g.preventDefault?g.preventDefault():typeof g.returnValue!="unknown"&&(g.returnValue=!1),this.isDefaultPrevented=gi)},stopPropagation:function(){var g=this.nativeEvent;g&&(g.stopPropagation?g.stopPropagation():typeof g.cancelBubble!="unknown"&&(g.cancelBubble=!0),this.isPropagationStopped=gi)},persist:function(){},isPersistent:gi}),u}var eo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},rr=Er(eo),pr=G({},eo,{view:0,detail:0}),Kn=Er(pr),zn,si,Qi,rl=G({},pr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Bo,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==Qi&&(Qi&&a.type==="mousemove"?(zn=a.screenX-Qi.screenX,si=a.screenY-Qi.screenY):si=zn=0,Qi=a),zn)},movementY:function(a){return"movementY"in a?a.movementY:si}}),mf=Er(rl),to=G({},rl,{dataTransfer:0}),Fo=Er(to),Ru=G({},pr,{relatedTarget:0}),Du=Er(Ru),Lu=G({},eo,{animationName:0,elapsedTime:0,pseudoElement:0}),Tp=Er(Lu),Pp=G({},eo,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),gf=Er(Pp),Iu=G({},eo,{data:0}),yf=Er(Iu),Rp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Dp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function il(a){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(a):(a=vf[a])?!!u[a]:!1}function Bo(){return il}var Uu=G({},pr,{key:function(a){if(a.key){var u=Rp[a.key]||a.key;if(u!=="Unidentified")return u}return a.type==="keypress"?(a=Qs(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?Dp[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Bo,charCode:function(a){return a.type==="keypress"?Qs(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?Qs(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),ku=Er(Uu),$i=G({},rl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Li=Er($i),aa=G({},pr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Bo}),no=Er(aa),ro=G({},eo,{propertyName:0,elapsedTime:0,pseudoElement:0}),la=Er(ro),Lp=G({},rl,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),xf=Er(Lp),Cf=[9,13,27,32],oi=l&&"CompositionEvent"in window,Br=null;l&&"documentMode"in document&&(Br=document.documentMode);var Nn=l&&"TextEvent"in window&&!Br,sl=l&&(!oi||Br&&8<Br&&11>=Br),es=" ",wf=!1;function _f(a,u){switch(a){case"keyup":return Cf.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Nu(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var zo=!1;function Ip(a,u){switch(a){case"compositionend":return Nu(u);case"keypress":return u.which!==32?null:(wf=!0,es);case"textInput":return a=u.data,a===es&&wf?null:a;default:return null}}function ic(a,u){if(zo)return a==="compositionend"||!oi&&_f(a,u)?(a=hr(),Mr=Js=mi=null,zo=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return sl&&u.locale!=="ko"?null:u.data;default:return null}}var ol={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ou(a){var u=a&&a.nodeName&&a.nodeName.toLowerCase();return u==="input"?!!ol[a.type]:u==="textarea"}function al(a,u,g,w){be(w),u=qu(u,"onChange"),0<u.length&&(g=new rr("onChange","change",null,g,w),a.push({event:g,listeners:u}))}var Vo=null,ll=null;function Up(a){fl(a,0)}function io(a){var u=Zn(a);if(Z(u))return a}function kp(a,u){if(a==="change")return u}var cl=!1;if(l){var yi;if(l){var ca="oninput"in document;if(!ca){var ua=document.createElement("div");ua.setAttribute("oninput","return;"),ca=typeof ua.oninput=="function"}yi=ca}else yi=!1;cl=yi&&(!document.documentMode||9<document.documentMode)}function vs(){Vo&&(Vo.detachEvent("onpropertychange",Fu),ll=Vo=null)}function Fu(a){if(a.propertyName==="value"&&io(ll)){var u=[];al(u,ll,a,Ge(a)),sn(Up,u)}}function ul(a,u,g){a==="focusin"?(vs(),Vo=u,ll=g,Vo.attachEvent("onpropertychange",Fu)):a==="focusout"&&vs()}function Np(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return io(ll)}function Sf(a,u){if(a==="click")return io(u)}function Vn(a,u){if(a==="input"||a==="change")return io(u)}function Bu(a,u){return a===u&&(a!==0||1/a===1/u)||a!==a&&u!==u}var Ii=typeof Object.is=="function"?Object.is:Bu;function da(a,u){if(Ii(a,u))return!0;if(typeof a!="object"||a===null||typeof u!="object"||u===null)return!1;var g=Object.keys(a),w=Object.keys(u);if(g.length!==w.length)return!1;for(w=0;w<g.length;w++){var T=g[w];if(!c.call(u,T)||!Ii(a[T],u[T]))return!1}return!0}function sc(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function Ui(a,u){var g=sc(a);a=0;for(var w;g;){if(g.nodeType===3){if(w=a+g.textContent.length,a<=u&&w>=u)return{node:g,offset:u-a};a=w}e:{for(;g;){if(g.nextSibling){g=g.nextSibling;break e}g=g.parentNode}g=void 0}g=sc(g)}}function fa(a,u){return a&&u?a===u?!0:a&&a.nodeType===3?!1:u&&u.nodeType===3?fa(a,u.parentNode):"contains"in a?a.contains(u):a.compareDocumentPosition?!!(a.compareDocumentPosition(u)&16):!1:!1}function Hn(){for(var a=window,u=Oe();u instanceof a.HTMLIFrameElement;){try{var g=typeof u.contentWindow.location.href=="string"}catch{g=!1}if(g)a=u.contentWindow;else break;u=Oe(a.document)}return u}function Ar(a){var u=a&&a.nodeName&&a.nodeName.toLowerCase();return u&&(u==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||u==="textarea"||a.contentEditable==="true")}function Tr(a){var u=Hn(),g=a.focusedElem,w=a.selectionRange;if(u!==g&&g&&g.ownerDocument&&fa(g.ownerDocument.documentElement,g)){if(w!==null&&Ar(g)){if(u=w.start,a=w.end,a===void 0&&(a=u),"selectionStart"in g)g.selectionStart=u,g.selectionEnd=Math.min(a,g.value.length);else if(a=(u=g.ownerDocument||document)&&u.defaultView||window,a.getSelection){a=a.getSelection();var T=g.textContent.length,L=Math.min(w.start,T);w=w.end===void 0?L:Math.min(w.end,T),!a.extend&&L>w&&(T=w,w=L,L=T),T=Ui(g,L);var W=Ui(g,w);T&&W&&(a.rangeCount!==1||a.anchorNode!==T.node||a.anchorOffset!==T.offset||a.focusNode!==W.node||a.focusOffset!==W.offset)&&(u=u.createRange(),u.setStart(T.node,T.offset),a.removeAllRanges(),L>w?(a.addRange(u),a.extend(W.node,W.offset)):(u.setEnd(W.node,W.offset),a.addRange(u)))}}for(u=[],a=g;a=a.parentNode;)a.nodeType===1&&u.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof g.focus=="function"&&g.focus(),g=0;g<u.length;g++)a=u[g],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var zu=l&&"documentMode"in document&&11>=document.documentMode,Os=null,ha=null,oc=null,Pr=!1;function Vu(a,u,g){var w=g.window===g?g.document:g.nodeType===9?g:g.ownerDocument;Pr||Os==null||Os!==Oe(w)||(w=Os,"selectionStart"in w&&Ar(w)?w={start:w.selectionStart,end:w.selectionEnd}:(w=(w.ownerDocument&&w.ownerDocument.defaultView||window).getSelection(),w={anchorNode:w.anchorNode,anchorOffset:w.anchorOffset,focusNode:w.focusNode,focusOffset:w.focusOffset}),oc&&da(oc,w)||(oc=w,w=qu(ha,"onSelect"),0<w.length&&(u=new rr("onSelect","select",null,u,g),a.push({event:u,listeners:w}),u.target=Os)))}function dl(a,u){var g={};return g[a.toLowerCase()]=u.toLowerCase(),g["Webkit"+a]="webkit"+u,g["Moz"+a]="moz"+u,g}var Ho={animationend:dl("Animation","AnimationEnd"),animationiteration:dl("Animation","AnimationIteration"),animationstart:dl("Animation","AnimationStart"),transitionend:dl("Transition","TransitionEnd")},xs={},Cs={};l&&(Cs=document.createElement("div").style,"AnimationEvent"in window||(delete Ho.animationend.animation,delete Ho.animationiteration.animation,delete Ho.animationstart.animation),"TransitionEvent"in window||delete Ho.transitionend.transition);function Fs(a){if(xs[a])return xs[a];if(!Ho[a])return a;var u=Ho[a],g;for(g in u)if(u.hasOwnProperty(g)&&g in Cs)return xs[a]=u[g];return a}var ac=Fs("animationend"),lc=Fs("animationiteration"),bf=Fs("animationstart"),Mf=Fs("transitionend"),Ef=new Map,Af="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function so(a,u){Ef.set(a,u),s(u,[a])}for(var Hu=0;Hu<Af.length;Hu++){var cc=Af[Hu],uc=cc.toLowerCase(),Op=cc[0].toUpperCase()+cc.slice(1);so(uc,"on"+Op)}so(ac,"onAnimationEnd"),so(lc,"onAnimationIteration"),so(bf,"onAnimationStart"),so("dblclick","onDoubleClick"),so("focusin","onFocus"),so("focusout","onBlur"),so(Mf,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Go="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Gu=new Set("cancel close invalid load scroll toggle".split(" ").concat(Go));function Wu(a,u,g){var w=a.type||"unknown-event";a.currentTarget=g,$a(w,u,void 0,a),a.currentTarget=null}function fl(a,u){u=(u&4)!==0;for(var g=0;g<a.length;g++){var w=a[g],T=w.event;w=w.listeners;e:{var L=void 0;if(u)for(var W=w.length-1;0<=W;W--){var ae=w[W],he=ae.instance,Ue=ae.currentTarget;if(ae=ae.listener,he!==L&&T.isPropagationStopped())break e;Wu(T,ae,Ue),L=he}else for(W=0;W<w.length;W++){if(ae=w[W],he=ae.instance,Ue=ae.currentTarget,ae=ae.listener,he!==L&&T.isPropagationStopped())break e;Wu(T,ae,Ue),L=he}}}if(dr)throw a=_r,dr=!1,_r=null,a}function Tn(a,u){var g=u[ga];g===void 0&&(g=u[ga]=new Set);var w=a+"__bubble";g.has(w)||(Xu(u,a,2,!1),g.add(w))}function ju(a,u,g){var w=0;u&&(w|=4),Xu(g,a,w,u)}var dc="_reactListening"+Math.random().toString(36).slice(2);function hl(a){if(!a[dc]){a[dc]=!0,n.forEach(function(g){g!=="selectionchange"&&(Gu.has(g)||ju(g,!1,a),ju(g,!0,a))});var u=a.nodeType===9?a:a.ownerDocument;u===null||u[dc]||(u[dc]=!0,ju("selectionchange",!1,u))}}function Xu(a,u,g,w){switch(Oo(u)){case 1:var T=Ns;break;case 4:T=Ji;break;default:T=oa}g=T.bind(null,u,g,a),T=void 0,!tn||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(T=!0),w?T!==void 0?a.addEventListener(u,g,{capture:!0,passive:T}):a.addEventListener(u,g,!0):T!==void 0?a.addEventListener(u,g,{passive:T}):a.addEventListener(u,g,!1)}function Yu(a,u,g,w,T){var L=w;if((u&1)===0&&(u&2)===0&&w!==null)e:for(;;){if(w===null)return;var W=w.tag;if(W===3||W===4){var ae=w.stateNode.containerInfo;if(ae===T||ae.nodeType===8&&ae.parentNode===T)break;if(W===4)for(W=w.return;W!==null;){var he=W.tag;if((he===3||he===4)&&(he=W.stateNode.containerInfo,he===T||he.nodeType===8&&he.parentNode===T))return;W=W.return}for(;ae!==null;){if(W=Wo(ae),W===null)return;if(he=W.tag,he===5||he===6){w=L=W;continue e}ae=ae.parentNode}}w=w.return}sn(function(){var Ue=L,st=Ge(g),at=[];e:{var it=Ef.get(a);if(it!==void 0){var St=rr,Tt=a;switch(a){case"keypress":if(Qs(g)===0)break e;case"keydown":case"keyup":St=ku;break;case"focusin":Tt="focus",St=Du;break;case"focusout":Tt="blur",St=Du;break;case"beforeblur":case"afterblur":St=Du;break;case"click":if(g.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":St=mf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":St=Fo;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":St=no;break;case ac:case lc:case bf:St=Tp;break;case Mf:St=la;break;case"scroll":St=Kn;break;case"wheel":St=xf;break;case"copy":case"cut":case"paste":St=gf;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":St=Li}var Rt=(u&4)!==0,gr=!Rt&&a==="scroll",_e=Rt?it!==null?it+"Capture":null:it;Rt=[];for(var ge=Ue,Pe;ge!==null;){Pe=ge;var dt=Pe.stateNode;if(Pe.tag===5&&dt!==null&&(Pe=dt,_e!==null&&(dt=kt(ge,_e),dt!=null&&Rt.push(pl(ge,dt,Pe)))),gr)break;ge=ge.return}0<Rt.length&&(it=new St(it,Tt,null,g,st),at.push({event:it,listeners:Rt}))}}if((u&7)===0){e:{if(it=a==="mouseover"||a==="pointerover",St=a==="mouseout"||a==="pointerout",it&&g!==Je&&(Tt=g.relatedTarget||g.fromElement)&&(Wo(Tt)||Tt[ki]))break e;if((St||it)&&(it=st.window===st?st:(it=st.ownerDocument)?it.defaultView||it.parentWindow:window,St?(Tt=g.relatedTarget||g.toElement,St=Ue,Tt=Tt?Wo(Tt):null,Tt!==null&&(gr=Ti(Tt),Tt!==gr||Tt.tag!==5&&Tt.tag!==6)&&(Tt=null)):(St=null,Tt=Ue),St!==Tt)){if(Rt=mf,dt="onMouseLeave",_e="onMouseEnter",ge="mouse",(a==="pointerout"||a==="pointerover")&&(Rt=Li,dt="onPointerLeave",_e="onPointerEnter",ge="pointer"),gr=St==null?it:Zn(St),Pe=Tt==null?it:Zn(Tt),it=new Rt(dt,ge+"leave",St,g,st),it.target=gr,it.relatedTarget=Pe,dt=null,Wo(st)===Ue&&(Rt=new Rt(_e,ge+"enter",Tt,g,st),Rt.target=Pe,Rt.relatedTarget=gr,dt=Rt),gr=dt,St&&Tt)t:{for(Rt=St,_e=Tt,ge=0,Pe=Rt;Pe;Pe=pa(Pe))ge++;for(Pe=0,dt=_e;dt;dt=pa(dt))Pe++;for(;0<ge-Pe;)Rt=pa(Rt),ge--;for(;0<Pe-ge;)_e=pa(_e),Pe--;for(;ge--;){if(Rt===_e||_e!==null&&Rt===_e.alternate)break t;Rt=pa(Rt),_e=pa(_e)}Rt=null}else Rt=null;St!==null&&Fp(at,it,St,Rt,!1),Tt!==null&&gr!==null&&Fp(at,gr,Tt,Rt,!0)}}e:{if(it=Ue?Zn(Ue):window,St=it.nodeName&&it.nodeName.toLowerCase(),St==="select"||St==="input"&&it.type==="file")var It=kp;else if(Ou(it))if(cl)It=Vn;else{It=Np;var Vt=ul}else(St=it.nodeName)&&St.toLowerCase()==="input"&&(it.type==="checkbox"||it.type==="radio")&&(It=Sf);if(It&&(It=It(a,Ue))){al(at,It,g,st);break e}Vt&&Vt(a,it,Ue),a==="focusout"&&(Vt=it._wrapperState)&&Vt.controlled&&it.type==="number"&&We(it,"number",it.value)}switch(Vt=Ue?Zn(Ue):window,a){case"focusin":(Ou(Vt)||Vt.contentEditable==="true")&&(Os=Vt,ha=Ue,oc=null);break;case"focusout":oc=ha=Os=null;break;case"mousedown":Pr=!0;break;case"contextmenu":case"mouseup":case"dragend":Pr=!1,Vu(at,g,st);break;case"selectionchange":if(zu)break;case"keydown":case"keyup":Vu(at,g,st)}var Ht;if(oi)e:{switch(a){case"compositionstart":var Xt="onCompositionStart";break e;case"compositionend":Xt="onCompositionEnd";break e;case"compositionupdate":Xt="onCompositionUpdate";break e}Xt=void 0}else zo?_f(a,g)&&(Xt="onCompositionEnd"):a==="keydown"&&g.keyCode===229&&(Xt="onCompositionStart");Xt&&(sl&&g.locale!=="ko"&&(zo||Xt!=="onCompositionStart"?Xt==="onCompositionEnd"&&zo&&(Ht=hr()):(mi=st,Js="value"in mi?mi.value:mi.textContent,zo=!0)),Vt=qu(Ue,Xt),0<Vt.length&&(Xt=new yf(Xt,a,null,g,st),at.push({event:Xt,listeners:Vt}),Ht?Xt.data=Ht:(Ht=Nu(g),Ht!==null&&(Xt.data=Ht)))),(Ht=Nn?Ip(a,g):ic(a,g))&&(Ue=qu(Ue,"onBeforeInput"),0<Ue.length&&(st=new yf("onBeforeInput","beforeinput",null,g,st),at.push({event:st,listeners:Ue}),st.data=Ht))}fl(at,u)})}function pl(a,u,g){return{instance:a,listener:u,currentTarget:g}}function qu(a,u){for(var g=u+"Capture",w=[];a!==null;){var T=a,L=T.stateNode;T.tag===5&&L!==null&&(T=L,L=kt(a,g),L!=null&&w.unshift(pl(a,L,T)),L=kt(a,u),L!=null&&w.push(pl(a,L,T))),a=a.return}return w}function pa(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5);return a||null}function Fp(a,u,g,w,T){for(var L=u._reactName,W=[];g!==null&&g!==w;){var ae=g,he=ae.alternate,Ue=ae.stateNode;if(he!==null&&he===w)break;ae.tag===5&&Ue!==null&&(ae=Ue,T?(he=kt(g,L),he!=null&&W.unshift(pl(g,he,ae))):T||(he=kt(g,L),he!=null&&W.push(pl(g,he,ae)))),g=g.return}W.length!==0&&a.push({event:u,listeners:W})}var Oy=/\r\n?/g,Bp=/\u0000|\uFFFD/g;function Tf(a){return(typeof a=="string"?a:""+a).replace(Oy,`
`).replace(Bp,"")}function fc(a,u,g){if(u=Tf(u),Tf(a)!==u&&g)throw Error(t(425))}function hc(){}var ml=null,Pf=null;function Rf(a,u){return a==="textarea"||a==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var Df=typeof setTimeout=="function"?setTimeout:void 0,Lf=typeof clearTimeout=="function"?clearTimeout:void 0,Ku=typeof Promise=="function"?Promise:void 0,Fy=typeof queueMicrotask=="function"?queueMicrotask:typeof Ku<"u"?function(a){return Ku.resolve(null).then(a).catch(zp)}:Df;function zp(a){setTimeout(function(){throw a})}function Zu(a,u){var g=u,w=0;do{var T=g.nextSibling;if(a.removeChild(g),T&&T.nodeType===8)if(g=T.data,g==="/$"){if(w===0){a.removeChild(T),ko(u);return}w--}else g!=="$"&&g!=="$?"&&g!=="$!"||w++;g=T}while(g);ko(u)}function oo(a){for(;a!=null;a=a.nextSibling){var u=a.nodeType;if(u===1||u===3)break;if(u===8){if(u=a.data,u==="$"||u==="$!"||u==="$?")break;if(u==="/$")return null}}return a}function If(a){a=a.previousSibling;for(var u=0;a;){if(a.nodeType===8){var g=a.data;if(g==="$"||g==="$!"||g==="$?"){if(u===0)return a;u--}else g==="/$"&&u++}a=a.previousSibling}return null}var ma=Math.random().toString(36).slice(2),mr="__reactFiber$"+ma,gl="__reactProps$"+ma,ki="__reactContainer$"+ma,ga="__reactEvents$"+ma,Ju="__reactListeners$"+ma,Qu="__reactHandles$"+ma;function Wo(a){var u=a[mr];if(u)return u;for(var g=a.parentNode;g;){if(u=g[ki]||g[mr]){if(g=u.alternate,u.child!==null||g!==null&&g.child!==null)for(a=If(a);a!==null;){if(g=a[mr])return g;a=If(a)}return u}a=g,g=a.parentNode}return null}function ao(a){return a=a[mr]||a[ki],!a||a.tag!==5&&a.tag!==6&&a.tag!==13&&a.tag!==3?null:a}function Zn(a){if(a.tag===5||a.tag===6)return a.stateNode;throw Error(t(33))}function $u(a){return a[gl]||null}var Uf=[],Rr=-1;function jn(a){return{current:a}}function Pn(a){0>Rr||(a.current=Uf[Rr],Uf[Rr]=null,Rr--)}function bn(a,u){Rr++,Uf[Rr]=a.current,a.current=u}var lo={},zr=jn(lo),ai=jn(!1),co=lo;function ya(a,u){var g=a.type.contextTypes;if(!g)return lo;var w=a.stateNode;if(w&&w.__reactInternalMemoizedUnmaskedChildContext===u)return w.__reactInternalMemoizedMaskedChildContext;var T={},L;for(L in g)T[L]=u[L];return w&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=u,a.__reactInternalMemoizedMaskedChildContext=T),T}function Qr(a){return a=a.childContextTypes,a!=null}function pc(){Pn(ai),Pn(zr)}function kf(a,u,g){if(zr.current!==lo)throw Error(t(168));bn(zr,u),bn(ai,g)}function mc(a,u,g){var w=a.stateNode;if(u=u.childContextTypes,typeof w.getChildContext!="function")return g;w=w.getChildContext();for(var T in w)if(!(T in u))throw Error(t(108,me(a)||"Unknown",T));return G({},g,w)}function va(a){return a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||lo,co=zr.current,bn(zr,a),bn(ai,ai.current),!0}function Nf(a,u,g){var w=a.stateNode;if(!w)throw Error(t(169));g?(a=mc(a,u,co),w.__reactInternalMemoizedMergedChildContext=a,Pn(ai),Pn(zr),bn(zr,a)):Pn(ai),bn(ai,g)}var ws=null,gc=!1,ed=!1;function yc(a){ws===null?ws=[a]:ws.push(a)}function Vp(a){gc=!0,yc(a)}function Bs(){if(!ed&&ws!==null){ed=!0;var a=0,u=an;try{var g=ws;for(an=1;a<g.length;a++){var w=g[a];do w=w(!0);while(w!==null)}ws=null,gc=!1}catch(T){throw ws!==null&&(ws=ws.slice(a+1)),Be(zt,Bs),T}finally{an=u,ed=!1}}return null}var xa=[],vi=0,td=null,nd=0,li=[],Dr=0,Ca=null,mt=1,ts="";function uo(a,u){xa[vi++]=nd,xa[vi++]=td,td=a,nd=u}function Of(a,u,g){li[Dr++]=mt,li[Dr++]=ts,li[Dr++]=Ca,Ca=a;var w=mt;a=ts;var T=32-Sn(w)-1;w&=~(1<<T),g+=1;var L=32-Sn(u)+T;if(30<L){var W=T-T%5;L=(w&(1<<W)-1).toString(32),w>>=W,T-=W,mt=1<<32-Sn(u)+T|g<<T|w,ts=L+a}else mt=1<<L|g<<T|w,ts=a}function Ff(a){a.return!==null&&(uo(a,1),Of(a,1,0))}function fo(a){for(;a===td;)td=xa[--vi],xa[vi]=null,nd=xa[--vi],xa[vi]=null;for(;a===Ca;)Ca=li[--Dr],li[Dr]=null,ts=li[--Dr],li[Dr]=null,mt=li[--Dr],li[Dr]=null}var Vr=null,ci=null,In=!1,ns=null;function Bf(a,u){var g=Ws(5,null,null,0);g.elementType="DELETED",g.stateNode=u,g.return=a,u=a.deletions,u===null?(a.deletions=[g],a.flags|=16):u.push(g)}function zf(a,u){switch(a.tag){case 5:var g=a.type;return u=u.nodeType!==1||g.toLowerCase()!==u.nodeName.toLowerCase()?null:u,u!==null?(a.stateNode=u,Vr=a,ci=oo(u.firstChild),!0):!1;case 6:return u=a.pendingProps===""||u.nodeType!==3?null:u,u!==null?(a.stateNode=u,Vr=a,ci=null,!0):!1;case 13:return u=u.nodeType!==8?null:u,u!==null?(g=Ca!==null?{id:mt,overflow:ts}:null,a.memoizedState={dehydrated:u,treeContext:g,retryLane:1073741824},g=Ws(18,null,null,0),g.stateNode=u,g.return=a,a.child=g,Vr=a,ci=null,!0):!1;default:return!1}}function rd(a){return(a.mode&1)!==0&&(a.flags&128)===0}function id(a){if(In){var u=ci;if(u){var g=u;if(!zf(a,u)){if(rd(a))throw Error(t(418));u=oo(g.nextSibling);var w=Vr;u&&zf(a,u)?Bf(w,g):(a.flags=a.flags&-4097|2,In=!1,Vr=a)}}else{if(rd(a))throw Error(t(418));a.flags=a.flags&-4097|2,In=!1,Vr=a}}}function sd(a){for(a=a.return;a!==null&&a.tag!==5&&a.tag!==3&&a.tag!==13;)a=a.return;Vr=a}function yl(a){if(a!==Vr)return!1;if(!In)return sd(a),In=!0,!1;var u;if((u=a.tag!==3)&&!(u=a.tag!==5)&&(u=a.type,u=u!=="head"&&u!=="body"&&!Rf(a.type,a.memoizedProps)),u&&(u=ci)){if(rd(a))throw Vf(),Error(t(418));for(;u;)Bf(a,u),u=oo(u.nextSibling)}if(sd(a),a.tag===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(t(317));e:{for(a=a.nextSibling,u=0;a;){if(a.nodeType===8){var g=a.data;if(g==="/$"){if(u===0){ci=oo(a.nextSibling);break e}u--}else g!=="$"&&g!=="$!"&&g!=="$?"||u++}a=a.nextSibling}ci=null}}else ci=Vr?oo(a.stateNode.nextSibling):null;return!0}function Vf(){for(var a=ci;a;)a=oo(a.nextSibling)}function jo(){ci=Vr=null,In=!1}function vl(a){ns===null?ns=[a]:ns.push(a)}var By=P.ReactCurrentBatchConfig;function vc(a,u,g){if(a=g.ref,a!==null&&typeof a!="function"&&typeof a!="object"){if(g._owner){if(g=g._owner,g){if(g.tag!==1)throw Error(t(309));var w=g.stateNode}if(!w)throw Error(t(147,a));var T=w,L=""+a;return u!==null&&u.ref!==null&&typeof u.ref=="function"&&u.ref._stringRef===L?u.ref:(u=function(W){var ae=T.refs;W===null?delete ae[L]:ae[L]=W},u._stringRef=L,u)}if(typeof a!="string")throw Error(t(284));if(!g._owner)throw Error(t(290,a))}return a}function xc(a,u){throw a=Object.prototype.toString.call(u),Error(t(31,a==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":a))}function Hf(a){var u=a._init;return u(a._payload)}function Gf(a){function u(_e,ge){if(a){var Pe=_e.deletions;Pe===null?(_e.deletions=[ge],_e.flags|=16):Pe.push(ge)}}function g(_e,ge){if(!a)return null;for(;ge!==null;)u(_e,ge),ge=ge.sibling;return null}function w(_e,ge){for(_e=new Map;ge!==null;)ge.key!==null?_e.set(ge.key,ge):_e.set(ge.index,ge),ge=ge.sibling;return _e}function T(_e,ge){return _e=Pl(_e,ge),_e.index=0,_e.sibling=null,_e}function L(_e,ge,Pe){return _e.index=Pe,a?(Pe=_e.alternate,Pe!==null?(Pe=Pe.index,Pe<ge?(_e.flags|=2,ge):Pe):(_e.flags|=2,ge)):(_e.flags|=1048576,ge)}function W(_e){return a&&_e.alternate===null&&(_e.flags|=2),_e}function ae(_e,ge,Pe,dt){return ge===null||ge.tag!==6?(ge=iv(Pe,_e.mode,dt),ge.return=_e,ge):(ge=T(ge,Pe),ge.return=_e,ge)}function he(_e,ge,Pe,dt){var It=Pe.type;return It===F?st(_e,ge,Pe.props.children,dt,Pe.key):ge!==null&&(ge.elementType===It||typeof It=="object"&&It!==null&&It.$$typeof===re&&Hf(It)===ge.type)?(dt=T(ge,Pe.props),dt.ref=vc(_e,ge,Pe),dt.return=_e,dt):(dt=um(Pe.type,Pe.key,Pe.props,null,_e.mode,dt),dt.ref=vc(_e,ge,Pe),dt.return=_e,dt)}function Ue(_e,ge,Pe,dt){return ge===null||ge.tag!==4||ge.stateNode.containerInfo!==Pe.containerInfo||ge.stateNode.implementation!==Pe.implementation?(ge=sv(Pe,_e.mode,dt),ge.return=_e,ge):(ge=T(ge,Pe.children||[]),ge.return=_e,ge)}function st(_e,ge,Pe,dt,It){return ge===null||ge.tag!==7?(ge=Nc(Pe,_e.mode,dt,It),ge.return=_e,ge):(ge=T(ge,Pe),ge.return=_e,ge)}function at(_e,ge,Pe){if(typeof ge=="string"&&ge!==""||typeof ge=="number")return ge=iv(""+ge,_e.mode,Pe),ge.return=_e,ge;if(typeof ge=="object"&&ge!==null){switch(ge.$$typeof){case I:return Pe=um(ge.type,ge.key,ge.props,null,_e.mode,Pe),Pe.ref=vc(_e,null,ge),Pe.return=_e,Pe;case k:return ge=sv(ge,_e.mode,Pe),ge.return=_e,ge;case re:var dt=ge._init;return at(_e,dt(ge._payload),Pe)}if(Ke(ge)||Y(ge))return ge=Nc(ge,_e.mode,Pe,null),ge.return=_e,ge;xc(_e,ge)}return null}function it(_e,ge,Pe,dt){var It=ge!==null?ge.key:null;if(typeof Pe=="string"&&Pe!==""||typeof Pe=="number")return It!==null?null:ae(_e,ge,""+Pe,dt);if(typeof Pe=="object"&&Pe!==null){switch(Pe.$$typeof){case I:return Pe.key===It?he(_e,ge,Pe,dt):null;case k:return Pe.key===It?Ue(_e,ge,Pe,dt):null;case re:return It=Pe._init,it(_e,ge,It(Pe._payload),dt)}if(Ke(Pe)||Y(Pe))return It!==null?null:st(_e,ge,Pe,dt,null);xc(_e,Pe)}return null}function St(_e,ge,Pe,dt,It){if(typeof dt=="string"&&dt!==""||typeof dt=="number")return _e=_e.get(Pe)||null,ae(ge,_e,""+dt,It);if(typeof dt=="object"&&dt!==null){switch(dt.$$typeof){case I:return _e=_e.get(dt.key===null?Pe:dt.key)||null,he(ge,_e,dt,It);case k:return _e=_e.get(dt.key===null?Pe:dt.key)||null,Ue(ge,_e,dt,It);case re:var Vt=dt._init;return St(_e,ge,Pe,Vt(dt._payload),It)}if(Ke(dt)||Y(dt))return _e=_e.get(Pe)||null,st(ge,_e,dt,It,null);xc(ge,dt)}return null}function Tt(_e,ge,Pe,dt){for(var It=null,Vt=null,Ht=ge,Xt=ge=0,ni=null;Ht!==null&&Xt<Pe.length;Xt++){Ht.index>Xt?(ni=Ht,Ht=null):ni=Ht.sibling;var yn=it(_e,Ht,Pe[Xt],dt);if(yn===null){Ht===null&&(Ht=ni);break}a&&Ht&&yn.alternate===null&&u(_e,Ht),ge=L(yn,ge,Xt),Vt===null?It=yn:Vt.sibling=yn,Vt=yn,Ht=ni}if(Xt===Pe.length)return g(_e,Ht),In&&uo(_e,Xt),It;if(Ht===null){for(;Xt<Pe.length;Xt++)Ht=at(_e,Pe[Xt],dt),Ht!==null&&(ge=L(Ht,ge,Xt),Vt===null?It=Ht:Vt.sibling=Ht,Vt=Ht);return In&&uo(_e,Xt),It}for(Ht=w(_e,Ht);Xt<Pe.length;Xt++)ni=St(Ht,_e,Xt,Pe[Xt],dt),ni!==null&&(a&&ni.alternate!==null&&Ht.delete(ni.key===null?Xt:ni.key),ge=L(ni,ge,Xt),Vt===null?It=ni:Vt.sibling=ni,Vt=ni);return a&&Ht.forEach(function(Rl){return u(_e,Rl)}),In&&uo(_e,Xt),It}function Rt(_e,ge,Pe,dt){var It=Y(Pe);if(typeof It!="function")throw Error(t(150));if(Pe=It.call(Pe),Pe==null)throw Error(t(151));for(var Vt=It=null,Ht=ge,Xt=ge=0,ni=null,yn=Pe.next();Ht!==null&&!yn.done;Xt++,yn=Pe.next()){Ht.index>Xt?(ni=Ht,Ht=null):ni=Ht.sibling;var Rl=it(_e,Ht,yn.value,dt);if(Rl===null){Ht===null&&(Ht=ni);break}a&&Ht&&Rl.alternate===null&&u(_e,Ht),ge=L(Rl,ge,Xt),Vt===null?It=Rl:Vt.sibling=Rl,Vt=Rl,Ht=ni}if(yn.done)return g(_e,Ht),In&&uo(_e,Xt),It;if(Ht===null){for(;!yn.done;Xt++,yn=Pe.next())yn=at(_e,yn.value,dt),yn!==null&&(ge=L(yn,ge,Xt),Vt===null?It=yn:Vt.sibling=yn,Vt=yn);return In&&uo(_e,Xt),It}for(Ht=w(_e,Ht);!yn.done;Xt++,yn=Pe.next())yn=St(Ht,_e,Xt,yn.value,dt),yn!==null&&(a&&yn.alternate!==null&&Ht.delete(yn.key===null?Xt:yn.key),ge=L(yn,ge,Xt),Vt===null?It=yn:Vt.sibling=yn,Vt=yn);return a&&Ht.forEach(function(hT){return u(_e,hT)}),In&&uo(_e,Xt),It}function gr(_e,ge,Pe,dt){if(typeof Pe=="object"&&Pe!==null&&Pe.type===F&&Pe.key===null&&(Pe=Pe.props.children),typeof Pe=="object"&&Pe!==null){switch(Pe.$$typeof){case I:e:{for(var It=Pe.key,Vt=ge;Vt!==null;){if(Vt.key===It){if(It=Pe.type,It===F){if(Vt.tag===7){g(_e,Vt.sibling),ge=T(Vt,Pe.props.children),ge.return=_e,_e=ge;break e}}else if(Vt.elementType===It||typeof It=="object"&&It!==null&&It.$$typeof===re&&Hf(It)===Vt.type){g(_e,Vt.sibling),ge=T(Vt,Pe.props),ge.ref=vc(_e,Vt,Pe),ge.return=_e,_e=ge;break e}g(_e,Vt);break}else u(_e,Vt);Vt=Vt.sibling}Pe.type===F?(ge=Nc(Pe.props.children,_e.mode,dt,Pe.key),ge.return=_e,_e=ge):(dt=um(Pe.type,Pe.key,Pe.props,null,_e.mode,dt),dt.ref=vc(_e,ge,Pe),dt.return=_e,_e=dt)}return W(_e);case k:e:{for(Vt=Pe.key;ge!==null;){if(ge.key===Vt)if(ge.tag===4&&ge.stateNode.containerInfo===Pe.containerInfo&&ge.stateNode.implementation===Pe.implementation){g(_e,ge.sibling),ge=T(ge,Pe.children||[]),ge.return=_e,_e=ge;break e}else{g(_e,ge);break}else u(_e,ge);ge=ge.sibling}ge=sv(Pe,_e.mode,dt),ge.return=_e,_e=ge}return W(_e);case re:return Vt=Pe._init,gr(_e,ge,Vt(Pe._payload),dt)}if(Ke(Pe))return Tt(_e,ge,Pe,dt);if(Y(Pe))return Rt(_e,ge,Pe,dt);xc(_e,Pe)}return typeof Pe=="string"&&Pe!==""||typeof Pe=="number"?(Pe=""+Pe,ge!==null&&ge.tag===6?(g(_e,ge.sibling),ge=T(ge,Pe),ge.return=_e,_e=ge):(g(_e,ge),ge=iv(Pe,_e.mode,dt),ge.return=_e,_e=ge),W(_e)):g(_e,ge)}return gr}var wa=Gf(!0),Cc=Gf(!1),_a=jn(null),Sa=null,ho=null,xl=null;function ba(){xl=ho=Sa=null}function wc(a){var u=_a.current;Pn(_a),a._currentValue=u}function _c(a,u,g){for(;a!==null;){var w=a.alternate;if((a.childLanes&u)!==u?(a.childLanes|=u,w!==null&&(w.childLanes|=u)):w!==null&&(w.childLanes&u)!==u&&(w.childLanes|=u),a===g)break;a=a.return}}function Xo(a,u){Sa=a,xl=ho=null,a=a.dependencies,a!==null&&a.firstContext!==null&&((a.lanes&u)!==0&&($t=!0),a.firstContext=null)}function Ni(a){var u=a._currentValue;if(xl!==a)if(a={context:a,memoizedValue:u,next:null},ho===null){if(Sa===null)throw Error(t(308));ho=a,Sa.dependencies={lanes:0,firstContext:a}}else ho=ho.next=a;return u}var po=null;function Wf(a){po===null?po=[a]:po.push(a)}function Sc(a,u,g,w){var T=u.interleaved;return T===null?(g.next=g,Wf(u)):(g.next=T.next,T.next=g),u.interleaved=g,_s(a,w)}function _s(a,u){a.lanes|=u;var g=a.alternate;for(g!==null&&(g.lanes|=u),g=a,a=a.return;a!==null;)a.childLanes|=u,g=a.alternate,g!==null&&(g.childLanes|=u),g=a,a=a.return;return g.tag===3?g.stateNode:null}var wn=!1;function Jt(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Jn(a,u){a=a.updateQueue,u.updateQueue===a&&(u.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function _n(a,u){return{eventTime:a,lane:u,tag:0,payload:null,callback:null,next:null}}function On(a,u,g){var w=a.updateQueue;if(w===null)return null;if(w=w.shared,(pn&2)!==0){var T=w.pending;return T===null?u.next=u:(u.next=T.next,T.next=u),w.pending=u,_s(a,g)}return T=w.interleaved,T===null?(u.next=u,Wf(w)):(u.next=T.next,T.next=u),w.interleaved=u,_s(a,g)}function $r(a,u,g){if(u=u.updateQueue,u!==null&&(u=u.shared,(g&4194240)!==0)){var w=u.lanes;w&=a.pendingLanes,g|=w,u.lanes=g,ms(a,g)}}function Ma(a,u){var g=a.updateQueue,w=a.alternate;if(w!==null&&(w=w.updateQueue,g===w)){var T=null,L=null;if(g=g.firstBaseUpdate,g!==null){do{var W={eventTime:g.eventTime,lane:g.lane,tag:g.tag,payload:g.payload,callback:g.callback,next:null};L===null?T=L=W:L=L.next=W,g=g.next}while(g!==null);L===null?T=L=u:L=L.next=u}else T=L=u;g={baseState:w.baseState,firstBaseUpdate:T,lastBaseUpdate:L,shared:w.shared,effects:w.effects},a.updateQueue=g;return}a=g.lastBaseUpdate,a===null?g.firstBaseUpdate=u:a.next=u,g.lastBaseUpdate=u}function Xn(a,u,g,w){var T=a.updateQueue;wn=!1;var L=T.firstBaseUpdate,W=T.lastBaseUpdate,ae=T.shared.pending;if(ae!==null){T.shared.pending=null;var he=ae,Ue=he.next;he.next=null,W===null?L=Ue:W.next=Ue,W=he;var st=a.alternate;st!==null&&(st=st.updateQueue,ae=st.lastBaseUpdate,ae!==W&&(ae===null?st.firstBaseUpdate=Ue:ae.next=Ue,st.lastBaseUpdate=he))}if(L!==null){var at=T.baseState;W=0,st=Ue=he=null,ae=L;do{var it=ae.lane,St=ae.eventTime;if((w&it)===it){st!==null&&(st=st.next={eventTime:St,lane:0,tag:ae.tag,payload:ae.payload,callback:ae.callback,next:null});e:{var Tt=a,Rt=ae;switch(it=u,St=g,Rt.tag){case 1:if(Tt=Rt.payload,typeof Tt=="function"){at=Tt.call(St,at,it);break e}at=Tt;break e;case 3:Tt.flags=Tt.flags&-65537|128;case 0:if(Tt=Rt.payload,it=typeof Tt=="function"?Tt.call(St,at,it):Tt,it==null)break e;at=G({},at,it);break e;case 2:wn=!0}}ae.callback!==null&&ae.lane!==0&&(a.flags|=64,it=T.effects,it===null?T.effects=[ae]:it.push(ae))}else St={eventTime:St,lane:it,tag:ae.tag,payload:ae.payload,callback:ae.callback,next:null},st===null?(Ue=st=St,he=at):st=st.next=St,W|=it;if(ae=ae.next,ae===null){if(ae=T.shared.pending,ae===null)break;it=ae,ae=it.next,it.next=null,T.lastBaseUpdate=it,T.shared.pending=null}}while(!0);if(st===null&&(he=at),T.baseState=he,T.firstBaseUpdate=Ue,T.lastBaseUpdate=st,u=T.shared.interleaved,u!==null){T=u;do W|=T.lane,T=T.next;while(T!==u)}else L===null&&(T.shared.lanes=0);Lc|=W,a.lanes=W,a.memoizedState=at}}function Cl(a,u,g){if(a=u.effects,u.effects=null,a!==null)for(u=0;u<a.length;u++){var w=a[u],T=w.callback;if(T!==null){if(w.callback=null,w=g,typeof T!="function")throw Error(t(191,T));T.call(w)}}}var zs={},Oi=jn(zs),Ea=jn(zs),mo=jn(zs);function ir(a){if(a===zs)throw Error(t(174));return a}function bc(a,u){switch(bn(mo,u),bn(Ea,a),bn(Oi,zs),a=u.nodeType,a){case 9:case 11:u=(u=u.documentElement)?u.namespaceURI:Se(null,"");break;default:a=a===8?u.parentNode:u,u=a.namespaceURI||null,a=a.tagName,u=Se(u,a)}Pn(Oi),bn(Oi,u)}function Yo(){Pn(Oi),Pn(Ea),Pn(mo)}function Aa(a){ir(mo.current);var u=ir(Oi.current),g=Se(u,a.type);u!==g&&(bn(Ea,a),bn(Oi,g))}function wl(a){Ea.current===a&&(Pn(Oi),Pn(Ea))}var Un=jn(0);function Ss(a){for(var u=a;u!==null;){if(u.tag===13){var g=u.memoizedState;if(g!==null&&(g=g.dehydrated,g===null||g.data==="$?"||g.data==="$!"))return u}else if(u.tag===19&&u.memoizedProps.revealOrder!==void 0){if((u.flags&128)!==0)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===a)break;for(;u.sibling===null;){if(u.return===null||u.return===a)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var _l=[];function Vs(){for(var a=0;a<_l.length;a++)_l[a]._workInProgressVersionPrimary=null;_l.length=0}var Ta=P.ReactCurrentDispatcher,Pa=P.ReactCurrentBatchConfig,go=0,Rn=null,Yn=null,dn=null,bs=!1,ei=!1,qo=0,xi=0;function Hr(){throw Error(t(321))}function Mc(a,u){if(u===null)return!1;for(var g=0;g<u.length&&g<a.length;g++)if(!Ii(a[g],u[g]))return!1;return!0}function Ec(a,u,g,w,T,L){if(go=L,Rn=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,Ta.current=a===null||a.memoizedState===null?qp:Kp,a=g(w,T),ei){L=0;do{if(ei=!1,qo=0,25<=L)throw Error(t(301));L+=1,dn=Yn=null,u.updateQueue=null,Ta.current=Zp,a=g(w,T)}while(ei)}if(Ta.current=fd,u=Yn!==null&&Yn.next!==null,go=0,dn=Yn=Rn=null,bs=!1,u)throw Error(t(300));return a}function jf(){var a=qo!==0;return qo=0,a}function Gr(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dn===null?Rn.memoizedState=dn=a:dn=dn.next=a,dn}function Fi(){if(Yn===null){var a=Rn.alternate;a=a!==null?a.memoizedState:null}else a=Yn.next;var u=dn===null?Rn.memoizedState:dn.next;if(u!==null)dn=u,Yn=a;else{if(a===null)throw Error(t(310));Yn=a,a={memoizedState:Yn.memoizedState,baseState:Yn.baseState,baseQueue:Yn.baseQueue,queue:Yn.queue,next:null},dn===null?Rn.memoizedState=dn=a:dn=dn.next=a}return dn}function Sl(a,u){return typeof u=="function"?u(a):u}function Ac(a){var u=Fi(),g=u.queue;if(g===null)throw Error(t(311));g.lastRenderedReducer=a;var w=Yn,T=w.baseQueue,L=g.pending;if(L!==null){if(T!==null){var W=T.next;T.next=L.next,L.next=W}w.baseQueue=T=L,g.pending=null}if(T!==null){L=T.next,w=w.baseState;var ae=W=null,he=null,Ue=L;do{var st=Ue.lane;if((go&st)===st)he!==null&&(he=he.next={lane:0,action:Ue.action,hasEagerState:Ue.hasEagerState,eagerState:Ue.eagerState,next:null}),w=Ue.hasEagerState?Ue.eagerState:a(w,Ue.action);else{var at={lane:st,action:Ue.action,hasEagerState:Ue.hasEagerState,eagerState:Ue.eagerState,next:null};he===null?(ae=he=at,W=w):he=he.next=at,Rn.lanes|=st,Lc|=st}Ue=Ue.next}while(Ue!==null&&Ue!==L);he===null?W=w:he.next=ae,Ii(w,u.memoizedState)||($t=!0),u.memoizedState=w,u.baseState=W,u.baseQueue=he,g.lastRenderedState=w}if(a=g.interleaved,a!==null){T=a;do L=T.lane,Rn.lanes|=L,Lc|=L,T=T.next;while(T!==a)}else T===null&&(g.lanes=0);return[u.memoizedState,g.dispatch]}function yo(a){var u=Fi(),g=u.queue;if(g===null)throw Error(t(311));g.lastRenderedReducer=a;var w=g.dispatch,T=g.pending,L=u.memoizedState;if(T!==null){g.pending=null;var W=T=T.next;do L=a(L,W.action),W=W.next;while(W!==T);Ii(L,u.memoizedState)||($t=!0),u.memoizedState=L,u.baseQueue===null&&(u.baseState=L),g.lastRenderedState=L}return[L,w]}function Xf(){}function Yf(a,u){var g=Rn,w=Fi(),T=u(),L=!Ii(w.memoizedState,T);if(L&&(w.memoizedState=T,$t=!0),w=w.queue,Zf(Hp.bind(null,g,w,a),[a]),w.getSnapshot!==u||L||dn!==null&&dn.memoizedState.tag&1){if(g.flags|=2048,Ms(9,Tc.bind(null,g,w,T,u),void 0,null),ti===null)throw Error(t(349));(go&30)!==0||od(g,u,T)}return T}function od(a,u,g){a.flags|=16384,a={getSnapshot:u,value:g},u=Rn.updateQueue,u===null?(u={lastEffect:null,stores:null},Rn.updateQueue=u,u.stores=[a]):(g=u.stores,g===null?u.stores=[a]:g.push(a))}function Tc(a,u,g,w){u.value=g,u.getSnapshot=w,Gp(u)&&qf(a)}function Hp(a,u,g){return g(function(){Gp(u)&&qf(a)})}function Gp(a){var u=a.getSnapshot;a=a.value;try{var g=u();return!Ii(a,g)}catch{return!0}}function qf(a){var u=_s(a,1);u!==null&&_o(u,a,1,-1)}function Kf(a){var u=Gr();return typeof a=="function"&&(a=a()),u.memoizedState=u.baseState=a,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Sl,lastRenderedState:a},u.queue=a,a=a.dispatch=Ra.bind(null,Rn,a),[u.memoizedState,a]}function Ms(a,u,g,w){return a={tag:a,create:u,destroy:g,deps:w,next:null},u=Rn.updateQueue,u===null?(u={lastEffect:null,stores:null},Rn.updateQueue=u,u.lastEffect=a.next=a):(g=u.lastEffect,g===null?u.lastEffect=a.next=a:(w=g.next,g.next=a,a.next=w,u.lastEffect=a)),a}function Wp(){return Fi().memoizedState}function Hs(a,u,g,w){var T=Gr();Rn.flags|=a,T.memoizedState=Ms(1|u,g,void 0,w===void 0?null:w)}function Pc(a,u,g,w){var T=Fi();w=w===void 0?null:w;var L=void 0;if(Yn!==null){var W=Yn.memoizedState;if(L=W.destroy,w!==null&&Mc(w,W.deps)){T.memoizedState=Ms(u,g,L,w);return}}Rn.flags|=a,T.memoizedState=Ms(1|u,g,L,w)}function ui(a,u){return Hs(8390656,8,a,u)}function Zf(a,u){return Pc(2048,8,a,u)}function Jf(a,u){return Pc(4,2,a,u)}function jp(a,u){return Pc(4,4,a,u)}function Xp(a,u){if(typeof u=="function")return a=a(),u(a),function(){u(null)};if(u!=null)return a=a(),u.current=a,function(){u.current=null}}function Qf(a,u,g){return g=g!=null?g.concat([a]):null,Pc(4,4,Xp.bind(null,u,a),g)}function ad(){}function Yp(a,u){var g=Fi();u=u===void 0?null:u;var w=g.memoizedState;return w!==null&&u!==null&&Mc(u,w[1])?w[0]:(g.memoizedState=[a,u],a)}function Bi(a,u){var g=Fi();u=u===void 0?null:u;var w=g.memoizedState;return w!==null&&u!==null&&Mc(u,w[1])?w[0]:(a=a(),g.memoizedState=[a,u],a)}function ld(a,u,g){return(go&21)===0?(a.baseState&&(a.baseState=!1,$t=!0),a.memoizedState=g):(Ii(g,u)||(g=Kr(),Rn.lanes|=g,Lc|=g,a.baseState=!0),u)}function zy(a,u){var g=an;an=g!==0&&4>g?g:4,a(!0);var w=Pa.transition;Pa.transition={};try{a(!1),u()}finally{an=g,Pa.transition=w}}function vo(){return Fi().memoizedState}function cd(a,u,g){var w=Al(a);if(g={lane:w,action:g,hasEagerState:!1,eagerState:null,next:null},Rc(a))ud(u,g);else if(g=Sc(a,u,g,w),g!==null){var T=Vi();_o(g,a,w,T),dd(g,u,w)}}function Ra(a,u,g){var w=Al(a),T={lane:w,action:g,hasEagerState:!1,eagerState:null,next:null};if(Rc(a))ud(u,T);else{var L=a.alternate;if(a.lanes===0&&(L===null||L.lanes===0)&&(L=u.lastRenderedReducer,L!==null))try{var W=u.lastRenderedState,ae=L(W,g);if(T.hasEagerState=!0,T.eagerState=ae,Ii(ae,W)){var he=u.interleaved;he===null?(T.next=T,Wf(u)):(T.next=he.next,he.next=T),u.interleaved=T;return}}catch{}finally{}g=Sc(a,u,T,w),g!==null&&(T=Vi(),_o(g,a,w,T),dd(g,u,w))}}function Rc(a){var u=a.alternate;return a===Rn||u!==null&&u===Rn}function ud(a,u){ei=bs=!0;var g=a.pending;g===null?u.next=u:(u.next=g.next,g.next=u),a.pending=u}function dd(a,u,g){if((g&4194240)!==0){var w=u.lanes;w&=a.pendingLanes,g|=w,u.lanes=g,ms(a,g)}}var fd={readContext:Ni,useCallback:Hr,useContext:Hr,useEffect:Hr,useImperativeHandle:Hr,useInsertionEffect:Hr,useLayoutEffect:Hr,useMemo:Hr,useReducer:Hr,useRef:Hr,useState:Hr,useDebugValue:Hr,useDeferredValue:Hr,useTransition:Hr,useMutableSource:Hr,useSyncExternalStore:Hr,useId:Hr,unstable_isNewReconciler:!1},qp={readContext:Ni,useCallback:function(a,u){return Gr().memoizedState=[a,u===void 0?null:u],a},useContext:Ni,useEffect:ui,useImperativeHandle:function(a,u,g){return g=g!=null?g.concat([a]):null,Hs(4194308,4,Xp.bind(null,u,a),g)},useLayoutEffect:function(a,u){return Hs(4194308,4,a,u)},useInsertionEffect:function(a,u){return Hs(4,2,a,u)},useMemo:function(a,u){var g=Gr();return u=u===void 0?null:u,a=a(),g.memoizedState=[a,u],a},useReducer:function(a,u,g){var w=Gr();return u=g!==void 0?g(u):u,w.memoizedState=w.baseState=u,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:u},w.queue=a,a=a.dispatch=cd.bind(null,Rn,a),[w.memoizedState,a]},useRef:function(a){var u=Gr();return a={current:a},u.memoizedState=a},useState:Kf,useDebugValue:ad,useDeferredValue:function(a){return Gr().memoizedState=a},useTransition:function(){var a=Kf(!1),u=a[0];return a=zy.bind(null,a[1]),Gr().memoizedState=a,[u,a]},useMutableSource:function(){},useSyncExternalStore:function(a,u,g){var w=Rn,T=Gr();if(In){if(g===void 0)throw Error(t(407));g=g()}else{if(g=u(),ti===null)throw Error(t(349));(go&30)!==0||od(w,u,g)}T.memoizedState=g;var L={value:g,getSnapshot:u};return T.queue=L,ui(Hp.bind(null,w,L,a),[a]),w.flags|=2048,Ms(9,Tc.bind(null,w,L,g,u),void 0,null),g},useId:function(){var a=Gr(),u=ti.identifierPrefix;if(In){var g=ts,w=mt;g=(w&~(1<<32-Sn(w)-1)).toString(32)+g,u=":"+u+"R"+g,g=qo++,0<g&&(u+="H"+g.toString(32)),u+=":"}else g=xi++,u=":"+u+"r"+g.toString(32)+":";return a.memoizedState=u},unstable_isNewReconciler:!1},Kp={readContext:Ni,useCallback:Yp,useContext:Ni,useEffect:Zf,useImperativeHandle:Qf,useInsertionEffect:Jf,useLayoutEffect:jp,useMemo:Bi,useReducer:Ac,useRef:Wp,useState:function(){return Ac(Sl)},useDebugValue:ad,useDeferredValue:function(a){var u=Fi();return ld(u,Yn.memoizedState,a)},useTransition:function(){var a=Ac(Sl)[0],u=Fi().memoizedState;return[a,u]},useMutableSource:Xf,useSyncExternalStore:Yf,useId:vo,unstable_isNewReconciler:!1},Zp={readContext:Ni,useCallback:Yp,useContext:Ni,useEffect:Zf,useImperativeHandle:Qf,useInsertionEffect:Jf,useLayoutEffect:jp,useMemo:Bi,useReducer:yo,useRef:Wp,useState:function(){return yo(Sl)},useDebugValue:ad,useDeferredValue:function(a){var u=Fi();return Yn===null?u.memoizedState=a:ld(u,Yn.memoizedState,a)},useTransition:function(){var a=yo(Sl)[0],u=Fi().memoizedState;return[a,u]},useMutableSource:Xf,useSyncExternalStore:Yf,useId:vo,unstable_isNewReconciler:!1};function rs(a,u){if(a&&a.defaultProps){u=G({},u),a=a.defaultProps;for(var g in a)u[g]===void 0&&(u[g]=a[g]);return u}return u}function Dc(a,u,g,w){u=a.memoizedState,g=g(w,u),g=g==null?u:G({},u,g),a.memoizedState=g,a.lanes===0&&(a.updateQueue.baseState=g)}var hd={isMounted:function(a){return(a=a._reactInternals)?Ti(a)===a:!1},enqueueSetState:function(a,u,g){a=a._reactInternals;var w=Vi(),T=Al(a),L=_n(w,T);L.payload=u,g!=null&&(L.callback=g),u=On(a,L,T),u!==null&&(_o(u,a,T,w),$r(u,a,T))},enqueueReplaceState:function(a,u,g){a=a._reactInternals;var w=Vi(),T=Al(a),L=_n(w,T);L.tag=1,L.payload=u,g!=null&&(L.callback=g),u=On(a,L,T),u!==null&&(_o(u,a,T,w),$r(u,a,T))},enqueueForceUpdate:function(a,u){a=a._reactInternals;var g=Vi(),w=Al(a),T=_n(g,w);T.tag=2,u!=null&&(T.callback=u),u=On(a,T,w),u!==null&&(_o(u,a,w,g),$r(u,a,w))}};function Jp(a,u,g,w,T,L,W){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(w,L,W):u.prototype&&u.prototype.isPureReactComponent?!da(g,w)||!da(T,L):!0}function f(a,u,g){var w=!1,T=lo,L=u.contextType;return typeof L=="object"&&L!==null?L=Ni(L):(T=Qr(u)?co:zr.current,w=u.contextTypes,L=(w=w!=null)?ya(a,T):lo),u=new u(g,L),a.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=hd,a.stateNode=u,u._reactInternals=a,w&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=T,a.__reactInternalMemoizedMaskedChildContext=L),u}function p(a,u,g,w){a=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(g,w),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(g,w),u.state!==a&&hd.enqueueReplaceState(u,u.state,null)}function x(a,u,g,w){var T=a.stateNode;T.props=g,T.state=a.memoizedState,T.refs={},Jt(a);var L=u.contextType;typeof L=="object"&&L!==null?T.context=Ni(L):(L=Qr(u)?co:zr.current,T.context=ya(a,L)),T.state=a.memoizedState,L=u.getDerivedStateFromProps,typeof L=="function"&&(Dc(a,u,L,g),T.state=a.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof T.getSnapshotBeforeUpdate=="function"||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(u=T.state,typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount(),u!==T.state&&hd.enqueueReplaceState(T,T.state,null),Xn(a,g,T,w),T.state=a.memoizedState),typeof T.componentDidMount=="function"&&(a.flags|=4194308)}function M(a,u){try{var g="",w=u;do g+=se(w),w=w.return;while(w);var T=g}catch(L){T=`
Error generating stack: `+L.message+`
`+L.stack}return{value:a,source:u,stack:T,digest:null}}function R(a,u,g){return{value:a,source:null,stack:g??null,digest:u??null}}function N(a,u){try{console.error(u.value)}catch(g){setTimeout(function(){throw g})}}var ne=typeof WeakMap=="function"?WeakMap:Map;function ye(a,u,g){g=_n(-1,g),g.tag=3,g.payload={element:null};var w=u.value;return g.callback=function(){im||(im=!0,Zy=w),N(a,u)},g}function He(a,u,g){g=_n(-1,g),g.tag=3;var w=a.type.getDerivedStateFromError;if(typeof w=="function"){var T=u.value;g.payload=function(){return w(T)},g.callback=function(){N(a,u)}}var L=a.stateNode;return L!==null&&typeof L.componentDidCatch=="function"&&(g.callback=function(){N(a,u),typeof w!="function"&&(Ml===null?Ml=new Set([this]):Ml.add(this));var W=u.stack;this.componentDidCatch(u.value,{componentStack:W!==null?W:""})}),g}function ct(a,u,g){var w=a.pingCache;if(w===null){w=a.pingCache=new ne;var T=new Set;w.set(u,T)}else T=w.get(u),T===void 0&&(T=new Set,w.set(u,T));T.has(g)||(T.add(g),a=nT.bind(null,a,u,g),u.then(a,a))}function Mt(a){do{var u;if((u=a.tag===13)&&(u=a.memoizedState,u=u!==null?u.dehydrated!==null:!0),u)return a;a=a.return}while(a!==null);return null}function Yt(a,u,g,w,T){return(a.mode&1)===0?(a===u?a.flags|=65536:(a.flags|=128,g.flags|=131072,g.flags&=-52805,g.tag===1&&(g.alternate===null?g.tag=17:(u=_n(-1,1),u.tag=2,On(g,u,1))),g.lanes|=1),a):(a.flags|=65536,a.lanes=T,a)}var Ft=P.ReactCurrentOwner,$t=!1;function _t(a,u,g,w){u.child=a===null?Cc(u,null,g,w):wa(u,a.child,g,w)}function Wr(a,u,g,w,T){g=g.render;var L=u.ref;return Xo(u,T),w=Ec(a,u,g,w,L,T),g=jf(),a!==null&&!$t?(u.updateQueue=a.updateQueue,u.flags&=-2053,a.lanes&=~T,Da(a,u,T)):(In&&g&&Ff(u),u.flags|=1,_t(a,u,w,T),u.child)}function zi(a,u,g,w,T){if(a===null){var L=g.type;return typeof L=="function"&&!rv(L)&&L.defaultProps===void 0&&g.compare===null&&g.defaultProps===void 0?(u.tag=15,u.type=L,De(a,u,L,w,T)):(a=um(g.type,null,w,u,u.mode,T),a.ref=u.ref,a.return=u,u.child=a)}if(L=a.child,(a.lanes&T)===0){var W=L.memoizedProps;if(g=g.compare,g=g!==null?g:da,g(W,w)&&a.ref===u.ref)return Da(a,u,T)}return u.flags|=1,a=Pl(L,w),a.ref=u.ref,a.return=u,u.child=a}function De(a,u,g,w,T){if(a!==null){var L=a.memoizedProps;if(da(L,w)&&a.ref===u.ref)if($t=!1,u.pendingProps=w=L,(a.lanes&T)!==0)(a.flags&131072)!==0&&($t=!0);else return u.lanes=a.lanes,Da(a,u,T)}return Ct(a,u,g,w,T)}function xe(a,u,g){var w=u.pendingProps,T=w.children,L=a!==null?a.memoizedState:null;if(w.mode==="hidden")if((u.mode&1)===0)u.memoizedState={baseLanes:0,cachePool:null,transitions:null},bn(md,Es),Es|=g;else{if((g&1073741824)===0)return a=L!==null?L.baseLanes|g:g,u.lanes=u.childLanes=1073741824,u.memoizedState={baseLanes:a,cachePool:null,transitions:null},u.updateQueue=null,bn(md,Es),Es|=a,null;u.memoizedState={baseLanes:0,cachePool:null,transitions:null},w=L!==null?L.baseLanes:g,bn(md,Es),Es|=w}else L!==null?(w=L.baseLanes|g,u.memoizedState=null):w=g,bn(md,Es),Es|=w;return _t(a,u,T,g),u.child}function ze(a,u){var g=u.ref;(a===null&&g!==null||a!==null&&a.ref!==g)&&(u.flags|=512,u.flags|=2097152)}function Ct(a,u,g,w,T){var L=Qr(g)?co:zr.current;return L=ya(u,L),Xo(u,T),g=Ec(a,u,g,w,L,T),w=jf(),a!==null&&!$t?(u.updateQueue=a.updateQueue,u.flags&=-2053,a.lanes&=~T,Da(a,u,T)):(In&&w&&Ff(u),u.flags|=1,_t(a,u,g,T),u.child)}function Dt(a,u,g,w,T){if(Qr(g)){var L=!0;va(u)}else L=!1;if(Xo(u,T),u.stateNode===null)$p(a,u),f(u,g,w),x(u,g,w,T),w=!0;else if(a===null){var W=u.stateNode,ae=u.memoizedProps;W.props=ae;var he=W.context,Ue=g.contextType;typeof Ue=="object"&&Ue!==null?Ue=Ni(Ue):(Ue=Qr(g)?co:zr.current,Ue=ya(u,Ue));var st=g.getDerivedStateFromProps,at=typeof st=="function"||typeof W.getSnapshotBeforeUpdate=="function";at||typeof W.UNSAFE_componentWillReceiveProps!="function"&&typeof W.componentWillReceiveProps!="function"||(ae!==w||he!==Ue)&&p(u,W,w,Ue),wn=!1;var it=u.memoizedState;W.state=it,Xn(u,w,W,T),he=u.memoizedState,ae!==w||it!==he||ai.current||wn?(typeof st=="function"&&(Dc(u,g,st,w),he=u.memoizedState),(ae=wn||Jp(u,g,ae,w,it,he,Ue))?(at||typeof W.UNSAFE_componentWillMount!="function"&&typeof W.componentWillMount!="function"||(typeof W.componentWillMount=="function"&&W.componentWillMount(),typeof W.UNSAFE_componentWillMount=="function"&&W.UNSAFE_componentWillMount()),typeof W.componentDidMount=="function"&&(u.flags|=4194308)):(typeof W.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=w,u.memoizedState=he),W.props=w,W.state=he,W.context=Ue,w=ae):(typeof W.componentDidMount=="function"&&(u.flags|=4194308),w=!1)}else{W=u.stateNode,Jn(a,u),ae=u.memoizedProps,Ue=u.type===u.elementType?ae:rs(u.type,ae),W.props=Ue,at=u.pendingProps,it=W.context,he=g.contextType,typeof he=="object"&&he!==null?he=Ni(he):(he=Qr(g)?co:zr.current,he=ya(u,he));var St=g.getDerivedStateFromProps;(st=typeof St=="function"||typeof W.getSnapshotBeforeUpdate=="function")||typeof W.UNSAFE_componentWillReceiveProps!="function"&&typeof W.componentWillReceiveProps!="function"||(ae!==at||it!==he)&&p(u,W,w,he),wn=!1,it=u.memoizedState,W.state=it,Xn(u,w,W,T);var Tt=u.memoizedState;ae!==at||it!==Tt||ai.current||wn?(typeof St=="function"&&(Dc(u,g,St,w),Tt=u.memoizedState),(Ue=wn||Jp(u,g,Ue,w,it,Tt,he)||!1)?(st||typeof W.UNSAFE_componentWillUpdate!="function"&&typeof W.componentWillUpdate!="function"||(typeof W.componentWillUpdate=="function"&&W.componentWillUpdate(w,Tt,he),typeof W.UNSAFE_componentWillUpdate=="function"&&W.UNSAFE_componentWillUpdate(w,Tt,he)),typeof W.componentDidUpdate=="function"&&(u.flags|=4),typeof W.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof W.componentDidUpdate!="function"||ae===a.memoizedProps&&it===a.memoizedState||(u.flags|=4),typeof W.getSnapshotBeforeUpdate!="function"||ae===a.memoizedProps&&it===a.memoizedState||(u.flags|=1024),u.memoizedProps=w,u.memoizedState=Tt),W.props=w,W.state=Tt,W.context=he,w=Ue):(typeof W.componentDidUpdate!="function"||ae===a.memoizedProps&&it===a.memoizedState||(u.flags|=4),typeof W.getSnapshotBeforeUpdate!="function"||ae===a.memoizedProps&&it===a.memoizedState||(u.flags|=1024),w=!1)}return Kt(a,u,g,w,L,T)}function Kt(a,u,g,w,T,L){ze(a,u);var W=(u.flags&128)!==0;if(!w&&!W)return T&&Nf(u,g,!1),Da(a,u,L);w=u.stateNode,Ft.current=u;var ae=W&&typeof g.getDerivedStateFromError!="function"?null:w.render();return u.flags|=1,a!==null&&W?(u.child=wa(u,a.child,null,L),u.child=wa(u,null,ae,L)):_t(a,u,ae,L),u.memoizedState=w.state,T&&Nf(u,g,!0),u.child}function qt(a){var u=a.stateNode;u.pendingContext?kf(a,u.pendingContext,u.pendingContext!==u.context):u.context&&kf(a,u.context,!1),bc(a,u.containerInfo)}function un(a,u,g,w,T){return jo(),vl(T),u.flags|=256,_t(a,u,g,w),u.child}var sr={dehydrated:null,treeContext:null,retryLane:0};function cn(a){return{baseLanes:a,cachePool:null,transitions:null}}function xo(a,u,g){var w=u.pendingProps,T=Un.current,L=!1,W=(u.flags&128)!==0,ae;if((ae=W)||(ae=a!==null&&a.memoizedState===null?!1:(T&2)!==0),ae?(L=!0,u.flags&=-129):(a===null||a.memoizedState!==null)&&(T|=1),bn(Un,T&1),a===null)return id(u),a=u.memoizedState,a!==null&&(a=a.dehydrated,a!==null)?((u.mode&1)===0?u.lanes=1:a.data==="$!"?u.lanes=8:u.lanes=1073741824,null):(W=w.children,a=w.fallback,L?(w=u.mode,L=u.child,W={mode:"hidden",children:W},(w&1)===0&&L!==null?(L.childLanes=0,L.pendingProps=W):L=dm(W,w,0,null),a=Nc(a,w,g,null),L.return=u,a.return=u,L.sibling=a,u.child=L,u.child.memoizedState=cn(g),u.memoizedState=sr,a):$f(u,W));if(T=a.memoizedState,T!==null&&(ae=T.dehydrated,ae!==null))return WA(a,u,W,w,ae,T,g);if(L){L=w.fallback,W=u.mode,T=a.child,ae=T.sibling;var he={mode:"hidden",children:w.children};return(W&1)===0&&u.child!==T?(w=u.child,w.childLanes=0,w.pendingProps=he,u.deletions=null):(w=Pl(T,he),w.subtreeFlags=T.subtreeFlags&14680064),ae!==null?L=Pl(ae,L):(L=Nc(L,W,g,null),L.flags|=2),L.return=u,w.return=u,w.sibling=L,u.child=w,w=L,L=u.child,W=a.child.memoizedState,W=W===null?cn(g):{baseLanes:W.baseLanes|g,cachePool:null,transitions:W.transitions},L.memoizedState=W,L.childLanes=a.childLanes&~g,u.memoizedState=sr,w}return L=a.child,a=L.sibling,w=Pl(L,{mode:"visible",children:w.children}),(u.mode&1)===0&&(w.lanes=g),w.return=u,w.sibling=null,a!==null&&(g=u.deletions,g===null?(u.deletions=[a],u.flags|=16):g.push(a)),u.child=w,u.memoizedState=null,w}function $f(a,u){return u=dm({mode:"visible",children:u},a.mode,0,null),u.return=a,a.child=u}function Qp(a,u,g,w){return w!==null&&vl(w),wa(u,a.child,null,g),a=$f(u,u.pendingProps.children),a.flags|=2,u.memoizedState=null,a}function WA(a,u,g,w,T,L,W){if(g)return u.flags&256?(u.flags&=-257,w=R(Error(t(422))),Qp(a,u,W,w)):u.memoizedState!==null?(u.child=a.child,u.flags|=128,null):(L=w.fallback,T=u.mode,w=dm({mode:"visible",children:w.children},T,0,null),L=Nc(L,T,W,null),L.flags|=2,w.return=u,L.return=u,w.sibling=L,u.child=w,(u.mode&1)!==0&&wa(u,a.child,null,W),u.child.memoizedState=cn(W),u.memoizedState=sr,L);if((u.mode&1)===0)return Qp(a,u,W,null);if(T.data==="$!"){if(w=T.nextSibling&&T.nextSibling.dataset,w)var ae=w.dgst;return w=ae,L=Error(t(419)),w=R(L,w,void 0),Qp(a,u,W,w)}if(ae=(W&a.childLanes)!==0,$t||ae){if(w=ti,w!==null){switch(W&-W){case 4:T=2;break;case 16:T=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:T=32;break;case 536870912:T=268435456;break;default:T=0}T=(T&(w.suspendedLanes|W))!==0?0:T,T!==0&&T!==L.retryLane&&(L.retryLane=T,_s(a,T),_o(w,a,T,-1))}return nv(),w=R(Error(t(421))),Qp(a,u,W,w)}return T.data==="$?"?(u.flags|=128,u.child=a.child,u=rT.bind(null,a),T._reactRetry=u,null):(a=L.treeContext,ci=oo(T.nextSibling),Vr=u,In=!0,ns=null,a!==null&&(li[Dr++]=mt,li[Dr++]=ts,li[Dr++]=Ca,mt=a.id,ts=a.overflow,Ca=u),u=$f(u,w.children),u.flags|=4096,u)}function i1(a,u,g){a.lanes|=u;var w=a.alternate;w!==null&&(w.lanes|=u),_c(a.return,u,g)}function Vy(a,u,g,w,T){var L=a.memoizedState;L===null?a.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:w,tail:g,tailMode:T}:(L.isBackwards=u,L.rendering=null,L.renderingStartTime=0,L.last=w,L.tail=g,L.tailMode=T)}function s1(a,u,g){var w=u.pendingProps,T=w.revealOrder,L=w.tail;if(_t(a,u,w.children,g),w=Un.current,(w&2)!==0)w=w&1|2,u.flags|=128;else{if(a!==null&&(a.flags&128)!==0)e:for(a=u.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&i1(a,g,u);else if(a.tag===19)i1(a,g,u);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===u)break e;for(;a.sibling===null;){if(a.return===null||a.return===u)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}w&=1}if(bn(Un,w),(u.mode&1)===0)u.memoizedState=null;else switch(T){case"forwards":for(g=u.child,T=null;g!==null;)a=g.alternate,a!==null&&Ss(a)===null&&(T=g),g=g.sibling;g=T,g===null?(T=u.child,u.child=null):(T=g.sibling,g.sibling=null),Vy(u,!1,T,g,L);break;case"backwards":for(g=null,T=u.child,u.child=null;T!==null;){if(a=T.alternate,a!==null&&Ss(a)===null){u.child=T;break}a=T.sibling,T.sibling=g,g=T,T=a}Vy(u,!0,g,null,L);break;case"together":Vy(u,!1,null,null,void 0);break;default:u.memoizedState=null}return u.child}function $p(a,u){(u.mode&1)===0&&a!==null&&(a.alternate=null,u.alternate=null,u.flags|=2)}function Da(a,u,g){if(a!==null&&(u.dependencies=a.dependencies),Lc|=u.lanes,(g&u.childLanes)===0)return null;if(a!==null&&u.child!==a.child)throw Error(t(153));if(u.child!==null){for(a=u.child,g=Pl(a,a.pendingProps),u.child=g,g.return=u;a.sibling!==null;)a=a.sibling,g=g.sibling=Pl(a,a.pendingProps),g.return=u;g.sibling=null}return u.child}function jA(a,u,g){switch(u.tag){case 3:qt(u),jo();break;case 5:Aa(u);break;case 1:Qr(u.type)&&va(u);break;case 4:bc(u,u.stateNode.containerInfo);break;case 10:var w=u.type._context,T=u.memoizedProps.value;bn(_a,w._currentValue),w._currentValue=T;break;case 13:if(w=u.memoizedState,w!==null)return w.dehydrated!==null?(bn(Un,Un.current&1),u.flags|=128,null):(g&u.child.childLanes)!==0?xo(a,u,g):(bn(Un,Un.current&1),a=Da(a,u,g),a!==null?a.sibling:null);bn(Un,Un.current&1);break;case 19:if(w=(g&u.childLanes)!==0,(a.flags&128)!==0){if(w)return s1(a,u,g);u.flags|=128}if(T=u.memoizedState,T!==null&&(T.rendering=null,T.tail=null,T.lastEffect=null),bn(Un,Un.current),w)break;return null;case 22:case 23:return u.lanes=0,xe(a,u,g)}return Da(a,u,g)}var o1,Hy,a1,l1;o1=function(a,u){for(var g=u.child;g!==null;){if(g.tag===5||g.tag===6)a.appendChild(g.stateNode);else if(g.tag!==4&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===u)break;for(;g.sibling===null;){if(g.return===null||g.return===u)return;g=g.return}g.sibling.return=g.return,g=g.sibling}},Hy=function(){},a1=function(a,u,g,w){var T=a.memoizedProps;if(T!==w){a=u.stateNode,ir(Oi.current);var L=null;switch(g){case"input":T=Ce(a,T),w=Ce(a,w),L=[];break;case"select":T=G({},T,{value:void 0}),w=G({},w,{value:void 0}),L=[];break;case"textarea":T=ht(a,T),w=ht(a,w),L=[];break;default:typeof T.onClick!="function"&&typeof w.onClick=="function"&&(a.onclick=hc)}oe(g,w);var W;g=null;for(Ue in T)if(!w.hasOwnProperty(Ue)&&T.hasOwnProperty(Ue)&&T[Ue]!=null)if(Ue==="style"){var ae=T[Ue];for(W in ae)ae.hasOwnProperty(W)&&(g||(g={}),g[W]="")}else Ue!=="dangerouslySetInnerHTML"&&Ue!=="children"&&Ue!=="suppressContentEditableWarning"&&Ue!=="suppressHydrationWarning"&&Ue!=="autoFocus"&&(i.hasOwnProperty(Ue)?L||(L=[]):(L=L||[]).push(Ue,null));for(Ue in w){var he=w[Ue];if(ae=T!=null?T[Ue]:void 0,w.hasOwnProperty(Ue)&&he!==ae&&(he!=null||ae!=null))if(Ue==="style")if(ae){for(W in ae)!ae.hasOwnProperty(W)||he&&he.hasOwnProperty(W)||(g||(g={}),g[W]="");for(W in he)he.hasOwnProperty(W)&&ae[W]!==he[W]&&(g||(g={}),g[W]=he[W])}else g||(L||(L=[]),L.push(Ue,g)),g=he;else Ue==="dangerouslySetInnerHTML"?(he=he?he.__html:void 0,ae=ae?ae.__html:void 0,he!=null&&ae!==he&&(L=L||[]).push(Ue,he)):Ue==="children"?typeof he!="string"&&typeof he!="number"||(L=L||[]).push(Ue,""+he):Ue!=="suppressContentEditableWarning"&&Ue!=="suppressHydrationWarning"&&(i.hasOwnProperty(Ue)?(he!=null&&Ue==="onScroll"&&Tn("scroll",a),L||ae===he||(L=[])):(L=L||[]).push(Ue,he))}g&&(L=L||[]).push("style",g);var Ue=L;(u.updateQueue=Ue)&&(u.flags|=4)}},l1=function(a,u,g,w){g!==w&&(u.flags|=4)};function eh(a,u){if(!In)switch(a.tailMode){case"hidden":u=a.tail;for(var g=null;u!==null;)u.alternate!==null&&(g=u),u=u.sibling;g===null?a.tail=null:g.sibling=null;break;case"collapsed":g=a.tail;for(var w=null;g!==null;)g.alternate!==null&&(w=g),g=g.sibling;w===null?u||a.tail===null?a.tail=null:a.tail.sibling=null:w.sibling=null}}function Ci(a){var u=a.alternate!==null&&a.alternate.child===a.child,g=0,w=0;if(u)for(var T=a.child;T!==null;)g|=T.lanes|T.childLanes,w|=T.subtreeFlags&14680064,w|=T.flags&14680064,T.return=a,T=T.sibling;else for(T=a.child;T!==null;)g|=T.lanes|T.childLanes,w|=T.subtreeFlags,w|=T.flags,T.return=a,T=T.sibling;return a.subtreeFlags|=w,a.childLanes=g,u}function XA(a,u,g){var w=u.pendingProps;switch(fo(u),u.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ci(u),null;case 1:return Qr(u.type)&&pc(),Ci(u),null;case 3:return w=u.stateNode,Yo(),Pn(ai),Pn(zr),Vs(),w.pendingContext&&(w.context=w.pendingContext,w.pendingContext=null),(a===null||a.child===null)&&(yl(u)?u.flags|=4:a===null||a.memoizedState.isDehydrated&&(u.flags&256)===0||(u.flags|=1024,ns!==null&&($y(ns),ns=null))),Hy(a,u),Ci(u),null;case 5:wl(u);var T=ir(mo.current);if(g=u.type,a!==null&&u.stateNode!=null)a1(a,u,g,w,T),a.ref!==u.ref&&(u.flags|=512,u.flags|=2097152);else{if(!w){if(u.stateNode===null)throw Error(t(166));return Ci(u),null}if(a=ir(Oi.current),yl(u)){w=u.stateNode,g=u.type;var L=u.memoizedProps;switch(w[mr]=u,w[gl]=L,a=(u.mode&1)!==0,g){case"dialog":Tn("cancel",w),Tn("close",w);break;case"iframe":case"object":case"embed":Tn("load",w);break;case"video":case"audio":for(T=0;T<Go.length;T++)Tn(Go[T],w);break;case"source":Tn("error",w);break;case"img":case"image":case"link":Tn("error",w),Tn("load",w);break;case"details":Tn("toggle",w);break;case"input":Ne(w,L),Tn("invalid",w);break;case"select":w._wrapperState={wasMultiple:!!L.multiple},Tn("invalid",w);break;case"textarea":K(w,L),Tn("invalid",w)}oe(g,L),T=null;for(var W in L)if(L.hasOwnProperty(W)){var ae=L[W];W==="children"?typeof ae=="string"?w.textContent!==ae&&(L.suppressHydrationWarning!==!0&&fc(w.textContent,ae,a),T=["children",ae]):typeof ae=="number"&&w.textContent!==""+ae&&(L.suppressHydrationWarning!==!0&&fc(w.textContent,ae,a),T=["children",""+ae]):i.hasOwnProperty(W)&&ae!=null&&W==="onScroll"&&Tn("scroll",w)}switch(g){case"input":Re(w),Ae(w,L,!0);break;case"textarea":Re(w),fe(w);break;case"select":case"option":break;default:typeof L.onClick=="function"&&(w.onclick=hc)}w=T,u.updateQueue=w,w!==null&&(u.flags|=4)}else{W=T.nodeType===9?T:T.ownerDocument,a==="http://www.w3.org/1999/xhtml"&&(a=Ye(g)),a==="http://www.w3.org/1999/xhtml"?g==="script"?(a=W.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild)):typeof w.is=="string"?a=W.createElement(g,{is:w.is}):(a=W.createElement(g),g==="select"&&(W=a,w.multiple?W.multiple=!0:w.size&&(W.size=w.size))):a=W.createElementNS(a,g),a[mr]=u,a[gl]=w,o1(a,u,!1,!1),u.stateNode=a;e:{switch(W=Te(g,w),g){case"dialog":Tn("cancel",a),Tn("close",a),T=w;break;case"iframe":case"object":case"embed":Tn("load",a),T=w;break;case"video":case"audio":for(T=0;T<Go.length;T++)Tn(Go[T],a);T=w;break;case"source":Tn("error",a),T=w;break;case"img":case"image":case"link":Tn("error",a),Tn("load",a),T=w;break;case"details":Tn("toggle",a),T=w;break;case"input":Ne(a,w),T=Ce(a,w),Tn("invalid",a);break;case"option":T=w;break;case"select":a._wrapperState={wasMultiple:!!w.multiple},T=G({},w,{value:void 0}),Tn("invalid",a);break;case"textarea":K(a,w),T=ht(a,w),Tn("invalid",a);break;default:T=w}oe(g,T),ae=T;for(L in ae)if(ae.hasOwnProperty(L)){var he=ae[L];L==="style"?Ve(a,he):L==="dangerouslySetInnerHTML"?(he=he?he.__html:void 0,he!=null&&tt(a,he)):L==="children"?typeof he=="string"?(g!=="textarea"||he!=="")&&Xe(a,he):typeof he=="number"&&Xe(a,""+he):L!=="suppressContentEditableWarning"&&L!=="suppressHydrationWarning"&&L!=="autoFocus"&&(i.hasOwnProperty(L)?he!=null&&L==="onScroll"&&Tn("scroll",a):he!=null&&E(a,L,he,W))}switch(g){case"input":Re(a),Ae(a,w,!1);break;case"textarea":Re(a),fe(a);break;case"option":w.value!=null&&a.setAttribute("value",""+ve(w.value));break;case"select":a.multiple=!!w.multiple,L=w.value,L!=null?Me(a,!!w.multiple,L,!1):w.defaultValue!=null&&Me(a,!!w.multiple,w.defaultValue,!0);break;default:typeof T.onClick=="function"&&(a.onclick=hc)}switch(g){case"button":case"input":case"select":case"textarea":w=!!w.autoFocus;break e;case"img":w=!0;break e;default:w=!1}}w&&(u.flags|=4)}u.ref!==null&&(u.flags|=512,u.flags|=2097152)}return Ci(u),null;case 6:if(a&&u.stateNode!=null)l1(a,u,a.memoizedProps,w);else{if(typeof w!="string"&&u.stateNode===null)throw Error(t(166));if(g=ir(mo.current),ir(Oi.current),yl(u)){if(w=u.stateNode,g=u.memoizedProps,w[mr]=u,(L=w.nodeValue!==g)&&(a=Vr,a!==null))switch(a.tag){case 3:fc(w.nodeValue,g,(a.mode&1)!==0);break;case 5:a.memoizedProps.suppressHydrationWarning!==!0&&fc(w.nodeValue,g,(a.mode&1)!==0)}L&&(u.flags|=4)}else w=(g.nodeType===9?g:g.ownerDocument).createTextNode(w),w[mr]=u,u.stateNode=w}return Ci(u),null;case 13:if(Pn(Un),w=u.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(In&&ci!==null&&(u.mode&1)!==0&&(u.flags&128)===0)Vf(),jo(),u.flags|=98560,L=!1;else if(L=yl(u),w!==null&&w.dehydrated!==null){if(a===null){if(!L)throw Error(t(318));if(L=u.memoizedState,L=L!==null?L.dehydrated:null,!L)throw Error(t(317));L[mr]=u}else jo(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;Ci(u),L=!1}else ns!==null&&($y(ns),ns=null),L=!0;if(!L)return u.flags&65536?u:null}return(u.flags&128)!==0?(u.lanes=g,u):(w=w!==null,w!==(a!==null&&a.memoizedState!==null)&&w&&(u.child.flags|=8192,(u.mode&1)!==0&&(a===null||(Un.current&1)!==0?jr===0&&(jr=3):nv())),u.updateQueue!==null&&(u.flags|=4),Ci(u),null);case 4:return Yo(),Hy(a,u),a===null&&hl(u.stateNode.containerInfo),Ci(u),null;case 10:return wc(u.type._context),Ci(u),null;case 17:return Qr(u.type)&&pc(),Ci(u),null;case 19:if(Pn(Un),L=u.memoizedState,L===null)return Ci(u),null;if(w=(u.flags&128)!==0,W=L.rendering,W===null)if(w)eh(L,!1);else{if(jr!==0||a!==null&&(a.flags&128)!==0)for(a=u.child;a!==null;){if(W=Ss(a),W!==null){for(u.flags|=128,eh(L,!1),w=W.updateQueue,w!==null&&(u.updateQueue=w,u.flags|=4),u.subtreeFlags=0,w=g,g=u.child;g!==null;)L=g,a=w,L.flags&=14680066,W=L.alternate,W===null?(L.childLanes=0,L.lanes=a,L.child=null,L.subtreeFlags=0,L.memoizedProps=null,L.memoizedState=null,L.updateQueue=null,L.dependencies=null,L.stateNode=null):(L.childLanes=W.childLanes,L.lanes=W.lanes,L.child=W.child,L.subtreeFlags=0,L.deletions=null,L.memoizedProps=W.memoizedProps,L.memoizedState=W.memoizedState,L.updateQueue=W.updateQueue,L.type=W.type,a=W.dependencies,L.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),g=g.sibling;return bn(Un,Un.current&1|2),u.child}a=a.sibling}L.tail!==null&&je()>gd&&(u.flags|=128,w=!0,eh(L,!1),u.lanes=4194304)}else{if(!w)if(a=Ss(W),a!==null){if(u.flags|=128,w=!0,g=a.updateQueue,g!==null&&(u.updateQueue=g,u.flags|=4),eh(L,!0),L.tail===null&&L.tailMode==="hidden"&&!W.alternate&&!In)return Ci(u),null}else 2*je()-L.renderingStartTime>gd&&g!==1073741824&&(u.flags|=128,w=!0,eh(L,!1),u.lanes=4194304);L.isBackwards?(W.sibling=u.child,u.child=W):(g=L.last,g!==null?g.sibling=W:u.child=W,L.last=W)}return L.tail!==null?(u=L.tail,L.rendering=u,L.tail=u.sibling,L.renderingStartTime=je(),u.sibling=null,g=Un.current,bn(Un,w?g&1|2:g&1),u):(Ci(u),null);case 22:case 23:return tv(),w=u.memoizedState!==null,a!==null&&a.memoizedState!==null!==w&&(u.flags|=8192),w&&(u.mode&1)!==0?(Es&1073741824)!==0&&(Ci(u),u.subtreeFlags&6&&(u.flags|=8192)):Ci(u),null;case 24:return null;case 25:return null}throw Error(t(156,u.tag))}function YA(a,u){switch(fo(u),u.tag){case 1:return Qr(u.type)&&pc(),a=u.flags,a&65536?(u.flags=a&-65537|128,u):null;case 3:return Yo(),Pn(ai),Pn(zr),Vs(),a=u.flags,(a&65536)!==0&&(a&128)===0?(u.flags=a&-65537|128,u):null;case 5:return wl(u),null;case 13:if(Pn(Un),a=u.memoizedState,a!==null&&a.dehydrated!==null){if(u.alternate===null)throw Error(t(340));jo()}return a=u.flags,a&65536?(u.flags=a&-65537|128,u):null;case 19:return Pn(Un),null;case 4:return Yo(),null;case 10:return wc(u.type._context),null;case 22:case 23:return tv(),null;case 24:return null;default:return null}}var em=!1,wi=!1,qA=typeof WeakSet=="function"?WeakSet:Set,Et=null;function pd(a,u){var g=a.ref;if(g!==null)if(typeof g=="function")try{g(null)}catch(w){or(a,u,w)}else g.current=null}function Gy(a,u,g){try{g()}catch(w){or(a,u,w)}}var c1=!1;function KA(a,u){if(ml=br,a=Hn(),Ar(a)){if("selectionStart"in a)var g={start:a.selectionStart,end:a.selectionEnd};else e:{g=(g=a.ownerDocument)&&g.defaultView||window;var w=g.getSelection&&g.getSelection();if(w&&w.rangeCount!==0){g=w.anchorNode;var T=w.anchorOffset,L=w.focusNode;w=w.focusOffset;try{g.nodeType,L.nodeType}catch{g=null;break e}var W=0,ae=-1,he=-1,Ue=0,st=0,at=a,it=null;t:for(;;){for(var St;at!==g||T!==0&&at.nodeType!==3||(ae=W+T),at!==L||w!==0&&at.nodeType!==3||(he=W+w),at.nodeType===3&&(W+=at.nodeValue.length),(St=at.firstChild)!==null;)it=at,at=St;for(;;){if(at===a)break t;if(it===g&&++Ue===T&&(ae=W),it===L&&++st===w&&(he=W),(St=at.nextSibling)!==null)break;at=it,it=at.parentNode}at=St}g=ae===-1||he===-1?null:{start:ae,end:he}}else g=null}g=g||{start:0,end:0}}else g=null;for(Pf={focusedElem:a,selectionRange:g},br=!1,Et=u;Et!==null;)if(u=Et,a=u.child,(u.subtreeFlags&1028)!==0&&a!==null)a.return=u,Et=a;else for(;Et!==null;){u=Et;try{var Tt=u.alternate;if((u.flags&1024)!==0)switch(u.tag){case 0:case 11:case 15:break;case 1:if(Tt!==null){var Rt=Tt.memoizedProps,gr=Tt.memoizedState,_e=u.stateNode,ge=_e.getSnapshotBeforeUpdate(u.elementType===u.type?Rt:rs(u.type,Rt),gr);_e.__reactInternalSnapshotBeforeUpdate=ge}break;case 3:var Pe=u.stateNode.containerInfo;Pe.nodeType===1?Pe.textContent="":Pe.nodeType===9&&Pe.documentElement&&Pe.removeChild(Pe.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(dt){or(u,u.return,dt)}if(a=u.sibling,a!==null){a.return=u.return,Et=a;break}Et=u.return}return Tt=c1,c1=!1,Tt}function th(a,u,g){var w=u.updateQueue;if(w=w!==null?w.lastEffect:null,w!==null){var T=w=w.next;do{if((T.tag&a)===a){var L=T.destroy;T.destroy=void 0,L!==void 0&&Gy(u,g,L)}T=T.next}while(T!==w)}}function tm(a,u){if(u=u.updateQueue,u=u!==null?u.lastEffect:null,u!==null){var g=u=u.next;do{if((g.tag&a)===a){var w=g.create;g.destroy=w()}g=g.next}while(g!==u)}}function Wy(a){var u=a.ref;if(u!==null){var g=a.stateNode;switch(a.tag){case 5:a=g;break;default:a=g}typeof u=="function"?u(a):u.current=a}}function u1(a){var u=a.alternate;u!==null&&(a.alternate=null,u1(u)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(u=a.stateNode,u!==null&&(delete u[mr],delete u[gl],delete u[ga],delete u[Ju],delete u[Qu])),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}function d1(a){return a.tag===5||a.tag===3||a.tag===4}function f1(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||d1(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function jy(a,u,g){var w=a.tag;if(w===5||w===6)a=a.stateNode,u?g.nodeType===8?g.parentNode.insertBefore(a,u):g.insertBefore(a,u):(g.nodeType===8?(u=g.parentNode,u.insertBefore(a,g)):(u=g,u.appendChild(a)),g=g._reactRootContainer,g!=null||u.onclick!==null||(u.onclick=hc));else if(w!==4&&(a=a.child,a!==null))for(jy(a,u,g),a=a.sibling;a!==null;)jy(a,u,g),a=a.sibling}function Xy(a,u,g){var w=a.tag;if(w===5||w===6)a=a.stateNode,u?g.insertBefore(a,u):g.appendChild(a);else if(w!==4&&(a=a.child,a!==null))for(Xy(a,u,g),a=a.sibling;a!==null;)Xy(a,u,g),a=a.sibling}var di=null,Co=!1;function bl(a,u,g){for(g=g.child;g!==null;)h1(a,u,g),g=g.sibling}function h1(a,u,g){if(At&&typeof At.onCommitFiberUnmount=="function")try{At.onCommitFiberUnmount(En,g)}catch{}switch(g.tag){case 5:wi||pd(g,u);case 6:var w=di,T=Co;di=null,bl(a,u,g),di=w,Co=T,di!==null&&(Co?(a=di,g=g.stateNode,a.nodeType===8?a.parentNode.removeChild(g):a.removeChild(g)):di.removeChild(g.stateNode));break;case 18:di!==null&&(Co?(a=di,g=g.stateNode,a.nodeType===8?Zu(a.parentNode,g):a.nodeType===1&&Zu(a,g),ko(a)):Zu(di,g.stateNode));break;case 4:w=di,T=Co,di=g.stateNode.containerInfo,Co=!0,bl(a,u,g),di=w,Co=T;break;case 0:case 11:case 14:case 15:if(!wi&&(w=g.updateQueue,w!==null&&(w=w.lastEffect,w!==null))){T=w=w.next;do{var L=T,W=L.destroy;L=L.tag,W!==void 0&&((L&2)!==0||(L&4)!==0)&&Gy(g,u,W),T=T.next}while(T!==w)}bl(a,u,g);break;case 1:if(!wi&&(pd(g,u),w=g.stateNode,typeof w.componentWillUnmount=="function"))try{w.props=g.memoizedProps,w.state=g.memoizedState,w.componentWillUnmount()}catch(ae){or(g,u,ae)}bl(a,u,g);break;case 21:bl(a,u,g);break;case 22:g.mode&1?(wi=(w=wi)||g.memoizedState!==null,bl(a,u,g),wi=w):bl(a,u,g);break;default:bl(a,u,g)}}function p1(a){var u=a.updateQueue;if(u!==null){a.updateQueue=null;var g=a.stateNode;g===null&&(g=a.stateNode=new qA),u.forEach(function(w){var T=iT.bind(null,a,w);g.has(w)||(g.add(w),w.then(T,T))})}}function wo(a,u){var g=u.deletions;if(g!==null)for(var w=0;w<g.length;w++){var T=g[w];try{var L=a,W=u,ae=W;e:for(;ae!==null;){switch(ae.tag){case 5:di=ae.stateNode,Co=!1;break e;case 3:di=ae.stateNode.containerInfo,Co=!0;break e;case 4:di=ae.stateNode.containerInfo,Co=!0;break e}ae=ae.return}if(di===null)throw Error(t(160));h1(L,W,T),di=null,Co=!1;var he=T.alternate;he!==null&&(he.return=null),T.return=null}catch(Ue){or(T,u,Ue)}}if(u.subtreeFlags&12854)for(u=u.child;u!==null;)m1(u,a),u=u.sibling}function m1(a,u){var g=a.alternate,w=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:if(wo(u,a),Ko(a),w&4){try{th(3,a,a.return),tm(3,a)}catch(Rt){or(a,a.return,Rt)}try{th(5,a,a.return)}catch(Rt){or(a,a.return,Rt)}}break;case 1:wo(u,a),Ko(a),w&512&&g!==null&&pd(g,g.return);break;case 5:if(wo(u,a),Ko(a),w&512&&g!==null&&pd(g,g.return),a.flags&32){var T=a.stateNode;try{Xe(T,"")}catch(Rt){or(a,a.return,Rt)}}if(w&4&&(T=a.stateNode,T!=null)){var L=a.memoizedProps,W=g!==null?g.memoizedProps:L,ae=a.type,he=a.updateQueue;if(a.updateQueue=null,he!==null)try{ae==="input"&&L.type==="radio"&&L.name!=null&&Ee(T,L),Te(ae,W);var Ue=Te(ae,L);for(W=0;W<he.length;W+=2){var st=he[W],at=he[W+1];st==="style"?Ve(T,at):st==="dangerouslySetInnerHTML"?tt(T,at):st==="children"?Xe(T,at):E(T,st,at,Ue)}switch(ae){case"input":rt(T,L);break;case"textarea":H(T,L);break;case"select":var it=T._wrapperState.wasMultiple;T._wrapperState.wasMultiple=!!L.multiple;var St=L.value;St!=null?Me(T,!!L.multiple,St,!1):it!==!!L.multiple&&(L.defaultValue!=null?Me(T,!!L.multiple,L.defaultValue,!0):Me(T,!!L.multiple,L.multiple?[]:"",!1))}T[gl]=L}catch(Rt){or(a,a.return,Rt)}}break;case 6:if(wo(u,a),Ko(a),w&4){if(a.stateNode===null)throw Error(t(162));T=a.stateNode,L=a.memoizedProps;try{T.nodeValue=L}catch(Rt){or(a,a.return,Rt)}}break;case 3:if(wo(u,a),Ko(a),w&4&&g!==null&&g.memoizedState.isDehydrated)try{ko(u.containerInfo)}catch(Rt){or(a,a.return,Rt)}break;case 4:wo(u,a),Ko(a);break;case 13:wo(u,a),Ko(a),T=a.child,T.flags&8192&&(L=T.memoizedState!==null,T.stateNode.isHidden=L,!L||T.alternate!==null&&T.alternate.memoizedState!==null||(Ky=je())),w&4&&p1(a);break;case 22:if(st=g!==null&&g.memoizedState!==null,a.mode&1?(wi=(Ue=wi)||st,wo(u,a),wi=Ue):wo(u,a),Ko(a),w&8192){if(Ue=a.memoizedState!==null,(a.stateNode.isHidden=Ue)&&!st&&(a.mode&1)!==0)for(Et=a,st=a.child;st!==null;){for(at=Et=st;Et!==null;){switch(it=Et,St=it.child,it.tag){case 0:case 11:case 14:case 15:th(4,it,it.return);break;case 1:pd(it,it.return);var Tt=it.stateNode;if(typeof Tt.componentWillUnmount=="function"){w=it,g=it.return;try{u=w,Tt.props=u.memoizedProps,Tt.state=u.memoizedState,Tt.componentWillUnmount()}catch(Rt){or(w,g,Rt)}}break;case 5:pd(it,it.return);break;case 22:if(it.memoizedState!==null){v1(at);continue}}St!==null?(St.return=it,Et=St):v1(at)}st=st.sibling}e:for(st=null,at=a;;){if(at.tag===5){if(st===null){st=at;try{T=at.stateNode,Ue?(L=T.style,typeof L.setProperty=="function"?L.setProperty("display","none","important"):L.display="none"):(ae=at.stateNode,he=at.memoizedProps.style,W=he!=null&&he.hasOwnProperty("display")?he.display:null,ae.style.display=yt("display",W))}catch(Rt){or(a,a.return,Rt)}}}else if(at.tag===6){if(st===null)try{at.stateNode.nodeValue=Ue?"":at.memoizedProps}catch(Rt){or(a,a.return,Rt)}}else if((at.tag!==22&&at.tag!==23||at.memoizedState===null||at===a)&&at.child!==null){at.child.return=at,at=at.child;continue}if(at===a)break e;for(;at.sibling===null;){if(at.return===null||at.return===a)break e;st===at&&(st=null),at=at.return}st===at&&(st=null),at.sibling.return=at.return,at=at.sibling}}break;case 19:wo(u,a),Ko(a),w&4&&p1(a);break;case 21:break;default:wo(u,a),Ko(a)}}function Ko(a){var u=a.flags;if(u&2){try{e:{for(var g=a.return;g!==null;){if(d1(g)){var w=g;break e}g=g.return}throw Error(t(160))}switch(w.tag){case 5:var T=w.stateNode;w.flags&32&&(Xe(T,""),w.flags&=-33);var L=f1(a);Xy(a,L,T);break;case 3:case 4:var W=w.stateNode.containerInfo,ae=f1(a);jy(a,ae,W);break;default:throw Error(t(161))}}catch(he){or(a,a.return,he)}a.flags&=-3}u&4096&&(a.flags&=-4097)}function ZA(a,u,g){Et=a,g1(a)}function g1(a,u,g){for(var w=(a.mode&1)!==0;Et!==null;){var T=Et,L=T.child;if(T.tag===22&&w){var W=T.memoizedState!==null||em;if(!W){var ae=T.alternate,he=ae!==null&&ae.memoizedState!==null||wi;ae=em;var Ue=wi;if(em=W,(wi=he)&&!Ue)for(Et=T;Et!==null;)W=Et,he=W.child,W.tag===22&&W.memoizedState!==null?x1(T):he!==null?(he.return=W,Et=he):x1(T);for(;L!==null;)Et=L,g1(L),L=L.sibling;Et=T,em=ae,wi=Ue}y1(a)}else(T.subtreeFlags&8772)!==0&&L!==null?(L.return=T,Et=L):y1(a)}}function y1(a){for(;Et!==null;){var u=Et;if((u.flags&8772)!==0){var g=u.alternate;try{if((u.flags&8772)!==0)switch(u.tag){case 0:case 11:case 15:wi||tm(5,u);break;case 1:var w=u.stateNode;if(u.flags&4&&!wi)if(g===null)w.componentDidMount();else{var T=u.elementType===u.type?g.memoizedProps:rs(u.type,g.memoizedProps);w.componentDidUpdate(T,g.memoizedState,w.__reactInternalSnapshotBeforeUpdate)}var L=u.updateQueue;L!==null&&Cl(u,L,w);break;case 3:var W=u.updateQueue;if(W!==null){if(g=null,u.child!==null)switch(u.child.tag){case 5:g=u.child.stateNode;break;case 1:g=u.child.stateNode}Cl(u,W,g)}break;case 5:var ae=u.stateNode;if(g===null&&u.flags&4){g=ae;var he=u.memoizedProps;switch(u.type){case"button":case"input":case"select":case"textarea":he.autoFocus&&g.focus();break;case"img":he.src&&(g.src=he.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(u.memoizedState===null){var Ue=u.alternate;if(Ue!==null){var st=Ue.memoizedState;if(st!==null){var at=st.dehydrated;at!==null&&ko(at)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}wi||u.flags&512&&Wy(u)}catch(it){or(u,u.return,it)}}if(u===a){Et=null;break}if(g=u.sibling,g!==null){g.return=u.return,Et=g;break}Et=u.return}}function v1(a){for(;Et!==null;){var u=Et;if(u===a){Et=null;break}var g=u.sibling;if(g!==null){g.return=u.return,Et=g;break}Et=u.return}}function x1(a){for(;Et!==null;){var u=Et;try{switch(u.tag){case 0:case 11:case 15:var g=u.return;try{tm(4,u)}catch(he){or(u,g,he)}break;case 1:var w=u.stateNode;if(typeof w.componentDidMount=="function"){var T=u.return;try{w.componentDidMount()}catch(he){or(u,T,he)}}var L=u.return;try{Wy(u)}catch(he){or(u,L,he)}break;case 5:var W=u.return;try{Wy(u)}catch(he){or(u,W,he)}}}catch(he){or(u,u.return,he)}if(u===a){Et=null;break}var ae=u.sibling;if(ae!==null){ae.return=u.return,Et=ae;break}Et=u.return}}var JA=Math.ceil,nm=P.ReactCurrentDispatcher,Yy=P.ReactCurrentOwner,Gs=P.ReactCurrentBatchConfig,pn=0,ti=null,Lr=null,fi=0,Es=0,md=jn(0),jr=0,nh=null,Lc=0,rm=0,qy=0,rh=null,is=null,Ky=0,gd=1/0,La=null,im=!1,Zy=null,Ml=null,sm=!1,El=null,om=0,ih=0,Jy=null,am=-1,lm=0;function Vi(){return(pn&6)!==0?je():am!==-1?am:am=je()}function Al(a){return(a.mode&1)===0?1:(pn&2)!==0&&fi!==0?fi&-fi:By.transition!==null?(lm===0&&(lm=Kr()),lm):(a=an,a!==0||(a=window.event,a=a===void 0?16:Oo(a.type)),a)}function _o(a,u,g,w){if(50<ih)throw ih=0,Jy=null,Error(t(185));ps(a,g,w),((pn&2)===0||a!==ti)&&(a===ti&&((pn&2)===0&&(rm|=g),jr===4&&Tl(a,fi)),ss(a,w),g===1&&pn===0&&(u.mode&1)===0&&(gd=je()+500,gc&&Bs()))}function ss(a,u){var g=a.callbackNode;Wn(a,u);var w=Or(a,a===ti?fi:0);if(w===0)g!==null&&xt(g),a.callbackNode=null,a.callbackPriority=0;else if(u=w&-w,a.callbackPriority!==u){if(g!=null&&xt(g),u===1)a.tag===0?Vp(w1.bind(null,a)):yc(w1.bind(null,a)),Fy(function(){(pn&6)===0&&Bs()}),g=null;else{switch(Is(w)){case 1:g=zt;break;case 4:g=Ot;break;case 16:g=fn;break;case 536870912:g=gn;break;default:g=fn}g=P1(g,C1.bind(null,a))}a.callbackPriority=u,a.callbackNode=g}}function C1(a,u){if(am=-1,lm=0,(pn&6)!==0)throw Error(t(327));var g=a.callbackNode;if(yd()&&a.callbackNode!==g)return null;var w=Or(a,a===ti?fi:0);if(w===0)return null;if((w&30)!==0||(w&a.expiredLanes)!==0||u)u=cm(a,w);else{u=w;var T=pn;pn|=2;var L=S1();(ti!==a||fi!==u)&&(La=null,gd=je()+500,Uc(a,u));do try{eT();break}catch(ae){_1(a,ae)}while(!0);ba(),nm.current=L,pn=T,Lr!==null?u=0:(ti=null,fi=0,u=jr)}if(u!==0){if(u===2&&(T=fr(a),T!==0&&(w=T,u=Qy(a,T))),u===1)throw g=nh,Uc(a,0),Tl(a,w),ss(a,je()),g;if(u===6)Tl(a,w);else{if(T=a.current.alternate,(w&30)===0&&!QA(T)&&(u=cm(a,w),u===2&&(L=fr(a),L!==0&&(w=L,u=Qy(a,L))),u===1))throw g=nh,Uc(a,0),Tl(a,w),ss(a,je()),g;switch(a.finishedWork=T,a.finishedLanes=w,u){case 0:case 1:throw Error(t(345));case 2:kc(a,is,La);break;case 3:if(Tl(a,w),(w&130023424)===w&&(u=Ky+500-je(),10<u)){if(Or(a,0)!==0)break;if(T=a.suspendedLanes,(T&w)!==w){Vi(),a.pingedLanes|=a.suspendedLanes&T;break}a.timeoutHandle=Df(kc.bind(null,a,is,La),u);break}kc(a,is,La);break;case 4:if(Tl(a,w),(w&4194240)===w)break;for(u=a.eventTimes,T=-1;0<w;){var W=31-Sn(w);L=1<<W,W=u[W],W>T&&(T=W),w&=~L}if(w=T,w=je()-w,w=(120>w?120:480>w?480:1080>w?1080:1920>w?1920:3e3>w?3e3:4320>w?4320:1960*JA(w/1960))-w,10<w){a.timeoutHandle=Df(kc.bind(null,a,is,La),w);break}kc(a,is,La);break;case 5:kc(a,is,La);break;default:throw Error(t(329))}}}return ss(a,je()),a.callbackNode===g?C1.bind(null,a):null}function Qy(a,u){var g=rh;return a.current.memoizedState.isDehydrated&&(Uc(a,u).flags|=256),a=cm(a,u),a!==2&&(u=is,is=g,u!==null&&$y(u)),a}function $y(a){is===null?is=a:is.push.apply(is,a)}function QA(a){for(var u=a;;){if(u.flags&16384){var g=u.updateQueue;if(g!==null&&(g=g.stores,g!==null))for(var w=0;w<g.length;w++){var T=g[w],L=T.getSnapshot;T=T.value;try{if(!Ii(L(),T))return!1}catch{return!1}}}if(g=u.child,u.subtreeFlags&16384&&g!==null)g.return=u,u=g;else{if(u===a)break;for(;u.sibling===null;){if(u.return===null||u.return===a)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function Tl(a,u){for(u&=~qy,u&=~rm,a.suspendedLanes|=u,a.pingedLanes&=~u,a=a.expirationTimes;0<u;){var g=31-Sn(u),w=1<<g;a[g]=-1,u&=~w}}function w1(a){if((pn&6)!==0)throw Error(t(327));yd();var u=Or(a,0);if((u&1)===0)return ss(a,je()),null;var g=cm(a,u);if(a.tag!==0&&g===2){var w=fr(a);w!==0&&(u=w,g=Qy(a,w))}if(g===1)throw g=nh,Uc(a,0),Tl(a,u),ss(a,je()),g;if(g===6)throw Error(t(345));return a.finishedWork=a.current.alternate,a.finishedLanes=u,kc(a,is,La),ss(a,je()),null}function ev(a,u){var g=pn;pn|=1;try{return a(u)}finally{pn=g,pn===0&&(gd=je()+500,gc&&Bs())}}function Ic(a){El!==null&&El.tag===0&&(pn&6)===0&&yd();var u=pn;pn|=1;var g=Gs.transition,w=an;try{if(Gs.transition=null,an=1,a)return a()}finally{an=w,Gs.transition=g,pn=u,(pn&6)===0&&Bs()}}function tv(){Es=md.current,Pn(md)}function Uc(a,u){a.finishedWork=null,a.finishedLanes=0;var g=a.timeoutHandle;if(g!==-1&&(a.timeoutHandle=-1,Lf(g)),Lr!==null)for(g=Lr.return;g!==null;){var w=g;switch(fo(w),w.tag){case 1:w=w.type.childContextTypes,w!=null&&pc();break;case 3:Yo(),Pn(ai),Pn(zr),Vs();break;case 5:wl(w);break;case 4:Yo();break;case 13:Pn(Un);break;case 19:Pn(Un);break;case 10:wc(w.type._context);break;case 22:case 23:tv()}g=g.return}if(ti=a,Lr=a=Pl(a.current,null),fi=Es=u,jr=0,nh=null,qy=rm=Lc=0,is=rh=null,po!==null){for(u=0;u<po.length;u++)if(g=po[u],w=g.interleaved,w!==null){g.interleaved=null;var T=w.next,L=g.pending;if(L!==null){var W=L.next;L.next=T,w.next=W}g.pending=w}po=null}return a}function _1(a,u){do{var g=Lr;try{if(ba(),Ta.current=fd,bs){for(var w=Rn.memoizedState;w!==null;){var T=w.queue;T!==null&&(T.pending=null),w=w.next}bs=!1}if(go=0,dn=Yn=Rn=null,ei=!1,qo=0,Yy.current=null,g===null||g.return===null){jr=1,nh=u,Lr=null;break}e:{var L=a,W=g.return,ae=g,he=u;if(u=fi,ae.flags|=32768,he!==null&&typeof he=="object"&&typeof he.then=="function"){var Ue=he,st=ae,at=st.tag;if((st.mode&1)===0&&(at===0||at===11||at===15)){var it=st.alternate;it?(st.updateQueue=it.updateQueue,st.memoizedState=it.memoizedState,st.lanes=it.lanes):(st.updateQueue=null,st.memoizedState=null)}var St=Mt(W);if(St!==null){St.flags&=-257,Yt(St,W,ae,L,u),St.mode&1&&ct(L,Ue,u),u=St,he=Ue;var Tt=u.updateQueue;if(Tt===null){var Rt=new Set;Rt.add(he),u.updateQueue=Rt}else Tt.add(he);break e}else{if((u&1)===0){ct(L,Ue,u),nv();break e}he=Error(t(426))}}else if(In&&ae.mode&1){var gr=Mt(W);if(gr!==null){(gr.flags&65536)===0&&(gr.flags|=256),Yt(gr,W,ae,L,u),vl(M(he,ae));break e}}L=he=M(he,ae),jr!==4&&(jr=2),rh===null?rh=[L]:rh.push(L),L=W;do{switch(L.tag){case 3:L.flags|=65536,u&=-u,L.lanes|=u;var _e=ye(L,he,u);Ma(L,_e);break e;case 1:ae=he;var ge=L.type,Pe=L.stateNode;if((L.flags&128)===0&&(typeof ge.getDerivedStateFromError=="function"||Pe!==null&&typeof Pe.componentDidCatch=="function"&&(Ml===null||!Ml.has(Pe)))){L.flags|=65536,u&=-u,L.lanes|=u;var dt=He(L,ae,u);Ma(L,dt);break e}}L=L.return}while(L!==null)}M1(g)}catch(It){u=It,Lr===g&&g!==null&&(Lr=g=g.return);continue}break}while(!0)}function S1(){var a=nm.current;return nm.current=fd,a===null?fd:a}function nv(){(jr===0||jr===3||jr===2)&&(jr=4),ti===null||(Lc&268435455)===0&&(rm&268435455)===0||Tl(ti,fi)}function cm(a,u){var g=pn;pn|=2;var w=S1();(ti!==a||fi!==u)&&(La=null,Uc(a,u));do try{$A();break}catch(T){_1(a,T)}while(!0);if(ba(),pn=g,nm.current=w,Lr!==null)throw Error(t(261));return ti=null,fi=0,jr}function $A(){for(;Lr!==null;)b1(Lr)}function eT(){for(;Lr!==null&&!Pt();)b1(Lr)}function b1(a){var u=T1(a.alternate,a,Es);a.memoizedProps=a.pendingProps,u===null?M1(a):Lr=u,Yy.current=null}function M1(a){var u=a;do{var g=u.alternate;if(a=u.return,(u.flags&32768)===0){if(g=XA(g,u,Es),g!==null){Lr=g;return}}else{if(g=YA(g,u),g!==null){g.flags&=32767,Lr=g;return}if(a!==null)a.flags|=32768,a.subtreeFlags=0,a.deletions=null;else{jr=6,Lr=null;return}}if(u=u.sibling,u!==null){Lr=u;return}Lr=u=a}while(u!==null);jr===0&&(jr=5)}function kc(a,u,g){var w=an,T=Gs.transition;try{Gs.transition=null,an=1,tT(a,u,g,w)}finally{Gs.transition=T,an=w}return null}function tT(a,u,g,w){do yd();while(El!==null);if((pn&6)!==0)throw Error(t(327));g=a.finishedWork;var T=a.finishedLanes;if(g===null)return null;if(a.finishedWork=null,a.finishedLanes=0,g===a.current)throw Error(t(177));a.callbackNode=null,a.callbackPriority=0;var L=g.lanes|g.childLanes;if(Au(a,L),a===ti&&(Lr=ti=null,fi=0),(g.subtreeFlags&2064)===0&&(g.flags&2064)===0||sm||(sm=!0,P1(fn,function(){return yd(),null})),L=(g.flags&15990)!==0,(g.subtreeFlags&15990)!==0||L){L=Gs.transition,Gs.transition=null;var W=an;an=1;var ae=pn;pn|=4,Yy.current=null,KA(a,g),m1(g,a),Tr(Pf),br=!!ml,Pf=ml=null,a.current=g,ZA(g),Nt(),pn=ae,an=W,Gs.transition=L}else a.current=g;if(sm&&(sm=!1,El=a,om=T),L=a.pendingLanes,L===0&&(Ml=null),bt(g.stateNode),ss(a,je()),u!==null)for(w=a.onRecoverableError,g=0;g<u.length;g++)T=u[g],w(T.value,{componentStack:T.stack,digest:T.digest});if(im)throw im=!1,a=Zy,Zy=null,a;return(om&1)!==0&&a.tag!==0&&yd(),L=a.pendingLanes,(L&1)!==0?a===Jy?ih++:(ih=0,Jy=a):ih=0,Bs(),null}function yd(){if(El!==null){var a=Is(om),u=Gs.transition,g=an;try{if(Gs.transition=null,an=16>a?16:a,El===null)var w=!1;else{if(a=El,El=null,om=0,(pn&6)!==0)throw Error(t(331));var T=pn;for(pn|=4,Et=a.current;Et!==null;){var L=Et,W=L.child;if((Et.flags&16)!==0){var ae=L.deletions;if(ae!==null){for(var he=0;he<ae.length;he++){var Ue=ae[he];for(Et=Ue;Et!==null;){var st=Et;switch(st.tag){case 0:case 11:case 15:th(8,st,L)}var at=st.child;if(at!==null)at.return=st,Et=at;else for(;Et!==null;){st=Et;var it=st.sibling,St=st.return;if(u1(st),st===Ue){Et=null;break}if(it!==null){it.return=St,Et=it;break}Et=St}}}var Tt=L.alternate;if(Tt!==null){var Rt=Tt.child;if(Rt!==null){Tt.child=null;do{var gr=Rt.sibling;Rt.sibling=null,Rt=gr}while(Rt!==null)}}Et=L}}if((L.subtreeFlags&2064)!==0&&W!==null)W.return=L,Et=W;else e:for(;Et!==null;){if(L=Et,(L.flags&2048)!==0)switch(L.tag){case 0:case 11:case 15:th(9,L,L.return)}var _e=L.sibling;if(_e!==null){_e.return=L.return,Et=_e;break e}Et=L.return}}var ge=a.current;for(Et=ge;Et!==null;){W=Et;var Pe=W.child;if((W.subtreeFlags&2064)!==0&&Pe!==null)Pe.return=W,Et=Pe;else e:for(W=ge;Et!==null;){if(ae=Et,(ae.flags&2048)!==0)try{switch(ae.tag){case 0:case 11:case 15:tm(9,ae)}}catch(It){or(ae,ae.return,It)}if(ae===W){Et=null;break e}var dt=ae.sibling;if(dt!==null){dt.return=ae.return,Et=dt;break e}Et=ae.return}}if(pn=T,Bs(),At&&typeof At.onPostCommitFiberRoot=="function")try{At.onPostCommitFiberRoot(En,a)}catch{}w=!0}return w}finally{an=g,Gs.transition=u}}return!1}function E1(a,u,g){u=M(g,u),u=ye(a,u,1),a=On(a,u,1),u=Vi(),a!==null&&(ps(a,1,u),ss(a,u))}function or(a,u,g){if(a.tag===3)E1(a,a,g);else for(;u!==null;){if(u.tag===3){E1(u,a,g);break}else if(u.tag===1){var w=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof w.componentDidCatch=="function"&&(Ml===null||!Ml.has(w))){a=M(g,a),a=He(u,a,1),u=On(u,a,1),a=Vi(),u!==null&&(ps(u,1,a),ss(u,a));break}}u=u.return}}function nT(a,u,g){var w=a.pingCache;w!==null&&w.delete(u),u=Vi(),a.pingedLanes|=a.suspendedLanes&g,ti===a&&(fi&g)===g&&(jr===4||jr===3&&(fi&130023424)===fi&&500>je()-Ky?Uc(a,0):qy|=g),ss(a,u)}function A1(a,u){u===0&&((a.mode&1)===0?u=1:(u=Ln,Ln<<=1,(Ln&130023424)===0&&(Ln=4194304)));var g=Vi();a=_s(a,u),a!==null&&(ps(a,u,g),ss(a,g))}function rT(a){var u=a.memoizedState,g=0;u!==null&&(g=u.retryLane),A1(a,g)}function iT(a,u){var g=0;switch(a.tag){case 13:var w=a.stateNode,T=a.memoizedState;T!==null&&(g=T.retryLane);break;case 19:w=a.stateNode;break;default:throw Error(t(314))}w!==null&&w.delete(u),A1(a,g)}var T1;T1=function(a,u,g){if(a!==null)if(a.memoizedProps!==u.pendingProps||ai.current)$t=!0;else{if((a.lanes&g)===0&&(u.flags&128)===0)return $t=!1,jA(a,u,g);$t=(a.flags&131072)!==0}else $t=!1,In&&(u.flags&1048576)!==0&&Of(u,nd,u.index);switch(u.lanes=0,u.tag){case 2:var w=u.type;$p(a,u),a=u.pendingProps;var T=ya(u,zr.current);Xo(u,g),T=Ec(null,u,w,a,T,g);var L=jf();return u.flags|=1,typeof T=="object"&&T!==null&&typeof T.render=="function"&&T.$$typeof===void 0?(u.tag=1,u.memoizedState=null,u.updateQueue=null,Qr(w)?(L=!0,va(u)):L=!1,u.memoizedState=T.state!==null&&T.state!==void 0?T.state:null,Jt(u),T.updater=hd,u.stateNode=T,T._reactInternals=u,x(u,w,a,g),u=Kt(null,u,w,!0,L,g)):(u.tag=0,In&&L&&Ff(u),_t(null,u,T,g),u=u.child),u;case 16:w=u.elementType;e:{switch($p(a,u),a=u.pendingProps,T=w._init,w=T(w._payload),u.type=w,T=u.tag=oT(w),a=rs(w,a),T){case 0:u=Ct(null,u,w,a,g);break e;case 1:u=Dt(null,u,w,a,g);break e;case 11:u=Wr(null,u,w,a,g);break e;case 14:u=zi(null,u,w,rs(w.type,a),g);break e}throw Error(t(306,w,""))}return u;case 0:return w=u.type,T=u.pendingProps,T=u.elementType===w?T:rs(w,T),Ct(a,u,w,T,g);case 1:return w=u.type,T=u.pendingProps,T=u.elementType===w?T:rs(w,T),Dt(a,u,w,T,g);case 3:e:{if(qt(u),a===null)throw Error(t(387));w=u.pendingProps,L=u.memoizedState,T=L.element,Jn(a,u),Xn(u,w,null,g);var W=u.memoizedState;if(w=W.element,L.isDehydrated)if(L={element:w,isDehydrated:!1,cache:W.cache,pendingSuspenseBoundaries:W.pendingSuspenseBoundaries,transitions:W.transitions},u.updateQueue.baseState=L,u.memoizedState=L,u.flags&256){T=M(Error(t(423)),u),u=un(a,u,w,g,T);break e}else if(w!==T){T=M(Error(t(424)),u),u=un(a,u,w,g,T);break e}else for(ci=oo(u.stateNode.containerInfo.firstChild),Vr=u,In=!0,ns=null,g=Cc(u,null,w,g),u.child=g;g;)g.flags=g.flags&-3|4096,g=g.sibling;else{if(jo(),w===T){u=Da(a,u,g);break e}_t(a,u,w,g)}u=u.child}return u;case 5:return Aa(u),a===null&&id(u),w=u.type,T=u.pendingProps,L=a!==null?a.memoizedProps:null,W=T.children,Rf(w,T)?W=null:L!==null&&Rf(w,L)&&(u.flags|=32),ze(a,u),_t(a,u,W,g),u.child;case 6:return a===null&&id(u),null;case 13:return xo(a,u,g);case 4:return bc(u,u.stateNode.containerInfo),w=u.pendingProps,a===null?u.child=wa(u,null,w,g):_t(a,u,w,g),u.child;case 11:return w=u.type,T=u.pendingProps,T=u.elementType===w?T:rs(w,T),Wr(a,u,w,T,g);case 7:return _t(a,u,u.pendingProps,g),u.child;case 8:return _t(a,u,u.pendingProps.children,g),u.child;case 12:return _t(a,u,u.pendingProps.children,g),u.child;case 10:e:{if(w=u.type._context,T=u.pendingProps,L=u.memoizedProps,W=T.value,bn(_a,w._currentValue),w._currentValue=W,L!==null)if(Ii(L.value,W)){if(L.children===T.children&&!ai.current){u=Da(a,u,g);break e}}else for(L=u.child,L!==null&&(L.return=u);L!==null;){var ae=L.dependencies;if(ae!==null){W=L.child;for(var he=ae.firstContext;he!==null;){if(he.context===w){if(L.tag===1){he=_n(-1,g&-g),he.tag=2;var Ue=L.updateQueue;if(Ue!==null){Ue=Ue.shared;var st=Ue.pending;st===null?he.next=he:(he.next=st.next,st.next=he),Ue.pending=he}}L.lanes|=g,he=L.alternate,he!==null&&(he.lanes|=g),_c(L.return,g,u),ae.lanes|=g;break}he=he.next}}else if(L.tag===10)W=L.type===u.type?null:L.child;else if(L.tag===18){if(W=L.return,W===null)throw Error(t(341));W.lanes|=g,ae=W.alternate,ae!==null&&(ae.lanes|=g),_c(W,g,u),W=L.sibling}else W=L.child;if(W!==null)W.return=L;else for(W=L;W!==null;){if(W===u){W=null;break}if(L=W.sibling,L!==null){L.return=W.return,W=L;break}W=W.return}L=W}_t(a,u,T.children,g),u=u.child}return u;case 9:return T=u.type,w=u.pendingProps.children,Xo(u,g),T=Ni(T),w=w(T),u.flags|=1,_t(a,u,w,g),u.child;case 14:return w=u.type,T=rs(w,u.pendingProps),T=rs(w.type,T),zi(a,u,w,T,g);case 15:return De(a,u,u.type,u.pendingProps,g);case 17:return w=u.type,T=u.pendingProps,T=u.elementType===w?T:rs(w,T),$p(a,u),u.tag=1,Qr(w)?(a=!0,va(u)):a=!1,Xo(u,g),f(u,w,T),x(u,w,T,g),Kt(null,u,w,!0,a,g);case 19:return s1(a,u,g);case 22:return xe(a,u,g)}throw Error(t(156,u.tag))};function P1(a,u){return Be(a,u)}function sT(a,u,g,w){this.tag=a,this.key=g,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=w,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ws(a,u,g,w){return new sT(a,u,g,w)}function rv(a){return a=a.prototype,!(!a||!a.isReactComponent)}function oT(a){if(typeof a=="function")return rv(a)?1:0;if(a!=null){if(a=a.$$typeof,a===q)return 11;if(a===le)return 14}return 2}function Pl(a,u){var g=a.alternate;return g===null?(g=Ws(a.tag,u,a.key,a.mode),g.elementType=a.elementType,g.type=a.type,g.stateNode=a.stateNode,g.alternate=a,a.alternate=g):(g.pendingProps=u,g.type=a.type,g.flags=0,g.subtreeFlags=0,g.deletions=null),g.flags=a.flags&14680064,g.childLanes=a.childLanes,g.lanes=a.lanes,g.child=a.child,g.memoizedProps=a.memoizedProps,g.memoizedState=a.memoizedState,g.updateQueue=a.updateQueue,u=a.dependencies,g.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},g.sibling=a.sibling,g.index=a.index,g.ref=a.ref,g}function um(a,u,g,w,T,L){var W=2;if(w=a,typeof a=="function")rv(a)&&(W=1);else if(typeof a=="string")W=5;else e:switch(a){case F:return Nc(g.children,T,L,u);case V:W=8,T|=8;break;case U:return a=Ws(12,g,u,T|2),a.elementType=U,a.lanes=L,a;case te:return a=Ws(13,g,u,T),a.elementType=te,a.lanes=L,a;case X:return a=Ws(19,g,u,T),a.elementType=X,a.lanes=L,a;case de:return dm(g,T,L,u);default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case O:W=10;break e;case Q:W=9;break e;case q:W=11;break e;case le:W=14;break e;case re:W=16,w=null;break e}throw Error(t(130,a==null?a:typeof a,""))}return u=Ws(W,g,u,T),u.elementType=a,u.type=w,u.lanes=L,u}function Nc(a,u,g,w){return a=Ws(7,a,w,u),a.lanes=g,a}function dm(a,u,g,w){return a=Ws(22,a,w,u),a.elementType=de,a.lanes=g,a.stateNode={isHidden:!1},a}function iv(a,u,g){return a=Ws(6,a,null,u),a.lanes=g,a}function sv(a,u,g){return u=Ws(4,a.children!==null?a.children:[],a.key,u),u.lanes=g,u.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},u}function aT(a,u,g,w,T){this.tag=u,this.containerInfo=a,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=hs(0),this.expirationTimes=hs(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hs(0),this.identifierPrefix=w,this.onRecoverableError=T,this.mutableSourceEagerHydrationData=null}function ov(a,u,g,w,T,L,W,ae,he){return a=new aT(a,u,g,ae,he),u===1?(u=1,L===!0&&(u|=8)):u=0,L=Ws(3,null,null,u),a.current=L,L.stateNode=a,L.memoizedState={element:w,isDehydrated:g,cache:null,transitions:null,pendingSuspenseBoundaries:null},Jt(L),a}function lT(a,u,g){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:k,key:w==null?null:""+w,children:a,containerInfo:u,implementation:g}}function R1(a){if(!a)return lo;a=a._reactInternals;e:{if(Ti(a)!==a||a.tag!==1)throw Error(t(170));var u=a;do{switch(u.tag){case 3:u=u.stateNode.context;break e;case 1:if(Qr(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break e}}u=u.return}while(u!==null);throw Error(t(171))}if(a.tag===1){var g=a.type;if(Qr(g))return mc(a,g,u)}return u}function D1(a,u,g,w,T,L,W,ae,he){return a=ov(g,w,!0,a,T,L,W,ae,he),a.context=R1(null),g=a.current,w=Vi(),T=Al(g),L=_n(w,T),L.callback=u??null,On(g,L,T),a.current.lanes=T,ps(a,T,w),ss(a,w),a}function fm(a,u,g,w){var T=u.current,L=Vi(),W=Al(T);return g=R1(g),u.context===null?u.context=g:u.pendingContext=g,u=_n(L,W),u.payload={element:a},w=w===void 0?null:w,w!==null&&(u.callback=w),a=On(T,u,W),a!==null&&(_o(a,T,W,L),$r(a,T,W)),W}function hm(a){if(a=a.current,!a.child)return null;switch(a.child.tag){case 5:return a.child.stateNode;default:return a.child.stateNode}}function L1(a,u){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var g=a.retryLane;a.retryLane=g!==0&&g<u?g:u}}function av(a,u){L1(a,u),(a=a.alternate)&&L1(a,u)}function cT(){return null}var I1=typeof reportError=="function"?reportError:function(a){console.error(a)};function lv(a){this._internalRoot=a}pm.prototype.render=lv.prototype.render=function(a){var u=this._internalRoot;if(u===null)throw Error(t(409));fm(a,u,null,null)},pm.prototype.unmount=lv.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var u=a.containerInfo;Ic(function(){fm(null,a,null,null)}),u[ki]=null}};function pm(a){this._internalRoot=a}pm.prototype.unstable_scheduleHydration=function(a){if(a){var u=Us();a={blockedOn:null,target:a,priority:u};for(var g=0;g<Zi.length&&u!==0&&u<Zi[g].priority;g++);Zi.splice(g,0,a),g===0&&Zr(a)}};function cv(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function mm(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11&&(a.nodeType!==8||a.nodeValue!==" react-mount-point-unstable "))}function U1(){}function uT(a,u,g,w,T){if(T){if(typeof w=="function"){var L=w;w=function(){var Ue=hm(W);L.call(Ue)}}var W=D1(u,w,a,0,null,!1,!1,"",U1);return a._reactRootContainer=W,a[ki]=W.current,hl(a.nodeType===8?a.parentNode:a),Ic(),W}for(;T=a.lastChild;)a.removeChild(T);if(typeof w=="function"){var ae=w;w=function(){var Ue=hm(he);ae.call(Ue)}}var he=ov(a,0,!1,null,null,!1,!1,"",U1);return a._reactRootContainer=he,a[ki]=he.current,hl(a.nodeType===8?a.parentNode:a),Ic(function(){fm(u,he,g,w)}),he}function gm(a,u,g,w,T){var L=g._reactRootContainer;if(L){var W=L;if(typeof T=="function"){var ae=T;T=function(){var he=hm(W);ae.call(he)}}fm(u,W,a,T)}else W=uT(g,u,a,T,w);return hm(W)}Lo=function(a){switch(a.tag){case 3:var u=a.stateNode;if(u.current.memoizedState.isDehydrated){var g=hn(u.pendingLanes);g!==0&&(ms(u,g|1),ss(u,je()),(pn&6)===0&&(gd=je()+500,Bs()))}break;case 13:Ic(function(){var w=_s(a,1);if(w!==null){var T=Vi();_o(w,a,1,T)}}),av(a,1)}},tl=function(a){if(a.tag===13){var u=_s(a,134217728);if(u!==null){var g=Vi();_o(u,a,134217728,g)}av(a,134217728)}},nl=function(a){if(a.tag===13){var u=Al(a),g=_s(a,u);if(g!==null){var w=Vi();_o(g,a,u,w)}av(a,u)}},Us=function(){return an},sa=function(a,u){var g=an;try{return an=a,u()}finally{an=g}},nt=function(a,u,g){switch(u){case"input":if(rt(a,g),u=g.name,g.type==="radio"&&u!=null){for(g=a;g.parentNode;)g=g.parentNode;for(g=g.querySelectorAll("input[name="+JSON.stringify(""+u)+'][type="radio"]'),u=0;u<g.length;u++){var w=g[u];if(w!==a&&w.form===a.form){var T=$u(w);if(!T)throw Error(t(90));Z(w),rt(w,T)}}}break;case"textarea":H(a,g);break;case"select":u=g.value,u!=null&&Me(a,!!g.multiple,u,!1)}},ft=ev,pt=Ic;var dT={usingClientEntryPoint:!1,Events:[ao,Zn,$u,be,Qe,ev]},sh={findFiberByHostInstance:Wo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},fT={bundleType:sh.bundleType,version:sh.version,rendererPackageName:sh.rendererPackageName,rendererConfig:sh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:P.ReactCurrentDispatcher,findHostInstanceByFiber:function(a){return a=Ie(a),a===null?null:a.stateNode},findFiberByHostInstance:sh.findFiberByHostInstance||cT,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ym=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ym.isDisabled&&ym.supportsFiber)try{En=ym.inject(fT),At=ym}catch{}}return os.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=dT,os.createPortal=function(a,u){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!cv(u))throw Error(t(200));return lT(a,u,null,g)},os.createRoot=function(a,u){if(!cv(a))throw Error(t(299));var g=!1,w="",T=I1;return u!=null&&(u.unstable_strictMode===!0&&(g=!0),u.identifierPrefix!==void 0&&(w=u.identifierPrefix),u.onRecoverableError!==void 0&&(T=u.onRecoverableError)),u=ov(a,1,!1,null,null,g,!1,w,T),a[ki]=u.current,hl(a.nodeType===8?a.parentNode:a),new lv(u)},os.findDOMNode=function(a){if(a==null)return null;if(a.nodeType===1)return a;var u=a._reactInternals;if(u===void 0)throw typeof a.render=="function"?Error(t(188)):(a=Object.keys(a).join(","),Error(t(268,a)));return a=Ie(u),a=a===null?null:a.stateNode,a},os.flushSync=function(a){return Ic(a)},os.hydrate=function(a,u,g){if(!mm(u))throw Error(t(200));return gm(null,a,u,!0,g)},os.hydrateRoot=function(a,u,g){if(!cv(a))throw Error(t(405));var w=g!=null&&g.hydratedSources||null,T=!1,L="",W=I1;if(g!=null&&(g.unstable_strictMode===!0&&(T=!0),g.identifierPrefix!==void 0&&(L=g.identifierPrefix),g.onRecoverableError!==void 0&&(W=g.onRecoverableError)),u=D1(u,null,a,1,g??null,T,!1,L,W),a[ki]=u.current,hl(a),w)for(a=0;a<w.length;a++)g=w[a],T=g._getVersion,T=T(g._source),u.mutableSourceEagerHydrationData==null?u.mutableSourceEagerHydrationData=[g,T]:u.mutableSourceEagerHydrationData.push(g,T);return new pm(u)},os.render=function(a,u,g){if(!mm(u))throw Error(t(200));return gm(null,a,u,!1,g)},os.unmountComponentAtNode=function(a){if(!mm(a))throw Error(t(40));return a._reactRootContainer?(Ic(function(){gm(null,null,a,!1,function(){a._reactRootContainer=null,a[ki]=null})}),!0):!1},os.unstable_batchedUpdates=ev,os.unstable_renderSubtreeIntoContainer=function(a,u,g,w){if(!mm(g))throw Error(t(200));if(a==null||a._reactInternals===void 0)throw Error(t(38));return gm(a,u,g,!1,w)},os.version="18.3.1-next-f1338f8080-20240426",os}var H1;function vS(){if(H1)return fv.exports;H1=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),fv.exports=wT(),fv.exports}var G1;function _T(){if(G1)return vm;G1=1;var r=vS();return vm.createRoot=r.createRoot,vm.hydrateRoot=r.hydrateRoot,vm}var ST=_T();vS();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Fh(){return Fh=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},Fh.apply(this,arguments)}var Vl;(function(r){r.Pop="POP",r.Push="PUSH",r.Replace="REPLACE"})(Vl||(Vl={}));const W1="popstate";function bT(r){r===void 0&&(r={});function e(n,i){let{pathname:s,search:o,hash:l}=n.location;return R0("",{pathname:s,search:o,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(n,i){return typeof i=="string"?i:Lg(i)}return ET(e,t,null,r)}function Nr(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function xS(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function MT(){return Math.random().toString(36).substr(2,8)}function j1(r,e){return{usr:r.state,key:r.key,idx:e}}function R0(r,e,t,n){return t===void 0&&(t=null),Fh({pathname:typeof r=="string"?r:r.pathname,search:"",hash:""},typeof e=="string"?cf(e):e,{state:t,key:e&&e.key||n||MT()})}function Lg(r){let{pathname:e="/",search:t="",hash:n=""}=r;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function cf(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substr(t),r=r.substr(0,t));let n=r.indexOf("?");n>=0&&(e.search=r.substr(n),r=r.substr(0,n)),r&&(e.pathname=r)}return e}function ET(r,e,t,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:s=!1}=n,o=i.history,l=Vl.Pop,c=null,d=h();d==null&&(d=0,o.replaceState(Fh({},o.state,{idx:d}),""));function h(){return(o.state||{idx:null}).idx}function m(){l=Vl.Pop;let _=h(),S=_==null?null:_-d;d=_,c&&c({action:l,location:b.location,delta:S})}function y(_,S){l=Vl.Push;let A=R0(b.location,_,S);d=h()+1;let E=j1(A,d),P=b.createHref(A);try{o.pushState(E,"",P)}catch(I){if(I instanceof DOMException&&I.name==="DataCloneError")throw I;i.location.assign(P)}s&&c&&c({action:l,location:b.location,delta:1})}function v(_,S){l=Vl.Replace;let A=R0(b.location,_,S);d=h();let E=j1(A,d),P=b.createHref(A);o.replaceState(E,"",P),s&&c&&c({action:l,location:b.location,delta:0})}function C(_){let S=i.location.origin!=="null"?i.location.origin:i.location.href,A=typeof _=="string"?_:Lg(_);return A=A.replace(/ $/,"%20"),Nr(S,"No window.location.(origin|href) available to create URL for href: "+A),new URL(A,S)}let b={get action(){return l},get location(){return r(i,o)},listen(_){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(W1,m),c=_,()=>{i.removeEventListener(W1,m),c=null}},createHref(_){return e(i,_)},createURL:C,encodeLocation(_){let S=C(_);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:y,replace:v,go(_){return o.go(_)}};return b}var X1;(function(r){r.data="data",r.deferred="deferred",r.redirect="redirect",r.error="error"})(X1||(X1={}));function AT(r,e,t){return t===void 0&&(t="/"),TT(r,e,t)}function TT(r,e,t,n){let i=typeof e=="string"?cf(e):e,s=H2(i.pathname||"/",t);if(s==null)return null;let o=CS(r);PT(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let d=VT(s);l=FT(o[c],d)}return l}function CS(r,e,t,n){e===void 0&&(e=[]),t===void 0&&(t=[]),n===void 0&&(n="");let i=(s,o,l)=>{let c={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};c.relativePath.startsWith("/")&&(Nr(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let d=Hl([n,c.relativePath]),h=t.concat(c);s.children&&s.children.length>0&&(Nr(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),CS(s.children,e,h,d)),!(s.path==null&&!s.index)&&e.push({path:d,score:NT(d,s.index),routesMeta:h})};return r.forEach((s,o)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))i(s,o);else for(let c of wS(s.path))i(s,o,c)}),e}function wS(r){let e=r.split("/");if(e.length===0)return[];let[t,...n]=e,i=t.endsWith("?"),s=t.replace(/\?$/,"");if(n.length===0)return i?[s,""]:[s];let o=wS(n.join("/")),l=[];return l.push(...o.map(c=>c===""?s:[s,c].join("/"))),i&&l.push(...o),l.map(c=>r.startsWith("/")&&c===""?"/":c)}function PT(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:OT(e.routesMeta.map(n=>n.childrenIndex),t.routesMeta.map(n=>n.childrenIndex)))}const RT=/^:[\w-]+$/,DT=3,LT=2,IT=1,UT=10,kT=-2,Y1=r=>r==="*";function NT(r,e){let t=r.split("/"),n=t.length;return t.some(Y1)&&(n+=kT),e&&(n+=LT),t.filter(i=>!Y1(i)).reduce((i,s)=>i+(RT.test(s)?DT:s===""?IT:UT),n)}function OT(r,e){return r.length===e.length&&r.slice(0,-1).every((n,i)=>n===e[i])?r[r.length-1]-e[e.length-1]:0}function FT(r,e,t){let{routesMeta:n}=r,i={},s="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],d=l===n.length-1,h=s==="/"?e:e.slice(s.length)||"/",m=BT({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},h),y=c.route;if(!m)return null;Object.assign(i,m.params),o.push({params:i,pathname:Hl([s,m.pathname]),pathnameBase:jT(Hl([s,m.pathnameBase])),route:y}),m.pathnameBase!=="/"&&(s=Hl([s,m.pathnameBase]))}return o}function BT(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,n]=zT(r.path,r.caseSensitive,r.end),i=e.match(t);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:n.reduce((d,h,m)=>{let{paramName:y,isOptional:v}=h;if(y==="*"){let b=l[m]||"";o=s.slice(0,s.length-b.length).replace(/(.)\/+$/,"$1")}const C=l[m];return v&&!C?d[y]=void 0:d[y]=(C||"").replace(/%2F/g,"/"),d},{}),pathname:s,pathnameBase:o,pattern:r}}function zT(r,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),xS(r==="*"||!r.endsWith("*")||r.endsWith("/*"),'Route path "'+r+'" will be treated as if it were '+('"'+r.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+r.replace(/\*$/,"/*")+'".'));let n=[],i="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(n.push({paramName:"*"}),i+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":r!==""&&r!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function VT(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return xS(!1,'The URL path "'+r+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),r}}function H2(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,n=r.charAt(t);return n&&n!=="/"?null:r.slice(t)||"/"}function HT(r,e){e===void 0&&(e="/");let{pathname:t,search:n="",hash:i=""}=typeof r=="string"?cf(r):r;return{pathname:t?t.startsWith("/")?t:GT(t,e):e,search:XT(n),hash:YT(i)}}function GT(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function mv(r,e,t,n){return"Cannot include a '"+r+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function WT(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function _S(r,e){let t=WT(r);return e?t.map((n,i)=>i===t.length-1?n.pathname:n.pathnameBase):t.map(n=>n.pathnameBase)}function SS(r,e,t,n){n===void 0&&(n=!1);let i;typeof r=="string"?i=cf(r):(i=Fh({},r),Nr(!i.pathname||!i.pathname.includes("?"),mv("?","pathname","search",i)),Nr(!i.pathname||!i.pathname.includes("#"),mv("#","pathname","hash",i)),Nr(!i.search||!i.search.includes("#"),mv("#","search","hash",i)));let s=r===""||i.pathname==="",o=s?"/":i.pathname,l;if(o==null)l=t;else{let m=e.length-1;if(!n&&o.startsWith("..")){let y=o.split("/");for(;y[0]==="..";)y.shift(),m-=1;i.pathname=y.join("/")}l=m>=0?e[m]:"/"}let c=HT(i,l),d=o&&o!=="/"&&o.endsWith("/"),h=(s||o===".")&&t.endsWith("/");return!c.pathname.endsWith("/")&&(d||h)&&(c.pathname+="/"),c}const Hl=r=>r.join("/").replace(/\/\/+/g,"/"),jT=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),XT=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,YT=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function qT(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}const bS=["post","put","patch","delete"];new Set(bS);const KT=["get",...bS];new Set(KT);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Bh(){return Bh=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},Bh.apply(this,arguments)}const G2=ue.createContext(null),ZT=ue.createContext(null),vu=ue.createContext(null),Zg=ue.createContext(null),xu=ue.createContext({outlet:null,matches:[],isDataRoute:!1}),MS=ue.createContext(null);function JT(r,e){let{relative:t}=e===void 0?{}:e;fp()||Nr(!1);let{basename:n,navigator:i}=ue.useContext(vu),{hash:s,pathname:o,search:l}=AS(r,{relative:t}),c=o;return n!=="/"&&(c=o==="/"?n:Hl([n,o])),i.createHref({pathname:c,search:l,hash:s})}function fp(){return ue.useContext(Zg)!=null}function hp(){return fp()||Nr(!1),ue.useContext(Zg).location}function ES(r){ue.useContext(vu).static||ue.useLayoutEffect(r)}function QT(){let{isDataRoute:r}=ue.useContext(xu);return r?d5():$T()}function $T(){fp()||Nr(!1);let r=ue.useContext(G2),{basename:e,future:t,navigator:n}=ue.useContext(vu),{matches:i}=ue.useContext(xu),{pathname:s}=hp(),o=JSON.stringify(_S(i,t.v7_relativeSplatPath)),l=ue.useRef(!1);return ES(()=>{l.current=!0}),ue.useCallback(function(d,h){if(h===void 0&&(h={}),!l.current)return;if(typeof d=="number"){n.go(d);return}let m=SS(d,JSON.parse(o),s,h.relative==="path");r==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:Hl([e,m.pathname])),(h.replace?n.replace:n.push)(m,h.state,h)},[e,n,o,s,r])}function AS(r,e){let{relative:t}=e===void 0?{}:e,{future:n}=ue.useContext(vu),{matches:i}=ue.useContext(xu),{pathname:s}=hp(),o=JSON.stringify(_S(i,n.v7_relativeSplatPath));return ue.useMemo(()=>SS(r,JSON.parse(o),s,t==="path"),[r,o,s,t])}function e5(r,e){return t5(r,e)}function t5(r,e,t,n){fp()||Nr(!1);let{navigator:i}=ue.useContext(vu),{matches:s}=ue.useContext(xu),o=s[s.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let d=hp(),h;if(e){var m;let _=typeof e=="string"?cf(e):e;c==="/"||(m=_.pathname)!=null&&m.startsWith(c)||Nr(!1),h=_}else h=d;let y=h.pathname||"/",v=y;if(c!=="/"){let _=c.replace(/^\//,"").split("/");v="/"+y.replace(/^\//,"").split("/").slice(_.length).join("/")}let C=AT(r,{pathname:v}),b=o5(C&&C.map(_=>Object.assign({},_,{params:Object.assign({},l,_.params),pathname:Hl([c,i.encodeLocation?i.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?c:Hl([c,i.encodeLocation?i.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),s,t,n);return e&&b?ue.createElement(Zg.Provider,{value:{location:Bh({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:Vl.Pop}},b):b}function n5(){let r=u5(),e=qT(r)?r.status+" "+r.statusText:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return ue.createElement(ue.Fragment,null,ue.createElement("h2",null,"Unexpected Application Error!"),ue.createElement("h3",{style:{fontStyle:"italic"}},e),t?ue.createElement("pre",{style:i},t):null,null)}const r5=ue.createElement(n5,null);class i5 extends ue.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?ue.createElement(xu.Provider,{value:this.props.routeContext},ue.createElement(MS.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function s5(r){let{routeContext:e,match:t,children:n}=r,i=ue.useContext(G2);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),ue.createElement(xu.Provider,{value:e},n)}function o5(r,e,t,n){var i;if(e===void 0&&(e=[]),t===void 0&&(t=null),n===void 0&&(n=null),r==null){var s;if(!t)return null;if(t.errors)r=t.matches;else if((s=n)!=null&&s.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let o=r,l=(i=t)==null?void 0:i.errors;if(l!=null){let h=o.findIndex(m=>m.route.id&&(l==null?void 0:l[m.route.id])!==void 0);h>=0||Nr(!1),o=o.slice(0,Math.min(o.length,h+1))}let c=!1,d=-1;if(t&&n&&n.v7_partialHydration)for(let h=0;h<o.length;h++){let m=o[h];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(d=h),m.route.id){let{loaderData:y,errors:v}=t,C=m.route.loader&&y[m.route.id]===void 0&&(!v||v[m.route.id]===void 0);if(m.route.lazy||C){c=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((h,m,y)=>{let v,C=!1,b=null,_=null;t&&(v=l&&m.route.id?l[m.route.id]:void 0,b=m.route.errorElement||r5,c&&(d<0&&y===0?(f5("route-fallback"),C=!0,_=null):d===y&&(C=!0,_=m.route.hydrateFallbackElement||null)));let S=e.concat(o.slice(0,y+1)),A=()=>{let E;return v?E=b:C?E=_:m.route.Component?E=ue.createElement(m.route.Component,null):m.route.element?E=m.route.element:E=h,ue.createElement(s5,{match:m,routeContext:{outlet:h,matches:S,isDataRoute:t!=null},children:E})};return t&&(m.route.ErrorBoundary||m.route.errorElement||y===0)?ue.createElement(i5,{location:t.location,revalidation:t.revalidation,component:b,error:v,children:A(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):A()},null)}var TS=(function(r){return r.UseBlocker="useBlocker",r.UseRevalidator="useRevalidator",r.UseNavigateStable="useNavigate",r})(TS||{}),PS=(function(r){return r.UseBlocker="useBlocker",r.UseLoaderData="useLoaderData",r.UseActionData="useActionData",r.UseRouteError="useRouteError",r.UseNavigation="useNavigation",r.UseRouteLoaderData="useRouteLoaderData",r.UseMatches="useMatches",r.UseRevalidator="useRevalidator",r.UseNavigateStable="useNavigate",r.UseRouteId="useRouteId",r})(PS||{});function a5(r){let e=ue.useContext(G2);return e||Nr(!1),e}function l5(r){let e=ue.useContext(ZT);return e||Nr(!1),e}function c5(r){let e=ue.useContext(xu);return e||Nr(!1),e}function RS(r){let e=c5(),t=e.matches[e.matches.length-1];return t.route.id||Nr(!1),t.route.id}function u5(){var r;let e=ue.useContext(MS),t=l5(),n=RS();return e!==void 0?e:(r=t.errors)==null?void 0:r[n]}function d5(){let{router:r}=a5(TS.UseNavigateStable),e=RS(PS.UseNavigateStable),t=ue.useRef(!1);return ES(()=>{t.current=!0}),ue.useCallback(function(i,s){s===void 0&&(s={}),t.current&&(typeof i=="number"?r.navigate(i):r.navigate(i,Bh({fromRouteId:e},s)))},[r,e])}const q1={};function f5(r,e,t){q1[r]||(q1[r]=!0)}function h5(r,e){r==null||r.v7_startTransition,r==null||r.v7_relativeSplatPath}function xg(r){Nr(!1)}function p5(r){let{basename:e="/",children:t=null,location:n,navigationType:i=Vl.Pop,navigator:s,static:o=!1,future:l}=r;fp()&&Nr(!1);let c=e.replace(/^\/*/,"/"),d=ue.useMemo(()=>({basename:c,navigator:s,static:o,future:Bh({v7_relativeSplatPath:!1},l)}),[c,l,s,o]);typeof n=="string"&&(n=cf(n));let{pathname:h="/",search:m="",hash:y="",state:v=null,key:C="default"}=n,b=ue.useMemo(()=>{let _=H2(h,c);return _==null?null:{location:{pathname:_,search:m,hash:y,state:v,key:C},navigationType:i}},[c,h,m,y,v,C,i]);return b==null?null:ue.createElement(vu.Provider,{value:d},ue.createElement(Zg.Provider,{children:t,value:b}))}function m5(r){let{children:e,location:t}=r;return e5(D0(e),t)}new Promise(()=>{});function D0(r,e){e===void 0&&(e=[]);let t=[];return ue.Children.forEach(r,(n,i)=>{if(!ue.isValidElement(n))return;let s=[...e,i];if(n.type===ue.Fragment){t.push.apply(t,D0(n.props.children,s));return}n.type!==xg&&Nr(!1),!n.props.index||!n.props.children||Nr(!1);let o={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=D0(n.props.children,s)),t.push(o)}),t}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function L0(){return L0=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},L0.apply(this,arguments)}function g5(r,e){if(r==null)return{};var t={},n=Object.keys(r),i,s;for(s=0;s<n.length;s++)i=n[s],!(e.indexOf(i)>=0)&&(t[i]=r[i]);return t}function y5(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function v5(r,e){return r.button===0&&(!e||e==="_self")&&!y5(r)}const x5=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],C5="6";try{window.__reactRouterVersion=C5}catch{}const w5="startTransition",K1=vT[w5];function _5(r){let{basename:e,children:t,future:n,window:i}=r,s=ue.useRef();s.current==null&&(s.current=bT({window:i,v5Compat:!0}));let o=s.current,[l,c]=ue.useState({action:o.action,location:o.location}),{v7_startTransition:d}=n||{},h=ue.useCallback(m=>{d&&K1?K1(()=>c(m)):c(m)},[c,d]);return ue.useLayoutEffect(()=>o.listen(h),[o,h]),ue.useEffect(()=>h5(n),[n]),ue.createElement(p5,{basename:e,children:t,location:l.location,navigationType:l.action,navigator:o,future:n})}const S5=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",b5=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,gv=ue.forwardRef(function(e,t){let{onClick:n,relative:i,reloadDocument:s,replace:o,state:l,target:c,to:d,preventScrollReset:h,viewTransition:m}=e,y=g5(e,x5),{basename:v}=ue.useContext(vu),C,b=!1;if(typeof d=="string"&&b5.test(d)&&(C=d,S5))try{let E=new URL(window.location.href),P=d.startsWith("//")?new URL(E.protocol+d):new URL(d),I=H2(P.pathname,v);P.origin===E.origin&&I!=null?d=I+P.search+P.hash:b=!0}catch{}let _=JT(d,{relative:i}),S=M5(d,{replace:o,state:l,target:c,preventScrollReset:h,relative:i,viewTransition:m});function A(E){n&&n(E),E.defaultPrevented||S(E)}return ue.createElement("a",L0({},y,{href:C||_,onClick:b||s?n:A,ref:t,target:c}))});var Z1;(function(r){r.UseScrollRestoration="useScrollRestoration",r.UseSubmit="useSubmit",r.UseSubmitFetcher="useSubmitFetcher",r.UseFetcher="useFetcher",r.useViewTransitionState="useViewTransitionState"})(Z1||(Z1={}));var J1;(function(r){r.UseFetcher="useFetcher",r.UseFetchers="useFetchers",r.UseScrollRestoration="useScrollRestoration"})(J1||(J1={}));function M5(r,e){let{target:t,replace:n,state:i,preventScrollReset:s,relative:o,viewTransition:l}=e===void 0?{}:e,c=QT(),d=hp(),h=AS(r,{relative:o});return ue.useCallback(m=>{if(v5(m,t)){m.preventDefault();let y=n!==void 0?n:Lg(d)===Lg(h);c(r,{replace:y,state:i,preventScrollReset:s,relative:o,viewTransition:l})}},[d,c,h,n,i,t,r,s,o,l])}const DS=ue.createContext({transformPagePoint:r=>r,isStatic:!1,reducedMotion:"never"}),Jg=ue.createContext({}),Qg=ue.createContext(null),$g=typeof document<"u",W2=$g?ue.useLayoutEffect:ue.useEffect,LS=ue.createContext({strict:!1}),j2=r=>r.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),E5="framerAppearId",IS="data-"+j2(E5);function A5(r,e,t,n){const{visualElement:i}=ue.useContext(Jg),s=ue.useContext(LS),o=ue.useContext(Qg),l=ue.useContext(DS).reducedMotion,c=ue.useRef();n=n||s.renderer,!c.current&&n&&(c.current=n(r,{visualState:e,parent:i,props:t,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:l}));const d=c.current;ue.useInsertionEffect(()=>{d&&d.update(t,o)});const h=ue.useRef(!!(t[IS]&&!window.HandoffComplete));return W2(()=>{d&&(d.render(),h.current&&d.animationState&&d.animationState.animateChanges())}),ue.useEffect(()=>{d&&(d.updateFeatures(),!h.current&&d.animationState&&d.animationState.animateChanges(),h.current&&(h.current=!1,window.HandoffComplete=!0))}),d}function Wd(r){return r&&typeof r=="object"&&Object.prototype.hasOwnProperty.call(r,"current")}function T5(r,e,t){return ue.useCallback(n=>{n&&r.mount&&r.mount(n),e&&(n?e.mount(n):e.unmount()),t&&(typeof t=="function"?t(n):Wd(t)&&(t.current=n))},[e])}function zh(r){return typeof r=="string"||Array.isArray(r)}function ey(r){return r!==null&&typeof r=="object"&&typeof r.start=="function"}const X2=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Y2=["initial",...X2];function ty(r){return ey(r.animate)||Y2.some(e=>zh(r[e]))}function US(r){return!!(ty(r)||r.variants)}function P5(r,e){if(ty(r)){const{initial:t,animate:n}=r;return{initial:t===!1||zh(t)?t:void 0,animate:zh(n)?n:void 0}}return r.inherit!==!1?e:{}}function R5(r){const{initial:e,animate:t}=P5(r,ue.useContext(Jg));return ue.useMemo(()=>({initial:e,animate:t}),[Q1(e),Q1(t)])}function Q1(r){return Array.isArray(r)?r.join(" "):r}const $1={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Vh={};for(const r in $1)Vh[r]={isEnabled:e=>$1[r].some(t=>!!e[t])};function D5(r){for(const e in r)Vh[e]={...Vh[e],...r[e]}}const q2=ue.createContext({}),kS=ue.createContext({}),L5=Symbol.for("motionComponentSymbol");function I5({preloadedFeatures:r,createVisualElement:e,useRender:t,useVisualState:n,Component:i}){r&&D5(r);function s(l,c){let d;const h={...ue.useContext(DS),...l,layoutId:U5(l)},{isStatic:m}=h,y=R5(l),v=n(l,m);if(!m&&$g){y.visualElement=A5(i,v,h,e);const C=ue.useContext(kS),b=ue.useContext(LS).strict;y.visualElement&&(d=y.visualElement.loadFeatures(h,b,r,C))}return ue.createElement(Jg.Provider,{value:y},d&&y.visualElement?ue.createElement(d,{visualElement:y.visualElement,...h}):null,t(i,l,T5(v,y.visualElement,c),v,m,y.visualElement))}const o=ue.forwardRef(s);return o[L5]=i,o}function U5({layoutId:r}){const e=ue.useContext(q2).id;return e&&r!==void 0?e+"-"+r:r}function k5(r){function e(n,i={}){return I5(r(n,i))}if(typeof Proxy>"u")return e;const t=new Map;return new Proxy(e,{get:(n,i)=>(t.has(i)||t.set(i,e(i)),t.get(i))})}const N5=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function K2(r){return typeof r!="string"||r.includes("-")?!1:!!(N5.indexOf(r)>-1||/[A-Z]/.test(r))}const Ig={};function O5(r){Object.assign(Ig,r)}const pp=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Cu=new Set(pp);function NS(r,{layout:e,layoutId:t}){return Cu.has(r)||r.startsWith("origin")||(e||t!==void 0)&&(!!Ig[r]||r==="opacity")}const ds=r=>!!(r&&r.getVelocity),F5={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},B5=pp.length;function z5(r,{enableHardwareAcceleration:e=!0,allowTransformNone:t=!0},n,i){let s="";for(let o=0;o<B5;o++){const l=pp[o];if(r[l]!==void 0){const c=F5[l]||l;s+=`${c}(${r[l]}) `}}return e&&!r.z&&(s+="translateZ(0)"),s=s.trim(),i?s=i(r,n?"":s):t&&n&&(s="none"),s}const OS=r=>e=>typeof e=="string"&&e.startsWith(r),FS=OS("--"),I0=OS("var(--"),V5=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,H5=(r,e)=>e&&typeof r=="number"?e.transform(r):r,ql=(r,e,t)=>Math.min(Math.max(t,r),e),wu={test:r=>typeof r=="number",parse:parseFloat,transform:r=>r},Eh={...wu,transform:r=>ql(0,1,r)},xm={...wu,default:1},Ah=r=>Math.round(r*1e5)/1e5,ny=/(-)?([\d]*\.?[\d])+/g,BS=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,G5=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function mp(r){return typeof r=="string"}const gp=r=>({test:e=>mp(e)&&e.endsWith(r)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${r}`}),Fl=gp("deg"),Qo=gp("%"),Wt=gp("px"),W5=gp("vh"),j5=gp("vw"),eC={...Qo,parse:r=>Qo.parse(r)/100,transform:r=>Qo.transform(r*100)},tC={...wu,transform:Math.round},zS={borderWidth:Wt,borderTopWidth:Wt,borderRightWidth:Wt,borderBottomWidth:Wt,borderLeftWidth:Wt,borderRadius:Wt,radius:Wt,borderTopLeftRadius:Wt,borderTopRightRadius:Wt,borderBottomRightRadius:Wt,borderBottomLeftRadius:Wt,width:Wt,maxWidth:Wt,height:Wt,maxHeight:Wt,size:Wt,top:Wt,right:Wt,bottom:Wt,left:Wt,padding:Wt,paddingTop:Wt,paddingRight:Wt,paddingBottom:Wt,paddingLeft:Wt,margin:Wt,marginTop:Wt,marginRight:Wt,marginBottom:Wt,marginLeft:Wt,rotate:Fl,rotateX:Fl,rotateY:Fl,rotateZ:Fl,scale:xm,scaleX:xm,scaleY:xm,scaleZ:xm,skew:Fl,skewX:Fl,skewY:Fl,distance:Wt,translateX:Wt,translateY:Wt,translateZ:Wt,x:Wt,y:Wt,z:Wt,perspective:Wt,transformPerspective:Wt,opacity:Eh,originX:eC,originY:eC,originZ:Wt,zIndex:tC,fillOpacity:Eh,strokeOpacity:Eh,numOctaves:tC};function Z2(r,e,t,n){const{style:i,vars:s,transform:o,transformOrigin:l}=r;let c=!1,d=!1,h=!0;for(const m in e){const y=e[m];if(FS(m)){s[m]=y;continue}const v=zS[m],C=H5(y,v);if(Cu.has(m)){if(c=!0,o[m]=C,!h)continue;y!==(v.default||0)&&(h=!1)}else m.startsWith("origin")?(d=!0,l[m]=C):i[m]=C}if(e.transform||(c||n?i.transform=z5(r.transform,t,h,n):i.transform&&(i.transform="none")),d){const{originX:m="50%",originY:y="50%",originZ:v=0}=l;i.transformOrigin=`${m} ${y} ${v}`}}const J2=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function VS(r,e,t){for(const n in e)!ds(e[n])&&!NS(n,t)&&(r[n]=e[n])}function X5({transformTemplate:r},e,t){return ue.useMemo(()=>{const n=J2();return Z2(n,e,{enableHardwareAcceleration:!t},r),Object.assign({},n.vars,n.style)},[e])}function Y5(r,e,t){const n=r.style||{},i={};return VS(i,n,r),Object.assign(i,X5(r,e,t)),r.transformValues?r.transformValues(i):i}function q5(r,e,t){const n={},i=Y5(r,e,t);return r.drag&&r.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=r.drag===!0?"none":`pan-${r.drag==="x"?"y":"x"}`),r.tabIndex===void 0&&(r.onTap||r.onTapStart||r.whileTap)&&(n.tabIndex=0),n.style=i,n}const K5=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Ug(r){return r.startsWith("while")||r.startsWith("drag")&&r!=="draggable"||r.startsWith("layout")||r.startsWith("onTap")||r.startsWith("onPan")||r.startsWith("onLayout")||K5.has(r)}let HS=r=>!Ug(r);function Z5(r){r&&(HS=e=>e.startsWith("on")?!Ug(e):r(e))}try{Z5(require("@emotion/is-prop-valid").default)}catch{}function J5(r,e,t){const n={};for(const i in r)i==="values"&&typeof r.values=="object"||(HS(i)||t===!0&&Ug(i)||!e&&!Ug(i)||r.draggable&&i.startsWith("onDrag"))&&(n[i]=r[i]);return n}function nC(r,e,t){return typeof r=="string"?r:Wt.transform(e+t*r)}function Q5(r,e,t){const n=nC(e,r.x,r.width),i=nC(t,r.y,r.height);return`${n} ${i}`}const $5={offset:"stroke-dashoffset",array:"stroke-dasharray"},e3={offset:"strokeDashoffset",array:"strokeDasharray"};function t3(r,e,t=1,n=0,i=!0){r.pathLength=1;const s=i?$5:e3;r[s.offset]=Wt.transform(-n);const o=Wt.transform(e),l=Wt.transform(t);r[s.array]=`${o} ${l}`}function Q2(r,{attrX:e,attrY:t,attrScale:n,originX:i,originY:s,pathLength:o,pathSpacing:l=1,pathOffset:c=0,...d},h,m,y){if(Z2(r,d,h,y),m){r.style.viewBox&&(r.attrs.viewBox=r.style.viewBox);return}r.attrs=r.style,r.style={};const{attrs:v,style:C,dimensions:b}=r;v.transform&&(b&&(C.transform=v.transform),delete v.transform),b&&(i!==void 0||s!==void 0||C.transform)&&(C.transformOrigin=Q5(b,i!==void 0?i:.5,s!==void 0?s:.5)),e!==void 0&&(v.x=e),t!==void 0&&(v.y=t),n!==void 0&&(v.scale=n),o!==void 0&&t3(v,o,l,c,!1)}const GS=()=>({...J2(),attrs:{}}),$2=r=>typeof r=="string"&&r.toLowerCase()==="svg";function n3(r,e,t,n){const i=ue.useMemo(()=>{const s=GS();return Q2(s,e,{enableHardwareAcceleration:!1},$2(n),r.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(r.style){const s={};VS(s,r.style,r),i.style={...s,...i.style}}return i}function r3(r=!1){return(t,n,i,{latestValues:s},o)=>{const c=(K2(t)?n3:q5)(n,s,o,t),h={...J5(n,typeof t=="string",r),...c,ref:i},{children:m}=n,y=ue.useMemo(()=>ds(m)?m.get():m,[m]);return ue.createElement(t,{...h,children:y})}}function WS(r,{style:e,vars:t},n,i){Object.assign(r.style,e,i&&i.getProjectionStyles(n));for(const s in t)r.style.setProperty(s,t[s])}const jS=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function XS(r,e,t,n){WS(r,e,void 0,n);for(const i in e.attrs)r.setAttribute(jS.has(i)?i:j2(i),e.attrs[i])}function ex(r,e){const{style:t}=r,n={};for(const i in t)(ds(t[i])||e.style&&ds(e.style[i])||NS(i,r))&&(n[i]=t[i]);return n}function YS(r,e){const t=ex(r,e);for(const n in r)if(ds(r[n])||ds(e[n])){const i=pp.indexOf(n)!==-1?"attr"+n.charAt(0).toUpperCase()+n.substring(1):n;t[i]=r[n]}return t}function tx(r,e,t,n={},i={}){return typeof e=="function"&&(e=e(t!==void 0?t:r.custom,n,i)),typeof e=="string"&&(e=r.variants&&r.variants[e]),typeof e=="function"&&(e=e(t!==void 0?t:r.custom,n,i)),e}function qS(r){const e=ue.useRef(null);return e.current===null&&(e.current=r()),e.current}const kg=r=>Array.isArray(r),i3=r=>!!(r&&typeof r=="object"&&r.mix&&r.toValue),s3=r=>kg(r)?r[r.length-1]||0:r;function Cg(r){const e=ds(r)?r.get():r;return i3(e)?e.toValue():e}function o3({scrapeMotionValuesFromProps:r,createRenderState:e,onMount:t},n,i,s){const o={latestValues:a3(n,i,s,r),renderState:e()};return t&&(o.mount=l=>t(n,l,o)),o}const KS=r=>(e,t)=>{const n=ue.useContext(Jg),i=ue.useContext(Qg),s=()=>o3(r,e,n,i);return t?s():qS(s)};function a3(r,e,t,n){const i={},s=n(r,{});for(const y in s)i[y]=Cg(s[y]);let{initial:o,animate:l}=r;const c=ty(r),d=US(r);e&&d&&!c&&r.inherit!==!1&&(o===void 0&&(o=e.initial),l===void 0&&(l=e.animate));let h=t?t.initial===!1:!1;h=h||o===!1;const m=h?l:o;return m&&typeof m!="boolean"&&!ey(m)&&(Array.isArray(m)?m:[m]).forEach(v=>{const C=tx(r,v);if(!C)return;const{transitionEnd:b,transition:_,...S}=C;for(const A in S){let E=S[A];if(Array.isArray(E)){const P=h?E.length-1:0;E=E[P]}E!==null&&(i[A]=E)}for(const A in b)i[A]=b[A]}),i}const Cr=r=>r;class rC{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const t=this.order.indexOf(e);t!==-1&&(this.order.splice(t,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function l3(r){let e=new rC,t=new rC,n=0,i=!1,s=!1;const o=new WeakSet,l={schedule:(c,d=!1,h=!1)=>{const m=h&&i,y=m?e:t;return d&&o.add(c),y.add(c)&&m&&i&&(n=e.order.length),c},cancel:c=>{t.remove(c),o.delete(c)},process:c=>{if(i){s=!0;return}if(i=!0,[e,t]=[t,e],t.clear(),n=e.order.length,n)for(let d=0;d<n;d++){const h=e.order[d];h(c),o.has(h)&&(l.schedule(h),r())}i=!1,s&&(s=!1,l.process(c))}};return l}const Cm=["prepare","read","update","preRender","render","postRender"],c3=40;function u3(r,e){let t=!1,n=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=Cm.reduce((m,y)=>(m[y]=l3(()=>t=!0),m),{}),o=m=>s[m].process(i),l=()=>{const m=performance.now();t=!1,i.delta=n?1e3/60:Math.max(Math.min(m-i.timestamp,c3),1),i.timestamp=m,i.isProcessing=!0,Cm.forEach(o),i.isProcessing=!1,t&&e&&(n=!1,r(l))},c=()=>{t=!0,n=!0,i.isProcessing||r(l)};return{schedule:Cm.reduce((m,y)=>{const v=s[y];return m[y]=(C,b=!1,_=!1)=>(t||c(),v.schedule(C,b,_)),m},{}),cancel:m=>Cm.forEach(y=>s[y].cancel(m)),state:i,steps:s}}const{schedule:Bn,cancel:Ya,state:bi,steps:yv}=u3(typeof requestAnimationFrame<"u"?requestAnimationFrame:Cr,!0),d3={useVisualState:KS({scrapeMotionValuesFromProps:YS,createRenderState:GS,onMount:(r,e,{renderState:t,latestValues:n})=>{Bn.read(()=>{try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}),Bn.render(()=>{Q2(t,n,{enableHardwareAcceleration:!1},$2(e.tagName),r.transformTemplate),XS(e,t)})}})},f3={useVisualState:KS({scrapeMotionValuesFromProps:ex,createRenderState:J2})};function h3(r,{forwardMotionProps:e=!1},t,n){return{...K2(r)?d3:f3,preloadedFeatures:t,useRender:r3(e),createVisualElement:n,Component:r}}function Ha(r,e,t,n={passive:!0}){return r.addEventListener(e,t,n),()=>r.removeEventListener(e,t)}const ZS=r=>r.pointerType==="mouse"?typeof r.button!="number"||r.button<=0:r.isPrimary!==!1;function ry(r,e="page"){return{point:{x:r[e+"X"],y:r[e+"Y"]}}}const p3=r=>e=>ZS(e)&&r(e,ry(e));function Wa(r,e,t,n){return Ha(r,e,p3(t),n)}const m3=(r,e)=>t=>e(r(t)),Gl=(...r)=>r.reduce(m3);function JS(r){let e=null;return()=>{const t=()=>{e=null};return e===null?(e=r,t):!1}}const iC=JS("dragHorizontal"),sC=JS("dragVertical");function QS(r){let e=!1;if(r==="y")e=sC();else if(r==="x")e=iC();else{const t=iC(),n=sC();t&&n?e=()=>{t(),n()}:(t&&t(),n&&n())}return e}function $S(){const r=QS(!0);return r?(r(),!1):!0}class $l{constructor(e){this.isMounted=!1,this.node=e}update(){}}function oC(r,e){const t="pointer"+(e?"enter":"leave"),n="onHover"+(e?"Start":"End"),i=(s,o)=>{if(s.pointerType==="touch"||$S())return;const l=r.getProps();r.animationState&&l.whileHover&&r.animationState.setActive("whileHover",e),l[n]&&Bn.update(()=>l[n](s,o))};return Wa(r.current,t,i,{passive:!r.getProps()[n]})}class g3 extends $l{mount(){this.unmount=Gl(oC(this.node,!0),oC(this.node,!1))}unmount(){}}class y3 extends $l{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Gl(Ha(this.node.current,"focus",()=>this.onFocus()),Ha(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const eb=(r,e)=>e?r===e?!0:eb(r,e.parentElement):!1;function vv(r,e){if(!e)return;const t=new PointerEvent("pointer"+r);e(t,ry(t))}class v3 extends $l{constructor(){super(...arguments),this.removeStartListeners=Cr,this.removeEndListeners=Cr,this.removeAccessibleListeners=Cr,this.startPointerPress=(e,t)=>{if(this.isPressing)return;this.removeEndListeners();const n=this.node.getProps(),s=Wa(window,"pointerup",(l,c)=>{if(!this.checkPressEnd())return;const{onTap:d,onTapCancel:h,globalTapTarget:m}=this.node.getProps();Bn.update(()=>{!m&&!eb(this.node.current,l.target)?h&&h(l,c):d&&d(l,c)})},{passive:!(n.onTap||n.onPointerUp)}),o=Wa(window,"pointercancel",(l,c)=>this.cancelPress(l,c),{passive:!(n.onTapCancel||n.onPointerCancel)});this.removeEndListeners=Gl(s,o),this.startPress(e,t)},this.startAccessiblePress=()=>{const e=s=>{if(s.key!=="Enter"||this.isPressing)return;const o=l=>{l.key!=="Enter"||!this.checkPressEnd()||vv("up",(c,d)=>{const{onTap:h}=this.node.getProps();h&&Bn.update(()=>h(c,d))})};this.removeEndListeners(),this.removeEndListeners=Ha(this.node.current,"keyup",o),vv("down",(l,c)=>{this.startPress(l,c)})},t=Ha(this.node.current,"keydown",e),n=()=>{this.isPressing&&vv("cancel",(s,o)=>this.cancelPress(s,o))},i=Ha(this.node.current,"blur",n);this.removeAccessibleListeners=Gl(t,i)}}startPress(e,t){this.isPressing=!0;const{onTapStart:n,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),n&&Bn.update(()=>n(e,t))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!$S()}cancelPress(e,t){if(!this.checkPressEnd())return;const{onTapCancel:n}=this.node.getProps();n&&Bn.update(()=>n(e,t))}mount(){const e=this.node.getProps(),t=Wa(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),n=Ha(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Gl(t,n)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const U0=new WeakMap,xv=new WeakMap,x3=r=>{const e=U0.get(r.target);e&&e(r)},C3=r=>{r.forEach(x3)};function w3({root:r,...e}){const t=r||document;xv.has(t)||xv.set(t,{});const n=xv.get(t),i=JSON.stringify(e);return n[i]||(n[i]=new IntersectionObserver(C3,{root:r,...e})),n[i]}function _3(r,e,t){const n=w3(e);return U0.set(r,t),n.observe(r),()=>{U0.delete(r),n.unobserve(r)}}const S3={some:0,all:1};class b3 extends $l{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:n,amount:i="some",once:s}=e,o={root:t?t.current:void 0,rootMargin:n,threshold:typeof i=="number"?i:S3[i]},l=c=>{const{isIntersecting:d}=c;if(this.isInView===d||(this.isInView=d,s&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:h,onViewportLeave:m}=this.node.getProps(),y=d?h:m;y&&y(c)};return _3(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(M3(e,t))&&this.startObserver()}unmount(){}}function M3({viewport:r={}},{viewport:e={}}={}){return t=>r[t]!==e[t]}const E3={inView:{Feature:b3},tap:{Feature:v3},focus:{Feature:y3},hover:{Feature:g3}};function tb(r,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==r.length)return!1;for(let n=0;n<t;n++)if(e[n]!==r[n])return!1;return!0}function A3(r){const e={};return r.values.forEach((t,n)=>e[n]=t.get()),e}function T3(r){const e={};return r.values.forEach((t,n)=>e[n]=t.getVelocity()),e}function iy(r,e,t){const n=r.getProps();return tx(n,e,t!==void 0?t:n.custom,A3(r),T3(r))}let nx=Cr;const au=r=>r*1e3,ja=r=>r/1e3,P3={current:!1},nb=r=>Array.isArray(r)&&typeof r[0]=="number";function rb(r){return!!(!r||typeof r=="string"&&ib[r]||nb(r)||Array.isArray(r)&&r.every(rb))}const _h=([r,e,t,n])=>`cubic-bezier(${r}, ${e}, ${t}, ${n})`,ib={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:_h([0,.65,.55,1]),circOut:_h([.55,0,1,.45]),backIn:_h([.31,.01,.66,-.59]),backOut:_h([.33,1.53,.69,.99])};function sb(r){if(r)return nb(r)?_h(r):Array.isArray(r)?r.map(sb):ib[r]}function R3(r,e,t,{delay:n=0,duration:i,repeat:s=0,repeatType:o="loop",ease:l,times:c}={}){const d={[e]:t};c&&(d.offset=c);const h=sb(l);return Array.isArray(h)&&(d.easing=h),r.animate(d,{delay:n,duration:i,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}function D3(r,{repeat:e,repeatType:t="loop"}){const n=e&&t!=="loop"&&e%2===1?0:r.length-1;return r[n]}const ob=(r,e,t)=>(((1-3*t+3*e)*r+(3*t-6*e))*r+3*e)*r,L3=1e-7,I3=12;function U3(r,e,t,n,i){let s,o,l=0;do o=e+(t-e)/2,s=ob(o,n,i)-r,s>0?t=o:e=o;while(Math.abs(s)>L3&&++l<I3);return o}function yp(r,e,t,n){if(r===e&&t===n)return Cr;const i=s=>U3(s,0,1,r,t);return s=>s===0||s===1?s:ob(i(s),e,n)}const k3=yp(.42,0,1,1),N3=yp(0,0,.58,1),ab=yp(.42,0,.58,1),O3=r=>Array.isArray(r)&&typeof r[0]!="number",lb=r=>e=>e<=.5?r(2*e)/2:(2-r(2*(1-e)))/2,cb=r=>e=>1-r(1-e),rx=r=>1-Math.sin(Math.acos(r)),ub=cb(rx),F3=lb(rx),db=yp(.33,1.53,.69,.99),ix=cb(db),B3=lb(ix),z3=r=>(r*=2)<1?.5*ix(r):.5*(2-Math.pow(2,-10*(r-1))),V3={linear:Cr,easeIn:k3,easeInOut:ab,easeOut:N3,circIn:rx,circInOut:F3,circOut:ub,backIn:ix,backInOut:B3,backOut:db,anticipate:z3},aC=r=>{if(Array.isArray(r)){nx(r.length===4);const[e,t,n,i]=r;return yp(e,t,n,i)}else if(typeof r=="string")return V3[r];return r},sx=(r,e)=>t=>!!(mp(t)&&G5.test(t)&&t.startsWith(r)||e&&Object.prototype.hasOwnProperty.call(t,e)),fb=(r,e,t)=>n=>{if(!mp(n))return n;const[i,s,o,l]=n.match(ny);return{[r]:parseFloat(i),[e]:parseFloat(s),[t]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},H3=r=>ql(0,255,r),Cv={...wu,transform:r=>Math.round(H3(r))},nu={test:sx("rgb","red"),parse:fb("red","green","blue"),transform:({red:r,green:e,blue:t,alpha:n=1})=>"rgba("+Cv.transform(r)+", "+Cv.transform(e)+", "+Cv.transform(t)+", "+Ah(Eh.transform(n))+")"};function G3(r){let e="",t="",n="",i="";return r.length>5?(e=r.substring(1,3),t=r.substring(3,5),n=r.substring(5,7),i=r.substring(7,9)):(e=r.substring(1,2),t=r.substring(2,3),n=r.substring(3,4),i=r.substring(4,5),e+=e,t+=t,n+=n,i+=i),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(n,16),alpha:i?parseInt(i,16)/255:1}}const k0={test:sx("#"),parse:G3,transform:nu.transform},jd={test:sx("hsl","hue"),parse:fb("hue","saturation","lightness"),transform:({hue:r,saturation:e,lightness:t,alpha:n=1})=>"hsla("+Math.round(r)+", "+Qo.transform(Ah(e))+", "+Qo.transform(Ah(t))+", "+Ah(Eh.transform(n))+")"},Wi={test:r=>nu.test(r)||k0.test(r)||jd.test(r),parse:r=>nu.test(r)?nu.parse(r):jd.test(r)?jd.parse(r):k0.parse(r),transform:r=>mp(r)?r:r.hasOwnProperty("red")?nu.transform(r):jd.transform(r)},$n=(r,e,t)=>-t*r+t*e+r;function wv(r,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?r+(e-r)*6*t:t<1/2?e:t<2/3?r+(e-r)*(2/3-t)*6:r}function W3({hue:r,saturation:e,lightness:t,alpha:n}){r/=360,e/=100,t/=100;let i=0,s=0,o=0;if(!e)i=s=o=t;else{const l=t<.5?t*(1+e):t+e-t*e,c=2*t-l;i=wv(c,l,r+1/3),s=wv(c,l,r),o=wv(c,l,r-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:n}}const _v=(r,e,t)=>{const n=r*r;return Math.sqrt(Math.max(0,t*(e*e-n)+n))},j3=[k0,nu,jd],X3=r=>j3.find(e=>e.test(r));function lC(r){const e=X3(r);let t=e.parse(r);return e===jd&&(t=W3(t)),t}const hb=(r,e)=>{const t=lC(r),n=lC(e),i={...t};return s=>(i.red=_v(t.red,n.red,s),i.green=_v(t.green,n.green,s),i.blue=_v(t.blue,n.blue,s),i.alpha=$n(t.alpha,n.alpha,s),nu.transform(i))};function Y3(r){var e,t;return isNaN(r)&&mp(r)&&(((e=r.match(ny))===null||e===void 0?void 0:e.length)||0)+(((t=r.match(BS))===null||t===void 0?void 0:t.length)||0)>0}const pb={regex:V5,countKey:"Vars",token:"${v}",parse:Cr},mb={regex:BS,countKey:"Colors",token:"${c}",parse:Wi.parse},gb={regex:ny,countKey:"Numbers",token:"${n}",parse:wu.parse};function Sv(r,{regex:e,countKey:t,token:n,parse:i}){const s=r.tokenised.match(e);s&&(r["num"+t]=s.length,r.tokenised=r.tokenised.replace(e,n),r.values.push(...s.map(i)))}function Ng(r){const e=r.toString(),t={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return t.value.includes("var(--")&&Sv(t,pb),Sv(t,mb),Sv(t,gb),t}function yb(r){return Ng(r).values}function vb(r){const{values:e,numColors:t,numVars:n,tokenised:i}=Ng(r),s=e.length;return o=>{let l=i;for(let c=0;c<s;c++)c<n?l=l.replace(pb.token,o[c]):c<n+t?l=l.replace(mb.token,Wi.transform(o[c])):l=l.replace(gb.token,Ah(o[c]));return l}}const q3=r=>typeof r=="number"?0:r;function K3(r){const e=yb(r);return vb(r)(e.map(q3))}const Kl={test:Y3,parse:yb,createTransformer:vb,getAnimatableNone:K3},xb=(r,e)=>t=>`${t>0?e:r}`;function Cb(r,e){return typeof r=="number"?t=>$n(r,e,t):Wi.test(r)?hb(r,e):r.startsWith("var(")?xb(r,e):_b(r,e)}const wb=(r,e)=>{const t=[...r],n=t.length,i=r.map((s,o)=>Cb(s,e[o]));return s=>{for(let o=0;o<n;o++)t[o]=i[o](s);return t}},Z3=(r,e)=>{const t={...r,...e},n={};for(const i in t)r[i]!==void 0&&e[i]!==void 0&&(n[i]=Cb(r[i],e[i]));return i=>{for(const s in n)t[s]=n[s](i);return t}},_b=(r,e)=>{const t=Kl.createTransformer(e),n=Ng(r),i=Ng(e);return n.numVars===i.numVars&&n.numColors===i.numColors&&n.numNumbers>=i.numNumbers?Gl(wb(n.values,i.values),t):xb(r,e)},Hh=(r,e,t)=>{const n=e-r;return n===0?1:(t-r)/n},cC=(r,e)=>t=>$n(r,e,t);function J3(r){return typeof r=="number"?cC:typeof r=="string"?Wi.test(r)?hb:_b:Array.isArray(r)?wb:typeof r=="object"?Z3:cC}function Q3(r,e,t){const n=[],i=t||J3(r[0]),s=r.length-1;for(let o=0;o<s;o++){let l=i(r[o],r[o+1]);if(e){const c=Array.isArray(e)?e[o]||Cr:e;l=Gl(c,l)}n.push(l)}return n}function Sb(r,e,{clamp:t=!0,ease:n,mixer:i}={}){const s=r.length;if(nx(s===e.length),s===1)return()=>e[0];r[0]>r[s-1]&&(r=[...r].reverse(),e=[...e].reverse());const o=Q3(e,n,i),l=o.length,c=d=>{let h=0;if(l>1)for(;h<r.length-2&&!(d<r[h+1]);h++);const m=Hh(r[h],r[h+1],d);return o[h](m)};return t?d=>c(ql(r[0],r[s-1],d)):c}function $3(r,e){const t=r[r.length-1];for(let n=1;n<=e;n++){const i=Hh(0,e,n);r.push($n(t,1,i))}}function eP(r){const e=[0];return $3(e,r.length-1),e}function tP(r,e){return r.map(t=>t*e)}function nP(r,e){return r.map(()=>e||ab).splice(0,r.length-1)}function Og({duration:r=300,keyframes:e,times:t,ease:n="easeInOut"}){const i=O3(n)?n.map(aC):aC(n),s={done:!1,value:e[0]},o=tP(t&&t.length===e.length?t:eP(e),r),l=Sb(o,e,{ease:Array.isArray(i)?i:nP(e,i)});return{calculatedDuration:r,next:c=>(s.value=l(c),s.done=c>=r,s)}}function bb(r,e){return e?r*(1e3/e):0}const rP=5;function Mb(r,e,t){const n=Math.max(e-rP,0);return bb(t-r(n),e-n)}const bv=.001,iP=.01,sP=10,oP=.05,aP=1;function lP({duration:r=800,bounce:e=.25,velocity:t=0,mass:n=1}){let i,s,o=1-e;o=ql(oP,aP,o),r=ql(iP,sP,ja(r)),o<1?(i=d=>{const h=d*o,m=h*r,y=h-t,v=N0(d,o),C=Math.exp(-m);return bv-y/v*C},s=d=>{const m=d*o*r,y=m*t+t,v=Math.pow(o,2)*Math.pow(d,2)*r,C=Math.exp(-m),b=N0(Math.pow(d,2),o);return(-i(d)+bv>0?-1:1)*((y-v)*C)/b}):(i=d=>{const h=Math.exp(-d*r),m=(d-t)*r+1;return-bv+h*m},s=d=>{const h=Math.exp(-d*r),m=(t-d)*(r*r);return h*m});const l=5/r,c=uP(i,s,l);if(r=au(r),isNaN(c))return{stiffness:100,damping:10,duration:r};{const d=Math.pow(c,2)*n;return{stiffness:d,damping:o*2*Math.sqrt(n*d),duration:r}}}const cP=12;function uP(r,e,t){let n=t;for(let i=1;i<cP;i++)n=n-r(n)/e(n);return n}function N0(r,e){return r*Math.sqrt(1-e*e)}const dP=["duration","bounce"],fP=["stiffness","damping","mass"];function uC(r,e){return e.some(t=>r[t]!==void 0)}function hP(r){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...r};if(!uC(r,fP)&&uC(r,dP)){const t=lP(r);e={...e,...t,mass:1},e.isResolvedFromDuration=!0}return e}function Eb({keyframes:r,restDelta:e,restSpeed:t,...n}){const i=r[0],s=r[r.length-1],o={done:!1,value:i},{stiffness:l,damping:c,mass:d,duration:h,velocity:m,isResolvedFromDuration:y}=hP({...n,velocity:-ja(n.velocity||0)}),v=m||0,C=c/(2*Math.sqrt(l*d)),b=s-i,_=ja(Math.sqrt(l/d)),S=Math.abs(b)<5;t||(t=S?.01:2),e||(e=S?.005:.5);let A;if(C<1){const E=N0(_,C);A=P=>{const I=Math.exp(-C*_*P);return s-I*((v+C*_*b)/E*Math.sin(E*P)+b*Math.cos(E*P))}}else if(C===1)A=E=>s-Math.exp(-_*E)*(b+(v+_*b)*E);else{const E=_*Math.sqrt(C*C-1);A=P=>{const I=Math.exp(-C*_*P),k=Math.min(E*P,300);return s-I*((v+C*_*b)*Math.sinh(k)+E*b*Math.cosh(k))/E}}return{calculatedDuration:y&&h||null,next:E=>{const P=A(E);if(y)o.done=E>=h;else{let I=v;E!==0&&(C<1?I=Mb(A,E,P):I=0);const k=Math.abs(I)<=t,F=Math.abs(s-P)<=e;o.done=k&&F}return o.value=o.done?s:P,o}}}function dC({keyframes:r,velocity:e=0,power:t=.8,timeConstant:n=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:l,max:c,restDelta:d=.5,restSpeed:h}){const m=r[0],y={done:!1,value:m},v=V=>l!==void 0&&V<l||c!==void 0&&V>c,C=V=>l===void 0?c:c===void 0||Math.abs(l-V)<Math.abs(c-V)?l:c;let b=t*e;const _=m+b,S=o===void 0?_:o(_);S!==_&&(b=S-m);const A=V=>-b*Math.exp(-V/n),E=V=>S+A(V),P=V=>{const U=A(V),O=E(V);y.done=Math.abs(U)<=d,y.value=y.done?S:O};let I,k;const F=V=>{v(y.value)&&(I=V,k=Eb({keyframes:[y.value,C(y.value)],velocity:Mb(E,V,y.value),damping:i,stiffness:s,restDelta:d,restSpeed:h}))};return F(0),{calculatedDuration:null,next:V=>{let U=!1;return!k&&I===void 0&&(U=!0,P(V),F(V)),I!==void 0&&V>I?k.next(V-I):(!U&&P(V),y)}}}const pP=r=>{const e=({timestamp:t})=>r(t);return{start:()=>Bn.update(e,!0),stop:()=>Ya(e),now:()=>bi.isProcessing?bi.timestamp:performance.now()}},fC=2e4;function hC(r){let e=0;const t=50;let n=r.next(e);for(;!n.done&&e<fC;)e+=t,n=r.next(e);return e>=fC?1/0:e}const mP={decay:dC,inertia:dC,tween:Og,keyframes:Og,spring:Eb};function Fg({autoplay:r=!0,delay:e=0,driver:t=pP,keyframes:n,type:i="keyframes",repeat:s=0,repeatDelay:o=0,repeatType:l="loop",onPlay:c,onStop:d,onComplete:h,onUpdate:m,...y}){let v=1,C=!1,b,_;const S=()=>{_=new Promise(D=>{b=D})};S();let A;const E=mP[i]||Og;let P;E!==Og&&typeof n[0]!="number"&&(P=Sb([0,100],n,{clamp:!1}),n=[0,100]);const I=E({...y,keyframes:n});let k;l==="mirror"&&(k=E({...y,keyframes:[...n].reverse(),velocity:-(y.velocity||0)}));let F="idle",V=null,U=null,O=null;I.calculatedDuration===null&&s&&(I.calculatedDuration=hC(I));const{calculatedDuration:Q}=I;let q=1/0,te=1/0;Q!==null&&(q=Q+o,te=q*(s+1)-o);let X=0;const le=D=>{if(U===null)return;v>0&&(U=Math.min(U,D)),v<0&&(U=Math.min(D-te/v,U)),V!==null?X=V:X=Math.round(D-U)*v;const B=X-e*(v>=0?1:-1),ee=v>=0?B<0:B>te;X=Math.max(B,0),F==="finished"&&V===null&&(X=te);let ie=X,se=I;if(s){const ke=Math.min(X,te)/q;let $e=Math.floor(ke),Re=ke%1;!Re&&ke>=1&&(Re=1),Re===1&&$e--,$e=Math.min($e,s+1),!!($e%2)&&(l==="reverse"?(Re=1-Re,o&&(Re-=o/q)):l==="mirror"&&(se=k)),ie=ql(0,1,Re)*q}const pe=ee?{done:!1,value:n[0]}:se.next(ie);P&&(pe.value=P(pe.value));let{done:me}=pe;!ee&&Q!==null&&(me=v>=0?X>=te:X<=0);const ve=V===null&&(F==="finished"||F==="running"&&me);return m&&m(pe.value),ve&&j(),pe},re=()=>{A&&A.stop(),A=void 0},de=()=>{F="idle",re(),b(),S(),U=O=null},j=()=>{F="finished",h&&h(),re(),b()},Y=()=>{if(C)return;A||(A=t(le));const D=A.now();c&&c(),V!==null?U=D-V:(!U||F==="finished")&&(U=D),F==="finished"&&S(),O=U,V=null,F="running",A.start()};r&&Y();const G={then(D,B){return _.then(D,B)},get time(){return ja(X)},set time(D){D=au(D),X=D,V!==null||!A||v===0?V=D:U=A.now()-D/v},get duration(){const D=I.calculatedDuration===null?hC(I):I.calculatedDuration;return ja(D)},get speed(){return v},set speed(D){D===v||!A||(v=D,G.time=ja(X))},get state(){return F},play:Y,pause:()=>{F="paused",V=X},stop:()=>{C=!0,F!=="idle"&&(F="idle",d&&d(),de())},cancel:()=>{O!==null&&le(O),de()},complete:()=>{F="finished"},sample:D=>(U=0,le(D))};return G}function gP(r){let e;return()=>(e===void 0&&(e=r()),e)}const yP=gP(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),vP=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),wm=10,xP=2e4,CP=(r,e)=>e.type==="spring"||r==="backgroundColor"||!rb(e.ease);function wP(r,e,{onUpdate:t,onComplete:n,...i}){if(!(yP()&&vP.has(e)&&!i.repeatDelay&&i.repeatType!=="mirror"&&i.damping!==0&&i.type!=="inertia"))return!1;let o=!1,l,c,d=!1;const h=()=>{c=new Promise(E=>{l=E})};h();let{keyframes:m,duration:y=300,ease:v,times:C}=i;if(CP(e,i)){const E=Fg({...i,repeat:0,delay:0});let P={done:!1,value:m[0]};const I=[];let k=0;for(;!P.done&&k<xP;)P=E.sample(k),I.push(P.value),k+=wm;C=void 0,m=I,y=k-wm,v="linear"}const b=R3(r.owner.current,e,m,{...i,duration:y,ease:v,times:C}),_=()=>{d=!1,b.cancel()},S=()=>{d=!0,Bn.update(_),l(),h()};return b.onfinish=()=>{d||(r.set(D3(m,i)),n&&n(),S())},{then(E,P){return c.then(E,P)},attachTimeline(E){return b.timeline=E,b.onfinish=null,Cr},get time(){return ja(b.currentTime||0)},set time(E){b.currentTime=au(E)},get speed(){return b.playbackRate},set speed(E){b.playbackRate=E},get duration(){return ja(y)},play:()=>{o||(b.play(),Ya(_))},pause:()=>b.pause(),stop:()=>{if(o=!0,b.playState==="idle")return;const{currentTime:E}=b;if(E){const P=Fg({...i,autoplay:!1});r.setWithVelocity(P.sample(E-wm).value,P.sample(E).value,wm)}S()},complete:()=>{d||b.finish()},cancel:S}}function _P({keyframes:r,delay:e,onUpdate:t,onComplete:n}){const i=()=>(t&&t(r[r.length-1]),n&&n(),{time:0,speed:1,duration:0,play:Cr,pause:Cr,stop:Cr,then:s=>(s(),Promise.resolve()),cancel:Cr,complete:Cr});return e?Fg({keyframes:[0,1],duration:0,delay:e,onComplete:i}):i()}const SP={type:"spring",stiffness:500,damping:25,restSpeed:10},bP=r=>({type:"spring",stiffness:550,damping:r===0?2*Math.sqrt(550):30,restSpeed:10}),MP={type:"keyframes",duration:.8},EP={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},AP=(r,{keyframes:e})=>e.length>2?MP:Cu.has(r)?r.startsWith("scale")?bP(e[1]):SP:EP,O0=(r,e)=>r==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Kl.test(e)||e==="0")&&!e.startsWith("url(")),TP=new Set(["brightness","contrast","saturate","opacity"]);function PP(r){const[e,t]=r.slice(0,-1).split("(");if(e==="drop-shadow")return r;const[n]=t.match(ny)||[];if(!n)return r;const i=t.replace(n,"");let s=TP.has(e)?1:0;return n!==t&&(s*=100),e+"("+s+i+")"}const RP=/([a-z-]*)\(.*?\)/g,F0={...Kl,getAnimatableNone:r=>{const e=r.match(RP);return e?e.map(PP).join(" "):r}},DP={...zS,color:Wi,backgroundColor:Wi,outlineColor:Wi,fill:Wi,stroke:Wi,borderColor:Wi,borderTopColor:Wi,borderRightColor:Wi,borderBottomColor:Wi,borderLeftColor:Wi,filter:F0,WebkitFilter:F0},ox=r=>DP[r];function Ab(r,e){let t=ox(r);return t!==F0&&(t=Kl),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const Tb=r=>/^0[^.\s]+$/.test(r);function LP(r){if(typeof r=="number")return r===0;if(r!==null)return r==="none"||r==="0"||Tb(r)}function IP(r,e,t,n){const i=O0(e,t);let s;Array.isArray(t)?s=[...t]:s=[null,t];const o=n.from!==void 0?n.from:r.get();let l;const c=[];for(let d=0;d<s.length;d++)s[d]===null&&(s[d]=d===0?o:s[d-1]),LP(s[d])&&c.push(d),typeof s[d]=="string"&&s[d]!=="none"&&s[d]!=="0"&&(l=s[d]);if(i&&c.length&&l)for(let d=0;d<c.length;d++){const h=c[d];s[h]=Ab(e,l)}return s}function UP({when:r,delay:e,delayChildren:t,staggerChildren:n,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:l,from:c,elapsed:d,...h}){return!!Object.keys(h).length}function ax(r,e){return r[e]||r.default||r}const kP={skipAnimations:!1},lx=(r,e,t,n={})=>i=>{const s=ax(n,r)||{},o=s.delay||n.delay||0;let{elapsed:l=0}=n;l=l-au(o);const c=IP(e,r,t,s),d=c[0],h=c[c.length-1],m=O0(r,d),y=O0(r,h);let v={keyframes:c,velocity:e.getVelocity(),ease:"easeOut",...s,delay:-l,onUpdate:C=>{e.set(C),s.onUpdate&&s.onUpdate(C)},onComplete:()=>{i(),s.onComplete&&s.onComplete()}};if(UP(s)||(v={...v,...AP(r,v)}),v.duration&&(v.duration=au(v.duration)),v.repeatDelay&&(v.repeatDelay=au(v.repeatDelay)),!m||!y||P3.current||s.type===!1||kP.skipAnimations)return _P(v);if(!n.isHandoff&&e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const C=wP(e,r,v);if(C)return C}return Fg(v)};function Bg(r){return!!(ds(r)&&r.add)}const Pb=r=>/^\-?\d*\.?\d+$/.test(r);function cx(r,e){r.indexOf(e)===-1&&r.push(e)}function ux(r,e){const t=r.indexOf(e);t>-1&&r.splice(t,1)}class dx{constructor(){this.subscriptions=[]}add(e){return cx(this.subscriptions,e),()=>ux(this.subscriptions,e)}notify(e,t,n){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,t,n);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,t,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const NP=r=>!isNaN(parseFloat(r));class OP{constructor(e,t={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(n,i=!0)=>{this.prev=this.current,this.current=n;const{delta:s,timestamp:o}=bi;this.lastUpdated!==o&&(this.timeDelta=s,this.lastUpdated=o,Bn.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>Bn.postRender(this.velocityCheck),this.velocityCheck=({timestamp:n})=>{n!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=NP(this.current),this.owner=t.owner}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new dx);const n=this.events[e].add(t);return e==="change"?()=>{n(),Bn.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){!t||!this.passiveEffect?this.updateAndNotify(e,t):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,t,n){this.set(t),this.prev=e,this.timeDelta=n}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?bb(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function tf(r,e){return new OP(r,e)}const Rb=r=>e=>e.test(r),FP={test:r=>r==="auto",parse:r=>r},Db=[wu,Wt,Qo,Fl,j5,W5,FP],ah=r=>Db.find(Rb(r)),BP=[...Db,Wi,Kl],zP=r=>BP.find(Rb(r));function VP(r,e,t){r.hasValue(e)?r.getValue(e).set(t):r.addValue(e,tf(t))}function HP(r,e){const t=iy(r,e);let{transitionEnd:n={},transition:i={},...s}=t?r.makeTargetAnimatable(t,!1):{};s={...s,...n};for(const o in s){const l=s3(s[o]);VP(r,o,l)}}function GP(r,e,t){var n,i;const s=Object.keys(e).filter(l=>!r.hasValue(l)),o=s.length;if(o)for(let l=0;l<o;l++){const c=s[l],d=e[c];let h=null;Array.isArray(d)&&(h=d[0]),h===null&&(h=(i=(n=t[c])!==null&&n!==void 0?n:r.readValue(c))!==null&&i!==void 0?i:e[c]),h!=null&&(typeof h=="string"&&(Pb(h)||Tb(h))?h=parseFloat(h):!zP(h)&&Kl.test(d)&&(h=Ab(c,d)),r.addValue(c,tf(h,{owner:r})),t[c]===void 0&&(t[c]=h),h!==null&&r.setBaseTarget(c,h))}}function WP(r,e){return e?(e[r]||e.default||e).from:void 0}function jP(r,e,t){const n={};for(const i in r){const s=WP(i,e);if(s!==void 0)n[i]=s;else{const o=t.getValue(i);o&&(n[i]=o.get())}}return n}function XP({protectedKeys:r,needsAnimating:e},t){const n=r.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,n}function YP(r,e){const t=r.get();if(Array.isArray(e)){for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}else return t!==e}function Lb(r,e,{delay:t=0,transitionOverride:n,type:i}={}){let{transition:s=r.getDefaultTransition(),transitionEnd:o,...l}=r.makeTargetAnimatable(e);const c=r.getValue("willChange");n&&(s=n);const d=[],h=i&&r.animationState&&r.animationState.getState()[i];for(const m in l){const y=r.getValue(m),v=l[m];if(!y||v===void 0||h&&XP(h,m))continue;const C={delay:t,elapsed:0,...ax(s||{},m)};if(window.HandoffAppearAnimations){const S=r.getProps()[IS];if(S){const A=window.HandoffAppearAnimations(S,m,y,Bn);A!==null&&(C.elapsed=A,C.isHandoff=!0)}}let b=!C.isHandoff&&!YP(y,v);if(C.type==="spring"&&(y.getVelocity()||C.velocity)&&(b=!1),y.animation&&(b=!1),b)continue;y.start(lx(m,y,v,r.shouldReduceMotion&&Cu.has(m)?{type:!1}:C));const _=y.animation;Bg(c)&&(c.add(m),_.then(()=>c.remove(m))),d.push(_)}return o&&Promise.all(d).then(()=>{o&&HP(r,o)}),d}function B0(r,e,t={}){const n=iy(r,e,t.custom);let{transition:i=r.getDefaultTransition()||{}}=n||{};t.transitionOverride&&(i=t.transitionOverride);const s=n?()=>Promise.all(Lb(r,n,t)):()=>Promise.resolve(),o=r.variantChildren&&r.variantChildren.size?(c=0)=>{const{delayChildren:d=0,staggerChildren:h,staggerDirection:m}=i;return qP(r,e,d+c,h,m,t)}:()=>Promise.resolve(),{when:l}=i;if(l){const[c,d]=l==="beforeChildren"?[s,o]:[o,s];return c().then(()=>d())}else return Promise.all([s(),o(t.delay)])}function qP(r,e,t=0,n=0,i=1,s){const o=[],l=(r.variantChildren.size-1)*n,c=i===1?(d=0)=>d*n:(d=0)=>l-d*n;return Array.from(r.variantChildren).sort(KP).forEach((d,h)=>{d.notify("AnimationStart",e),o.push(B0(d,e,{...s,delay:t+c(h)}).then(()=>d.notify("AnimationComplete",e)))}),Promise.all(o)}function KP(r,e){return r.sortNodePosition(e)}function ZP(r,e,t={}){r.notify("AnimationStart",e);let n;if(Array.isArray(e)){const i=e.map(s=>B0(r,s,t));n=Promise.all(i)}else if(typeof e=="string")n=B0(r,e,t);else{const i=typeof e=="function"?iy(r,e,t.custom):e;n=Promise.all(Lb(r,i,t))}return n.then(()=>r.notify("AnimationComplete",e))}const JP=[...X2].reverse(),QP=X2.length;function $P(r){return e=>Promise.all(e.map(({animation:t,options:n})=>ZP(r,t,n)))}function eR(r){let e=$P(r);const t=nR();let n=!0;const i=(c,d)=>{const h=iy(r,d);if(h){const{transition:m,transitionEnd:y,...v}=h;c={...c,...v,...y}}return c};function s(c){e=c(r)}function o(c,d){const h=r.getProps(),m=r.getVariantContext(!0)||{},y=[],v=new Set;let C={},b=1/0;for(let S=0;S<QP;S++){const A=JP[S],E=t[A],P=h[A]!==void 0?h[A]:m[A],I=zh(P),k=A===d?E.isActive:null;k===!1&&(b=S);let F=P===m[A]&&P!==h[A]&&I;if(F&&n&&r.manuallyAnimateOnMount&&(F=!1),E.protectedKeys={...C},!E.isActive&&k===null||!P&&!E.prevProp||ey(P)||typeof P=="boolean")continue;let U=tR(E.prevProp,P)||A===d&&E.isActive&&!F&&I||S>b&&I,O=!1;const Q=Array.isArray(P)?P:[P];let q=Q.reduce(i,{});k===!1&&(q={});const{prevResolvedValues:te={}}=E,X={...te,...q},le=re=>{U=!0,v.has(re)&&(O=!0,v.delete(re)),E.needsAnimating[re]=!0};for(const re in X){const de=q[re],j=te[re];if(C.hasOwnProperty(re))continue;let Y=!1;kg(de)&&kg(j)?Y=!tb(de,j):Y=de!==j,Y?de!==void 0?le(re):v.add(re):de!==void 0&&v.has(re)?le(re):E.protectedKeys[re]=!0}E.prevProp=P,E.prevResolvedValues=q,E.isActive&&(C={...C,...q}),n&&r.blockInitialAnimation&&(U=!1),U&&(!F||O)&&y.push(...Q.map(re=>({animation:re,options:{type:A,...c}})))}if(v.size){const S={};v.forEach(A=>{const E=r.getBaseTarget(A);E!==void 0&&(S[A]=E)}),y.push({animation:S})}let _=!!y.length;return n&&(h.initial===!1||h.initial===h.animate)&&!r.manuallyAnimateOnMount&&(_=!1),n=!1,_?e(y):Promise.resolve()}function l(c,d,h){var m;if(t[c].isActive===d)return Promise.resolve();(m=r.variantChildren)===null||m===void 0||m.forEach(v=>{var C;return(C=v.animationState)===null||C===void 0?void 0:C.setActive(c,d)}),t[c].isActive=d;const y=o(h,c);for(const v in t)t[v].protectedKeys={};return y}return{animateChanges:o,setActive:l,setAnimateFunction:s,getState:()=>t}}function tR(r,e){return typeof e=="string"?e!==r:Array.isArray(e)?!tb(e,r):!1}function Oc(r=!1){return{isActive:r,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function nR(){return{animate:Oc(!0),whileInView:Oc(),whileHover:Oc(),whileTap:Oc(),whileDrag:Oc(),whileFocus:Oc(),exit:Oc()}}class rR extends $l{constructor(e){super(e),e.animationState||(e.animationState=eR(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),ey(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){}}let iR=0;class sR extends $l{constructor(){super(...arguments),this.id=iR++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t,custom:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const s=this.node.animationState.setActive("exit",!e,{custom:n??this.node.getProps().custom});t&&!e&&s.then(()=>t(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const oR={animation:{Feature:rR},exit:{Feature:sR}},pC=(r,e)=>Math.abs(r-e);function aR(r,e){const t=pC(r.x,e.x),n=pC(r.y,e.y);return Math.sqrt(t**2+n**2)}class Ib{constructor(e,t,{transformPagePoint:n,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const m=Ev(this.lastMoveEventInfo,this.history),y=this.startEvent!==null,v=aR(m.offset,{x:0,y:0})>=3;if(!y&&!v)return;const{point:C}=m,{timestamp:b}=bi;this.history.push({...C,timestamp:b});const{onStart:_,onMove:S}=this.handlers;y||(_&&_(this.lastMoveEvent,m),this.startEvent=this.lastMoveEvent),S&&S(this.lastMoveEvent,m)},this.handlePointerMove=(m,y)=>{this.lastMoveEvent=m,this.lastMoveEventInfo=Mv(y,this.transformPagePoint),Bn.update(this.updatePoint,!0)},this.handlePointerUp=(m,y)=>{this.end();const{onEnd:v,onSessionEnd:C,resumeAnimation:b}=this.handlers;if(this.dragSnapToOrigin&&b&&b(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _=Ev(m.type==="pointercancel"?this.lastMoveEventInfo:Mv(y,this.transformPagePoint),this.history);this.startEvent&&v&&v(m,_),C&&C(m,_)},!ZS(e))return;this.dragSnapToOrigin=s,this.handlers=t,this.transformPagePoint=n,this.contextWindow=i||window;const o=ry(e),l=Mv(o,this.transformPagePoint),{point:c}=l,{timestamp:d}=bi;this.history=[{...c,timestamp:d}];const{onSessionStart:h}=t;h&&h(e,Ev(l,this.history)),this.removeListeners=Gl(Wa(this.contextWindow,"pointermove",this.handlePointerMove),Wa(this.contextWindow,"pointerup",this.handlePointerUp),Wa(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Ya(this.updatePoint)}}function Mv(r,e){return e?{point:e(r.point)}:r}function mC(r,e){return{x:r.x-e.x,y:r.y-e.y}}function Ev({point:r},e){return{point:r,delta:mC(r,Ub(e)),offset:mC(r,lR(e)),velocity:cR(e,.1)}}function lR(r){return r[0]}function Ub(r){return r[r.length-1]}function cR(r,e){if(r.length<2)return{x:0,y:0};let t=r.length-1,n=null;const i=Ub(r);for(;t>=0&&(n=r[t],!(i.timestamp-n.timestamp>au(e)));)t--;if(!n)return{x:0,y:0};const s=ja(i.timestamp-n.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-n.x)/s,y:(i.y-n.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Ds(r){return r.max-r.min}function z0(r,e=0,t=.01){return Math.abs(r-e)<=t}function gC(r,e,t,n=.5){r.origin=n,r.originPoint=$n(e.min,e.max,r.origin),r.scale=Ds(t)/Ds(e),(z0(r.scale,1,1e-4)||isNaN(r.scale))&&(r.scale=1),r.translate=$n(t.min,t.max,r.origin)-r.originPoint,(z0(r.translate)||isNaN(r.translate))&&(r.translate=0)}function Th(r,e,t,n){gC(r.x,e.x,t.x,n?n.originX:void 0),gC(r.y,e.y,t.y,n?n.originY:void 0)}function yC(r,e,t){r.min=t.min+e.min,r.max=r.min+Ds(e)}function uR(r,e,t){yC(r.x,e.x,t.x),yC(r.y,e.y,t.y)}function vC(r,e,t){r.min=e.min-t.min,r.max=r.min+Ds(e)}function Ph(r,e,t){vC(r.x,e.x,t.x),vC(r.y,e.y,t.y)}function dR(r,{min:e,max:t},n){return e!==void 0&&r<e?r=n?$n(e,r,n.min):Math.max(r,e):t!==void 0&&r>t&&(r=n?$n(t,r,n.max):Math.min(r,t)),r}function xC(r,e,t){return{min:e!==void 0?r.min+e:void 0,max:t!==void 0?r.max+t-(r.max-r.min):void 0}}function fR(r,{top:e,left:t,bottom:n,right:i}){return{x:xC(r.x,t,i),y:xC(r.y,e,n)}}function CC(r,e){let t=e.min-r.min,n=e.max-r.max;return e.max-e.min<r.max-r.min&&([t,n]=[n,t]),{min:t,max:n}}function hR(r,e){return{x:CC(r.x,e.x),y:CC(r.y,e.y)}}function pR(r,e){let t=.5;const n=Ds(r),i=Ds(e);return i>n?t=Hh(e.min,e.max-n,r.min):n>i&&(t=Hh(r.min,r.max-i,e.min)),ql(0,1,t)}function mR(r,e){const t={};return e.min!==void 0&&(t.min=e.min-r.min),e.max!==void 0&&(t.max=e.max-r.min),t}const V0=.35;function gR(r=V0){return r===!1?r=0:r===!0&&(r=V0),{x:wC(r,"left","right"),y:wC(r,"top","bottom")}}function wC(r,e,t){return{min:_C(r,e),max:_C(r,t)}}function _C(r,e){return typeof r=="number"?r:r[e]||0}const SC=()=>({translate:0,scale:1,origin:0,originPoint:0}),Xd=()=>({x:SC(),y:SC()}),bC=()=>({min:0,max:0}),Ur=()=>({x:bC(),y:bC()});function Ys(r){return[r("x"),r("y")]}function kb({top:r,left:e,right:t,bottom:n}){return{x:{min:e,max:t},y:{min:r,max:n}}}function yR({x:r,y:e}){return{top:e.min,right:r.max,bottom:e.max,left:r.min}}function vR(r,e){if(!e)return r;const t=e({x:r.left,y:r.top}),n=e({x:r.right,y:r.bottom});return{top:t.y,left:t.x,bottom:n.y,right:n.x}}function Av(r){return r===void 0||r===1}function H0({scale:r,scaleX:e,scaleY:t}){return!Av(r)||!Av(e)||!Av(t)}function qc(r){return H0(r)||Nb(r)||r.z||r.rotate||r.rotateX||r.rotateY}function Nb(r){return MC(r.x)||MC(r.y)}function MC(r){return r&&r!=="0%"}function zg(r,e,t){const n=r-t,i=e*n;return t+i}function EC(r,e,t,n,i){return i!==void 0&&(r=zg(r,i,n)),zg(r,t,n)+e}function G0(r,e=0,t=1,n,i){r.min=EC(r.min,e,t,n,i),r.max=EC(r.max,e,t,n,i)}function Ob(r,{x:e,y:t}){G0(r.x,e.translate,e.scale,e.originPoint),G0(r.y,t.translate,t.scale,t.originPoint)}function xR(r,e,t,n=!1){const i=t.length;if(!i)return;e.x=e.y=1;let s,o;for(let l=0;l<i;l++){s=t[l],o=s.projectionDelta;const c=s.instance;c&&c.style&&c.style.display==="contents"||(n&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Yd(r,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,Ob(r,o)),n&&qc(s.latestValues)&&Yd(r,s.latestValues))}e.x=AC(e.x),e.y=AC(e.y)}function AC(r){return Number.isInteger(r)||r>1.0000000000001||r<.999999999999?r:1}function Bl(r,e){r.min=r.min+e,r.max=r.max+e}function TC(r,e,[t,n,i]){const s=e[i]!==void 0?e[i]:.5,o=$n(r.min,r.max,s);G0(r,e[t],e[n],o,e.scale)}const CR=["x","scaleX","originX"],wR=["y","scaleY","originY"];function Yd(r,e){TC(r.x,e,CR),TC(r.y,e,wR)}function Fb(r,e){return kb(vR(r.getBoundingClientRect(),e))}function _R(r,e,t){const n=Fb(r,t),{scroll:i}=e;return i&&(Bl(n.x,i.offset.x),Bl(n.y,i.offset.y)),n}const Bb=({current:r})=>r?r.ownerDocument.defaultView:null,SR=new WeakMap;class bR{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ur(),this.visualElement=e}start(e,{snapToCursor:t=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const i=h=>{const{dragSnapToOrigin:m}=this.getProps();m?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(ry(h,"page").point)},s=(h,m)=>{const{drag:y,dragPropagation:v,onDragStart:C}=this.getProps();if(y&&!v&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=QS(y),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ys(_=>{let S=this.getAxisMotionValue(_).get()||0;if(Qo.test(S)){const{projection:A}=this.visualElement;if(A&&A.layout){const E=A.layout.layoutBox[_];E&&(S=Ds(E)*(parseFloat(S)/100))}}this.originPoint[_]=S}),C&&Bn.update(()=>C(h,m),!1,!0);const{animationState:b}=this.visualElement;b&&b.setActive("whileDrag",!0)},o=(h,m)=>{const{dragPropagation:y,dragDirectionLock:v,onDirectionLock:C,onDrag:b}=this.getProps();if(!y&&!this.openGlobalLock)return;const{offset:_}=m;if(v&&this.currentDirection===null){this.currentDirection=MR(_),this.currentDirection!==null&&C&&C(this.currentDirection);return}this.updateAxis("x",m.point,_),this.updateAxis("y",m.point,_),this.visualElement.render(),b&&b(h,m)},l=(h,m)=>this.stop(h,m),c=()=>Ys(h=>{var m;return this.getAnimationState(h)==="paused"&&((m=this.getAxisMotionValue(h).animation)===null||m===void 0?void 0:m.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new Ib(e,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,contextWindow:Bb(this.visualElement)})}stop(e,t){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:i}=t;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&Bn.update(()=>s(e,t))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,n){const{drag:i}=this.getProps();if(!n||!_m(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(o=dR(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,s=this.constraints;t&&Wd(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&i?this.constraints=fR(i.layoutBox,t):this.constraints=!1,this.elastic=gR(n),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Ys(o=>{this.getAxisMotionValue(o)&&(this.constraints[o]=mR(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!Wd(e))return!1;const n=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=_R(n,i.root,this.visualElement.getTransformPagePoint());let o=hR(i.layout.layoutBox,s);if(t){const l=t(yR(o));this.hasMutatedConstraints=!!l,l&&(o=kb(l))}return o}startAnimation(e){const{drag:t,dragMomentum:n,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},d=Ys(h=>{if(!_m(h,t,this.currentDirection))return;let m=c&&c[h]||{};o&&(m={min:0,max:0});const y=i?200:1e6,v=i?40:1e7,C={type:"inertia",velocity:n?e[h]:0,bounceStiffness:y,bounceDamping:v,timeConstant:750,restDelta:1,restSpeed:10,...s,...m};return this.startAxisValueAnimation(h,C)});return Promise.all(d).then(l)}startAxisValueAnimation(e,t){const n=this.getAxisMotionValue(e);return n.start(lx(e,n,0,t))}stopAnimation(){Ys(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Ys(e=>{var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.pause()})}getAnimationState(e){var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.state}getAxisMotionValue(e){const t="_drag"+e.toUpperCase(),n=this.visualElement.getProps(),i=n[t];return i||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){Ys(t=>{const{drag:n}=this.getProps();if(!_m(t,n,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(t);if(i&&i.layout){const{min:o,max:l}=i.layout.layoutBox[t];s.set(e[t]-$n(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:n}=this.visualElement;if(!Wd(t)||!n||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Ys(o=>{const l=this.getAxisMotionValue(o);if(l){const c=l.get();i[o]=pR({min:c,max:c},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Ys(o=>{if(!_m(o,e,null))return;const l=this.getAxisMotionValue(o),{min:c,max:d}=this.constraints[o];l.set($n(c,d,i[o]))})}addListeners(){if(!this.visualElement.current)return;SR.set(this.visualElement,this);const e=this.visualElement.current,t=Wa(e,"pointerdown",c=>{const{drag:d,dragListener:h=!0}=this.getProps();d&&h&&this.start(c)}),n=()=>{const{dragConstraints:c}=this.getProps();Wd(c)&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",n);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),n();const o=Ha(window,"resize",()=>this.scalePositionWithinConstraints()),l=i.addEventListener("didUpdate",(({delta:c,hasLayoutChanged:d})=>{this.isDragging&&d&&(Ys(h=>{const m=this.getAxisMotionValue(h);m&&(this.originPoint[h]+=c[h].translate,m.set(m.get()+c[h].translate))}),this.visualElement.render())}));return()=>{o(),t(),s(),l&&l()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:n=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=V0,dragMomentum:l=!0}=e;return{...e,drag:t,dragDirectionLock:n,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:l}}}function _m(r,e,t){return(e===!0||e===r)&&(t===null||t===r)}function MR(r,e=10){let t=null;return Math.abs(r.y)>e?t="y":Math.abs(r.x)>e&&(t="x"),t}class ER extends $l{constructor(e){super(e),this.removeGroupControls=Cr,this.removeListeners=Cr,this.controls=new bR(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Cr}unmount(){this.removeGroupControls(),this.removeListeners()}}const PC=r=>(e,t)=>{r&&Bn.update(()=>r(e,t))};class AR extends $l{constructor(){super(...arguments),this.removePointerDownListener=Cr}onPointerDown(e){this.session=new Ib(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Bb(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:n,onPanEnd:i}=this.node.getProps();return{onSessionStart:PC(e),onStart:PC(t),onMove:n,onEnd:(s,o)=>{delete this.session,i&&Bn.update(()=>i(s,o))}}}mount(){this.removePointerDownListener=Wa(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function TR(){const r=ue.useContext(Qg);if(r===null)return[!0,null];const{isPresent:e,onExitComplete:t,register:n}=r,i=ue.useId();return ue.useEffect(()=>n(i),[]),!e&&t?[!1,()=>t&&t(i)]:[!0]}const wg={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function RC(r,e){return e.max===e.min?0:r/(e.max-e.min)*100}const lh={correct:(r,e)=>{if(!e.target)return r;if(typeof r=="string")if(Wt.test(r))r=parseFloat(r);else return r;const t=RC(r,e.target.x),n=RC(r,e.target.y);return`${t}% ${n}%`}},PR={correct:(r,{treeScale:e,projectionDelta:t})=>{const n=r,i=Kl.parse(r);if(i.length>5)return n;const s=Kl.createTransformer(r),o=typeof i[0]!="number"?1:0,l=t.x.scale*e.x,c=t.y.scale*e.y;i[0+o]/=l,i[1+o]/=c;const d=$n(l,c,.5);return typeof i[2+o]=="number"&&(i[2+o]/=d),typeof i[3+o]=="number"&&(i[3+o]/=d),s(i)}};class RR extends V2.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n,layoutId:i}=this.props,{projection:s}=e;O5(DR),s&&(t.group&&t.group.add(s),n&&n.register&&i&&n.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),wg.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:n,drag:i,isPresent:s}=this.props,o=n.projection;return o&&(o.isPresent=s,i||e.layoutDependency!==t||t===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||Bn.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(i),n&&n.deregister&&n.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function zb(r){const[e,t]=TR(),n=ue.useContext(q2);return V2.createElement(RR,{...r,layoutGroup:n,switchLayoutGroup:ue.useContext(kS),isPresent:e,safeToRemove:t})}const DR={borderRadius:{...lh,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:lh,borderTopRightRadius:lh,borderBottomLeftRadius:lh,borderBottomRightRadius:lh,boxShadow:PR},Vb=["TopLeft","TopRight","BottomLeft","BottomRight"],LR=Vb.length,DC=r=>typeof r=="string"?parseFloat(r):r,LC=r=>typeof r=="number"||Wt.test(r);function IR(r,e,t,n,i,s){i?(r.opacity=$n(0,t.opacity!==void 0?t.opacity:1,UR(n)),r.opacityExit=$n(e.opacity!==void 0?e.opacity:1,0,kR(n))):s&&(r.opacity=$n(e.opacity!==void 0?e.opacity:1,t.opacity!==void 0?t.opacity:1,n));for(let o=0;o<LR;o++){const l=`border${Vb[o]}Radius`;let c=IC(e,l),d=IC(t,l);if(c===void 0&&d===void 0)continue;c||(c=0),d||(d=0),c===0||d===0||LC(c)===LC(d)?(r[l]=Math.max($n(DC(c),DC(d),n),0),(Qo.test(d)||Qo.test(c))&&(r[l]+="%")):r[l]=d}(e.rotate||t.rotate)&&(r.rotate=$n(e.rotate||0,t.rotate||0,n))}function IC(r,e){return r[e]!==void 0?r[e]:r.borderRadius}const UR=Hb(0,.5,ub),kR=Hb(.5,.95,Cr);function Hb(r,e,t){return n=>n<r?0:n>e?1:t(Hh(r,e,n))}function UC(r,e){r.min=e.min,r.max=e.max}function js(r,e){UC(r.x,e.x),UC(r.y,e.y)}function kC(r,e,t,n,i){return r-=e,r=zg(r,1/t,n),i!==void 0&&(r=zg(r,1/i,n)),r}function NR(r,e=0,t=1,n=.5,i,s=r,o=r){if(Qo.test(e)&&(e=parseFloat(e),e=$n(o.min,o.max,e/100)-o.min),typeof e!="number")return;let l=$n(s.min,s.max,n);r===s&&(l-=e),r.min=kC(r.min,e,t,l,i),r.max=kC(r.max,e,t,l,i)}function NC(r,e,[t,n,i],s,o){NR(r,e[t],e[n],e[i],e.scale,s,o)}const OR=["x","scaleX","originX"],FR=["y","scaleY","originY"];function OC(r,e,t,n){NC(r.x,e,OR,t?t.x:void 0,n?n.x:void 0),NC(r.y,e,FR,t?t.y:void 0,n?n.y:void 0)}function FC(r){return r.translate===0&&r.scale===1}function Gb(r){return FC(r.x)&&FC(r.y)}function BR(r,e){return r.x.min===e.x.min&&r.x.max===e.x.max&&r.y.min===e.y.min&&r.y.max===e.y.max}function Wb(r,e){return Math.round(r.x.min)===Math.round(e.x.min)&&Math.round(r.x.max)===Math.round(e.x.max)&&Math.round(r.y.min)===Math.round(e.y.min)&&Math.round(r.y.max)===Math.round(e.y.max)}function BC(r){return Ds(r.x)/Ds(r.y)}class zR{constructor(){this.members=[]}add(e){cx(this.members,e),e.scheduleRender()}remove(e){if(ux(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(i=>e===i);if(t===0)return!1;let n;for(let i=t;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){n=s;break}}return n?(this.promote(n),!0):!1}promote(e,t){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,t&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:n}=e;t.onExitComplete&&t.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function zC(r,e,t){let n="";const i=r.x.translate/e.x,s=r.y.translate/e.y;if((i||s)&&(n=`translate3d(${i}px, ${s}px, 0) `),(e.x!==1||e.y!==1)&&(n+=`scale(${1/e.x}, ${1/e.y}) `),t){const{rotate:c,rotateX:d,rotateY:h}=t;c&&(n+=`rotate(${c}deg) `),d&&(n+=`rotateX(${d}deg) `),h&&(n+=`rotateY(${h}deg) `)}const o=r.x.scale*e.x,l=r.y.scale*e.y;return(o!==1||l!==1)&&(n+=`scale(${o}, ${l})`),n||"none"}const VR=(r,e)=>r.depth-e.depth;class HR{constructor(){this.children=[],this.isDirty=!1}add(e){cx(this.children,e),this.isDirty=!0}remove(e){ux(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(VR),this.isDirty=!1,this.children.forEach(e)}}function GR(r,e){const t=performance.now(),n=({timestamp:i})=>{const s=i-t;s>=e&&(Ya(n),r(s-e))};return Bn.read(n,!0),()=>Ya(n)}function WR(r){window.MotionDebug&&window.MotionDebug.record(r)}function jR(r){return r instanceof SVGElement&&r.tagName!=="svg"}function XR(r,e,t){const n=ds(r)?r:tf(r);return n.start(lx("",n,e,t)),n.animation}const VC=["","X","Y","Z"],YR={visibility:"hidden"},HC=1e3;let qR=0;const Kc={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function jb({attachResizeListener:r,defaultParent:e,measureScroll:t,checkIsScrollRoot:n,resetTransform:i}){return class{constructor(o={},l=e==null?void 0:e()){this.id=qR++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Kc.totalNodes=Kc.resolvedTargetDeltas=Kc.recalculatedProjection=0,this.nodes.forEach(JR),this.nodes.forEach(nD),this.nodes.forEach(rD),this.nodes.forEach(QR),WR(Kc)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new HR)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new dx),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=jR(o),this.instance=o;const{layoutId:c,layout:d,visualElement:h}=this.options;if(h&&!h.current&&h.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(d||c)&&(this.isLayoutDirty=!0),r){let m;const y=()=>this.root.updateBlockedByResize=!1;r(o,()=>{this.root.updateBlockedByResize=!0,m&&m(),m=GR(y,250),wg.hasAnimatedSinceResize&&(wg.hasAnimatedSinceResize=!1,this.nodes.forEach(WC))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&h&&(c||d)&&this.addEventListener("didUpdate",({delta:m,hasLayoutChanged:y,hasRelativeTargetChanged:v,layout:C})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const b=this.options.transition||h.getDefaultTransition()||lD,{onLayoutAnimationStart:_,onLayoutAnimationComplete:S}=h.getProps(),A=!this.targetLayout||!Wb(this.targetLayout,C)||v,E=!y&&v;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||E||y&&(A||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(m,E);const P={...ax(b,"layout"),onPlay:_,onComplete:S};(h.shouldReduceMotion||this.options.layoutRoot)&&(P.delay=0,P.type=!1),this.startAnimation(P)}else y||WC(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=C})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Ya(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(iD),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const m=this.path[h];m.shouldResetTransform=!0,m.updateScroll("snapshot"),m.options.layoutRoot&&m.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(GC);return}this.isUpdating||this.nodes.forEach(eD),this.isUpdating=!1,this.nodes.forEach(tD),this.nodes.forEach(KR),this.nodes.forEach(ZR),this.clearAllSnapshots();const l=performance.now();bi.delta=ql(0,1e3/60,l-bi.timestamp),bi.timestamp=l,bi.isProcessing=!0,yv.update.process(bi),yv.preRender.process(bi),yv.render.process(bi),bi.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach($R),this.sharedNodes.forEach(sD)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Bn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Bn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ur(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:n(this.instance),offset:t(this.instance)})}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform,l=this.projectionDelta&&!Gb(this.projectionDelta),c=this.getTransformTemplate(),d=c?c(this.latestValues,""):void 0,h=d!==this.prevTransformTemplateValue;o&&(l||qc(this.latestValues)||h)&&(i(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),cD(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return Ur();const l=o.measureViewportBox(),{scroll:c}=this.root;return c&&(Bl(l.x,c.offset.x),Bl(l.y,c.offset.y)),l}removeElementScroll(o){const l=Ur();js(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c],{scroll:h,options:m}=d;if(d!==this.root&&h&&m.layoutScroll){if(h.isRoot){js(l,o);const{scroll:y}=this.root;y&&(Bl(l.x,-y.offset.x),Bl(l.y,-y.offset.y))}Bl(l.x,h.offset.x),Bl(l.y,h.offset.y)}}return l}applyTransform(o,l=!1){const c=Ur();js(c,o);for(let d=0;d<this.path.length;d++){const h=this.path[d];!l&&h.options.layoutScroll&&h.scroll&&h!==h.root&&Yd(c,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),qc(h.latestValues)&&Yd(c,h.latestValues)}return qc(this.latestValues)&&Yd(c,this.latestValues),c}removeTransform(o){const l=Ur();js(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];if(!d.instance||!qc(d.latestValues))continue;H0(d.latestValues)&&d.updateSnapshot();const h=Ur(),m=d.measurePageBox();js(h,m),OC(l,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,h)}return qc(this.latestValues)&&OC(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==bi.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var l;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==c;if(!(o||d&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:m,layoutId:y}=this.options;if(!(!this.layout||!(m||y))){if(this.resolvedRelativeTargetAt=bi.timestamp,!this.targetDelta&&!this.relativeTarget){const v=this.getClosestProjectingParent();v&&v.layout&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ur(),this.relativeTargetOrigin=Ur(),Ph(this.relativeTargetOrigin,this.layout.layoutBox,v.layout.layoutBox),js(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Ur(),this.targetWithTransforms=Ur()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),uR(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):js(this.target,this.layout.layoutBox),Ob(this.target,this.targetDelta)):js(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const v=this.getClosestProjectingParent();v&&!!v.resumingFrom==!!this.resumingFrom&&!v.options.layoutScroll&&v.target&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ur(),this.relativeTargetOrigin=Ur(),Ph(this.relativeTargetOrigin,this.target,v.target),js(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Kc.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||H0(this.parent.latestValues)||Nb(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let d=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(d=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===bi.timestamp&&(d=!1),d)return;const{layout:h,layoutId:m}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||m))return;js(this.layoutCorrected,this.layout.layoutBox);const y=this.treeScale.x,v=this.treeScale.y;xR(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox);const{target:C}=l;if(!C){this.projectionTransform&&(this.projectionDelta=Xd(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=Xd(),this.projectionDeltaWithTransform=Xd());const b=this.projectionTransform;Th(this.projectionDelta,this.layoutCorrected,C,this.latestValues),this.projectionTransform=zC(this.projectionDelta,this.treeScale),(this.projectionTransform!==b||this.treeScale.x!==y||this.treeScale.y!==v)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",C)),Kc.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,l=!1){const c=this.snapshot,d=c?c.latestValues:{},h={...this.latestValues},m=Xd();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const y=Ur(),v=c?c.source:void 0,C=this.layout?this.layout.source:void 0,b=v!==C,_=this.getStack(),S=!_||_.members.length<=1,A=!!(b&&!S&&this.options.crossfade===!0&&!this.path.some(aD));this.animationProgress=0;let E;this.mixTargetDelta=P=>{const I=P/1e3;jC(m.x,o.x,I),jC(m.y,o.y,I),this.setTargetDelta(m),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ph(y,this.layout.layoutBox,this.relativeParent.layout.layoutBox),oD(this.relativeTarget,this.relativeTargetOrigin,y,I),E&&BR(this.relativeTarget,E)&&(this.isProjectionDirty=!1),E||(E=Ur()),js(E,this.relativeTarget)),b&&(this.animationValues=h,IR(h,d,this.latestValues,I,A,S)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=I},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Ya(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Bn.update(()=>{wg.hasAnimatedSinceResize=!0,this.currentAnimation=XR(0,HC,{...o,onUpdate:l=>{this.mixTargetDelta(l),o.onUpdate&&o.onUpdate(l)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(HC),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:d,latestValues:h}=o;if(!(!l||!c||!d)){if(this!==o&&this.layout&&d&&Xb(this.options.animationType,this.layout.layoutBox,d.layoutBox)){c=this.target||Ur();const m=Ds(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+m;const y=Ds(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+y}js(l,c),Yd(l,h),Th(this.projectionDeltaWithTransform,this.layoutCorrected,l,h)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new zR),this.sharedNodes.get(o).add(l);const d=l.options.initialPromotionConfig;l.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:l}=this.options;return l?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:l}=this.options;return l?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const d=this.getStack();d&&d.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.rotate||c.rotateX||c.rotateY||c.rotateZ)&&(l=!0),!l)return;const d={};for(let h=0;h<VC.length;h++){const m="rotate"+VC[h];c[m]&&(d[m]=c[m],o.setStaticValue(m,0))}o.render();for(const h in d)o.setStaticValue(h,d[h]);o.scheduleRender()}getProjectionStyles(o){var l,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return YR;const d={visibility:""},h=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,d.opacity="",d.pointerEvents=Cg(o==null?void 0:o.pointerEvents)||"",d.transform=h?h(this.latestValues,""):"none",d;const m=this.getLead();if(!this.projectionDelta||!this.layout||!m.target){const b={};return this.options.layoutId&&(b.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,b.pointerEvents=Cg(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!qc(this.latestValues)&&(b.transform=h?h({},""):"none",this.hasProjected=!1),b}const y=m.animationValues||m.latestValues;this.applyTransformsToTarget(),d.transform=zC(this.projectionDeltaWithTransform,this.treeScale,y),h&&(d.transform=h(y,d.transform));const{x:v,y:C}=this.projectionDelta;d.transformOrigin=`${v.origin*100}% ${C.origin*100}% 0`,m.animationValues?d.opacity=m===this?(c=(l=y.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:d.opacity=m===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const b in Ig){if(y[b]===void 0)continue;const{correct:_,applyTo:S}=Ig[b],A=d.transform==="none"?y[b]:_(y[b],m);if(S){const E=S.length;for(let P=0;P<E;P++)d[S[P]]=A}else d[b]=A}return this.options.layoutId&&(d.pointerEvents=m===this?Cg(o==null?void 0:o.pointerEvents)||"":"none"),d}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(GC),this.root.sharedNodes.clear()}}}function KR(r){r.updateLayout()}function ZR(r){var e;const t=((e=r.resumeFrom)===null||e===void 0?void 0:e.snapshot)||r.snapshot;if(r.isLead()&&r.layout&&t&&r.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:i}=r.layout,{animationType:s}=r.options,o=t.source!==r.layout.source;s==="size"?Ys(m=>{const y=o?t.measuredBox[m]:t.layoutBox[m],v=Ds(y);y.min=n[m].min,y.max=y.min+v}):Xb(s,t.layoutBox,n)&&Ys(m=>{const y=o?t.measuredBox[m]:t.layoutBox[m],v=Ds(n[m]);y.max=y.min+v,r.relativeTarget&&!r.currentAnimation&&(r.isProjectionDirty=!0,r.relativeTarget[m].max=r.relativeTarget[m].min+v)});const l=Xd();Th(l,n,t.layoutBox);const c=Xd();o?Th(c,r.applyTransform(i,!0),t.measuredBox):Th(c,n,t.layoutBox);const d=!Gb(l);let h=!1;if(!r.resumeFrom){const m=r.getClosestProjectingParent();if(m&&!m.resumeFrom){const{snapshot:y,layout:v}=m;if(y&&v){const C=Ur();Ph(C,t.layoutBox,y.layoutBox);const b=Ur();Ph(b,n,v.layoutBox),Wb(C,b)||(h=!0),m.options.layoutRoot&&(r.relativeTarget=b,r.relativeTargetOrigin=C,r.relativeParent=m)}}}r.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:c,layoutDelta:l,hasLayoutChanged:d,hasRelativeTargetChanged:h})}else if(r.isLead()){const{onExitComplete:n}=r.options;n&&n()}r.options.transition=void 0}function JR(r){Kc.totalNodes++,r.parent&&(r.isProjecting()||(r.isProjectionDirty=r.parent.isProjectionDirty),r.isSharedProjectionDirty||(r.isSharedProjectionDirty=!!(r.isProjectionDirty||r.parent.isProjectionDirty||r.parent.isSharedProjectionDirty)),r.isTransformDirty||(r.isTransformDirty=r.parent.isTransformDirty))}function QR(r){r.isProjectionDirty=r.isSharedProjectionDirty=r.isTransformDirty=!1}function $R(r){r.clearSnapshot()}function GC(r){r.clearMeasurements()}function eD(r){r.isLayoutDirty=!1}function tD(r){const{visualElement:e}=r.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),r.resetTransform()}function WC(r){r.finishAnimation(),r.targetDelta=r.relativeTarget=r.target=void 0,r.isProjectionDirty=!0}function nD(r){r.resolveTargetDelta()}function rD(r){r.calcProjection()}function iD(r){r.resetRotation()}function sD(r){r.removeLeadSnapshot()}function jC(r,e,t){r.translate=$n(e.translate,0,t),r.scale=$n(e.scale,1,t),r.origin=e.origin,r.originPoint=e.originPoint}function XC(r,e,t,n){r.min=$n(e.min,t.min,n),r.max=$n(e.max,t.max,n)}function oD(r,e,t,n){XC(r.x,e.x,t.x,n),XC(r.y,e.y,t.y,n)}function aD(r){return r.animationValues&&r.animationValues.opacityExit!==void 0}const lD={duration:.45,ease:[.4,0,.1,1]},YC=r=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(r),qC=YC("applewebkit/")&&!YC("chrome/")?Math.round:Cr;function KC(r){r.min=qC(r.min),r.max=qC(r.max)}function cD(r){KC(r.x),KC(r.y)}function Xb(r,e,t){return r==="position"||r==="preserve-aspect"&&!z0(BC(e),BC(t),.2)}const uD=jb({attachResizeListener:(r,e)=>Ha(r,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Tv={current:void 0},Yb=jb({measureScroll:r=>({x:r.scrollLeft,y:r.scrollTop}),defaultParent:()=>{if(!Tv.current){const r=new uD({});r.mount(window),r.setOptions({layoutScroll:!0}),Tv.current=r}return Tv.current},resetTransform:(r,e)=>{r.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:r=>window.getComputedStyle(r).position==="fixed"}),dD={pan:{Feature:AR},drag:{Feature:ER,ProjectionNode:Yb,MeasureLayout:zb}},fD=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function hD(r){const e=fD.exec(r);if(!e)return[,];const[,t,n]=e;return[t,n]}function W0(r,e,t=1){const[n,i]=hD(r);if(!n)return;const s=window.getComputedStyle(e).getPropertyValue(n);if(s){const o=s.trim();return Pb(o)?parseFloat(o):o}else return I0(i)?W0(i,e,t+1):i}function pD(r,{...e},t){const n=r.current;if(!(n instanceof Element))return{target:e,transitionEnd:t};t&&(t={...t}),r.values.forEach(i=>{const s=i.get();if(!I0(s))return;const o=W0(s,n);o&&i.set(o)});for(const i in e){const s=e[i];if(!I0(s))continue;const o=W0(s,n);o&&(e[i]=o,t||(t={}),t[i]===void 0&&(t[i]=s))}return{target:e,transitionEnd:t}}const mD=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),qb=r=>mD.has(r),gD=r=>Object.keys(r).some(qb),ZC=r=>r===wu||r===Wt,JC=(r,e)=>parseFloat(r.split(", ")[e]),QC=(r,e)=>(t,{transform:n})=>{if(n==="none"||!n)return 0;const i=n.match(/^matrix3d\((.+)\)$/);if(i)return JC(i[1],e);{const s=n.match(/^matrix\((.+)\)$/);return s?JC(s[1],r):0}},yD=new Set(["x","y","z"]),vD=pp.filter(r=>!yD.has(r));function xD(r){const e=[];return vD.forEach(t=>{const n=r.getValue(t);n!==void 0&&(e.push([t,n.get()]),n.set(t.startsWith("scale")?1:0))}),e.length&&r.render(),e}const nf={width:({x:r},{paddingLeft:e="0",paddingRight:t="0"})=>r.max-r.min-parseFloat(e)-parseFloat(t),height:({y:r},{paddingTop:e="0",paddingBottom:t="0"})=>r.max-r.min-parseFloat(e)-parseFloat(t),top:(r,{top:e})=>parseFloat(e),left:(r,{left:e})=>parseFloat(e),bottom:({y:r},{top:e})=>parseFloat(e)+(r.max-r.min),right:({x:r},{left:e})=>parseFloat(e)+(r.max-r.min),x:QC(4,13),y:QC(5,14)};nf.translateX=nf.x;nf.translateY=nf.y;const CD=(r,e,t)=>{const n=e.measureViewportBox(),i=e.current,s=getComputedStyle(i),{display:o}=s,l={};o==="none"&&e.setStaticValue("display",r.display||"block"),t.forEach(d=>{l[d]=nf[d](n,s)}),e.render();const c=e.measureViewportBox();return t.forEach(d=>{const h=e.getValue(d);h&&h.jump(l[d]),r[d]=nf[d](c,s)}),r},wD=(r,e,t={},n={})=>{e={...e},n={...n};const i=Object.keys(e).filter(qb);let s=[],o=!1;const l=[];if(i.forEach(c=>{const d=r.getValue(c);if(!r.hasValue(c))return;let h=t[c],m=ah(h);const y=e[c];let v;if(kg(y)){const C=y.length,b=y[0]===null?1:0;h=y[b],m=ah(h);for(let _=b;_<C&&y[_]!==null;_++)v?nx(ah(y[_])===v):v=ah(y[_])}else v=ah(y);if(m!==v)if(ZC(m)&&ZC(v)){const C=d.get();typeof C=="string"&&d.set(parseFloat(C)),typeof y=="string"?e[c]=parseFloat(y):Array.isArray(y)&&v===Wt&&(e[c]=y.map(parseFloat))}else m!=null&&m.transform&&(v!=null&&v.transform)&&(h===0||y===0)?h===0?d.set(v.transform(h)):e[c]=m.transform(y):(o||(s=xD(r),o=!0),l.push(c),n[c]=n[c]!==void 0?n[c]:e[c],d.jump(y))}),l.length){const c=l.indexOf("height")>=0?window.pageYOffset:null,d=CD(e,r,l);return s.length&&s.forEach(([h,m])=>{r.getValue(h).set(m)}),r.render(),$g&&c!==null&&window.scrollTo({top:c}),{target:d,transitionEnd:n}}else return{target:e,transitionEnd:n}};function _D(r,e,t,n){return gD(e)?wD(r,e,t,n):{target:e,transitionEnd:n}}const SD=(r,e,t,n)=>{const i=pD(r,e,n);return e=i.target,n=i.transitionEnd,_D(r,e,t,n)},j0={current:null},Kb={current:!1};function bD(){if(Kb.current=!0,!!$g)if(window.matchMedia){const r=window.matchMedia("(prefers-reduced-motion)"),e=()=>j0.current=r.matches;r.addListener(e),e()}else j0.current=!1}function MD(r,e,t){const{willChange:n}=e;for(const i in e){const s=e[i],o=t[i];if(ds(s))r.addValue(i,s),Bg(n)&&n.add(i);else if(ds(o))r.addValue(i,tf(s,{owner:r})),Bg(n)&&n.remove(i);else if(o!==s)if(r.hasValue(i)){const l=r.getValue(i);!l.hasAnimated&&l.set(s)}else{const l=r.getStaticValue(i);r.addValue(i,tf(l!==void 0?l:s,{owner:r}))}}for(const i in t)e[i]===void 0&&r.removeValue(i);return e}const $C=new WeakMap,Zb=Object.keys(Vh),ED=Zb.length,ew=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],AD=Y2.length;class TD{constructor({parent:e,props:t,presenceContext:n,reducedMotionConfig:i,visualState:s},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Bn.render(this.render,!1,!0);const{latestValues:l,renderState:c}=s;this.latestValues=l,this.baseTarget={...l},this.initialValues=t.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=t,this.presenceContext=n,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=o,this.isControllingVariants=ty(t),this.isVariantNode=US(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:d,...h}=this.scrapeMotionValuesFromProps(t,{});for(const m in h){const y=h[m];l[m]!==void 0&&ds(y)&&(y.set(l[m],!1),Bg(d)&&d.add(m))}}scrapeMotionValuesFromProps(e,t){return{}}mount(e){this.current=e,$C.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,n)=>this.bindToMotionValue(n,t)),Kb.current||bD(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:j0.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){$C.delete(this.current),this.projection&&this.projection.unmount(),Ya(this.notifyUpdate),Ya(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,t){const n=Cu.has(e),i=t.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&Bn.update(this.notifyUpdate,!1,!0),n&&this.projection&&(this.projection.isTransformDirty=!0)}),s=t.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{i(),s()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...t},n,i,s){let o,l;for(let c=0;c<ED;c++){const d=Zb[c],{isEnabled:h,Feature:m,ProjectionNode:y,MeasureLayout:v}=Vh[d];y&&(o=y),h(t)&&(!this.features[d]&&m&&(this.features[d]=new m(this)),v&&(l=v))}if((this.type==="html"||this.type==="svg")&&!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:c,layout:d,drag:h,dragConstraints:m,layoutScroll:y,layoutRoot:v}=t;this.projection.setOptions({layoutId:c,layout:d,alwaysMeasureLayout:!!h||m&&Wd(m),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof d=="string"?d:"both",initialPromotionConfig:s,layoutScroll:y,layoutRoot:v})}return l}updateFeatures(){for(const e in this.features){const t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ur()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}makeTargetAnimatable(e,t=!0){return this.makeTargetAnimatableFromInstance(e,this.props,t)}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let n=0;n<ew.length;n++){const i=ew[n];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s=e["on"+i];s&&(this.propEventSubscriptions[i]=this.on(i,s))}this.prevMotionValues=MD(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const n=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(n.initial=this.props.initial),n}const t={};for(let n=0;n<AD;n++){const i=Y2[n],s=this.props[i];(zh(s)||s===!1)&&(t[i]=s)}return t}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){t!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,t)),this.values.set(e,t),this.latestValues[e]=t.get()}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return n===void 0&&t!==void 0&&(n=tf(t,{owner:this}),this.addValue(e,n)),n}readValue(e){var t;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(t=this.getBaseTargetFromProps(this.props,e))!==null&&t!==void 0?t:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:n}=this.props,i=typeof n=="string"||typeof n=="object"?(t=tx(this.props,n))===null||t===void 0?void 0:t[e]:void 0;if(n&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!ds(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new dx),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class Jb extends TD{sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:n}){delete t[e],delete n[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:t,...n},{transformValues:i},s){let o=jP(n,e||{},this);if(i&&(t&&(t=i(t)),n&&(n=i(n)),o&&(o=i(o))),s){GP(this,n,o);const l=SD(this,n,o,t);t=l.transitionEnd,n=l.target}return{transition:e,transitionEnd:t,...n}}}function PD(r){return window.getComputedStyle(r)}class RD extends Jb{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,t){if(Cu.has(t)){const n=ox(t);return n&&n.default||0}else{const n=PD(e),i=(FS(t)?n.getPropertyValue(t):n[t])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:t}){return Fb(e,t)}build(e,t,n,i){Z2(e,t,n,i.transformTemplate)}scrapeMotionValuesFromProps(e,t){return ex(e,t)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;ds(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}renderInstance(e,t,n,i){WS(e,t,n,i)}}class DD extends Jb{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(Cu.has(t)){const n=ox(t);return n&&n.default||0}return t=jS.has(t)?t:j2(t),e.getAttribute(t)}measureInstanceViewportBox(){return Ur()}scrapeMotionValuesFromProps(e,t){return YS(e,t)}build(e,t,n,i){Q2(e,t,n,this.isSVGTag,i.transformTemplate)}renderInstance(e,t,n,i){XS(e,t,n,i)}mount(e){this.isSVGTag=$2(e.tagName),super.mount(e)}}const LD=(r,e)=>K2(r)?new DD(e,{enableHardwareAcceleration:!1}):new RD(e,{enableHardwareAcceleration:!0}),ID={layout:{ProjectionNode:Yb,MeasureLayout:zb}},UD={...oR,...E3,...dD,...ID},ut=k5((r,e)=>h3(r,e,UD,LD));function Qb(){const r=ue.useRef(!1);return W2(()=>(r.current=!0,()=>{r.current=!1}),[]),r}function kD(){const r=Qb(),[e,t]=ue.useState(0),n=ue.useCallback(()=>{r.current&&t(e+1)},[e]);return[ue.useCallback(()=>Bn.postRender(n),[n]),e]}class ND extends ue.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const n=this.props.sizeRef.current;n.height=t.offsetHeight||0,n.width=t.offsetWidth||0,n.top=t.offsetTop,n.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function OD({children:r,isPresent:e}){const t=ue.useId(),n=ue.useRef(null),i=ue.useRef({width:0,height:0,top:0,left:0});return ue.useInsertionEffect(()=>{const{width:s,height:o,top:l,left:c}=i.current;if(e||!n.current||!s||!o)return;n.current.dataset.motionPopId=t;const d=document.createElement("style");return document.head.appendChild(d),d.sheet&&d.sheet.insertRule(`
          [data-motion-pop-id="${t}"] {
            position: absolute !important;
            width: ${s}px !important;
            height: ${o}px !important;
            top: ${l}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(d)}},[e]),ue.createElement(ND,{isPresent:e,childRef:n,sizeRef:i},ue.cloneElement(r,{ref:n}))}const Pv=({children:r,initial:e,isPresent:t,onExitComplete:n,custom:i,presenceAffectsLayout:s,mode:o})=>{const l=qS(FD),c=ue.useId(),d=ue.useMemo(()=>({id:c,initial:e,isPresent:t,custom:i,onExitComplete:h=>{l.set(h,!0);for(const m of l.values())if(!m)return;n&&n()},register:h=>(l.set(h,!1),()=>l.delete(h))}),s?void 0:[t]);return ue.useMemo(()=>{l.forEach((h,m)=>l.set(m,!1))},[t]),ue.useEffect(()=>{!t&&!l.size&&n&&n()},[t]),o==="popLayout"&&(r=ue.createElement(OD,{isPresent:t},r)),ue.createElement(Qg.Provider,{value:d},r)};function FD(){return new Map}function BD(r){return ue.useEffect(()=>()=>r(),[])}const Zc=r=>r.key||"";function zD(r,e){r.forEach(t=>{const n=Zc(t);e.set(n,t)})}function VD(r){const e=[];return ue.Children.forEach(r,t=>{ue.isValidElement(t)&&e.push(t)}),e}const HD=({children:r,custom:e,initial:t=!0,onExitComplete:n,exitBeforeEnter:i,presenceAffectsLayout:s=!0,mode:o="sync"})=>{const l=ue.useContext(q2).forceRender||kD()[0],c=Qb(),d=VD(r);let h=d;const m=ue.useRef(new Map).current,y=ue.useRef(h),v=ue.useRef(new Map).current,C=ue.useRef(!0);if(W2(()=>{C.current=!1,zD(d,v),y.current=h}),BD(()=>{C.current=!0,v.clear(),m.clear()}),C.current)return ue.createElement(ue.Fragment,null,h.map(A=>ue.createElement(Pv,{key:Zc(A),isPresent:!0,initial:t?void 0:!1,presenceAffectsLayout:s,mode:o},A)));h=[...h];const b=y.current.map(Zc),_=d.map(Zc),S=b.length;for(let A=0;A<S;A++){const E=b[A];_.indexOf(E)===-1&&!m.has(E)&&m.set(E,void 0)}return o==="wait"&&m.size&&(h=[]),m.forEach((A,E)=>{if(_.indexOf(E)!==-1)return;const P=v.get(E);if(!P)return;const I=b.indexOf(E);let k=A;if(!k){const F=()=>{m.delete(E);const V=Array.from(v.keys()).filter(U=>!_.includes(U));if(V.forEach(U=>v.delete(U)),y.current=d.filter(U=>{const O=Zc(U);return O===E||V.includes(O)}),!m.size){if(c.current===!1)return;l(),n&&n()}};k=ue.createElement(Pv,{key:Zc(P),isPresent:!1,onExitComplete:F,custom:e,presenceAffectsLayout:s,mode:o},P),m.set(E,k)}h.splice(I,0,k)}),h=h.map(A=>{const E=A.key;return m.has(E)?A:ue.createElement(Pv,{key:Zc(A),isPresent:!0,presenceAffectsLayout:s,mode:o},A)}),ue.createElement(ue.Fragment,null,m.size?h:h.map(A=>ue.cloneElement(A)))};function GD({onComplete:r,duration:e=6e3}){const[t,n]=ue.useState("blackout");return ue.useEffect(()=>{const i=setTimeout(()=>n("entering"),500),s=setTimeout(()=>n("revealing"),2e3),o=setTimeout(()=>n("glitching"),4e3),l=setTimeout(()=>n("exiting"),5e3),c=setTimeout(()=>r(),e);return()=>{clearTimeout(i),clearTimeout(s),clearTimeout(o),clearTimeout(l),clearTimeout(c)}},[r,e]),z.jsx(HD,{children:z.jsxs(ut.div,{className:"fixed inset-0 z-50 overflow-hidden",initial:{opacity:1},exit:{opacity:1},transition:{duration:1,ease:"easeInOut"},children:[z.jsxs(ut.svg,{className:"absolute inset-0 w-full h-full",initial:{opacity:1,scale:1},animate:{opacity:1,scale:t==="exiting"?8.15:1},transition:{duration:1.2,ease:"easeOut"},children:[z.jsx("defs",{"trae-inspector-start-line":"57","trae-inspector-start-column":"10","trae-inspector-end-line":"79","trae-inspector-end-column":"17","trae-inspector-file-path":"src\\\\components\\\\animations\\\\SplashScreen.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5Cyeeg2%5C%5COneDrive%5C%5CDocumentos%5C%5CProjects%5C%5Cfrontend%5C%5Cenaria-mx%22%7D",children:z.jsxs("mask",{"trae-inspector-start-line":"58","trae-inspector-start-column":"12","trae-inspector-end-line":"78","trae-inspector-end-column":"19","trae-inspector-file-path":"src\\\\components\\\\animations\\\\SplashScreen.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5Cyeeg2%5C%5COneDrive%5C%5CDocumentos%5C%5CProjects%5C%5Cfrontend%5C%5Cenaria-mx%22%7D",id:"logoMask",children:[z.jsx("rect",{"trae-inspector-start-line":"59","trae-inspector-start-column":"14","trae-inspector-end-line":"59","trae-inspector-end-column":"62","trae-inspector-file-path":"src\\\\components\\\\animations\\\\SplashScreen.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5Cyeeg2%5C%5COneDrive%5C%5CDocumentos%5C%5CProjects%5C%5Cfrontend%5C%5Cenaria-mx%22%7D",width:"100%",height:"100%",fill:"white"}),z.jsx("svg",{"trae-inspector-start-line":"60","trae-inspector-start-column":"14","trae-inspector-end-line":"77","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\animations\\\\SplashScreen.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5Cyeeg2%5C%5COneDrive%5C%5CDocumentos%5C%5CProjects%5C%5Cfrontend%5C%5Cenaria-mx%22%7D",x:"50%",y:"50%",width:"600",height:"100",viewBox:"0 0 146 24",transform:"translate(-300,-50)",children:z.jsxs("g",{"trae-inspector-start-line":"68","trae-inspector-start-column":"16","trae-inspector-end-line":"76","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\animations\\\\SplashScreen.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5Cyeeg2%5C%5COneDrive%5C%5CDocumentos%5C%5CProjects%5C%5Cfrontend%5C%5Cenaria-mx%22%7D",fill:"black",stroke:"white",strokeWidth:"1",children:[z.jsx("path",{d:"M24.236 23.7652H11.831C5.30716 23.7652 0 18.4349 0 11.8826C0 5.33027 5.30716 0 11.831 0H24.236V5.37218H11.831C8.25662 5.37218 5.34888 8.29258 5.34888 11.8826C5.34888 15.4726 8.25662 18.393 11.831 18.393H24.236V23.7652Z"}),z.jsx("path",{d:"M16.7977 9.48438H10.6851V14.281H16.7977V9.48438Z"}),z.jsx("path",{d:"M52.3017 23.766H46.9528V12.1699C46.9528 8.42171 43.9165 5.37218 40.1845 5.37218C36.4526 5.37218 33.4163 8.42171 33.4163 12.1699V23.766H28.0674V12.1699C28.0674 5.4594 33.5031 0 40.1845 0C46.8659 0 52.3017 5.4594 52.3017 12.1699V23.766Z"}),z.jsx("path",{d:"M83.0437 23.7652H67.9644C61.4405 23.7652 56.1333 18.4349 56.1333 11.8826C56.1333 5.33027 61.4405 0 67.9644 0H71.2135C77.7374 0 83.0446 5.33027 83.0446 11.8826V23.7652H83.0437ZM67.9644 5.37303C64.3899 5.37303 61.4822 8.29344 61.4822 11.8834C61.4822 15.4734 64.3899 18.3938 67.9644 18.3938H77.6948V11.8834C77.6948 8.29344 74.7871 5.37303 71.2127 5.37303H67.9635H67.9644Z"}),z.jsx("path",{d:"M92.2253 23.766H86.8765V12.1699C86.8765 5.4594 92.3122 0 98.9936 0H107.415V5.37218H98.9936C95.2617 5.37218 92.2253 8.42171 92.2253 12.1699V23.766Z"}),z.jsx("path",{d:"M116.595 0.00390625H111.246V23.7622H116.595V0.00390625Z"}),z.jsx("path",{d:"M146 23.7652H132.257C125.733 23.7652 120.426 18.4349 120.426 11.8826C120.426 5.33027 125.733 0 132.257 0H134.169C140.693 0 146 5.33027 146 11.8826V23.7652ZM132.257 5.37303C128.683 5.37303 125.775 8.29344 125.775 11.8834C125.775 15.4734 128.683 18.3938 132.257 18.3938H140.651V11.8834C140.651 8.29344 137.743 5.37303 134.169 5.37303H132.257Z"})]})})]})}),z.jsx("rect",{"trae-inspector-start-line":"80","trae-inspector-start-column":"10","trae-inspector-end-line":"80","trae-inspector-end-column":"80","trae-inspector-file-path":"src\\\\components\\\\animations\\\\SplashScreen.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5Cyeeg2%5C%5COneDrive%5C%5CDocumentos%5C%5CProjects%5C%5Cfrontend%5C%5Cenaria-mx%22%7D",width:"100%",height:"100%",fill:"black",mask:"url(#logoMask)"})]}),z.jsx(ut.div,{className:"absolute top-0 left-0 w-full h-16 bg-black z-40",initial:{y:-64},animate:{y:t==="blackout"?-64:0},transition:{duration:.8,ease:"easeOut"}}),z.jsx(ut.div,{className:"absolute bottom-0 left-0 w-full h-16 bg-black z-40",initial:{y:64},animate:{y:t==="blackout"?64:0},transition:{duration:.8,ease:"easeOut"}}),z.jsx("div",{"trae-inspector-start-line":"98","trae-inspector-start-column":"8","trae-inspector-end-line":"123","trae-inspector-end-column":"14","trae-inspector-file-path":"src\\\\components\\\\animations\\\\SplashScreen.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5Cyeeg2%5C%5COneDrive%5C%5CDocumentos%5C%5CProjects%5C%5Cfrontend%5C%5Cenaria-mx%22%7D",className:"absolute inset-0 overflow-hidden",children:[...Array(100)].map((i,s)=>z.jsx(ut.div,{className:"absolute w-0.5 h-0.5 bg-accent-cyan rounded-full",initial:{x:Math.random()*window.innerWidth,y:-10,opacity:0},animate:{y:window.innerHeight+10,opacity:t==="revealing"||t==="glitching"?[0,1,0]:0},transition:{duration:Math.random()*3+2,delay:Math.random()*2,repeat:1/0,ease:"linear"}},s))}),t==="glitching"&&z.jsx(ut.div,{className:"absolute inset-0 bg-gradient-to-r from-transparent via-accent-cyan/10 to-transparent",animate:{x:[-100,100,-100],opacity:[0,.3,0]},transition:{duration:.3,repeat:3,ease:"easeInOut"}}),z.jsxs("div",{"trae-inspector-start-line":"142","trae-inspector-start-column":"8","trae-inspector-end-line":"232","trae-inspector-end-column":"14","trae-inspector-file-path":"src\\\\components\\\\animations\\\\SplashScreen.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5Cyeeg2%5C%5COneDrive%5C%5CDocumentos%5C%5CProjects%5C%5Cfrontend%5C%5Cenaria-mx%22%7D",className:"absolute inset-0 flex items-center justify-center",children:[z.jsx(ut.div,{className:"absolute w-96 h-96 bg-gradient-radial from-accent-cyan/30 via-accent-cyan/10 to-transparent rounded-full blur-3xl",initial:{scale:0,opacity:0},animate:{scale:t==="revealing"||t==="glitching"?1.5:0,opacity:t==="revealing"||t==="glitching"?.6:0},transition:{duration:2,ease:"easeOut"}}),z.jsxs(ut.div,{className:"relative z-10 text-center",initial:{scale:.5,opacity:0},animate:{scale:t==="exiting"?1.25:1,opacity:1,rotateX:t==="glitching"?[0,5,-5,0]:0},transition:{duration:t==="glitching"?.2:1.2,ease:"easeOut",repeat:t==="glitching"?2:0},children:[z.jsxs("div",{"trae-inspector-start-line":"170","trae-inspector-start-column":"12","trae-inspector-end-line":"189","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\animations\\\\SplashScreen.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5Cyeeg2%5C%5COneDrive%5C%5CDocumentos%5C%5CProjects%5C%5Cfrontend%5C%5Cenaria-mx%22%7D",className:"relative",children:[z.jsx(ut.div,{className:"flex justify-center items-center",initial:{opacity:0},animate:{opacity:0}}),z.jsx(ut.div,{className:"absolute bottom-0 left-1/2 h-1 bg-gradient-to-r from-transparent via-accent-cyan to-transparent",initial:{width:0,x:"-50%"},animate:{width:t==="revealing"||t==="glitching"?"100%":0,opacity:t==="revealing"||t==="glitching"?1:0},transition:{duration:1.5,delay:2.5}})]}),z.jsx(ut.p,{className:"text-xl md:text-3xl text-accent-cyan mt-8 font-light tracking-widest font-inter",initial:{opacity:0,y:30,scale:.8},animate:{opacity:t==="revealing"||t==="glitching"?1:0,y:t==="revealing"||t==="glitching"?0:30,scale:t==="revealing"||t==="glitching"?1:.8},transition:{duration:1.2,delay:3},children:"IA para Trading en Mxico"}),z.jsx(ut.div,{className:"mt-12 flex justify-center",initial:{opacity:0},animate:{opacity:t==="revealing"?1:0},transition:{delay:3.5},children:z.jsx("div",{"trae-inspector-start-line":"212","trae-inspector-start-column":"14","trae-inspector-end-line":"229","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\animations\\\\SplashScreen.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5Cyeeg2%5C%5COneDrive%5C%5CDocumentos%5C%5CProjects%5C%5Cfrontend%5C%5Cenaria-mx%22%7D",className:"flex space-x-2",children:[...Array(3)].map((i,s)=>z.jsx(ut.div,{className:"w-2 h-2 bg-accent-cyan rounded-full",animate:{scale:[1,1.5,1],opacity:[.5,1,.5]},transition:{duration:1,delay:s*.2,repeat:1/0,ease:"easeInOut"}},s))})})]})]})]})})}var WD={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const jD=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ii=(r,e)=>{const t=ue.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:o,children:l,...c},d)=>ue.createElement("svg",{ref:d,...WD,width:i,height:i,stroke:n,strokeWidth:o?Number(s)*24/Number(i):s,className:`lucide lucide-${jD(r)}`,...c},[...e.map(([h,m])=>ue.createElement(h,m)),...(Array.isArray(l)?l:[l])||[]]));return t.displayName=`${r}`,t},XD=ii("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),$b=ii("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),YD=ii("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]),fx=ii("Brain",[["path",{d:"M9.5 2A2.5 2.5 0 0 1 12 4.5v15a2.5 2.5 0 0 1-4.96.44 2.5 2.5 0 0 1-2.96-3.08 3 3 0 0 1-.34-5.58 2.5 2.5 0 0 1 1.32-4.24 2.5 2.5 0 0 1 1.98-3A2.5 2.5 0 0 1 9.5 2Z",key:"1mhkh5"}],["path",{d:"M14.5 2A2.5 2.5 0 0 0 12 4.5v15a2.5 2.5 0 0 0 4.96.44 2.5 2.5 0 0 0 2.96-3.08 3 3 0 0 0 .34-5.58 2.5 2.5 0 0 0-1.32-4.24 2.5 2.5 0 0 0-1.98-3A2.5 2.5 0 0 0 14.5 2Z",key:"1d6s00"}]]),Vd=ii("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),qD=ii("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]),eM=ii("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),KD=ii("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),ZD=ii("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),JD=ii("Pointer",[["path",{d:"M22 14a8 8 0 0 1-8 8",key:"56vcr3"}],["path",{d:"M18 11v-1a2 2 0 0 0-2-2v0a2 2 0 0 0-2 2v0",key:"1pp0yd"}],["path",{d:"M14 10V9a2 2 0 0 0-2-2v0a2 2 0 0 0-2 2v1",key:"u654g"}],["path",{d:"M10 9.5V4a2 2 0 0 0-2-2v0a2 2 0 0 0-2 2v10",key:"1e2dtv"}],["path",{d:"M18 11a2 2 0 1 1 4 0v3a8 8 0 0 1-8 8h-2c-2.8 0-4.5-.86-5.99-2.34l-3.6-3.6a2 2 0 0 1 2.83-2.82L7 15",key:"g6ys72"}]]),QD=ii("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]),tM=ii("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]),$D=ii("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),eL=ii("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),rf=ii("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),tL=ii("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),nL=ii("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),nM=ii("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);function hx({className:r="",animate:e=!1,glitchEffect:t=!1,transparent:n=!1,strokeColor:i="#00D4FF",strokeWidth:s=2}){const o=[-200,-120,-60,60,120,200];return z.jsx(ut.div,{className:`inline-block ${r}`,initial:e?{scale:.8,opacity:0}:{},animate:e?{scale:1,opacity:1}:{},transition:{duration:1.2,ease:"easeOut"},onClick:()=>window.parent.location.replace("https://app.enaria.io/r/cfe1b67b"),children:z.jsxs(ut.svg,{xmlns:"http://www.w3.org/2000/svg",width:"146",height:"24",viewBox:"0 0 146 24",fill:"none",className:"w-full h-full",style:{filter:t?"hue-rotate(180deg)":"hue-rotate(0deg)",textShadow:"0 0 40px rgba(0, 212, 255, 0.8), 0 0 80px rgba(0, 212, 255, 0.4)"},animate:t?{filter:["hue-rotate(0deg)","hue-rotate(180deg)","hue-rotate(0deg)"],scale:[1,1.02,1]}:{},transition:t?{duration:.3,repeat:3,ease:"easeInOut"}:{},children:[z.jsxs(ut.g,{initial:e?{x:o[0],opacity:0,y:Math.random()*20-10}:{},animate:e?{x:0,opacity:1,y:0}:{},transition:{duration:.8,delay:1+0*.1,ease:"easeOut"},children:[z.jsx(ut.path,{d:"M24.236 23.7652H11.831C5.30716 23.7652 0 18.4349 0 11.8826C0 5.33027 5.30716 0 11.831 0H24.236V5.37218H11.831C8.25662 5.37218 5.34888 8.29258 5.34888 11.8826C5.34888 15.4726 8.25662 18.393 11.831 18.393H24.236V23.7652Z",fill:n?"transparent":"#FAFAFA",stroke:n?i:void 0,strokeWidth:n?s:void 0,initial:e?{pathLength:0}:{},animate:e?{pathLength:1}:{},transition:{duration:1.5,delay:1.5}}),z.jsx(ut.path,{d:"M16.7977 9.48438H10.6851V14.281H16.7977V9.48438Z",fill:n?"transparent":"#FAFAFA",stroke:n?i:void 0,strokeWidth:n?s:void 0,initial:e?{scale:0}:{},animate:e?{scale:1}:{},transition:{duration:.8,delay:2.2}})]}),z.jsx(ut.g,{initial:e?{x:o[1],opacity:0,y:Math.random()*20-10}:{},animate:e?{x:0,opacity:1,y:0}:{},transition:{duration:.8,delay:1+1*.1,ease:"easeOut"},children:z.jsx(ut.path,{d:"M52.3017 23.766H46.9528V12.1699C46.9528 8.42171 43.9165 5.37218 40.1845 5.37218C36.4526 5.37218 33.4163 8.42171 33.4163 12.1699V23.766H28.0674V12.1699C28.0674 5.4594 33.5031 0 40.1845 0C46.8659 0 52.3017 5.4594 52.3017 12.1699V23.766Z",fill:n?"transparent":"#FAFAFA",stroke:n?i:void 0,strokeWidth:n?s:void 0,initial:e?{pathLength:0}:{},animate:e?{pathLength:1}:{},transition:{duration:1.5,delay:1.7}})}),z.jsx(ut.g,{initial:e?{x:o[2],opacity:0,y:Math.random()*20-10}:{},animate:e?{x:0,opacity:1,y:0}:{},transition:{duration:.8,delay:1+2*.1,ease:"easeOut"},children:z.jsx(ut.path,{d:"M83.0437 23.7652H67.9644C61.4405 23.7652 56.1333 18.4349 56.1333 11.8826C56.1333 5.33027 61.4405 0 67.9644 0H71.2135C77.7374 0 83.0446 5.33027 83.0446 11.8826V23.7652H83.0437ZM67.9644 5.37303C64.3899 5.37303 61.4822 8.29344 61.4822 11.8834C61.4822 15.4734 64.3899 18.3938 67.9644 18.3938H77.6948V11.8834C77.6948 8.29344 74.7871 5.37303 71.2127 5.37303H67.9635H67.9644Z",fill:n?"transparent":"#FAFAFA",stroke:n?i:void 0,strokeWidth:n?s:void 0,initial:e?{pathLength:0}:{},animate:e?{pathLength:1}:{},transition:{duration:1.5,delay:1.9}})}),z.jsx(ut.g,{initial:e?{x:o[3],opacity:0,y:Math.random()*20-10}:{},animate:e?{x:0,opacity:1,y:0}:{},transition:{duration:.8,delay:1+3*.1,ease:"easeOut"},children:z.jsx(ut.path,{d:"M92.2253 23.766H86.8765V12.1699C86.8765 5.4594 92.3122 0 98.9936 0H107.415V5.37218H98.9936C95.2617 5.37218 92.2253 8.42171 92.2253 12.1699V23.766Z",fill:n?"transparent":"#FAFAFA",stroke:n?i:void 0,strokeWidth:n?s:void 0,initial:e?{pathLength:0}:{},animate:e?{pathLength:1}:{},transition:{duration:1.5,delay:2.1}})}),z.jsx(ut.g,{initial:e?{x:o[4],opacity:0,y:Math.random()*20-10}:{},animate:e?{x:0,opacity:1,y:0}:{},transition:{duration:.8,delay:1+4*.1,ease:"easeOut"},children:z.jsx(ut.path,{d:"M116.595 0.00390625H111.246V23.7622H116.595V0.00390625Z",fill:n?"transparent":"#FAFAFA",stroke:n?i:void 0,strokeWidth:n?s:void 0,initial:e?{scaleY:0}:{},animate:e?{scaleY:1}:{},transition:{duration:.8,delay:2.3}})}),z.jsx(ut.g,{initial:e?{x:o[5],opacity:0,y:Math.random()*20-10}:{},animate:e?{x:0,opacity:1,y:0}:{},transition:{duration:.8,delay:1+5*.1,ease:"easeOut"},children:z.jsx(ut.path,{d:"M146 23.7652H132.257C125.733 23.7652 120.426 18.4349 120.426 11.8826C120.426 5.33027 125.733 0 132.257 0H134.169C140.693 0 146 5.33027 146 11.8826V23.7652ZM132.257 5.37303C128.683 5.37303 125.775 8.29344 125.775 11.8834C125.775 15.4734 128.683 18.3938 132.257 18.3938H140.651V11.8834C140.651 8.29344 137.743 5.37303 134.169 5.37303H132.257Z",fill:n?"transparent":"#FAFAFA",stroke:n?i:void 0,strokeWidth:n?s:void 0,initial:e?{pathLength:0}:{},animate:e?{pathLength:1}:{},transition:{duration:1.5,delay:2.5}})})]})})}const tw=[{label:"Inicio",path:"/",event:()=>window.scrollTo(0,0)},{label:"Servicios",path:"/servicios",event:()=>window.scrollTo(0,0)},{label:"Contacto",path:"/contacto",event:()=>window.scrollTo(0,0)}];function rL({isTransparent:r=!1}){const[e,t]=ue.useState(!1),[n,i]=ue.useState(!1),s=hp();ue.useEffect(()=>{const l=()=>{i(window.scrollY>50)};return window.addEventListener("scroll",l),()=>window.removeEventListener("scroll",l)},[]);const o=r&&!n?"bg-transparent":"bg-black/80 backdrop-blur-md border-b border-white/10";return z.jsxs(ut.nav,{className:`fixed top-0 left-0 right-0 z-40 transition-all duration-300 ${o}`,initial:{y:-100,opacity:0},animate:{y:0,opacity:1},transition:{duration:.8,delay:.5},children:[z.jsx("div",{"trae-inspector-start-line":"54","trae-inspector-start-column":"6","trae-inspector-end-line":"124","trae-inspector-end-column":"12","trae-inspector-file-path":"src\\\\components\\\\layout\\\\Navigation.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5Cyeeg2%5C%5COneDrive%5C%5CDocumentos%5C%5CProjects%5C%5Cfrontend%5C%5Cenaria-mx%22%7D",className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:z.jsxs("div",{"trae-inspector-start-line":"55","trae-inspector-start-column":"8","trae-inspector-end-line":"123","trae-inspector-end-column":"14","trae-inspector-file-path":"src\\\\components\\\\layout\\\\Navigation.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5Cyeeg2%5C%5COneDrive%5C%5CDocumentos%5C%5CProjects%5C%5Cfrontend%5C%5Cenaria-mx%22%7D",className:"flex items-center justify-between h-16",children:[z.jsx(gv,{to:"/",className:"flex items-center space-x-2",children:z.jsxs(ut.div,{className:"flex items-center space-x-2",whileHover:{scale:1.05},transition:{duration:.2},children:[z.jsx(rf,{className:"w-8 h-8 text-cyan-400"}),z.jsx(hx,{className:"h-6 w-auto"})]})}),z.jsx("div",{"trae-inspector-start-line":"69","trae-inspector-start-column":"10","trae-inspector-end-line":"107","trae-inspector-end-column":"16","trae-inspector-file-path":"src\\\\components\\\\layout\\\\Navigation.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5Cyeeg2%5C%5COneDrive%5C%5CDocumentos%5C%5CProjects%5C%5Cfrontend%5C%5Cenaria-mx%22%7D",className:"hidden md:block",children:z.jsx("div",{"trae-inspector-start-line":"70","trae-inspector-start-column":"12","trae-inspector-end-line":"106","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\layout\\\\Navigation.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5Cyeeg2%5C%5COneDrive%5C%5CDocumentos%5C%5CProjects%5C%5Cfrontend%5C%5Cenaria-mx%22%7D",className:"ml-10 flex items-baseline space-x-8",children:tw.map(l=>z.jsxs(gv,{to:l.path,className:"relative group",onClick:l.event,children:[z.jsx(ut.span,{className:`px-3 py-2 text-sm font-medium transition-colors duration-200 ${s.pathname===l.path?"text-cyan-400":"text-gray-300 hover:text-white"}`,whileHover:{scale:1.05},children:l.label}),s.pathname===l.path&&z.jsx(ut.div,{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-cyan-400",layoutId:"activeTab",initial:!1,transition:{duration:.3}}),z.jsx(ut.div,{className:"absolute inset-0 bg-cyan-400/10 rounded-md opacity-0 group-hover:opacity-100 transition-opacity duration-200",initial:!1})]},l.path))})}),z.jsx("div",{"trae-inspector-start-line":"110","trae-inspector-start-column":"10","trae-inspector-end-line":"122","trae-inspector-end-column":"16","trae-inspector-file-path":"src\\\\components\\\\layout\\\\Navigation.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5Cyeeg2%5C%5COneDrive%5C%5CDocumentos%5C%5CProjects%5C%5Cfrontend%5C%5Cenaria-mx%22%7D",className:"md:hidden",children:z.jsx(ut.button,{onClick:()=>t(!e),className:"text-gray-300 hover:text-white p-2",whileTap:{scale:.95},children:e?z.jsx(nL,{className:"w-6 h-6"}):z.jsx(KD,{className:"w-6 h-6"})})})]})}),z.jsx(ut.div,{className:`md:hidden ${e?"block":"hidden"}`,initial:{opacity:0,height:0},animate:{opacity:e?1:0,height:e?"auto":0},transition:{duration:.3},children:z.jsx("div",{"trae-inspector-start-line":"136","trae-inspector-start-column":"8","trae-inspector-end-line":"154","trae-inspector-end-column":"14","trae-inspector-file-path":"src\\\\components\\\\layout\\\\Navigation.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5Cyeeg2%5C%5COneDrive%5C%5CDocumentos%5C%5CProjects%5C%5Cfrontend%5C%5Cenaria-mx%22%7D",className:"px-2 pt-2 pb-3 space-y-1 bg-black/90 backdrop-blur-md border-t border-white/10",children:tw.map(l=>z.jsx(gv,{to:l.path,onClick:()=>{l.event(),t(!1)},className:`block px-3 py-2 text-base font-medium transition-colors duration-200 ${s.pathname===l.path?"text-cyan-400 bg-cyan-400/10":"text-gray-300 hover:text-white hover:bg-white/5"}`,children:l.label},l.path))})})]})}function iL(){const[r,e]=ue.useState(!1),[t,n]=ue.useState(""),i=ue.useRef(null),s=o=>{if(o===0)n(""),e(!r);else if(o===1)n(`
        Terms and Conditions of Enaria Technology LLC
        Effective Date: July 2025
        These Terms and Conditions (Terms) govern your access to and use of the platform and services provided by Enaria Technology LLC (Enaria, we, or us), a company incorporated in the British Virgin Islands (BVI). By registering for an account or using Enarias platform, you (User or you) acknowledge that you have read, understood, and agree to be bound by these Terms. If you do not agree with any part of these Terms, you must not use the Enaria platform or services.
        1. Definitions

        For the purposes of these Terms, the following capitalized terms have the meanings set out below. Other capitalized terms may be defined elsewhere in the text:

            Platform  The online software-as-a-service platform provided by Enaria, including the website, web application, mobile application (if any), and all algorithmic trading software, AI systems, dashboards, and related services that Enaria makes available to Users under a membership model.

            Services  The AI-powered algorithmic trading execution services and educational content (such as online courses, market analysis, and news) provided by Enaria through its Platform. The Services enable automated trade execution on a Users linked brokerage account, as well as access to the Enaria University educational materials corresponding to the Users membership tier.

            AI Execution System (or Auto-Execution)  Enarias proprietary artificial intelligence trading system that generates and executes trading strategies automatically on the Users connected broker account via an API or Expert Advisor on a Virtual Private Server (VPS). This system operates based on algorithms and market data, without manual intervention by the User.

            VPS  A Virtual Private Server environment used by Enaria to host and run the AI Execution System for each User. The VPS connects to the Users trading account (e.g., MetaTrader platform) to send and manage trade orders on behalf of the User.

            Broker or Brokerage Account  The third-party trading account maintained by the User with a licensed brokerage firm (e.g., a MetaTrader 4 or 5 account with a forex/CFD broker) which the User links to the Enaria Platform for trade execution. Enaria is not the broker and does not hold or custody User funds; the Users funds remain in their own brokerage account at all times.

            Broker Credentials  The login credentials (such as username, password, API key, and server details) for the Users brokerage account. These are provided by the User to Enaria solely for the purpose of enabling the AI Execution System to execute trades. Broker Credentials are encrypted and stored securely by Enaria (using industry-standard encryption methods) and are not disclosed to any unauthorized parties.

            Membership  A subscription plan purchased by the User that grants access to Enarias Platform and Services. Enaria offers multiple Membership tiers (e.g., Starter, Basic, Plus, Pro, Elite), each with specific features, limits, and fees, as defined in Section 4. A Membership is essentially a license to use the Platform for a defined period, and includes access to the AI Execution System (with usage limits per tier), the Enaria University content, real-time market analysis, and other benefits appropriate to the tier. Users are not purchasing any security, financial instrument, or investment product by buying a Membership; they are paying for a technology and education service license.

            AI Computation Fee (also AI Fee)  A performance-based fee that Enaria charges on the rewards generated in the Users brokerage account through the AI Execution System. The AI Computation Fee is calculated as a percentage of trading upcoming and uses a High-Water Mark model (defined below) with monthly crystallization (assessment). The percentage (%) applicable depends on the Users Membership tier (see Section 4.3). This fee is typically calculated and charged monthly, and only applies in months where the AI has generated net new rewards above the previous high watermark for the account.

            High-Water Mark (HWM)  In the context of the AI Computation Fee, the highest peak value that the Users connected trading account balance has reached (net of deposits and withdrawals), which is used as a benchmark for calculating computation fees. Enarias High-Water Mark methodology ensures that the User does not pay AI fees on any rewards until any prior losses are recovered. In other words, the AI Fee is only charged on new net rewards that exceed the accounts previous highest balance. If the AIs trading results in a loss, Enaria will not charge any AI Fee again until the accounts balance surpasses its last high-water mark.

            $GPU (Enaria Platform Credit)  An internal, stable utility token used within the Enaria Platform for transactions. 1 $GPU is valued 1 USD. $GPU tokens are non-withdrawable credits that are created when a User deposits funds into their Enaria wallet (via any accepted payment method). Once funds are converted to $GPU, they can be used for internal platform payments only (e.g., purchasing or renewing Memberships, paying AI Fees, renewing annual maintenance fees, or buying future services). $GPU may also be transferred between Users Enaria wallets for platform use. Important: $GPU credits cannot be withdrawn as cash or external cryptocurrency  they remain within the Enaria ecosystem and have no value outside the Platform. This restriction is designed for compliance reasons (to prevent money laundering and illicit use of the platform credits).

            GPU$ (Reward Token)  The internal token that represents withdrawable rewards, such as referral commissions and other rewards, within the Enaria Platform. GPU$ is credited to a Users wallet when they receive commissions (for example, from referring others who purchase memberships or from a share of AI Fees generated by their referrals). GPU$ reflects value equivalent to USD (1 GPU$ = 1 USD in value) and can be withdrawn, subject to certain conditions. Withdrawals of GPU$ are typically processed in a stablecoin (such as USDT) to an external wallet address specified by the User. There may be a minimum withdrawal amount (for example, Users must accumulate at least 25 GPU$ in their wallet before they can request a withdrawal). Withdrawals may also incur a processing fee and are subject to compliance and security checks (e.g., to ensure liquidity and regulatory compliance in releasing funds). Users also have the option to convert (swap) GPU$ into $GPU within the platform if they prefer to use their commissions to purchase services on the Platform instead of withdrawing.

            Referral Program  Enarias affiliate incentive program through which Users can refer new customers and potentially receive commissions. Under the Referral Program, a referring User (an Affiliate) may receive compensation in the form of GPU$ credits based on (a) the Membership fees paid by people they refer (directly or indirectly), and (b) the AI Computation Fees generated by those referred users activity. The Referral Program is structured in levels, meaning if a referred user (at Level 1) goes on to refer someone else (Level 2 relative to the original referrer), the original referrer may also receive a smaller commission from the Level 2 referrals activity, and so on up to a certain number of levels. The details of commission percentages and levels are set forth in Section 6. Enaria reserves the right to modify the referral commission structure and rules at any time in accordance with these Terms.

            KYC  Know Your Customer, a verification process requiring Users to provide personal identification information and documents, so that Enaria can verify the Users identity and assess risks such as fraud or money laundering. KYC may include photo ID uploads, proof of address, selfies for identity verification, and other compliance measures as required by law.

            AML  Anti-Money Laundering. Enarias compliance program and related laws/regulations aimed at preventing illicit use of the financial system. Users may be subject to AML screenings and transaction monitoring. Enaria may require additional information from Users to comply with AML obligations.

            High-Risk Jurisdiction  Any country or region subject to sanctions, trade embargoes, or identified by regulatory authorities or international organizations (such as OFAC or FATF) as having strategic AML/CFT deficiencies. Enaria maintains a list of restricted jurisdictions and will not onboard or provide Services to individuals or entities from such regions (see Section 3.3).

            Terms of Use / Terms and Conditions  This agreement, as a binding contract between the User and Enaria governing the use of the Platform and Services. These Terms may be updated or modified by Enaria from time to time as described in Section 10 and Section 11.

        Interpretation: In these Terms, unless the context requires otherwise, words in the singular include the plural and vice versa, and headings are for convenience only and do not affect interpretation. The words including or for example shall be understood as including without limitation. Any reference to $ or USD is to United States Dollars (or equivalent value in another currency or stablecoin).

        Note: Because different brokers may use different naming conventions for financial instruments (e.g. one broker might label a gold trading instrument as XAUUSD while another uses GOLD), it is the Users responsibility to ensure that any mapping or selection of instruments on the Enaria Platform corresponds correctly to the instruments in their brokerage account. Enaria is not liable for any confusion or errors arising from mis-mapped instrument names or symbols. Always double-check that the symbols/trading pairs you intend to trade via the AI correspond to your brokers naming.
        2. Scope of Services
        2.1 Nature of the Platform  Technology and Education (Not Financial Services)

        Enaria provides a software platform and algorithmic tools that empower Users to automate their trading strategies and learn about trading, but Enaria does not provide investment services, financial advice, or brokerage services. The Platform is offered on a subscription (membership) basis as a Software-as-a-Service (SaaS). By purchasing a Membership, Users gain access to Enarias technology (AI Execution System) and educational resources (Enaria University), subject to the limits of their chosen plan. Enaria does not accept deposits of funds for investment, does not hold or manage Users trading funds, and does not guarantee any profits or outcomes. All trading remains in the Users own brokerage account, which the User connects to the Platform. Enarias role is limited to providing the software that can execute trades on the Users behalf as per the AIs algorithms, and providing educational content and market insights.

        Each User acknowledges and agrees that they retain full ownership and control of the funds in their brokerage account at all times. Enaria never takes custody of client funds (no User funds are held by Enaria) and Enarias Services are non-custodial in nature. The User may disconnect the AI or override it by manual trading at any time (though doing so is at the Users own risk, see Section 8.7). Nothing in these Terms, and no usage of the Platform, shall be construed as creating a relationship of broker, portfolio manager, investment advisor, or fiduciary between Enaria and the User. Enaria is not a registered investment advisor and does not provide personalized financial or investment advice. Any information or market analysis provided through the Platform (such as AI-generated insights, news, or educational content) is for informational and educational purposes only and should not be construed as trading advice or a recommendation to buy/sell any financial instrument.
        2.2 Description of Services and Features

        Automated Trade Execution: Enarias primary service is providing an automated trading execution system powered by AI. Upon subscription, the User can link one or more (depending on Membership tier) trading strategies provided by Enarias AI to their own brokerage account. The AI Execution System then generates trading signals and executes orders on the Users account automatically, without the Users manual intervention. Trades are executed via a secure API or Expert Advisor connection on Enarias VPS environment. The workflow typically involves the AI analyzing market data in real-time, making trading decisions according to its algorithmic strategy, and placing trades (entry and exit orders) on the Users connected account. The User can monitor the trades and account performance through the Platform dashboard. The frequency and type of trades (e.g., forex, commodities, indices, etc.) may vary based on the strategy chosen and market conditions. All trades are executed in the Users own account with their broker; Enaria merely transmits the orders to the broker on the Users behalf.

        Enaria University (Educational Content): Each Membership tier includes access to a certain level of Enaria University, which is Enarias online educational program. This program provides comprehensive courses and materials on trading and on how the AI system works. Depending on the tier of Membership, a User will have access to a corresponding tier of the university curriculum (for example, higher-tier members might have access to more advanced or comprehensive courses). This educational content is aimed at teaching Users about financial markets, algorithmic trading concepts, and how to effectively utilize the AI tools provided. The inclusion of education underlines that the service is also an educational platform, and Users are encouraged to learn and understand the trading strategies being deployed.

        Market Insights and Analytics: The Platform may provide real-time market analysis, news updates, and AI-generated insights or messaging about market conditions. For instance, certain Memberships might offer an AI market-insight messaging quota  a limit on how many queries or analysis reports the AI will provide to the User per month. These could be briefings on market trends or answers to the Users questions about strategies. The specifics of any message or insight quotas are determined by the Membership tier (e.g., a higher tier may allow more frequent or detailed AI insights per month).

        Technology Infrastructure: Enarias Services are delivered through a robust technology stack. The backend uses cloud infrastructure (such as Amazon Web Services or similar) to ensure high availability and scalability for running the AI algorithms and hosting User data. Trades are executed via secure network connections from Enarias servers/VPS to the Users brokers trading servers (using the brokers API or trade execution interface). The Platform implements encryption and security protocols to protect data in transit and at rest (more details in Section 7). While Enaria strives to maintain continuous uptime and swift execution, the User acknowledges that trade execution speed can be affected by network latency, broker server response times, and other technical factors outside Enarias direct control (see Section 8 for execution risk disclaimer).

        In summary, what the User is buying is a license to use Enarias technology and content, not an investment product. The Membership provides: (a) access to the Enaria AI trading system (to execute trades in the Users own account within defined limits), (b) access to educational content and market analysis, and (c) participation in the Referral Program (optional). The User is not depositing money with Enaria for investment; instead, they use their own funds in their own brokerage account. Enaria does not promise any specific trading outcomes, and all trading involves risk which the User bears (see Section 8). The User must independently decide whether using an AI trading system fits their objectives and risk tolerance. Past performance of the AI (including any hypothetical back-tested results that may be shown) is not a guarantee of future results.
        2.3 Service Limitations and Changes

        Enaria may, from time to time, update or modify the Platforms features. New tools or features may be added as part of the Services for certain Membership tiers, and some existing features may be improved or discontinued. Enaria will endeavor to provide notice to Users regarding any material changes to the core Services or any deprecation of significant features. All such updates and new features are subject to these Terms. Enaria also reserves the right to impose certain fair-use limits on the Platforms usage (for example, limiting the number of API calls or trade signals per second, etc., to protect system stability). Such limits, if any, will be communicated in the Platform documentation or the Membership description.
        3. Eligibility and KYC Requirements
        3.1 User Eligibility  Age and Legal Capacity

        By registering an account or using the Services, you represent and warrant that you are at least 18 years old (or the age of majority in your jurisdiction, if higher) and that you have the legal capacity to enter into a binding contract. The Platform is not intended for use by any individual under 18. You must also ensure that your use of the Services is in compliance with all laws and regulations applicable to you. You are not eligible to use Enaria if you have been barred from doing so under the laws of any applicable jurisdiction or by Enarias internal policies.
        3.2 Account Registration and KYC/AML Verification

        Users are required to create an account and complete Enarias registration process in order to purchase a Membership and access the Platform. During registration, you must provide truthful, accurate, and current information about yourself as prompted (including your full legal name, email address, physical address, date of birth, and any other required details). You agree to update such information promptly if it changes, so that our records remain correct.

        As part of our compliance procedures, Enaria will require you to undergo a KYC (Know Your Customer) verification. This process will involve providing identification documents (such as a passport or government-issued ID, proof of address, etc.) and possibly a selfie or video verification to confirm your identity. We may also ask for information regarding your funding sources or trading experience to comply with AML (Anti-Money Laundering) laws. By using the Platform, you agree to cooperate with all KYC/AML requests and provide any requested documentation or information. Enaria reserves the right to reject any registration or to freeze/terminate any account that fails to pass KYC/AML checks or raises compliance red flags.

        All personal information collected for KYC/AML purposes will be used strictly in accordance with our Privacy Policy and applicable data protection laws. However, we may share certain information with third-party verification service providers for the purpose of identity verification and with regulatory authorities if required by law.
        3.3 Restricted Territories and Sanctions Compliance

        Due to legal and regulatory restrictions, Enaria cannot offer the Services to persons or entities located in certain countries or regions. These include, but are not limited to, countries sanctioned by the United Nations, United States (OFAC), European Union, or British Virgin Islands, as well as any other jurisdiction which is embargoed or identified as high-risk for money laundering or terrorist financing (for example, FATF high-risk jurisdictions). By registering, you confirm that you are not a resident or citizen of, located in, or using the Service from any such prohibited jurisdiction. Enarias list of restricted countries may change based on global sanctions and risk assessments; Users from newly restricted regions will be notified and their accounts may be closed or suspended as required by law.

        Furthermore, you represent that you are not on any government or international organizations list of prohibited or restricted parties (such as the U.S. Treasury Departments Specially Designated Nationals list). Enaria will screen Users against relevant sanctions and watchlists during registration and on an ongoing periodic basis. If you are identified as a prohibited party or if your status or location changes in a way that would violate this Section, you must notify Enaria immediately and we may terminate or suspend your account.
        3.4 Account Security and User Responsibilities

        When you create an Enaria account, you will set up login credentials (such as a username and password). You are solely responsible for maintaining the confidentiality and security of your account login information. Do not share your password or account access with any other person. Enaria will never ask you for your password via email or phone. If you suspect that your account credentials have been stolen or compromised, you must notify Enaria immediately and change your password. We strongly encourage enabling any available two-factor authentication (2FA) on your account for enhanced security.

        You are responsible for all activities that occur under your Enaria account, including any actions taken by persons to whom you have given access (intentionally or not). Enaria is not liable for any loss or damage arising from unauthorized access to your account due to your failure to safeguard your credentials. We reserve the right to suspend or terminate accounts that we suspect have been compromised or are being used fraudulently, and we may request additional verification from you if unusual activities are detected.
        4. Membership Plans and AI Fees

        Enaria offers several Membership tiers designed to accommodate different levels of user needs and trading limit. Below is an overview of each Membership Plan, including its key features, subscription pricing, performance fee percentage, and the approximate limits. All fees are stated in USD (or equivalent value) and are typically paid using the Enaria wallet system as described in Section 5.
        4.1 Plan Tiers Overview

        Enaria offers several Membership tiers to meet the diverse needs of our users. Each Membership tier provides a license to access and utilize the Enaria Platform, featuring different benefits, account limits, AI computational fees, educational resources, and affiliate commission structures.

        For the most current information regarding subscription fees, detailed features, AI computation fees, account limits, and referral or affiliate commission distributions, please consult our Pricing Page directly. The Pricing Page will always contain the most up-to-date and accurate information regarding each Membership tier.

        Please note that all subscription fees listed on the Pricing Page are exclusive of any applicable taxes (such as VAT or sales tax). Such taxes, if applicable, will either be added during checkout or remain the user's responsibility according to local regulations.

        Enaria reserves the right to adjust Membership fees, account limits, features, and benefits periodically based on platform updates, risk management considerations, and system capacity. Any such adjustments will be clearly communicated to users, and the Terms and Conditions will be updated accordingly.
        4.2 Subscription Term, Renewals, and Grace Periods

        Each Membership is sold for a fixed term (e.g., 3 months, 6 months, or 12 months as selected at purchase). The Membership term begins on the date of activation (the day your payment is confirmed and account upgraded) and runs for the stated duration. At the end of the term, the Membership will expire unless renewed.

        Enaria may offer an automatic renewal option for convenience. If you enable auto-renewal (where available), you authorize Enaria to deduct the subscription fee for the next term from your Enaria wallet balance (or charge your default payment method) on or about the expiration date of your current term. You will receive notice (via email or dashboard) before the renewal charge is processed. You may opt out of auto-renewal at any time via your account settings.

        If a Membership expires without renewal, the Users account will revert to an Inactive status (losing access to the trading AI and other member-only features) immediately after the expiration date. Enaria may, in its discretion, provide a short grace period after expiration (for example, a few days) during which the User can still renew and resume service without needing to go through re-setup. During any grace period, however, the AI will not open new trades, and certain features might be limited until the membership is reactivated.

        Effects of Non-Renewal: If you do not renew your Membership:

            You will lose access to the Enaria Platforms member features at the end of your paid term. The AI Execution System will stop initiating new trades on your behalf. Any open positions managed by the AI may be automatically closed out at or shortly after membership expiry for safety (see Section 8.6) unless you have made other arrangements or immediately renew.

            Your account will be marked Inactive in the Affiliate Program, meaning you will not receive any affiliate commissions while inactive, and you will not receive any overrides during the inactive period.

            If your account remains Inactive for an extended period (90 consecutive days or more without an active membership), you risk permanent loss of your affiliates status as described in Section 6.4 and Section 10.3. Enaria implements a dynamic compression in its affiliate: if you stay inactive beyond the allowed duration, your referred users will be compressed upwards to your sponsor.

            If you renew your membership before such permanent compression (e.g., within 90 days of expiry), your status can be fully restored to what it was prior to your lapse, and you can resume commissions (however, any commissions missed during inactivity are forfeited). It is your responsibility to monitor your Membership expiration date and renew timely; Enaria may send reminder notifications via email or dashboard as a courtesy, but cannot be held responsible if a lapse occurs.

        4.3 AI Computation Fee

        In addition to the fixed Membership subscription fees, Enaria charges an AI Computation Fee (AI Fee) which is a percentage of the rewards generated in the Users connected account by the AI Execution System. This fee aligns Enarias compensation with the success of the AIs trading, and is only applicable when there are net rewards. Key characteristics of the AI Fee include:

            Percentage Rate by Tier: The AI Fee rate corresponds to your Membership tier, as described in Section 4.1 above. (For convenience: Basic 10%; Starterx 15%; Plus 20%; Pro 25%; Elite 25%). These percentages represent the portion of rewards that will be calculated as a fee. For example, under the Basic plan, if the user generated following courses and information of Enaria $1,000 for the month, the AI Fee would be $150 (15%). Under Pro or Elite, $250 (25%).

            High-Water Mark Calculation: Enaria uses a High-Water Mark (HWM) model to calculate the AI Fee. This means that the fee is only charged on new rewards that exceed the highest level your account has previously achieved. At the end of each monthly period, Enaria will look at the Net New reward in the account:

                If your account balance (adjusted for any deposits/withdrawals) is higher than any previous balance peak, the difference represents new rewards above the high-water mark. The AI Fee percentage applies to that new rewards portion only.

                If your account had a loss during the period, or rewards but not enough to exceed the prior high-water mark, no performance fee is due for that period. The high-water mark remains the same in case of a loss (i.e., it does not drop when your account drops  this protects you from paying fees on any recovery until you hit that prior peak again).


                This methodology ensures you never pay twice for the same fee and you never pay for recoveries of past losses until reaching new territory.

            Crystallization Period: The AI Fee is calculated and crystallized monthly (i.e., on a calendar month basis, or another specified regular interval, such as the last day of each month). At the crystallization date, the performance for that period is measured and any fee due is determined. Once crystallized, the fee becomes owed to Enaria.

            Payment of AI Fee: The AI Fee is typically deducted from the Users Enaria wallet in $GPU within a few days after the period ends. Enaria will issue an invoice or statement of the periods close. Payment is due by the 7th day of the following month for the prior months performance. For convenience, Enaria may automatically deduct the fee from any available funds in the Users wallet (for example, if the User has sufficient $GPU balance or received GPU$ commissions, those may be applied). If the Users wallet does not have enough funds, the User is required to deposit funds (or authorize payment) to cover the fee by the due date. The User can pay the fee using any accepted payment method via the wallet (the payment will be converted to $GPU and deducted as fee).

            Consequence of Non-Payment: If the User fails to pay the AI Fee by the due date (e.g., by the 7th of the month) or if a payment attempt is reversed (chargeback) or declined, Enaria reserves the right to disconnect the AI Execution System from the Users account. In practical terms, the AI will cease taking new trading actions on the Users account, and the Users Membership status may be downgraded or set to Inactive for breach of payment terms. Additionally, the User may lose their Active status in the Referral Program due to non-payment, meaning they would not receive commissions while the fee is outstanding. Enaria may also consider this a material breach of the Terms, and it could lead to suspension or termination of the account (see Section 10). Late payment might incur a late fee or interest as allowed by law (Enaria will specify any such charges in the invoice if applicable).

            Back-Office Maintenance Fee: Apart from the Membership and AI Fee, Enaria may charge an annual Back-Office Maintenance Fee for continued access to the affiliate/referral dashboard and related infrastructure. This fee covers the cost of maintaining real-time commission tracking, reporting tools, promotional materials, and other back-office features. For the first year of a new Users registration, the back-office fee is waived (free). Thereafter (starting from the second year), a fee of $149.99 USD per year is charged. This fee is typically deducted from the Users wallet in $GPU on the anniversary of their account creation or first membership purchase. It can also be paid alongside a membership renewal. Failure to pay the maintenance fee when due may result in loss of access to the affiliate dashboard and related features until the fee is paid. The back-office fee covers things like:

                Access to the affiliate panel.

                Commission tracking and real-time updates.

                Real-time performance reports.

                Access to promotional and marketing tools provided by Enaria.

            Enaria will notify Users before charging the annual fee and provide instructions on payment. As with other fees, non-payment could lead to suspension of certain functionalities.

            Taxes: All fees charged by Enaria (Membership fees, AI fees, etc.) are exclusive of any applicable taxes. Depending on your country of residence, you might be responsible for VAT, GST, or other taxes on the services. If Enaria is required by law to collect indirect taxes (like VAT) on the Membership or fees, it will add those to the charges at the appropriate rate. Otherwise, you are solely responsible for paying any taxes owed to your own tax authorities for the use of the Services or for any income received (such as referral commissions). Enaria will not calculate or withhold income taxes on your behalf. We encourage you to consult a tax advisor regarding any tax obligations you may have (also see Section 10.4 on Users tax responsibilities).

        4.4 Upgrades and Downgrades

        Users may be allowed to upgrade their Membership to a higher tier or downgrade to a lower tier. Upgrades can typically be done at any time, with a pro-rated payment (e.g., if mid-term you want to upgrade from Basic to Plus, youd pay the difference in price for the remainder of your term or start a new term at the higher tier). When upgrading, new features are unlocked immediately once payment is processed, and the higher AI Fee percentage will apply going forward (note: the high-water mark will carry over; you dont reset it by upgrading, meaning Enaria wont double dip on performance fees due to a tier change). Downgrades to a lower tier usually take effect at the end of the current paid term (Enaria may allow immediate downgrade but typically no refund is given for the remaining period of a higher tier). Downgrading could result in losing access to some features and a lower limit cap; if your trading limits exceeds the allowed limit of the new tier, you will be required to reduce it (or the AI may only manage up to that cap, leaving the rest un-traded). Referral commission eligibility may also change if you downgrade (for example, if you downgrade to Starter, your own performance fee is lower but you might also limit your ability to receive affiliate overrides since Starter doesnt distribute affiliate AI fees). Enaria will provide details in the process of any plan change.
        5. Wallet, Payments, and Token System ($GPU and GPU$)

        Enarias platform includes an integrated Wallet system which facilitates all payments, credits, and withdrawals. The Wallet uses two types of internal tokens (as defined in Section 1: $GPU and GPU$) to manage transactions in a transparent way. This section describes how to fund your account, how the token system works, and the policies around withdrawals and refunds.
        5.1 Accepted Payment Methods

        To purchase Memberships, pay fees, or add funds to your Enaria wallet, the Platform accepts several payment methods, including:

            Credit/Debit Cards: Major card networks (Visa, MasterCard, etc.) for payments in fiat currency.

            Cryptocurrencies (Stablecoins): Such as USDT or USDC (commonly on supported chains like Ethereum or Tron) for depositing funds. These are treated as equivalent to USD value (1 USDT  $1).

            Cryptocurrencies (Others): Enaria also accepts Bitcoin (BTC) and Ethereum (ETH) for deposits. If you choose to pay with BTC or ETH, the amount will be converted at the current exchange rate into USD value for crediting your wallet.

            Other Digital Payment Processors: From time to time, Enaria might support additional payment gateways or processors (for example, online payment apps or region-specific options). Availability will be shown in your wallet deposit section.

        All payments are ultimately credited to your Enaria wallet in the form of $GPU tokens (see below) at a 1:1 USD ratio. 

        Enaria uses third-party payment processors for handling card payments and certain crypto payments. By using a given payment method, you agree to the terms and conditions of the relevant third-party processor (for example, if you pay by credit card, you agree to the card processors terms; if you pay in crypto, you might agree to terms of the wallet or exchange facilitating it). Enaria has no control over these external services, and is not responsible for any processing errors or fees that those providers may charge. If a payment is declined or fails due to the payment provider, Enaria will not be liable for any delays in access to the Services. Users must ensure the payment details they provide are correct (e.g., correct crypto address, sufficient fees for blockchain transactions, etc.).
        5.2 $GPU  Internal Utility Token (Deposits and Payments)

        As described in Definitions, $GPU is an internal stable credit that represents USD value on the Platform. When you deposit funds into your Enaria wallet using any method in 5.1, the system will automatically convert that deposit into $GPU at a 1:1 rate. $GPU is used for:

            Purchasing or renewing Memberships.

            Paying the AI Computation Fees.

            Paying the annual Back-Office Maintenance Fee (if applicable).

            Purchasing any future products or add-on services Enaria may offer.

            Transferring funds to other users (e.g., you could instantly transfer some $GPU to a friends Enaria wallet, say to help them pay for a membership).

        $GPU tokens thus function as an internal accounting unit or stablecoin strictly within the Enaria ecosystem. Important characteristics of $GPU:

            Stable Value: 1 $GPU is always valued at 1 USD. The value does not fluctuate once credited. If you deposited 100 USDT, you get 100 $GPU and it stays 100 $GPU until spent.

            Not Withdrawable: $GPU cannot be withdrawn or redeemed for cash or external crypto once it is in your wallet. This means if you deposit funds into Enaria, you wont be able to later withdraw that same deposit out, except by using it on the Platform (or if you are eligible for a refund under our refund policy, which would be a separate process). This policy exists for compliance reasons  to prevent users from abusing deposits/withdrawals for money laundering, and because Enaria is not a bank or exchange to hold custodial funds. Therefore, only deposit funds that you intend to use on the Platform.

            No Interest or Returns: Holding $GPU in your wallet does not accrue interest and is not an investment. Its merely a payment mechanism.

            Security: $GPU balances are recorded in your account and protected by our security measures. However, since its not on a public blockchain (its an internal token), ensure you trust the Platforms security (we use encryption and multi-signature internal controls to manage wallets).

        If you end your relationship with Enaria (terminate your account) and still have unused $GPU balance from deposits, those funds are generally non-refundable (outside the refund conditions in Section 9.2). Enaria may evaluate refunding unused credit on a case-by-case basis when an account is closed, but reserves the right to deny refund of $GPU because it is fundamentally meant to be spent in-platform.

        Example: You deposit $1000 (getting 1000 $GPU), buy a $750 membership (spending 750 $GPU, leaving 250 $GPU). If you decide not to use Enaria anymore, the $250 remaining normally cannot be withdrawn. You could, however, use it to e.g. pay someone elses membership via transfer, or pay AI fees if any were due, before closing out.
        5.3 GPU$  Reward Token (Commissions and Withdrawals)

        GPU$ is the counterpart token used for rewards and rewards within Enaria. If you participate in the Referral Program or receive any form of incentive or cashback from Enaria, those are paid in GPU$. For instance:

            When you receive a commission because someone you referred bought a membership, you get that commission in GPU$ (credited instantly to your wallet at the time of purchase).

            When you receive a commission from the AI Fee paid by someone in your referral, that is credited in GPU$ (in real time when the fee is paid).

            If Enaria runs a promotion or bonus (e.g., the 6-in-90 Free Membership bonus, etc.), any monetary value reward might also be given as GPU$.

        Key characteristics of GPU$:

            Withdrawable: GPU$ can be withdrawn from the Enaria system, meaning you can convert it to real money or crypto outside the platform. Specifically, Enaria allows withdrawal of GPU$ in the form of cryptocurrency (currently, in USDT stablecoin) to an external wallet of your choice. When you initiate a withdrawal, Enaria will deduct the GPU$ from your balance, and send an equivalent amount of USDT (or potentially another supported payout currency) to the wallet address you provide.

            Minimum Withdrawal & Fees: There is a minimum withdrawal threshold in place. For example, you might need at least 25 GPU$ in your wallet to request a payout (the exact minimum is set by Enaria and displayed in the withdrawal interface). This prevents inefficiency with tiny withdrawals. Additionally, each withdrawal is subject to a processing fee. The fee might be a flat amount (e.g., $5) or a percentage (e.g., 1%), depending on network costs and Enarias policy. The withdrawal interface will clearly show any fee before you confirm the transaction, and the fee will be deducted from the amount you withdraw (for instance, withdrawing 100 GPU$ with a $5 fee would result in 95 USDT sent to you).

            Withdrawal Process and Timing: Withdrawals are not instantaneous. When you submit a withdrawal request, it enters Enarias processing queue. Payouts in USDT (or other crypto) will be made to your specified wallet address, typically within a certain time frame (e.g., 1-3 business days). Enaria may perform security and compliance checks on withdrawals, especially large ones, which could occasionally delay the payout. These checks are to ensure there is no fraudulent activity (like someone hacking your account to withdraw) and to manage the platforms liquidity. Enaria may also batch-process withdrawals at certain intervals.

            Internal Swap Option: If you prefer to use your received GPU$ within the platform instead of withdrawing, you have the option to swap GPU$ into $GPU within your wallet. This effectively converts your commission into spendable platform credits. For example, if you received 50 GPU$ in rewards, you could swap that to 50 $GPU and then use it to pay for your next membership renewal or AI Fee. This swap is done at 1:1 and usually without fee (internal transfers between your own balances).

            No Lock-up: There is no mandatory holding period for GPU$ commissions. Once commissions are credited and you meet the minimum amount, you are free to withdraw them  Enaria does not impose a time lock on when you can access your rewards. (However, note that commissions are only paid out if you maintain an active status as per the Referral Program rules; if you become inactive, new commissions stop accruing until you reactivate, but any existing GPU$ you have remain yours to withdraw.)

        Third-Party Conversion: When you withdraw GPU$ as USDT or another crypto, you might later convert that to fiat via your own means. Any such conversion outside Enaria (for example, selling USDT on an exchange for cash) is solely your responsibility. Enarias responsibility ends once we send the USDT (or applicable token) to the address you provided.
        5.4 Internal Transfers and Usage Restrictions

        Users may transfer $GPU credits to one another (for instance, if you want to fund a family members account or share some credits). These transfers are instantaneous and free within the Platform. However, note:

            You cannot transfer GPU$ directly to another user; GPU$ can only go to your account and out via withdrawal or conversion. If you want someone else to benefit from your GPU$, youd have to withdraw and then give it externally, or convert to $GPU and then transfer $GPU internally.

            Transferring $GPU is intended for genuine purposes (e.g., gifting or helping referrals fund their membership). Abuse of transfers for circumvention of the no-withdrawal rule is prohibited. For example, you should not deposit money, get $GPU, then transfer $GPU to another user you control, and ask them to spend it and then try to get any value out  Enaria monitors for patterns that look like attempts to indirectly cash out $GPU.

            No Secondary Market: The tokens ($GPU and GPU$) are not cryptocurrency on an open market. They are solely ledger entries within Enaria. You are not allowed to attempt to sell or trade these balances outside the Platform. Any attempt to do so (like selling your account credentials to transfer value) is a violation of these Terms.

        5.5 Chargebacks and Reversed Payments

        Enaria maintains a no-chargeback policy. If you fund your account or purchase a Membership via credit card or any method and then initiate an unjustified chargeback or dispute with the payment provider, this is considered a breach of contract. We understand that sometimes chargebacks are done for legitimate reasons (e.g., suspected fraud). However, if you deliberately dispute a valid charge, your account may be immediately suspended or terminated. Enaria reserves the right to deduct the disputed amount from your wallet balances (including any GPU$ commissions youve received) to offset the reversal, and to pursue collection efforts for any remaining balance owed. You will also be responsible for any chargeback fees or penalties that our processor charges us due to your dispute.

        If a payment you made is reversed (for example, a crypto transaction to us is later deemed invalid or a bank transfer bounces), Enaria will remove the credited $GPU from your account equivalent to that payment (which could result in a negative balance if youve spent those credits). You agree to promptly resolve any negative balance either by re-depositing the amount or making arrangements with our support. Enaria may suspend your service until the negative balance is corrected.

        Fraud Prevention: To protect Users and Enaria from fraud, we may require additional verification for certain payments or withdrawals. For instance, we may ask you to verify small trial deposits, provide ID verification again when withdrawing large amounts of GPU$, or other measures. Please understand these steps are for security and compliance.
        6. Affiliate Program Rules

        Enaria offers an optional Program (Affiliate Program) that rewards Users for referring new customers. If you choose to participate, you must abide by the following rules and understand the structure of commissions.
        6.1 Overview of Referral Structure and Eligibility

        The Referral Program is a level commission system. In simple terms, you can receive commissions from people you directly refer (Level 1 referrals), and also a smaller commission from those referred by your referrals (Level 2), and so on, typically down to maximum 5 levels in depth.

        However, to receive commissions beyond Level 1, you must meet certain qualification criteria. There are four status levels for participants:

            Enabled: Every new user is initially Enabled for the first 30 days after registration. In this period, you can refer others and receive commission from your direct referrals (Level 1) even if you havent purchased a Membership yet. However, as an Enabled (not yet Active) user, you only qualify for Level 1 commissions.

            Active: To become Active and unlock the full Referral Program benefits, you must either purchase a Membership or fulfill a special condition (Enaria may have promotions like refer 6 members within 30 days to get Active status). Active status means you have a current paid Membership (or an equivalent qualification) and are eligible to receive commissions on multiple levels, provided you also meet the Qualified criteria for deeper levels (see below). Active status is maintained as long as you keep your Membership valid (or meet any ongoing criteria for activity).

            Qualified: Qualified refers to unlocking deeper levels of commission by achieving a certain number of direct referrals.

            Inactive: If your Membership expires and you do not renew, you become Inactive. Inactive users do not receive any commissions even from their existing affiliate. Your downline still remains attached to you for a grace period (90 days), but you wont receive any payouts until you reactivate (by purchasing a new Membership). If you remain Inactive for too long, you risk being marked Disabled.

            Disabled: If a user stays Inactive for 90 consecutive days, they are moved to a Disabled status. Disabled status means you permanently lose your entire referral affiliate. The system will compress your downline: your direct referrals will move up to your sponsor or next active upline, and so forth. This is irreversible  even if you later buy another membership, you cannot reclaim the affiliate that was lost while you were Disabled. This mechanism is designed to ensure an active and fair affiliate where rewards go to those who remain engaged. Enaria emphasizes that it is each users responsibility to keep track of their Active status and renew memberships timely if they wish to preserve their affiliate. Reminder emails or notifications may be sent, but ultimately the responsibility is on the user.

        6.2 Commission Types and Percentages

        There are two main types of commissions you can receive from your referrals:

            Membership Purchase Commissions: Each time someone in your referral affiliate purchases or renews a Membership, you can receive a commission, paid immediately in GPU$. The commission is a percentage of the membership fee they paid

        Commission Cap: Enaria may cap the maximum commission a single account can receive from a single sale or fee, simply to prevent any extreme scenarios or comply with regulatory guidance. If such caps exist, they will be described in the detailed Referral Program policy. Generally, the structure is designed so that at most 50% of revenue (membership or AI fee) is paid out in total commissions, ensuring the programs sustainability.
        6.3 Referral Conduct and Marketing Rules

        Enaria encourages members to share the platform and benefit from referral commissions, but strict guidelines must be followed to ensure ethical promotion:

            No False Promises: You must not make unrealistic income claims or guarantees when promoting Enaria. For example, you cannot promise that someone will get rich or achieve specific trading rewards by using Enaria. Any historical performance or rewards examples you share must include disclaimers that results vary and are not guaranteed.

            No Investment Language: Remember that Enaria is not an investment scheme or fund. Do not portray it as a passive investment where you just put money and it grows  this is misleading and against our terms. Emphasize the truth: Enaria provides a trading tool and education, with risks involved, and the users own broker account is doing the trading.

            Compliance with Laws: If you are promoting Enaria, you must comply with any marketing and advertising laws in your region. For instance, some jurisdictions require including your name and contact info on promotional materials, or certain disclaimers when discussing rewards. Its your responsibility to follow such laws. Enaria is not responsible for how you choose to market, but we may require you to modify or cease certain promotional tactics that we become aware of and deem non-compliant or damaging.

            Use Approved Materials: Enaria may provide official marketing materials (presentations, PDFs, videos, etc.) in the back-office. You are encouraged to use those to ensure consistency and accuracy of information. If you create your own materials, make sure they are accurate and not misleading. Do not use the Enaria logo, name, or branding in a way that suggests you are an official representative of the company (you are an independent promoter).

            No Spam or Unsolicited Mass Marketing: Do not spam people with your referral links. This includes no sending of unsolicited bulk emails, messages, or posting your link inappropriately on social media and forums. You should also not run ads that could confuse Enaria with another platform or that target potentially vulnerable individuals.

            No Referral Fraud: You must not engage in fraud to gain referrals or commissions. This includes creating fake accounts, self-referring through alternate identities, or colluding with others to game the compensation plan. Any commission obtained through fraudulent or unethical means will be voided and is grounds for termination of your account.

            Disclosure: If required by law or platform guidelines (for example, on social media), disclose that you may receive a commission for referrals. Transparency builds trust and is often legally required.

        6.4 6-in-90 Free Membership Bonus

        Enaria may run a promotion referred to as the 6-in-90 bonus: if you personally refer 6 new Active members within 90 days of your own membership purchase, you become eligible for a reward. As of current policy, that reward is a free 3-month Membership extension. The level of the free membership is typically matched to the average tier of those 6 referrals. Detailed terms for this promotion will be provided in the back-office or promotional materials. Its a one-time bonus for new members and cannot be repeatedly claimed unless explicitly allowed.
        6.5 Payout and Tracking

        As mentioned, the Enaria back-office provides a live tracker for your affiliates. You can see who is in your 1st level, 2nd level, etc., and their status (Active/Inactive). Commissions are tallied in real-time. If you believe a commission is missing or mis-calculated, you should report it within a reasonable time. Enaria reserves the right to correct any payout errors (including reversing overpayments or adding missed payments) in subsequent disbursements.
        6.6 Changes to the Referral Program

        Enaria may adjust the referral plan structure (percentages, levels, qualifications) for new activity at its discretion, for example, to improve sustainability or comply with new laws. Any such changes will be announced, and we will not retroactively strip commissions already received. Participants will be notified via email or dashboard notice of any upcoming changes to the program. Continued participation after such changes constitutes acceptance.

        Finally, participation in the Referral Program is optional. If you prefer not to refer anyone, you can simply use the platform for its trading and education benefits with no impact. These rules only apply if you choose to engage in referral activities.
        7. API, VPS, and Credential Security

        Enaria takes security seriously, especially when it comes to access to your brokerage accounts and the automated execution of trades. This section outlines how we protect your API or trading account credentials, and what your responsibilities are in using the Platform in a secure manner.
        7.1 Secure Handling of Trading Account Credentials

        To use the AI Execution System, you need to provide Enaria with the credentials necessary to access your trading account. This may be in the form of:

            MetaTrader Login: If using MT4/MT5, typically a login number, password, and broker server name.

        When you input these credentials into the Platform, they are immediately encrypted using strong encryption algorithms (for example, AES-256 encryption or an equivalent industry-standard cipher). The encrypted credentials are stored on our secure servers and are only decrypted in memory when needed to execute trades, and only by automated systems  no human staff can directly read your passwords. Enaria also employs secure key management practices and access controls: only the AI trade execution service has the ability to use the decrypted credentials, and that too in a controlled environment.
        7.2 User Responsibility for Credentials and Account

        While Enaria does its part to secure your credentials, you also have responsibilities:

            Provide Accurate Info: When connecting an account, make sure the credentials are correct and correspond to the account you want the AI to trade. Mis-connecting an account (e.g., giving credentials for a wrong or demo account by mistake) is your responsibility to catch.

            Regular Password Changes: It is highly recommended that you change your broker account password periodically, for example every 90 days, as a good security practice. When you do so, remember to update the credentials in Enarias Platform so the AI can continue to access your account. If you suspect at any time that your broker password is compromised, change it immediately and inform Enaria support to temporarily pause the AI (if needed) until you update the credentials.

            API Key Rotation: If using API keys, similarly rotate/regenerate them periodically or as advised by your broker. Remove any API keys from your broker that are no longer needed or that you may have accidentally exposed.

            One Account per Membership: Do not share one trading account across multiple Enaria users or vice versa.

        7.3 Platform Security and VPS

        Enarias infrastructure are secured behind firewalls and undergo regular security audits. The environment is hardened to prevent unauthorized access. However, as a User, you should also maintain good security hygiene:

            Device Security: Ensure the device from which you access the Enaria Platform (your computer, smartphone, etc.) is free from malware. A compromised personal device could log your keystrokes or steal your session tokens. Use antivirus and keep your OS updated.

            Session Management: When you log in to Enaria, if on a shared or public computer, always log out after. Be cautious of using the Platform over public Wi-Fi networks; if you must, consider using a VPN for an encrypted connection.

            Credential Sharing: Never share your Enaria account credentials or your broker credentials with anyone else. Enarias support team will never ask for your broker password. If someone contacts you claiming to be support and asks for sensitive info, its likely a scam  report it to us.

        7.4 API Usage and Fair Use

        If Enaria provides direct API integration (like if you could connect via API key for certain brokers), you must not abuse the API. For example, you should not deliberately cause excessive API calls or attempt to hack or reverse engineer the API. The Platform sets reasonable limits on frequency of trade signals and data polling to ensure system stability. Users are prohibited from any actions that would disrupt the Services or others use of the Services, such as deploying malicious scripts or additional automated systems that hit Enarias APIs outside of the provided AI (e.g., you shouldnt write your own bot to spam our endpoints).

        Enaria may monitor the system for any such misuse and will suspend accounts that engage in such behavior.
        7.5 MetaTrader EA and Hosting

        For MetaTrader-based execution, Enaria provides its own VPS hosting to run the Expert Advisor (EA) that connects to your account. This means you typically do not need to run your computer 24/7; the trading runs on our side. The EA/bridge we use is digitally signed and only connects to Enarias strategy logic. It does not have any hidden functions beyond trade execution and reading necessary data. We do not tamper with your account beyond sending trades and reading balance/equity to calculate fees and performance.

        If you are ever given a file to install (for any reason, like maybe a monitoring EA for your MT platform), ensure its from an official Enaria source. We generally aim to avoid requiring users to do complicated setups  linking should be as straightforward as entering credentials on our site. In case you are unsure about how connection works, consult our documentation or support.

        Data from Broker: Note that Enaria will have access to data from your brokerage account such as balance, trading history, open trades, etc., through the API or connection. We treat this data as confidential. It is used to display information to you on the dashboard and for our algorithm to make decisions. We may also aggregate anonymized data across users for improving the AI or for metrics, but we do not share specific user trading data with third parties except as needed to provide the service or if required by law (see Privacy Policy for details).

        In the unlikely event of a security breach involving your credentials (for example, if we discover our database was compromised), Enaria will promptly inform affected users and take steps as per our incident response plan. Users should then immediately change their broker passwords. We have an obligation to notify you and possibly regulators of certain breaches, which we will uphold (see Data Protection in Section 8 and Privacy Policy references).

        By using the Platform, you acknowledge that no system is perfectly secure, but Enaria commits to using commercially reasonable and up-to-date measures to protect your information. You also agree to take responsibility for safeguarding your own access and promptly notifying us of any suspected unauthorized access or security concerns.
        8. Disclaimers and Risk Allocation

        Using Enarias Platform involves significant risks, as does any trading in financial markets. This Section contains important disclaimers and limitations of liability. Please read it carefully to understand the extent of Enarias responsibilities and your responsibilities.
        8.1 No Investment Advice; Users Own Decision

        Enaria is a technology provider, not a financial advisor. No information or output provided by the Platform (whether from the AIs signals, educational content, or support staff communications) constitutes investment advice or a recommendation to buy or sell securities or other financial instruments. You alone are responsible for all trading decisions made in your account. The decision to use the AI Execution System is yours, including the selection of strategy, the choice of broker, the amount to allocate, and any time you decide to start, pause, or stop the AI. Enaria does not have any discretionary authority over your funds or account; we only execute trades algorithmically based on the systems strategy, which you enable.

        We strongly recommend that Users educate themselves (through Enaria University and other sources) on the risks of algorithmic trading. Any settings or configurations that the Platform allows you to adjust (such as risk level, lot size multipliers, etc., if applicable) should be adjusted carefully and are at your sole risk.

        Enarias personnel may, at times, provide you with general information about how the system works or factual market information (for example, explaining how a stop-loss works, or that a certain market is volatile). Such information is not tailored to your situation and does not constitute personal advice. We do not know your individual financial circumstances or objectives, and even if we did, we do not give advisory services. You should consider seeking advice from a licensed financial advisor if you need personal investment guidance. By accepting these Terms, you confirm that Enaria has not given you any promises of profitability or advice specific to your investment needs, and that you understand the nature of the Services.
        8.2 No Guarantee of Results and Acknowledgment of Risk

        Trading is inherently risky. The use of an AI or algorithm does not eliminate risk. Enaria does not guarantee any reward or specific outcome from using the Platform. Past performance of Enarias AI (whether shown through back-testing, user testimonials, or other data) is not a reliable indicator of future performance. Markets can change, and an AI that worked in the past may falter under new conditions. There is also the risk of substantial losses. By using Enaria, you acknowledge and accept that you could incur losses in your trading account, potentially equal to or greater than the amount you deposit with your broker, especially if leverage is involved.

        Enaria makes no warranties or representations that its software will make profitable trades. All warranties, either express or implied, including but not limited to implied warranties of merchantability, fitness for a particular purpose, and non-infringement, are disclaimed to the fullest extent permitted by law. The Platform and Services are provided as is and as available. While we strive for excellence, we do not warrant that the Service will be uninterrupted, error-free, or that any defects will be corrected, or that the system will always be correct in predicting market movements.

        You expressly acknowledge that algorithmic trading involves risks such as:

            Rapid market movements causing losses before the system can react.

            The AI making an incorrect prediction or encountering a market regime it wasnt trained or optimized for.

            Technical issues causing delays or missed trades that could have been profitable or avoiding trades that turn out to be losing (both scenarios).

            Slippage or poor execution by your broker leading to worse results than the AIs strategy expects (see 8.3 below).

            Black swan events (extreme market events) where normal strategies fail.

        You agree to use the Platform at your own risk, and you have assessed that risk and found it acceptable for your situation. No part of your membership fee or AI fee constitutes an insurance or guarantee against trading losses; those fees are simply payment for the use of the service, win or lose.
        8.3 Non-Custodial Nature; No Fiduciary Duty

        Enaria never takes possession of your trading capital, and the trades are executed in your own account. As such, you retain control and could intervene if you choose (although doing so is not recommended, as discussed below). Enarias role is more akin to a software vendor than an investment manager. We have no fiduciary duty to you in the sense that a registered investment advisor or fund manager would. We are not managing a pooled fund  we are providing a tool. This means that, while we certainly aim for our product to succeed for you (as that is in our interest, too), we legally and formally are not in a position of trust managing your money. We provide the same service to all members of a given tier and do not customize it per individual. You use the service at arms length, and you are free to stop using it at any time.
        8.4 Trade Execution Risks (Slippage, Latency, Broker Issues)

        When the AI sends orders to your broker, a number of things can affect the outcome:

            Latency: There is a slight delay from signal generation to execution. Network latency between our servers and your brokers servers can cause orders to fill at a slightly different price than intended. In fast-moving markets, this could be in your favor or against you.

            Slippage: This refers to the difference between the expected price of a trade and the price at which it is actually executed. Slippage often occurs during high volatility or if the order size is large relative to market liquidity. For example, the AI might try to sell at 1.3000 but the trade actually executes at 1.2995  that 0.0005 difference is slippage. You must accept that slippage is part of trading; Enaria is not responsible for slippage as its under the control of market conditions and your broker.

            Broker Execution: Your broker might at times reject orders, especially if you run into margin issues or if their platform has problems. Or they might fill only part of an order (for partial fills in some markets). Any such execution issue is outside Enarias control. Enaria is not liable for losses or missed rewards due to broker errors, rejection of trades, requotes, or other broker-specific behaviors.

            Spreads and Fees: If your broker has high spreads (difference between buy and sell price) or commissions, these will affect performance. The AI doesnt control broker fees; it assumes typical costs. If your costs are higher, results can differ. Its your responsibility to choose a suitable broker with reasonable trading costs.

            Trade Modifications: The AI may set stop-loss or take-reward levels. Sometimes brokers might move stops (if trailing stops) or there could be gaps where a stop-loss executes at a worse level than set (gap risk). Enaria cant guarantee stop orders will always fill at exactly the price set  standard market conditions apply.

        By using the Service, you acknowledge these execution risks. We do not compensate for differences between hypothetical/indicative performance and actual live performance caused by these factors.

        If you notice systematic execution issues (like every order is significantly delayed), you should check with both Enaria support and your broker. Sometimes changing the server or other technical adjustments can help if its a persistent latency issue. But in many cases, its just market reality.
        8.5 Users Manual Trading and Interference

        Enaria strongly recommends that you do NOT manually trade on the same account that the AI is managing. The reason is that manual trades can interfere with the AIs strategy and cause unexpected results or conflicts. If you still choose to enter manual positions or use a separate Expert Advisor on the same account, you do so at your own risk. Enaria will not be responsible for any losses or adverse performance resulting from your manual interventions or additional strategies running on the account.

        Specific issues that can arise from manual trading on the AI-managed account:

            Risk of Conflicting Positions: The AI might open a trade expecting a certain account equity or margin availability. If you have also opened other trades, you might run out of margin or skew the risk calculations, potentially causing premature stop-outs or preventing the AI from executing trades.

            Impact on AI Decisions: The AI might read the total position exposure on the account (depending on strategy) and could become confused or constrained by the presence of positions it didnt open. For instance, if you are long on an asset and the AIs logic wants to go long as well, it might either not enter (thinking you already have exposure) or double up unknowingly, increasing risk.

            High-Water Mark and Fee Calculation: If you make rewards through your own manual trades on the account, note that those rewards may still count towards the AIs performance for fee calculation purposes. The system will see the accounts equity increase and could attribute it to overall performance. In practice, Enarias fee will be calculated on the net reward of the account. It cannot easily distinguish if part of that reward was your manual doing. By using the service, you agree that any rewards in the account during a fee period is fair game for the AI fee (since the AIs presence enabled the account setup and risk-taking, etc.). Conversely, if you incur losses by manual trading, Enaria will not lower the high-water mark to give you a credit on the AI fee. For example, if the AI made $1000 reward (HWM up to +1000) and you manually lost $500 right after, bringing net to $500, Enaria might still calculate fee on the $1000 portion (depending on timing), and the high-water mark for future fee calculation might remain at the higher level, ignoring the manual loss. This is to prevent users from circumventing the performance fee by intentionally losing money or taking actions outside the AIs scope. In short: Manual losses will not reduce your obligation to pay AI fees on AI-generated rewards.

            No Liability for Manual Actions: You take full responsibility for any manual trades or external interference in the account. Enaria will not compensate you for losses that result from such actions, and such losses will not reduce fees owed (except as they naturally reduce account reward, but not below previous HWM as noted). We also reserve the right to discontinue service or flag your account if manual trading consistently disrupts the AIs operation.

        For best results, treat the AI-managed account as a hands-off account. If you wish to do manual trading, its advisable to do it in a separate account, or at the very least when the AI is not running (and then be aware you should probably stop the AI or remove those funds from AI management to avoid conflicts).
        8.6 Drawdowns, Margin Calls, and Account Liquidation

        Because trading involves leverage (in many cases), your account could face drawdowns (drops from a peak) and even margin calls. Enarias strategies typically aim to manage risk, but there is no guarantee against severe drawdowns. You are responsible for monitoring your accounts equity and margin level. The Platform may provide analytics about drawdown levels, but ultimately, if your broker issues a margin call or starts liquidating positions, that is between you and the broker. Enarias AI might not be able to prevent a margin call if losses accumulate quickly. We disclaim responsibility for any positions closed by your broker due to margin rules. The User should ensure they understand their brokers margin requirements and perhaps keep some extra equity as a buffer.

        If your account falls below a certain threshold or if there are not enough funds to continue trading effectively, Enaria may alert you or even pause the AI for your protection. However, Enaria is not obligated to do so and doesnt guarantee that it will intervene before a catastrophic loss  sometimes moves are too swift.
        8.7 Temporary Suspension of Trading (Outages, Maintenance, Force Majeure)

        Enaria may at times need to pause the AI trading due to technical maintenance, upgrades, or external events:

            If our servers or the VPS environment require maintenance or encounter a technical fault, we might temporarily halt sending new orders until resolved. We will try to close or manage any open trades safely before doing so.

            In case of extreme market events (e.g., trading halts on exchanges, extreme volatility like flash crashes) or other force majeure events (natural disasters, internet outages, cyberattacks, etc.), Enaria reserves the right to suspend the AIs operation for the duration of the event to protect Users from unpredictable behavior. We will resume normal operation when conditions stabilize.

            Enaria is not liable for losses or missed opportunities during such suspension periods, as these decisions are made in good faith for protection or are outside our control. For example, if a VPS goes down and the AI misses a trade that would have been profitable, we will not compensate that missed reward. Conversely, if a pause meant the AI didnt close a trade and it led to a loss, that is a consequence of the event that caused the pause, not a breach by Enaria.

            We will communicate with Users via the Platform or email about any significant outages or pauses. It is the Users responsibility to also keep an eye on their account. In some cases, Users might choose to manually intervene (for instance, closing positions) if they become aware the AI is offline. That is up to user discretion in such rare emergencies.

        8.8 Platform As-Is and Technological Limitations

        While we touched on this above, to reiterate: the Enaria Platform is provided as is without warranty of any kind. This includes the website, software, algorithms, and all content. We do not warrant that the Platform will meet your requirements or expectations, or that it will be available uninterrupted 100% of the time. We do not warrant that the data presented (e.g., pricing feeds, signals) are free of errors, though we strive for accuracy.

        Enaria will not be responsible for any systemic risk or issues such as:

            Power failures, hardware failures, or software bugs on our side (though we have redundancy, issues can still happen).

            Data errors from third-party providers (like incorrect price feed or news).

            Incompatibility or issues on the Users side (for example, if your browser is outdated or you have connectivity problems).

        8.9 Limitation of Liability

        To the fullest extent permitted by applicable law, Enarias liability to you is limited. Enaria (and its officers, directors, employees, and agents) shall not be liable for any indirect, incidental, special, consequential or exemplary damages, including but not limited to damages for loss of profits, loss of goodwill, lost opportunities, trading losses, data loss, or other intangible losses, even if we have been advised of the possibility of such damages.

        In no event shall Enarias total cumulative liability to you for any claims arising out of or relating to these Terms or the Services exceed the greater of: (a) two times the amount of the most recent Membership fee that you paid (for the membership period in which the event giving rise to liability occurred), or (b) USD $1,000 (one thousand US dollars). This limitation applies to any and all claims, whether based on warranty, contract, tort (including negligence), strict liability, or any other legal theory.

        For example, if you paid $300 for a quarterly membership, and something went wrong, our liability might be capped at $600 in that scenario. If you are on a high tier and paid $2000, two times that is $4000, so the cap might be $4000 in that case (assuming that exceeds $1000). If, however, law does not allow such caps in certain cases, we will comply with the minimum allowed cap but this is our intended limitation.

        We specifically also disclaim liability for any third-party actions or omissions, such as those of your broker, payment processors, or other users. We do not assume liability for any content or statements made by other Users (if say in a community forum context, just as an example).

        Some jurisdictions do not allow the exclusion of certain warranties or the limitation/exclusion of liability for certain damages. To the extent that those laws apply to you, some of the above disclaimers or limits may not apply. But in any case, our liability is the minimum allowed by that jurisdictions law.
        8.10 Indemnification

        You agree to indemnify, defend and hold harmless Enaria and its affiliates and their respective officers, directors, employees, and agents from and against any and all claims, losses, liabilities, damages, expenses, and costs (including reasonable attorneys fees) arising out of or related to: (a) your breach of these Terms or of any representation or warranty herein; (b) your use of the Platform or Services (including any content you submit, actions you take, or decisions you make using the Service); (c) your violation of any law or regulation or the rights of any third party; and (d) any dispute between you and a third party, such as your broker, a referred client, or another user.

        For example, if a third-party or government agency sues Enaria because of something you did (like you used Enaria to manipulate markets or you made illegal referral claims and someone sues us for misrepresentation), you would be responsible for the costs we incur due to your action. We will control the defense of any such claim, but expect your cooperation in good faith.

        This indemnification obligation will survive any termination of your relationship with Enaria or use of the Services.
        8.11 No Joint Venture or Third-Party Beneficiaries

        Nothing in these Terms shall be construed to create a joint venture, partnership, or fiduciary relationship between you and Enaria. You are a customer and, potentially, an independent affiliate if you engage in referrals, but not an agent or employee. You have no authority to bind Enaria to any contract or obligation, and you shall not misrepresent yourself as having such authority.

        These Terms are intended for the benefit of you and Enaria and not for any third party. No third party shall have any rights to enforce any term of this agreement (except as may be required by law or allowed for Enarias successors/assignees).
        9. Payment and Refund Policies

        This section covers additional terms regarding payments for the Services and the circumstances under which refunds might be available.
        9.1 Payment Obligations and Currency Conversion

        When you purchase a Membership or owe any fee (such as the AI Fee or maintenance fee), you must pay the amount in the currency and method Enaria specifies (generally USD equivalent via the wallet). If you are paying from a different currency or via crypto, you are responsible for any exchange fees or rate differences. We will credit your account the exact USD equivalent that we receive net of any processing fees.

        All amounts due must be paid in full. You are not allowed to set-off (offset) any alleged claim you have against Enaria against fees or amounts you owe us. For example, you cannot refuse to pay an AI Fee arguing that the AI lost me money last month  the fees are due as per agreement regardless of trading outcomes, except as explicitly provided in a refund scenario. If you do have a dispute, you still must pay what is due and resolve the dispute separately.
        9.2 Refund Policy

        Membership Fees: Enaria offers a limited refund policy for Membership subscriptions, primarily to comply with certain consumer protection laws and to ensure fairness for new users:

            If you are a new user (first time purchasing a Membership) and you find that the Services are not to your satisfaction, you may request a refund of your Membership fee within 14 days of purchase, provided that you have not yet connected a live brokerage account to the Platform and have not made substantive use of the product. Substantive use generally means executing trades or consuming significant content. Simply browsing the dashboard or interface is fine, but if the AI has executed trades on your account or if you have unlocked and accessed a substantial portion of the Enaria University content, that counts as usage.

                This 14-day refund is essentially a cooling-off period. To claim it, you must contact support within 14 calendar days from the date of purchase and explicitly request the refund. We may ask you for feedback or reasons (to improve our service), but youre not obliged to provide detailed justifications if you meet the criteria.

                If approved, refunds will be issued via the original payment method when possible (e.g., we would re-credit your card, or send crypto back, or simply not charge if it was pending). If original method is not feasible (say, crypto address cant accept returns), well work out an alternative (like USDT to a provided wallet).

                Note: If you have multiple accounts or try to abuse this policy (like signing up, refunding, then signing up again repeatedly), we reserve the right to deny refunds and possibly ban such activity.

            For renewals or existing users purchasing subsequent Memberships: We generally do not offer refunds once a membership term has started. By renewing, you are committing for that period. There is no pro-rated refund if you decide to cancel mid-term. For example, if you paid for a 3-month renewal and after 1 month you want to stop, that is your choice but the 3-month fee will not be partially refunded. The rationale is that affiliate commissions may have been paid out on that sale, and it would be unfair enrichment to get a refund after benefiting from services or referral rewards.

            Exception: in special cases of platform fault  e.g., if the platform was completely unusable for you due to a technical issue and support could not fix it in a reasonable time  Enaria may decide at its discretion to refund or credit some amount. This would be case-by-case and is not a guarantee, but we want to be fair if, say, someone paid and literally couldnt use the service because of a bug that was our fault.

        Token Balances: As explained, deposits converted to $GPU are not intended to be withdrawn. Thus, if you have remaining $GPU credit and stop using Enaria, ordinarily that is not refunded. The only scenario where a deposit might be refunded is if you made a deposit specifically to pay a fee or membership and the service cannot be delivered (for example, you deposit money to renew membership, but before its used you change your mind within 14 days and qualify for refund  in that case we might return that deposit). Another scenario: if Enaria were to cease operations or terminate your account not for cause, we might refund unused portions voluntarily.

        Affiliates: Commissions (GPU$) are technically not yours until withdrawn. If your account is terminated for a violation, any pending or even credited but not withdrawn commissions may be forfeited (see Section 10 on termination). If you decide to quit, were not going to claw back any commissions you legitimately received while active  those remain withdrawable during the normal course (subject to the min threshold). But if you are seeking a refund on your membership, and meanwhile you received commissions, we might deduct the commissions from the refundable amount or cancel those commissions, because it wouldnt make sense to have gotten paid out for a program while refunding your way out of it.

        Chargebacks: We covered this in Section 5.5  initiating a chargeback without following our refund procedure is a violation. Always try to resolve with us first.

        How to Request Refund: Contact our customer support through the official channel (email or ticket system as listed on our site) with your account details and the request. If its within the eligible period and conditions, we will process it. Refunds, if granted, will be processed as soon as reasonably possible, but depending on method it might take several business days to appear in your account (especially credit card refunds can take a week or more).

        We aim to be fair and transparent with refunds, within the constraints of running a sustainable business. Please make sure you fully understand what you are buying and the associated risks before the refund window closes.
        9.3 Third-Party Fees and Taxes

        When you make payments or withdrawals, third-party fees may apply (as mentioned). For example, your credit card might charge a foreign transaction fee if applicable, or a crypto withdrawal might have a network mining fee. Those are borne by you. Enaria will not reimburse those incidental costs. We try to minimize them (for instance, by batching crypto withdrawals to reduce fees, or offering local payment methods when possible).

        On the matter of taxes: Enarias prices do not include any personal taxes you might owe from using the service or receiving money. If you receive a lot in referral commissions, thats income you might need to report in your jurisdiction. Enaria does not withhold any income tax from commissions (unless required by law in some special circumstance). We may issue you and tax authorities a form or report of your rewards if required by law (like a 1099 form in the US, etc., if applicable), using the information you provided in KYC, but you remain solely responsible for paying any income taxes or similar on those rewards.

        For membership purchases, if you reside in a country where VAT or GST applies to digital services, we might be required to collect it. If we do, it will be clearly indicated (e.g., Price $100 + VAT). If its not clearly added, then either its not applicable or its your obligation under reverse charge mechanisms (for business customers abroad, etc.). We follow the law on this and will clarify based on your location.
        9.4 Promotions and Coupons

        Enaria might offer promotional discounts or coupon codes occasionally (for example, first month free, or a percentage off for early sign-up, etc.). Any such promotions have specific terms  typically, they cannot be combined with other offers, are limited to one per user, and might only apply to the initial purchase. If you received a discounted membership and then ask for a refund under the refund policy, Enaria reserves the right to treat the discounted amount appropriately (you wont receive more than you paid obviously, and if a free period was given, theres nothing to refund for that portion).

        Promotions might also be revoked if we detect abuse or violation of terms. For example, if someone uses multiple emails to get a first month free repeatedly, we can charge them for those months or cancel service.

        All financial transactions on the Platform must be in compliance with our policies and obviously lawful. If we suspect money laundering or fraud (e.g., deposits that make no sense economically followed by immediate withdrawal requests of GPU$ that dont align with actual commissions), we will investigate and possibly involve authorities, and such actions are grounds for termination as well.

        In summary: Pay what is owed on time, know that except for the 14-day new user window (no usage) there are generally no refunds, and do not try to game the system financially.
        10. Termination and Suspension

        Either party (you or Enaria) can terminate this agreement under certain conditions. This section explains how you can terminate, how we can, and what happens to your account, trades, and any balances or affiliate upon termination.
        10.1 Your Right to Terminate

        You may terminate your agreement with Enaria and close your account at any time by providing notice to Enaria (usually via an account settings option or contacting support). If you simply choose not to renew your Membership and stop using the service, that is effectively a termination of use (though your account might remain in our system as Inactive until formally closed).

        If you have an active Membership and you terminate early, note that no refunds will be given for any remaining period except as provided in Section 9.2. So if you really wish to terminate early, youre essentially forfeiting the rest of that subscription periods access.

        Upon your termination, we will disable your access to member areas. It is recommended that before terminating, you:

            Disconnect the AI from your broker (you can simply remove your API/MT credentials or stop the EA).

            Withdraw any GPU$ balance that you are eligible to withdraw (assuming above minimum). Once the account is closed, you might not be able to log in to request withdrawal. Enaria may still process a manual withdrawal request post-termination if needed, but its smoother to do it beforehand.

            If you have $GPU credit left, use it or understand its not withdrawable (and likely forfeited).

            Perhaps inform your downline if you have referrals that you are leaving (optional, but courteous, since if they relied on you for guidance, they will compress under your upline after 90 days).

        Terminating your account will not affect any obligation incurred prior to termination. For example, if an AI Fee was due from last months reward, you still owe it. If you had referred members and they are owed commissions from you in some way (not really applicable here since commissions come from the company, not from you), but just saying any existing obligations survive. Also, sections of these Terms that by nature should survive (like arbitration clause, liability limits, etc.) will survive.
        10.2 Enarias Right to Suspend or Terminate

        Immediate Suspension or Termination: Enaria may suspend your account or access to Services immediately, without prior notice, if we determine that you have violated these Terms or that such action is necessary to comply with legal requirements or to protect Enaria or others from harm. Grounds for immediate suspension/termination include, but are not limited to:

            Failure to pass or maintain KYC/AML compliance (e.g., if you provided false info, or you later appear on a sanctions list).

            Non-payment or payment disputes (e.g., chargebacks, or overdue AI Fees).

            Breach of Section 6 (Referral rules), such as engaging in prohibited marketing or fraud.

            Breach of Section 7 or 8 (security rules, misuse, attempting to reverse-engineer or attack our system).

            If we receive serious complaints or allegations of misconduct by you from other users or authorities.

            If your trading behavior with the AI poses a risk to Enaria (for example, maybe trying some exploit).

            Requests by law enforcement or regulators (if your account is linked to investigations, etc.).

            If you disparage or harm Enarias reputation significantly (were not petty about criticism, but deliberate public harm or sharing of confidential info could be an issue).

        For less severe issues, we might first suspend (which is a temporary disable) to investigate or wait for you to correct it (like send updated documents, pay whats due, etc.). Suspension means your AI is stopped and account locked from login or certain features. If not resolved, that can lead to termination.

        Termination for Convenience by Enaria: Enaria also reserves the right to terminate any users account by giving notice (e.g., an email) even without cause, perhaps with a notice period (like 30 days). This is rarely exercised and would typically be if we decide to discontinue the service in a country or altogether, or if we think its in the best interest of either party (maybe a user is unhappy and we decide to just end relationship formally). In such cases, we might offer a pro-rated refund of any remaining membership term since its not for cause.
        10.3 Effects of Termination

        When either party terminates:

            Cease of Service: You will no longer have access to the Platform functionalities. The AI will be disconnected from your broker account (we advise you also change your broker password to fully cut off access). Enaria will not open or manage trades for you thereafter. Its then entirely your responsibility to manage or close any remaining open positions that might have been initiated by the AI but are still running at termination time (we generally try to close them as part of wind-down, but it could depend). If we terminate for cause, we may or may not close out open trades  if feasible and market open, we might close them to protect from further risk, but we dont guarantee it. It might fall to you once you regain access via broker to handle positions.

            Forfeiture of affiliate: If you are terminated (especially for violation or prolonged inactivity), your referral affiliate will compress upwards permanently. You lose rights to any downline; if in future you rejoin (with our permission), youd start fresh. Any unpaid commissions that had not reached withdrawable threshold may be voided.

            Wallet Balances: If you have a GPU$ withdrawable balance, you should request payout ideally before termination as mentioned. If account is terminated for serious cause (like fraud), Enaria may freeze and not pay out even GPU$ that you received, especially if those rewards are suspected to be from violating behavior. In less clear cases, we might allow you to withdraw post-termination via a support request. $GPU (deposit credits) are not refunded, as per normal policy, unless we decide to in certain scenarios (like we terminated you for convenience with unused portion, maybe we refund that portion).

            Software License: Any license granted to you to use our software is revoked. You must uninstall any Enaria software and cease any further use of our intellectual property.

            Continued Liability: You remain liable for any outstanding payments or fees owed up to termination. If at the time of termination you owe an AI fee or a chargeback happened, etc., we will seek those amounts. Termination does not excuse your debt to us if any.

            Data Retention: We may inactivate your account but retain your data for record-keeping as required by law (especially KYC/AML records need to be kept for some years). See Privacy Policy for details on data handling after account closure.

            Communication: We might notify your downline (if any) that you are no longer an active affiliate, mainly by the system reassigning them, not necessarily a personal blast. But if they ask, we might confirm youre not with the company.

        If your account was terminated by us and you believe its a mistake or unjust, you can contact us to appeal. We may, at our discretion, reverse a suspension/termination if the issue is resolved or misunderstandings clarified. However, we have no obligation to reinstate an account terminated for serious violations.
        10.4 Compliance After Termination

        Even if your account is gone, if we or you become aware of any compliance issue (like you broke a law in the course of using Enaria), those obligations might still be pursued. For example, if a regulator asks us for your trading records after termination, we will comply. If taxes needed to be reported, we will still do that if required.

        If you had outstanding referral commissions and somehow an investigation shows they were received by fraud, we might seek repayment even after termination.

        In essence, termination closes off future use, but doesnt undo historical obligations or liabilities.

        Finally, any provisions in these Terms which by their nature should survive termination (such as arbitration clause, limitation of liability, indemnification, governing law, etc.) will survive.
        11. Governing Law and Dispute Resolution

        These Terms and any dispute that arises between you and Enaria will be governed by the following provisions:
        11.1 Governing Law

        This agreement is governed by and shall be construed in accordance with the laws of the British Virgin Islands (BVI), without regard to its conflict of law principles. This means that if there is a dispute or issue that ends up in court (subject to the arbitration clause below), BVI law will be applied to interpret and enforce these Terms and to adjudicate the dispute. The choice of BVI law is because Enaria Technology LLC is a BVI company, and we seek consistency in how the Terms are interpreted for all users worldwide.

        However, note that certain consumer protection laws in your home country might still apply for your benefit if you are a consumer (for example, EU residents have some protections regardless of choice of law in some cases). This governing law clause does not override any mandatory protections that your local laws provide and which cannot be waived by contract.
        11.2 Initial Dispute Resolution and Notification

        We encourage you to contact Enarias support or legal department to address any concerns or disputes informally before resorting to formal legal action. Many disputes can be resolved through dialogue. If you have a dispute, please email us a brief summary of your issue and requested relief. We shall do the same if we believe you are in breach before taking formal action. Both parties agree to attempt in good faith to negotiate a resolution for at least 30 days from the date notice of a dispute is given. Only after that 30-day period (unless the dispute is time-sensitive and seeking immediate equitable relief, like an injunction, which can bypass negotiation in emergencies) may either party proceed to the next step.
        11.3 Arbitration Agreement

        Any dispute, controversy, difference, or claim arising out of or relating to these Terms or your use of the Services, including the existence, validity, interpretation, breach, or termination of these Terms or any dispute regarding non-contractual obligations arising out of or relating to these Terms, shall be referred to and finally resolved by binding arbitration. Both you and Enaria agree to waive the right to a trial in court and instead resolve any arbitrable disputes through confidential arbitration.

        The arbitration shall be administered by the BVI International Arbitration Centre (BVI IAC) in accordance with the BVI IAC Arbitration Rules then in effect, which rules are deemed to be incorporated by reference into this clause. Some key points:

            The number of arbitrators shall be one unless the parties agree in writing to a panel of three. The arbitrator shall be a neutral party with relevant legal and industry experience.

            The seat or legal place of arbitration shall be in the British Virgin Islands (Road Town, Tortola, BVI). The arbitration hearings (if any are held in person) will presumptively take place in the BVI, but if both parties agree, sessions can be virtual or at another location.

            The language to be used in the arbitral proceedings shall be English.

            The arbitral award shall be final and binding on both parties. Judgment on the award may be entered by any court having jurisdiction thereof.

            The arbitrator has the authority to award any relief that a court of competent jurisdiction could award under law or in equity, including injunctions or damages, but may not award relief in excess of or contrary to what these Terms provide (for example, the limitation of liability will apply in arbitration as it would in court). The arbitrator shall also award reasonable attorneys fees and costs to the prevailing party, unless equity or law requires otherwise.

            Confidentiality: The parties agree to keep the arbitration proceedings and any results confidential, except as required to enforce the award or as required by law.

        By agreeing to arbitration, you and Enaria understand that we are giving up any right to a trial by jury or to participate in a class or representative action for the matters covered by arbitration.

        Exceptions: Either party may seek interim relief (such as an injunction or restraining order) in a court of law to prevent immediate harm or preserve the status quo while arbitration is pending, particularly in cases of unauthorized use of intellectual property or breaches of confidentiality. Also, for undisputed small monetary claims that fall within the jurisdiction of a small claims tribunal (if applicable), either party may choose to pursue those in small claims court instead of arbitration, as long as the matters remain in that small claims context.
        11.4 Class Action Waiver

        You and Enaria agree that any proceedings to resolve or litigate any dispute will be conducted solely on an individual basis and not in a class, consolidated or representative action. You hereby waive the right to participate in any class action lawsuit or class-wide arbitration against Enaria related to the Services or these Terms.

        For example, you will not serve as a class representative or class member or otherwise seek to recover losses on a collective basis in any proceeding. This also means the arbitrator has no authority to combine or aggregate similar claims or conduct any class proceeding, nor to make an award to anyone but the individual party in arbitration.

        If this class action waiver is found to be illegal or unenforceable as to certain claims (for instance, a court rules that law X doesnt allow class waivers for that type of claim), then those claims (and only those claims) will be severed and proceed in court (subject to governing law and jurisdiction), with the rest going to arbitration.
        11.5 Opt-Out Rights (If Applicable)

        We believe our arbitration agreement is fair and beneficial for both parties, but if you do not wish to agree to this arbitration provision, you have a right to opt out, but you must do so within 30 days of first accepting these Terms. To opt out, you must send a written notice to Enaria at legal@enaria.io with subject Arbitration Opt-Out and include your name, account email, and a clear statement that you opt out of the arbitration agreement. If you opt out, then section 11.3 (arbitration) does not apply to you, but all other parts of these Terms remain in effect, including the governing law and venue for any court proceedings (which would likely be the courts of the British Virgin Islands in Tortola).

        Opting out of arbitration does not opt you out of the class action waiver in 11.4. Even if you choose court, you still waive class actions as permitted by law.

        If you have accepted earlier versions of Terms that allowed arbitration and did not opt-out then, the opt-out period might have passed. But if this is a first introduction of arbitration in our Terms or a materially changed clause, we give you a new opt-out window from the time of notice of these new Terms.
        11.6 Venue for Litigation

        If the arbitration agreement is deemed unenforceable or if you opt out, or for any other disputes that for whatever reason are permitted to proceed in court (including if a claim is carved-out for injunctive relief as noted), then the dispute shall be subject to the exclusive jurisdiction of the courts of the British Virgin Islands (specifically, the BVI Commercial Court, if applicable, or the High Court), and both you and Enaria consent to venue and personal jurisdiction in BVI. You also waive any objections to inconvenient forum (forum non conveniens) with respect to proceedings in BVI.

        However, Enaria retains the right to seek enforcement of any legal rights or any court orders (such as an arbitration award) in courts of other jurisdictions as needed (for example, to enforce an award against you and your assets in another country).

        In any litigation (if it occurs), the prevailing party shall be entitled to recover its reasonable attorneys fees and costs from the other party, in addition to any other relief granted.
        11.7 Time Limits

        You agree that any claim or cause of action arising out of these Terms or Services must be filed within one (1) year after such claim arose; otherwise, it is permanently barred. (This time limit may not apply to certain claims like intellectual property or unpaid fees which have separate statutes, but for general user disputes it applies.)

        In summary, this section ensures that disputes are handled via arbitration in BVI under BVI law, individually, rather than through courts or class actions, except where a carve-out is applicable or opt-out is exercised properly.
        12. Miscellaneous
        12.1 Entire Agreement

        These Terms (along with any documents expressly incorporated by reference, such as our Privacy Policy or any Risk Disclosure statement provided, and your Membership plan details) constitute the entire agreement between you and Enaria regarding the Services. They supersede all prior or contemporaneous communications, agreements, promises, and proposals, whether oral or written, between you and Enaria with respect to the Platform and Services. Any earlier agreements or understandings are no longer effective once you agree to these Terms.

        You acknowledge that in entering into these Terms you have not relied on any representation, warranty, or statement that is not explicitly set out in this written agreement. (If someone from Enaria said something verbally that isnt in here, you cannot hold us to that unless it was later included in writing; of course, fraudulent misrepresentations are excluded from this limitation by law.)
        12.2 Amendments and Modifications to Terms

        Enaria may modify or update these Terms from time to time. If we make material changes, we will provide reasonable notice to you, such as by posting the new Terms on our website and updating the Effective Date or by sending you an email notification. Your continued use of the Platform after the effective date of updated Terms constitutes your acceptance of those revised Terms. If you do not agree to the revised Terms, you must stop using the Services and may terminate your account as per Section 10.1. We recommend you review the Terms periodically to ensure you understand the latest provisions.

        For changes specifically to the arbitration clause or class action waiver, we will explicitly give an opportunity to opt out if required by law or if its a new introduction.
        12.3 Severability

        If any provision of these Terms is held to be invalid, illegal, or unenforceable by an arbitral tribunal or court of competent jurisdiction, that provision shall be enforced to the maximum extent permissible to reflect the parties intent, and the remaining provisions of these Terms shall remain in full force and effect. In other words, not all of the Terms falls if one part fails. For example, if the class action waiver is found unenforceable for a certain type of claim, that part goes away for that claim, but the rest of Terms (including arbitration clause for other claims) stays enforceable.
        12.4 Assignment

        You may not assign or transfer any of your rights or obligations under these Terms without prior written consent from Enaria. Any attempt to do so without consent will be null and void. Enaria may freely assign or transfer these Terms (in whole or in part) as part of a reorganization, merger, sale of business, or to any affiliate or successor-in-interest without your consent. These Terms will be binding upon and inure to the benefit of the parties and their permitted successors and assigns.
        12.5 Force Majeure

        Enaria shall not be liable for any delays or failure in performance of any part of the Service, from any cause beyond Enarias control, including, without limitation: acts of God, war, terrorism, riots, embargoes, acts of civil or military authorities, fire, floods, accidents, strikes, or shortages of transportation, facilities, fuel, energy, labor, or materials, failure of public utilities or telecommunications networks, or hacking, cyber-attacks, and other malicious third-party actions. If such an event occurs, we will use reasonable efforts to mitigate its impact and resume our obligations as soon as feasible, but we shall have an extension of time to perform or may suspend performance during the force majeure event.
        12.6 No Waiver

        No failure or delay by Enaria in exercising any right, power, or privilege under these Terms shall operate as a waiver thereof, nor shall any single or partial exercise of any right, power, or privilege preclude any other or further exercise thereof. If we do not enforce a provision in some instance, it does not mean we waive our right to enforce it in the future. To be effective, any waiver by Enaria of any provision or right must be made in writing and signed by an authorized representative of Enaria.
        12.7 Notices

        Enaria may provide notices to you under these Terms by: (a) posting a notice on the Platform (e.g., on your account dashboard or a prominent site banner), (b) sending an email to the email address associated with your account, or (c) through any other contact method you have provided. It is your responsibility to keep your contact information (especially email) up to date. Notices will be deemed given: in the case of posting, on the day of posting; in the case of email, on the day after sending.

        You may give notice to Enaria by emailing our support or legal department at the contact email provided on our website, or by physical mail to our registered office address in the BVI (which can be provided upon request). Please also send an email informing us of any physical notice so we can be aware promptly.
        12.8 Relationship of Parties

        Nothing in these Terms shall be construed to create a partnership, joint venture, agency, or employment relationship between you and Enaria. You are an independent user (and if participating in referrals, an independent contractor for that limited purpose, not an agent). You have no authority to bind Enaria to any contract or incur obligations on Enarias behalf.
        12.9 Language

        These Terms are drafted in the English language. If these Terms are translated into another language, the English version will prevail to the extent of any inconsistency. All communications and proceedings shall be in English, unless otherwise agreed.
        12.10 Contact Information

        If you have any questions, concerns, or feedback about these Terms or the Services, you can contact Enaria at: support@enaria.io. We will respond to inquiries as soon as reasonably possible.        
      `),e(!r);else if(o===2)n(`
      Enaria Technology LLC (Enaria, we, us, or our) is committed to protecting your privacy and handling your personal data with transparency and care. Enaria, a SaaS AI trading platform registered in the British Virgin Islands, provides AI computational power and membership services. By using our platform, you agree to the terms of this Privacy Policy. If you do not agree, please discontinue use of the platform.
      Important Note: Enaria is not a financial services provider. We do not offer brokerage or investment services, and we never hold or control client funds. All trading activity facilitated through our platform is executed via your own MetaTrader accounts (or other trading accounts) that you connect manually, typically through a Virtual Private Server (VPS) integration. Enaria only provides the technology and AI tools; you retain full custody of your funds and control of your trading accounts at all times.
      Data Controller and Contact Information
      The data controller responsible for your personal data is Enaria Technology LLC (BVI). If you have any questions, concerns, or requests regarding this Privacy Policy or your personal data, please contact us at privacy@enaria.io. We take privacy inquiries seriously and will respond as promptly and thoroughly as possible.
      Scope of this Policy
      This Privacy Policy applies to personal data collected through Enarias website, application, and services (collectively, the Platform). It covers how we and our partner service providers collect, use, share, and protect information in connection with the Platform. This Policy does not apply to any third-party websites or services that may be linked to our Platform or to services provided by third parties that we integrate with (such as identity verification or payment processors). Those third parties have their own privacy policies, and we encourage you to review them separately. Enarias services are intended for users who are 18 years of age or older. We do not knowingly allow minors to use our Platform or knowingly collect personal data from individuals under 18, and we will delete any such information if we become aware of it.
      Personal Data We Collect

      We only collect personal data that is necessary for the purposes described in this Policy. The types of personal data we may collect include:

          Identity Data: Information that identifies you, such as your name, email address, phone number, and other contact details provided when you register an account or communicate with us. This also includes any identifiers you provide during Know-Your-Customer (KYC) verification (e.g. date of birth, nationality).

          Account Credentials: Login information you use to access the Platform, such as username and password. Account authentication is handled by a third-party service (Clerk) that securely manages user sign-up and sign-in on our behalf. Clerk may collect your email, password, and any authentication tokens; however, these are protected and not visible to us in plain form. We do not have access to your actual password, and any sensitive authentication data is stored in encrypted form. For accounts where two-factor authentication (2FA) is enabled, you will generate a 2FA secret/key. Enaria does not store your 2FA secret keys or backup codes  it is your responsibility to securely store them. If you lose access to your 2FA device or codes, we cannot reset them for you. (Note: We also do not collect any biometric identifiers for authentication; any biometric login features on your device remain local to your device.)

          Profile Information: Any additional information you choose to add to your profile on the Platform, such as a profile photo, preferences, or settings. Providing this information is optional and under your control.

          Transaction Data: Information related to your activities on the Platform and purchases of our services. For example, we keep records of the membership plans or computational power packages you purchase, subscription start and end dates, and transaction history like invoices or payment confirmations. Note that Enaria itself does not process or hold your financial assets, but we maintain a record of the services youve obtained and their status. If our Platform interacts with your connected trading account (e.g. to deploy AI strategies via VPS), we may log certain transactional or performance data from those activities (such as trade signals or execution timestamps), but we do not directly execute trades or withdraw/deposit funds on your behalf.

          Usage Data: Data about how you interact with our Platform. This includes your activities and behavior on the site/app: e.g. pages or features you access, time spent on the Platform, click streams, and actions taken (like settings changes or links clicked). We collect this to understand usage trends and improve user experience. Usage Data may be collected via analytics tools (like Google Analytics or Meta Pixel) and through cookies or similar technologies (see Cookies and Tracking below).

          Device and Technical Data: Technical information automatically collected when you use the Platform. This includes your Internet Protocol (IP) address, Media Access Control (MAC) address of your device, your approximate geographic location at login (e.g. city/country derived from IP), browser type and version, device type, operating system, unique device identifiers or IDs, network information, and device event information (such as crashes or error logs). We collect this to secure the Platform and optimize compatibility for your device. We may also record log-in timestamps and usage logs linked to your account for security auditing.

          Verification Data (KYC/AML): Information collected for identity verification and compliance purposes. Since KYC verification is mandatory to use our services, we (through our provider) will collect data such as your date of birth, physical address, national ID or passport details, photographs or scans of identification documents, proof of address (e.g. utility bill), and any information needed for Know-Your-Customer and Anti-Money Laundering checks. Important: Enaria uses a third-party KYC provider to handle the collection and verification of your KYC information. This means any personal documents or biometric data (for example, a facial recognition scan or selfie for ID verification) are provided directly to the KYC Provider via their secure channels. We receive from the KYC Provider only the results of the verification (e.g. pass/fail or verified status) and necessary details to approve your account. We do not store your raw ID documents or biometric identifiers on our systems; those are handled by the KYC Provider in accordance with their privacy safeguards. KYC completion is a prerequisite for accessing Enarias platform services, in line with legal requirements.

          Communication Data: Records of your communications with us. If you contact Enaria support or we reach out to you with service-related communications, we may keep copies of correspondence such as emails, support tickets, chat logs, or call records. This helps us track issues and improve our customer service.

          Payment and Financial Information: Enaria does not collect or store your sensitive payment details such as credit card numbers, bank account numbers, or cryptocurrency wallet private keys. All payments for our services (e.g. purchasing memberships or computational power) are handled through trusted third-party payment processors. For fiat/credit card payments, we use Payment Processor Card; for cryptocurrency transactions, we use Payment Processor Crypto. These processors will collect payment information directly from you to complete the transaction. Enaria itself receives only limited information in return  for instance, a confirmation that a payment was completed, the payment amount, and your account or order identifiers. We may also store billing contact info you provide (such as billing name, address, or tax ID if needed for invoicing) and records of the transactions (invoice numbers, amounts, dates) for accounting. But we never see or hold your full credit card number, bank details, or private crypto keys, and we do not process payments on our servers.

          Cookies and Tracking Data: As you interact with our website, we use cookies and similar technologies to collect certain data (detailed in Cookies and Tracking below). This can include your cookie preferences and identifiers tied to your browsing session. Non-essential cookies (like analytics or advertising cookies) will only be set with your consent, per applicable law.

      Sensitive Data: We do not intentionally collect any special categories of sensitive personal data about you (such as information about your health, genetic or biometric identifiers for identification, racial or ethnic origin, political opinions, etc.), unless it is absolutely required for our services and carried out with appropriate safeguards. For example, if biometric identification is required for KYC (such as a face match to your ID), it is handled by our KYC Provider under strict security controls  we do not directly store that biometric data. We also do not knowingly collect data from children under 18, as noted; our Platform is for adult use only. If you believe someone under 18 has provided us personal data, please contact us so we can delete it.
      How We Use Your Personal Data

      We use your personal data for the following purposes, and we will not process it in a manner incompatible with these purposes without your knowledge or consent:

          Providing and Managing Your Account: We process Identity Data and Account Credentials to create and maintain your user account, authenticate you at login, and allow you to use the Platforms features. For example, we use your email and password (via Clerks authentication system) to log you in securely, and use your Identity Data to personalize your account profile. We may contact you with account-related messages (like welcome emails, verification codes, or important notices about your account).

          Providing the Platform Services: To operate the core services you request. We use the necessary personal data to enable the AI trading tools and computational services you sign up for. For instance, if you connect a MetaTrader account, we use your provided API or login details to integrate our AI strategies with your account (with your authorization). We use Transaction Data to keep track of the services youve purchased and to deliver those services (e.g. activating your membership or computing power allocation). If you initiate a payment or subscription, we use your data to facilitate that transaction through our payment processors and to confirm your purchase. In short, your data is used to fulfill our contract with you and provide the services and functionalities you expect.

          Communications and Customer Support: To communicate with you about your account and respond to your inquiries. We will use your contact information to send service-related communications such as confirmations of transactions, notifications of software updates or changes to our terms, security alerts (e.g. new login to your account), and other administrative messages. If you reach out with questions or support requests, we will use your Communication Data to assist you and resolve issues, keeping records of our communications. These communications are considered part of the services and are necessary for customer care and informing you of important information.

          Platform Improvement and Analytics: To analyze usage of the Platform and improve our services and user experience. We may use Usage Data and technical analytics (collected via cookies or third-party analytics tools) to understand how users interact with features, identify trends, debug problems, and optimize performance. For example, we might analyze which features are most used or where users encounter errors, so we can improve those areas. We also analyze aggregated usage patterns to make informed decisions about new features or content. This processing is in our legitimate interest to continually make our Platform better and more useful to our members.

          Personalization: To personalize your experience on the Platform. We might use Profile Information, preferences, and cookie data to remember your settings and tailor the content you see. For instance, we may recall your preferred language, layout, or the type of content you engage with, in order to show you relevant information or settings by default. This makes the user experience more convenient and customized to you.

          Marketing and Promotional Communications: To send you updates, newsletters, or offers about our products or related services, only if you have opted-in or if otherwise permitted by law. If you join our mailing list or consent to receive marketing, we will use your contact details to inform you of new features, promotions, or events related to Enaria that might interest you. You can withdraw your consent and opt-out of marketing emails at any time, and we will honor that choice (see Your Rights below). We may also use limited data (like your email or site activity) to show you relevant ads or messages on our or third-party platforms, but only in accordance with your advertising cookie preferences. We will not bombard you with marketing, and we wont share your contact info with third-party advertisers without your consent.

          Compliance and Legal Obligations: To comply with our legal and regulatory obligations. Enaria, as a company offering services in a regulated space (trading technology and membership services), must adhere to laws such as anti-money laundering (AML) and know-your-customer regulations, tax laws, and other applicable rules. We will use Verification Data (KYC information) to perform identity checks, prevent fraud, fulfill AML/Counter-Terrorist Financing requirements, and ensure we do not provide services to sanctioned or restricted individuals. We may also use and retain transaction records for accounting and tax reporting. When processing personal data to meet a legal obligation (e.g., responding to lawful requests, or keeping KYC records), we will only use the data necessary for that compliance. KYC completion is required before you can fully use our Platform, and this is done to satisfy legal regulations and protect the integrity of our services.

          Security and Fraud Prevention: To secure our Platform, our users, and our systems. We continuously monitor for suspicious or unauthorized activities and use personal data to help prevent fraud, cyber-attacks, and other harmful acts. For example, we use Device/Technical Data (like IP, MAC address, geo-location) to detect if an unknown device or location is logging into your account, which helps us flag potential unauthorized access. We may use account and usage information to enforce 2FA policies or detect patterns of misuse. If we suspect fraud or a violation of our terms, we will investigate and may use relevant personal data (including identity and usage logs) to confirm facts and take action. This is done under our legitimate interest in keeping the Platform safe and secure for everyone.

          Enforcing Terms and Legal Claims: To enforce our Terms of Service, Membership Agreement, or other user agreements, and to establish or defend legal claims. If necessary (for example, in the event of a dispute, debt collection, or legal proceeding), we will use personal information as evidence and to protect our rights. This may include using data to resolve complaints, address breach of contract, or cooperate with law enforcement or regulators if required. We will only share the minimum necessary data for such purposes and only when legally permitted or required.

          Other Purposes: We will not use your personal data for any purposes that are unrelated to the above without obtaining your consent, unless otherwise permitted by law. If we ever need to process your data for a new purpose, we will update this Privacy Policy and notify you and/or obtain consent as required.

      Legal Bases for Processing

      For individuals in the European Economic Area (EEA), United Kingdom, or other regions with similar laws, we rely on certain legal grounds to process your personal data under the General Data Protection Regulation (GDPR) and corresponding regulations:

          Performance of a Contract (GDPR Art. 6(1)(b)): Most of our data processing is based on this legal basis. When you sign up for Enaria and agree to our terms, a contract is formed, and we must process your data to deliver the services you request. This includes using Identity Data and Account Data to create your account, Transaction Data to provide the purchased services, and so on. If you choose not to provide necessary information, we may not be able to provide the service or execute the contract with you.

          Legitimate Interests (GDPR Art. 6(1)(f)): We process some data as needed for legitimate interests of our own or of third parties, provided these are not overridden by your data protection rights. Our legitimate interests include: improving and personalizing our platform (e.g. analyzing Usage Data to enhance features), ensuring the security of our services and preventing fraud, supporting our customers, and operating an efficient business. For example, using IP addresses to detect fraud, or using Usage Data to debug and improve user experience, are actions based on our legitimate interest in maintaining a reliable, safe service. When relying on this basis, we carefully consider and balance the potential impact on your rights.

          Legal Obligation (GDPR Art. 6(1)(c)): In certain cases, we need to process data to comply with a legal obligation. For instance, retaining KYC and transaction records for anti-money laundering laws or financial regulations, responding to court orders or regulatory requests, or keeping proper business records for tax and accounting purposes. In such cases, the law is the basis for processing and we will limit use of the data to what is necessary for compliance.

          Consent (GDPR Art. 6(1)(a)): We rely on your consent for specific, optional data processing activities. The clearest example is sending marketing communications or using non-essential cookies and trackers. We will ask for your consent before processing your data for these purposes (unless another basis applies). You have the right to withdraw consent at any time (e.g. unsubscribe from marketing emails or decline cookies), and we will stop the processing in question. Withdrawal of consent does not affect the lawfulness of processing we conducted prior to your withdrawal.

          Other Bases: In very rare situations, we might process personal data under other legal bases recognized by GDPR: for example, to protect vital interests (Art. 6(1)(d)) if the processing is necessary to save someones life or prevent serious harm, or for tasks carried out in the public interest (Art. 6(1)(e)) if ever applicable to our services (not typical for Enarias operations). We would only rely on these bases if relevant and would inform you where appropriate.

      We always ensure we have a lawful basis for processing your personal data. If you have questions about the legal basis for any specific processing, please contact us.
      How We Share Your Personal Data

      We treat your personal data with care and confidentiality. We do not sell your personal information to third parties. However, we do share your data with certain trusted third parties under the following circumstances, and only to the extent necessary for those purposes. Whenever we share data, we put in place appropriate safeguards and contractual measures (such as Data Processing Agreements under GDPR) to ensure your data is protected.

          Service Providers (Processors): We share personal data with third-party companies that provide services on our behalf, to help us operate the Platform and support our business. These include:

              Authentication Provider (Clerk): As noted, Clerk manages user authentication and account creation. When you sign up or log in, the necessary credentials and identity info are processed by Clerks systems. Clerk acts as our data processor for this function, and is contractually obligated to protect your data and use it only for authentication.

              Identity Verification Provider : We transmit the personal data you submit for KYC (identification documents, etc.) to our KYC/AML service provider. They process this data strictly for verification and compliance screening, and report back to us. The KYC Provider  is bound by confidentiality and data protection agreements, and will not use your information for other purposes.

              Payment Processors: When you make payments, your data is shared with our payment processing partners. For example, if you pay by credit card, Payment Processor Card will receive your card details and billing information to process the transaction. If you pay in cryptocurrency, Payment Processor Crypto will handle your crypto address and transaction. These processors are independent controllers or processors of your payment data, and they have their own legal obligations (e.g. PCI DSS compliance for card security, or financial regulations). We share only the necessary information (such as your user ID or order number to match the payment). Importantly, we do not receive or store your sensitive payment details as the payment is completed on the processors side.

              Data Hosting and Infrastructure: We use third-party hosting/cloud providers to store data and run our application (e.g. cloud servers or data centers). Personal data resides on those servers but is protected under our control. These providers may technically have access to data for maintenance or support, but they are not allowed to use or disclose it except as needed to provide the hosting service under strict confidentiality.

              Analytics and Tracking Providers: We utilize tools like Google Analytics and Meta Pixel to collect Usage Data and metrics about how our Platform is used. These third-party analytics services set cookies or similar identifiers in your browser (with your consent) and compile reports for us on user interactions and advertisement effectiveness. We share certain online identifiers or events with these providers to help us analyze and improve our marketing and user experience. For instance, Google Analytics will receive your site usage information (anonymized IP, device info, pages viewed, etc.), and Meta Pixel might receive hashed identifiers to help us with advertising on Facebook/Meta platforms. These providers act as independent data controllers for their use of data in some cases (especially for their own analytics purposes), but we ensure any data sharing is done in compliance with privacy laws and with your consent via our cookie banner.

              Customer Support and Communication Tools: We may use third-party platforms for customer support ticketing, live chat, or email communications (for example, an email delivery service or CRM). If you contact us or we send you emails, your contact details and message may pass through these providers. They are obligated to keep your data secure and only process it for our specified support purposes.

              Other IT and Security Services: We might engage providers for services such as data backups, cybersecurity monitoring, DDoS protection, or software development tools that require limited access to systems containing personal data. Any such provider is carefully vetted and bound by strict data protection obligations. They cannot use your data for anything other than supporting our Platform as instructed by us.

          All our service providers are given only the data necessary to perform their functions, and they are contractually required to protect it. If any service provider is located outside of certain jurisdictions (e.g. outside the EEA), we implement appropriate safeguards (see International Data Transfers below). Data Processing Agreements under GDPR Article 28 are in place where applicable to ensure your data remains secure.

          Affiliates: If Enaria Technology LLC has affiliate entities or subsidiaries in the future, we may share your information within our corporate group for business and operational purposes. For example, if we establish an affiliate to provide a portion of the service or for internal administration, your data might be accessed by that affiliate. Any such affiliate will uphold the same privacy protections and use limitations as described in this Policy. (Currently, Enarias services are provided directly by Enaria Technology LLC, so sharing with affiliates is limited or not applicable if we have no affiliated entities.)

          Business Partners: From time to time, Enaria might engage in joint offerings or partnerships with other organizations (for instance, co-hosting a webinar or a special promotion with a trading educator or broker). If you choose to participate or sign up for these joint offerings, we might share relevant information (like your name, email or user ID) with the partner to coordinate the service or promotion. We will do this only as necessary and typically with your knowledge and consent (e.g. if you register through a co-branded page that clearly states the partners involvement). The partner would be required to protect your data and use it only for the agreed purpose.

          Legal Compliance and Protection: We may disclose personal data when required by law or when we in good faith believe it is necessary to comply with a legal obligation, protect our rights or the safety of our users or others, or respond to a government request. Examples include: responding to subpoenas, court orders, or lawful requests by authorities; sharing information with regulators or law enforcement for compliance (such as providing KYC information if formally requested by a financial regulator or investigative agency); or using data to investigate and defend against legal claims. If we receive a request for your data from a government or law enforcement agency, our policy is to review it carefully and only comply if its legally valid and necessary. Where allowed, we would inform you of such requests. We may also use or disclose data to enforce our Terms of Service or other agreements, or to detect and prevent fraud or security issues.

          Corporate Transactions: If Enaria undergoes a business transaction such as a merger, acquisition by another company, reorganization, or sale of all or part of its assets, your personal data may be transferred as part of that transaction. We would transfer only relevant data and will ensure that the recipient (the succeeding entity) honors your privacy rights in line with this Policy. If such a change in ownership or use of your personal data occurs, we will notify you (for example, via email or notice on our website) and outline any choices you may have.

          With Your Consent or At Your Direction: Aside from the cases above, we will share your personal data with third parties if you request it or explicitly consent to it. For instance, if you integrate a third-party tool with Enaria or ask us to share data with another platform (perhaps exporting your data to another service), we will do so as directed. Similarly, if in the future our Platform offers social media integrations and you choose to share something on social media, we will share data with that platform per your action. In any such case, we will make it clear to you and will only proceed with your knowledge.

      We ensure that any third party receiving personal data is subject to obligations to keep it confidential and to use it only for the purposes weve specified. Wherever feasible, we also share data in aggregated or anonymized form (so it cannot be linked back to you individually). If you have questions about third parties that may have access to your data, feel free to contact us for more information.
      Cookies and Tracking Technologies

      Cookies are small text files placed on your device when you visit a website. Like most online services, Enaria uses cookies and similar tracking technologies (such as web beacons or pixels) to enhance your experience, analyze usage, and for marketing purposes. We are mindful of your privacy and comply with applicable laws (GDPR, ePrivacy Directive, etc.) regarding cookies.

      Types of Cookies We Use:

          Essential Cookies: These are necessary for our website and services to function properly. They enable core features such as security, network management, and accessibility. For example, when you log in, we use session cookies to keep you logged in as you navigate the site. These cookies do not require consent as they are needed to provide the service you requested.

          Analytics Cookies: These cookies collect information about how visitors use our site, such as which pages are most visited or whether users encounter errors. We use this data in aggregate form to improve the Platforms performance and design. For instance, we use Google Analytics cookies to gather insights on user behavior. These cookies may track things like how long you stay on a page, what links you click, and general location information of visitors. The information is generally aggregated and does not directly identify you.

          Advertising/Marketing Cookies: We may use cookies or pixels to deliver and measure advertising or promotional content. For example, the Meta (Facebook) Pixel on our site helps us understand the effectiveness of our Facebook ads by seeing if users who saw an ad then took an action on our site. These cookies can track when you visit certain pages or interact with our ads, and help us reach people who are likely to be interested in our services. We do not serve third-party banner ads, but we might use these trackers for our own marketing analytics.

          Preference Cookies: These cookies remember your preferences (like language or region, or other settings) to provide a more personalized experience. They may be set when you change settings or fill in forms on our site.

      Cookie Consent: In jurisdictions where its required, we will obtain your consent before setting any non-essential cookies or trackers on your device. When you first visit our site, you will see a cookie banner that allows you to opt-in to different categories of cookies. You can choose to accept all, or only certain types (e.g. just analytics but not marketing). No non-essential cookies will be activated unless you affirmatively consent (for example, by clicking Accept on the banner or selecting your preferences and confirming). We do not use pre-ticked boxes or assume consent from inactivity or mere continued use of the site, in accordance with GDPR requirements. You have the right to withdraw your consent or change your cookie settings at any time.

      If you opt out of certain cookies, our site will honor your choice. Essential cookies (which are required for service) will remain, but analytics and marketing cookies will be disabled unless you consent to them.

      Managing Cookies: You can manage or delete cookies through your browser settings as well. Most web browsers allow you to refuse new cookies, delete existing ones, or notify you when new cookies are set. Please note that if you disable all cookies (including essential cookies) via your browser, some features of our Platform may not function properly (for example, you might not be able to log in or use the service smoothly).

      For more detailed information about our use of cookies and similar technologies, and the specific cookies we use, we will provide a detailed Cookie notice in the future. (At this time, this Privacy Policy includes the relevant information about cookies, and a separate Cookie Policy may be integrated later.)

      Analytics and Tracking by Third Parties: As mentioned, we use Google Analytics, which may transfer some data to Googles servers (we have configured it to anonymize IP addresses where applicable). We also use Meta Pixel which sends hashed data to Facebooks servers. These third parties may set and read their own cookies on your device. The information generated by Google Analytics cookies about your use of the site is typically transmitted to Google servers (which could be outside your country). We have settings in place to respect Do Not Track signals and cookie consent choices for these tools. You can opt out of Google Analytics by installing the Google Analytics Opt-out Browser Add-on, and you can adjust your ad settings on social platforms to control personalized ads.

      Do Not Track: At this time, our website does not respond to Do Not Track browser signals explicitly, because there is no uniform standard for DNT. However, we treat all users data with care and we let you fully opt out of tracking cookies via the consent banner.
      Data Retention

      We retain personal data only for as long as necessary to fulfill the purposes described in this Privacy Policy, unless a longer retention period is required or permitted by law. This means we consider the type and sensitivity of the data, the purposes for which it is processed, and any legal or regulatory obligations to determine how long to keep it.

      In general:

          Account Data: We keep your account information and profile as long as you have an active account with us. You can see and update much of this information in your profile. If you choose to close your account, we will deactivate it and eventually delete or anonymize personal data associated with your account after the retention period (see below).

          KYC and Compliance Data: Information collected for KYC/AML verification and transaction records may be retained for a certain period even after you close your account, due to legal obligations. For example, anti-money laundering laws in many jurisdictions require that customer identification records be kept for a minimum of five (5) years after the end of the customer relationship. Enaria adheres to such requirements, meaning that if you close your account or your service is terminated, we will retain necessary KYC data and related records for up to five years, or longer if required by law, to comply with these regulations.

          Transaction & Payment Records: Similarly, we may retain records of payments, invoices, and transaction history for a certain time for tax, audit, and financial reporting obligations. Typically, financial records are kept for at least 5-7 years as required by accounting laws.

          Communications and Support Records: We may keep communications youve had with us (such as support emails or chat logs) for a period of time after your account is closed, in case needed for dispute resolution or to improve our services. These would generally not be kept longer than necessary (commonly 2-3 years, unless still relevant to an ongoing issue).

          Analytics Data: Usage Data that is collected via cookies/analytics may be retained in aggregate form after you use the site for statistical purposes. If we do store raw analytics logs, they are typically retained for a shorter period (e.g. 14 months by Google Analytics default) and/or anonymized.

      When your personal data is no longer needed for the purpose it was collected, and we have no legal requirement to keep it, we will either securely delete or anonymize the data. For example, if you delete certain information from your profile, we remove it from active systems. When you delete your account or it is closed, we initiate the process of deleting or anonymizing data that is no longer required. If complete deletion is not immediately feasible (for instance, because the data is stored in a secure backup archive), we will isolate that data from any further processing and ensure it remains protected until the point it can be purged.

      Please note, in specific cases we may retain data longer than the periods mentioned: (a) if there is an unresolved issue, dispute, or legal claim that requires us to keep the data (in which case, well retain it until the issue is resolved), or (b) if a law or regulation requires us to keep data for a longer period. Once the retention period expires, we will delete or anonymize the data as appropriate.
      Data Security Measures

      Enaria takes the security of your personal data very seriously. We employ a variety of technical and organizational measures to protect your information from unauthorized access, loss, misuse, or alteration. These measures include:

          Encryption: We protect data in transit and at rest with encryption. All communication between your browser/app and our servers is encrypted using industry-standard protocols like TLS/SSL (HTTPS). This means personal data is encrypted while its being sent to us. Additionally, we encrypt sensitive data at rest in our databases and storage, whenever feasible. For example, passwords are stored in hashed/encrypted form, and other sensitive fields may also be encrypted on disk. Encryption helps ensure that even if data were intercepted or accessed improperly, it would not be easily readable.

          Access Control: Access to personal data is tightly restricted to only those personnel and service providers who have a need to know to perform their duties. Within our organization, only authorized staff (such as team members in charge of user support, compliance, or system administration) can access user personal data, and even then, only what they need. They are bound by confidentiality obligations and undergo training on data protection. Our third-party processors who handle data (like the KYC provider or hosting provider) are also contractually required to limit access and maintain confidentiality. We employ role-based access controls and authentication mechanisms to ensure that each employee or system accessing data is verified and permitted.

          Network Security: We maintain firewalls and network segregation to protect our infrastructure. Firewalls help ensure that only legitimate traffic reaches our servers. We also use intrusion detection and prevention systems to monitor for suspicious activities or unauthorized access attempts. Our servers and databases are configured with security in mind, with up-to-date patches and hardened configurations to reduce vulnerabilities.

          Threat Detection and Prevention: Enarias systems employ anti-virus and anti-malware solutions, as well as continuous security monitoring. We use tools to detect potential threats such as unauthorized logins, malware injections, or abnormal usage patterns. If an anomaly is detected, our security team is alerted to investigate and respond. We also utilize secure coding practices in our software development to minimize security bugs, and regularly update our software dependencies to patch known issues.

          Regular Audits and Testing: We conduct periodic security audits, assessments, and penetration testing of our systems. This means we or independent security experts test our infrastructure and applications for vulnerabilities. Any identified issues are addressed promptly. We also review our compliance with security standards and best practices regularly. Enaria is committed to continuous improvement in security, including undergoing periodic compliance audits of our data protection practices and monitoring adherence to this Privacy Policy.

          Incident Response: We have an incident/breach response plan in place. In the event of a data breach or any security incident affecting personal data, we will immediately act to contain and remedy the situation. We will also notify affected users and relevant authorities as required by law. Our plan outlines steps for communication, mitigation, and preventing future incidents. For example, if we discover a breach, we might prompt all users to reset passwords and will provide guidance on protective measures.

          Physical Security: Although we are a cloud-based platform, any physical facilities (offices or data centers) where personal data may be stored are protected with appropriate access controls. Data centers used by our hosting providers have strict security (guard patrols, access badges, surveillance, etc.), and our own devices that may contain personal data (e.g., employee laptops) are encrypted and secured.

          Organizational Policies: We maintain internal policies to safeguard data. This includes data handling procedures, incident management procedures, and regular training for our staff on cybersecurity and data privacy. We limit the printing or local storing of personal data and encourage a culture of security (e.g., using 2FA for internal systems, strong password policies, etc.). We also monitor our systems for compliance with these policies.

      Despite our robust measures, its important to note that no method of transmission over the Internet or method of electronic storage is 100% secure. While we strive to protect your personal data using commercially acceptable means, we cannot guarantee absolute security. Users also play a crucial role in keeping data safe. We urge you to use a strong, unique password for your Enaria account and to keep your login credentials confidential. Do not share your password or account access with others. If you believe your account has been compromised or detect any unusual activity, please notify us immediately so we can help secure your account.
      International Data Transfers

      Enaria is based in the British Virgin Islands (BVI) and our users may be located around the world. In order to provide our services, your personal data may be transferred to and stored in countries other than your own, including jurisdictions that may not have the same level of data protection laws as your home country. For example, our primary servers or service providers might be located in the European Union or other regions. Whenever we transfer personal data across international borders, we take steps to ensure it remains protected in line with this Policy and applicable law.

      No Transfers to the United States: At this time, Enaria does not transfer personal data to the United States. We have structured our operations such that user data is stored and processed on servers outside the US, and we avoid using service providers that would require sending personal data to the US. (This is due to regulatory considerations and our commitment to user privacy given the legal climate around EU-US data transfers.) If in the future we consider engaging any US-based service providers or transferring data to the US, we will ensure appropriate safeguards are in place and update this Policy accordingly.

      Transfers from EU/EEA or UK: If you are in the European Union (EU), European Economic Area (EEA), or the UK, and your data is transferred out of those regions (for example, to the BVI or any other country not deemed to have adequate data protection by the European Commission), we will implement appropriate safeguards as required by GDPR. These may include:

          Standard Contractual Clauses (SCCs): We include the European Commissions approved Standard Contractual Clauses in our contracts with non-EEA service providers or partners to ensure your data receives EU-level protection. The SCCs impose contractual obligations on the recipient to protect personal data.

          Adequacy Decisions: Where we transfer data to a country that has been officially recognized by the EU as providing adequate data protection (for example, countries in the EUs adequacy list), we rely on that decision as the transfer mechanism.

          Additional Safeguards: We may apply encryption, pseudonymization, or other technical measures to data before transferring it, as needed, to ensure its security during transit and in the recipient country. We also carefully vet our international partners security practices.

          Contractual and Organizational Measures: Our contracts with processors outside the EU/UK bind them to GDPR-level standards of data protection. We also perform periodic assessments of the risk of the data transfer and stay updated on any regulatory changes (such as new guidance on international transfers). If necessary, we will adopt supplementary measures recommended by authorities.

      If you would like more information about international data transfers or copies of the SCCs or other safeguards we implement, you can contact us. We will provide information in accordance with legal requirements (some details may be redacted for confidentiality).

      By using our Platform or submitting information to us, you acknowledge that your personal data may be transferred to, and stored in, countries other than your own as described above. Rest assured that all such transfers will be done in compliance with applicable privacy laws and with appropriate safeguards in place so that your data remains protected.

      (Note: In addition to privacy considerations, please be aware that Enaria may restrict access to the Platform from certain jurisdictions for legal and regulatory reasons. If you are in a country that is sanctioned or otherwise restricted by our policies or by law, we cannot offer you the services. We do not knowingly collect data from individuals in any such prohibited regions. If we detect that an account is operating from a restricted country, we may have to suspend service and remove data in accordance with legal requirements. Currently, Enaria does not offer services to U.S. persons or to any jurisdiction where our operations would violate trade sanctions or local regulations.)
      Your Rights as a Data Subject

      As a user of Enaria and as a data subject, you have certain rights regarding your personal data under GDPR and other data protection laws. We respect and uphold these rights. You can manage many aspects of your data through your account dashboard (for example, updating your profile or deleting certain information), and you can always contact us to exercise your rights. These rights include:

          Right of Access: You have the right to ask if we are processing your personal data, and if so, to request a copy of the data we hold about you. This enables you to know and verify the lawfulness of our processing. We will provide a copy of your data in a commonly used electronic format (unless doing so would adversely affect the rights of others). For instance, you can request a report of all your personal info we maintain. In your Enaria dashboard, you may have a feature to view basic personal info; for a full export, you can contact us. We will provide this information free of charge, within a reasonable time (see below for timing).

          Right to Rectification: You have the right to have inaccurate personal data corrected and incomplete data completed. If any of your information with us is outdated or incorrect (e.g. youve changed your phone number or theres a typo in your name), please update it in your profile or ask us to update it. We encourage you to keep your profile information current. If there are details you cannot change through the platform, contact us and we will correct them as needed.

          Right to Erasure (Right to be Forgotten): You have the right to request deletion of your personal data in certain circumstances. For example, if the data is no longer necessary for the purposes it was collected, or if you withdraw consent (for data that was based on consent) and we have no other legal basis to keep it, or if you object to processing and we have no overriding legitimate interest, you can request that we erase that data. You can also request deletion if you believe we are processing your data unlawfully or if a law requires erasure. Where applicable, you may have a self-service option to delete your account or specific content (which triggers deletion of related personal data). Important: This right is not absolute. We may not be able to delete data that we are legally required to keep (for example, KYC records we must retain for anti-money laundering laws) or data needed to establish or defend legal claims. If you request erasure, we will inform you if any data must be retained and why. Otherwise, we will comply and delete your data. Closing your account will put your data into a suppression state and we will delete applicable personal data after any required retention period.

          Right to Restrict Processing: You have the right to request that we limit the processing of your data in certain scenarios. This means we can store the data but not actively use it until the restriction is lifted. You can request restriction if: (a) you contest the accuracy of your data (well restrict processing while verifying accuracy); (b) the processing is unlawful and you oppose erasure and prefer restriction instead; (c) we no longer need the data but you need it for a legal claim; or (d) you have objected to processing (see right to object below) and were verifying whether our legitimate grounds override yours. When processing is restricted, we will mark the data and ensure its only used for those limited reasons (e.g. with your consent or for legal claims). We will inform you before lifting a restriction.

          Right to Object: You have the right to object to our processing of your personal data when it is based on legitimate interests or public interest. If you object, you should explain your situation and why you believe our processing impacts your rights. We will then re-evaluate our reasons for processing and may either stop processing or let you know our compelling grounds that allow us to continue (if applicable). Importantly, you have an unconditional right to object to your data being used for direct marketing. If you opt out or object to marketing, we will stop using your data for that purpose immediately, with no exceptions. Objecting to analytics/processing based on legitimate interest (like certain analytics cookies) can be done via the cookie settings or by contacting us.

          Right to Data Portability: Where we rely on your consent or a contract as the legal basis for processing, and the processing is carried out by automated means, you have the right to receive the personal data you provided to us in a structured, commonly used, machine-readable format, and to transmit it to another controller. In plain terms, this allows you to take your data (that you gave us) and move it elsewhere. We support data portability. In fact, from your My Profile dashboard, you can export certain data (for example, your profile info, transaction history, etc.) in formats like CSV or PDF for your own reuse. If you need assistance or a specialized export, let us know and we will provide your data in a suitable electronic format. If technically feasible, you can also request that we transfer the data directly to another company that you designate (this is subject to technical capability on both sides). Data portability rights apply to personal data you provided to us, not to data we generated internally.

          Right to Withdraw Consent: If we are processing any of your data based on consent, you have the right to withdraw that consent at any time. This will not affect processing that has already occurred, but it will stop any future processing of the data for which consent was required. For example, if you gave consent for receiving our newsletter, you can unsubscribe at any time (or toggle off the consent in your profile settings), and we will cease sending you newsletters. Similarly, you can withdraw consent for non-essential cookies by updating your cookie preferences. Withdrawing consent may mean we cant provide certain features (if they relied on consent), but there will be no penalty or effect on the core service.

          Right to Lodge a Complaint: If you believe we have infringed your data protection rights or failed to comply with data protection laws, you have the right to file a complaint with a supervisory authority. If you are in the EEA, this would typically be your countrys Data Protection Authority; if in the UK, the ICO; if in BVI, the relevant privacy commissioner, etc. We ask that before you lodge a formal complaint, you consider reaching out to us first. We greatly value your privacy and would appreciate the opportunity to address your concerns directly and promptly. We will do our best to resolve any issue to your satisfaction. If you are not satisfied with our response, you can then approach the appropriate authority.

      Exercising Your Rights: You can exercise many rights through your account settings (e.g. editing your data, opting out of marketing, downloading a copy of data, or deleting your account). For any rights that you cannot self-serve, please contact us at privacy@enaria.io with your request. For security, we may need to verify your identity before acting on certain requests, especially for access, portability, or deletion, to ensure we dont disclose or modify your data at the request of someone else. Verification might involve confirming information we already have on file or asking for additional identification.

      We will respond to your request as soon as possible and at least within one month as required by GDPR. If your request is complex or if you have made multiple requests, we are allowed to extend this period by up to two further months, but we will inform you within the first month if an extension is needed. In general, we will not charge a fee for fulfilling your rights. However, if a request is manifestly unfounded or excessive (for example, repetitive requests), we may charge a reasonable fee or refuse to act on it, as permitted by law. We will of course explain our reasoning in such cases.

      Also note that these rights are subject to certain legal limitations. For instance, if your request involves another persons data, we might not be able to provide it without their consent. Or if you ask us to delete data that we are legally required to keep, we may have to deny that request but will do so only to the extent necessary and will inform you. We are committed to fulfilling your requests to the fullest extent possible and will communicate with you transparently throughout the process.
      No Financial Advice or Services; No Fiduciary Custody

      For clarity, we reiterate that Enaria provides a technology platform for AI-driven trading strategies and computational services only. We do not provide financial, investment, or brokerage services. Nothing on our Platform is intended as investment advice. Users retain their own brokers and trading accounts and make their own trading decisions (whether manually or by using our AI tools). Enaria does not hold, manage, or control your trading funds at any point  you connect your accounts to our software, and trading executions happen through those third-party accounts by your own authorization. This distinction means that any financial data related to your trading accounts is not collected by Enaria, beyond what is necessary for integration (such as an account ID or API key if you provide it). We do not see your account balance, and we cannot initiate withdrawals or transfers. Because we do not custody client assets, data about your actual funds or financial holdings is largely outside the scope of our Platform (and thus of this Privacy Policy). We only handle data about your usage of our service and your membership with us. Always use Enaria responsibly and be aware that trading involves risk that you solely bear. (This section is provided for transparency and does not modify the Privacy Policys core terms, but rather highlights the limited scope of our role regarding financial data.)
      Changes to this Privacy Policy

      We may update or modify this Privacy Policy from time to time, especially as our services evolve or as laws and regulations change. If we make any material changes to how we collect, use, or share your personal data, we will notify you by appropriate means. For example, we might send an email to the address associated with your account or display a prominent notice on our website or user dashboard. We will also update the Effective Date at the top of the Policy to indicate when the latest changes took effect.

      For minor changes that do not significantly affect your rights (such as clarifications or grammatical updates), we may update the Policy by posting the new version on our site with a new date, and those changes will become effective upon posting. We encourage you to review this Privacy Policy periodically to stay informed about how we are protecting your information.

      If you do not agree with a new or revised Privacy Policy, you should stop using the Platform and may request that we delete your personal data (as per your rights described above). Continuing to use the Platform after the updated Policy has been made available will signify your acceptance of the changes, to the extent permitted by law.
      Contact Us

      If you have any questions, concerns, or requests regarding this Privacy Policy or the handling of your personal data, please contact us:

      Enaria Technology LLC (Data Controller)
      Address: Palm Rd, Road Town, Tortola, British Virgin Islands
      Email: privacy@enaria.io

      We will do our best to address your inquiry promptly and transparently. Your privacy is important to us, and we welcome feedback or concerns about our data practices.



      By using Enarias Platform, you acknowledge that you have read and understood this Privacy Policy. We thank you for trusting Enaria with your personal data and will continually work to keep that trust.  
      `),e(!r);else throw new Error("Index out of range")};return z.jsxs(z.Fragment,{children:[z.jsxs("dialog",{"trae-inspector-start-line":"937","trae-inspector-start-column":"6","trae-inspector-end-line":"953","trae-inspector-end-column":"15","trae-inspector-file-path":"src\\\\components\\\\layout\\\\Footer.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5Cyeeg2%5C%5COneDrive%5C%5CDocumentos%5C%5CProjects%5C%5Cfrontend%5C%5Cenaria-mx%22%7D",ref:i,open:r,onClose:()=>s(0),className:"fixed inset-0 m-auto w-11/12 max-w-2xl max-h-[80vh] rounded-lg bg-gray-900 border border-white/10 shadow-2xl z-[9999] overflow-auto text-white",children:[z.jsx("button",{"trae-inspector-start-line":"943","trae-inspector-start-column":"8","trae-inspector-end-line":"948","trae-inspector-end-column":"17","trae-inspector-file-path":"src\\\\components\\\\layout\\\\Footer.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22%C3%97%22%2C%22textStartLine%22%3A%22946%22%2C%22textStartColumn%22%3A%229%22%2C%22textEndLine%22%3A%22948%22%2C%22textEndColumn%22%3A%228%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5Cyeeg2%5C%5COneDrive%5C%5CDocumentos%5C%5CProjects%5C%5Cfrontend%5C%5Cenaria-mx%22%7D",onClick:()=>s(0),className:"absolute top-4 right-4 text-white/50 hover:text-accent-cyan transition-colors font-size-2xl",children:""}),z.jsx("br",{"trae-inspector-start-line":"949","trae-inspector-start-column":"8","trae-inspector-end-line":"949","trae-inspector-end-column":"14","trae-inspector-file-path":"src\\\\components\\\\layout\\\\Footer.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5Cyeeg2%5C%5COneDrive%5C%5CDocumentos%5C%5CProjects%5C%5Cfrontend%5C%5Cenaria-mx%22%7D"}),z.jsx("br",{"trae-inspector-start-line":"950","trae-inspector-start-column":"8","trae-inspector-end-line":"950","trae-inspector-end-column":"14","trae-inspector-file-path":"src\\\\components\\\\layout\\\\Footer.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5Cyeeg2%5C%5COneDrive%5C%5CDocumentos%5C%5CProjects%5C%5Cfrontend%5C%5Cenaria-mx%22%7D"}),z.jsx("br",{"trae-inspector-start-line":"951","trae-inspector-start-column":"8","trae-inspector-end-line":"951","trae-inspector-end-column":"14","trae-inspector-file-path":"src\\\\components\\\\layout\\\\Footer.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5Cyeeg2%5C%5COneDrive%5C%5CDocumentos%5C%5CProjects%5C%5Cfrontend%5C%5Cenaria-mx%22%7D"}),t]}),z.jsx("footer",{"trae-inspector-start-line":"955","trae-inspector-start-column":"6","trae-inspector-end-line":"1032","trae-inspector-end-column":"15","trae-inspector-file-path":"src\\\\components\\\\layout\\\\Footer.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5Cyeeg2%5C%5COneDrive%5C%5CDocumentos%5C%5CProjects%5C%5Cfrontend%5C%5Cenaria-mx%22%7D",className:"bg-gray-900/50 border-t border-white/10 backdrop-blur-sm",children:z.jsxs("div",{"trae-inspector-start-line":"956","trae-inspector-start-column":"8","trae-inspector-end-line":"1031","trae-inspector-end-column":"14","trae-inspector-file-path":"src\\\\components\\\\layout\\\\Footer.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5Cyeeg2%5C%5COneDrive%5C%5CDocumentos%5C%5CProjects%5C%5Cfrontend%5C%5Cenaria-mx%22%7D",className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[z.jsxs("div",{"trae-inspector-start-line":"957","trae-inspector-start-column":"10","trae-inspector-end-line":"1001","trae-inspector-end-column":"16","trae-inspector-file-path":"src\\\\components\\\\layout\\\\Footer.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5Cyeeg2%5C%5COneDrive%5C%5CDocumentos%5C%5CProjects%5C%5Cfrontend%5C%5Cenaria-mx%22%7D",className:"grid grid-cols-1 md:grid-cols-2 gap-8 items-start md:items-center",children:[z.jsxs("div",{"trae-inspector-start-line":"958","trae-inspector-start-column":"12","trae-inspector-end-line":"978","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\layout\\\\Footer.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5Cyeeg2%5C%5COneDrive%5C%5CDocumentos%5C%5CProjects%5C%5Cfrontend%5C%5Cenaria-mx%22%7D",className:"col-span-1 text-center md:text-left",children:[z.jsxs(ut.div,{className:"flex items-center justify-center md:justify-start space-x-2 mb-4",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},children:[z.jsx(rf,{className:"w-8 h-8 text-cyan-400"}),z.jsx(hx,{})]}),z.jsx(ut.p,{className:"text-gray-400 text-sm leading-relaxed max-w-md mx-auto md:mx-0",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.1},children:"Revolucionando el trading en el Mundo con inteligencia artificial avanzada. Soluciones innovadoras para traders e inversionistas del futuro."})]}),z.jsxs("div",{"trae-inspector-start-line":"980","trae-inspector-start-column":"12","trae-inspector-end-line":"1000","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\layout\\\\Footer.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5Cyeeg2%5C%5COneDrive%5C%5CDocumentos%5C%5CProjects%5C%5Cfrontend%5C%5Cenaria-mx%22%7D",className:"text-center md:text-center",children:[z.jsx(ut.h3,{className:"text-white font-semibold mb-4",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.2},children:"Contacto"}),z.jsx(ut.div,{className:"space-y-3",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.3},children:z.jsxs("div",{"trae-inspector-start-line":"995","trae-inspector-start-column":"16","trae-inspector-end-line":"998","trae-inspector-end-column":"22","trae-inspector-file-path":"src\\\\components\\\\layout\\\\Footer.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5Cyeeg2%5C%5COneDrive%5C%5CDocumentos%5C%5CProjects%5C%5Cfrontend%5C%5Cenaria-mx%22%7D",className:"flex items-center justify-center md:justify-center space-x-2 text-gray-400 text-sm",children:[z.jsx(eM,{className:"w-4 h-4"}),z.jsx("span",{"trae-inspector-start-line":"997","trae-inspector-start-column":"18","trae-inspector-end-line":"997","trae-inspector-end-column":"49","trae-inspector-file-path":"src\\\\components\\\\layout\\\\Footer.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22enariamx%40gmail.com%22%2C%22textStartLine%22%3A%22997%22%2C%22textStartColumn%22%3A%2224%22%2C%22textEndLine%22%3A%22997%22%2C%22textEndColumn%22%3A%2242%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5Cyeeg2%5C%5COneDrive%5C%5CDocumentos%5C%5CProjects%5C%5Cfrontend%5C%5Cenaria-mx%22%7D",children:"enariamx@gmail.com"})]})})]})]}),z.jsxs(ut.div,{className:"border-t border-white/10 mt-8 pt-8 flex flex-col md:flex-row justify-between items-center",initial:{opacity:0},whileInView:{opacity:1},transition:{duration:.6,delay:.6},children:[z.jsxs("p",{"trae-inspector-start-line":"1010","trae-inspector-start-column":"12","trae-inspector-end-line":"1015","trae-inspector-end-column":"16","trae-inspector-file-path":"src\\\\components\\\\layout\\\\Footer.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5Cyeeg2%5C%5COneDrive%5C%5CDocumentos%5C%5CProjects%5C%5Cfrontend%5C%5Cenaria-mx%22%7D",className:"text-gray-400 text-sm",children:[" ",new Date().getFullYear(),". Sitio de un distribuidor independiente de Enaria. Enaria es una plataforma de Software como Servicio (SaaS) y no constituye un producto financiero ni ofrece asesoramiento."]}),z.jsxs("div",{"trae-inspector-start-line":"1016","trae-inspector-start-column":"12","trae-inspector-end-line":"1029","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\layout\\\\Footer.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5Cyeeg2%5C%5COneDrive%5C%5CDocumentos%5C%5CProjects%5C%5Cfrontend%5C%5Cenaria-mx%22%7D",className:"flex space-x-6 mt-4 md:mt-0",children:[z.jsx("span",{"trae-inspector-start-line":"1017","trae-inspector-start-column":"14","trae-inspector-end-line":"1022","trae-inspector-end-column":"21","trae-inspector-file-path":"src\\\\components\\\\layout\\\\Footer.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Privacidad%22%2C%22textStartLine%22%3A%221020%22%2C%22textStartColumn%22%3A%2215%22%2C%22textEndLine%22%3A%221022%22%2C%22textEndColumn%22%3A%2214%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5Cyeeg2%5C%5COneDrive%5C%5CDocumentos%5C%5CProjects%5C%5Cfrontend%5C%5Cenaria-mx%22%7D",className:"text-gray-400 text-sm hover:text-cyan-400 transition-colors cursor-pointer",onClick:()=>s(2),children:"Privacidad"}),z.jsx("span",{"trae-inspector-start-line":"1023","trae-inspector-start-column":"14","trae-inspector-end-line":"1028","trae-inspector-end-column":"21","trae-inspector-file-path":"src\\\\components\\\\layout\\\\Footer.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22T%C3%A9rminos%22%2C%22textStartLine%22%3A%221026%22%2C%22textStartColumn%22%3A%2215%22%2C%22textEndLine%22%3A%221028%22%2C%22textEndColumn%22%3A%2214%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5Cyeeg2%5C%5COneDrive%5C%5CDocumentos%5C%5CProjects%5C%5Cfrontend%5C%5Cenaria-mx%22%7D",className:"text-gray-400 text-sm hover:text-cyan-400 transition-colors cursor-pointer",onClick:()=>s(1),children:"Trminos"})]})]})]})})]})}function Rv({children:r,transparentNav:e=!1}){return z.jsxs("div",{"trae-inspector-start-line":"12","trae-inspector-start-column":"4","trae-inspector-end-line":"18","trae-inspector-end-column":"10","trae-inspector-file-path":"src\\\\components\\\\layout\\\\MainLayout.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5Cyeeg2%5C%5COneDrive%5C%5CDocumentos%5C%5CProjects%5C%5Cfrontend%5C%5Cenaria-mx%22%7D",className:"min-h-screen bg-black text-white",children:[z.jsx(rL,{isTransparent:e}),z.jsx("main",{"trae-inspector-start-line":"14","trae-inspector-start-column":"6","trae-inspector-end-line":"16","trae-inspector-end-column":"13","trae-inspector-file-path":"src\\\\components\\\\layout\\\\MainLayout.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5Cyeeg2%5C%5COneDrive%5C%5CDocumentos%5C%5CProjects%5C%5Cfrontend%5C%5Cenaria-mx%22%7D",className:"relative",children:r}),z.jsx(iL,{})]})}/**
 * @license
 * Copyright 2010-2023 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const sy="158",Jc={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},Qc={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},rM=0,X0=1,iM=2,sL=3,sM=0,oy=1,Rh=2,Eo=3,qa=0,ji=1,To=2,oL=2,Xa=0,lu=1,Gh=2,Y0=3,q0=4,oM=5,zl=100,aM=101,lM=102,K0=103,Z0=104,cM=200,uM=201,dM=202,fM=203,Vg=204,Hg=205,hM=206,pM=207,mM=208,gM=209,yM=210,vM=211,xM=212,CM=213,wM=214,_M=0,SM=1,bM=2,Wh=3,MM=4,EM=5,AM=6,TM=7,vp=0,PM=1,RM=2,$o=0,DM=1,LM=2,IM=3,px=4,UM=5,J0="attached",kM="detached",ay=300,Ka=301,Zl=302,jh=303,Xh=304,uf=306,Yh=1e3,Mi=1001,qh=1002,vr=1003,Gg=1004,aL=1004,Dh=1005,lL=1005,Qn=1006,mx=1007,cL=1007,Jl=1008,uL=1008,ea=1009,NM=1010,OM=1011,ly=1012,gx=1013,Ga=1014,Zo=1015,sf=1016,yx=1017,vx=1018,Wl=1020,FM=1021,cs=1023,BM=1024,zM=1025,jl=1026,hu=1027,VM=1028,xx=1029,HM=1030,Cx=1031,wx=1033,_g=33776,Sg=33777,bg=33778,Mg=33779,Q0=35840,$0=35841,e2=35842,t2=35843,GM=36196,n2=37492,r2=37496,i2=37808,s2=37809,o2=37810,a2=37811,l2=37812,c2=37813,u2=37814,d2=37815,f2=37816,h2=37817,p2=37818,m2=37819,g2=37820,y2=37821,Eg=36492,v2=36494,x2=36495,WM=36283,C2=36284,w2=36285,_2=36286,jM=2200,XM=2201,YM=2202,Kh=2300,Zh=2301,Ag=2302,ru=2400,iu=2401,Jh=2402,cy=2500,_x=2501,dL=0,fL=1,hL=2,Sx=3e3,Xl=3001,qM=3200,bx=3201,ec=0,KM=1,Ps="",Xr="srgb",na="srgb-linear",uy="display-p3",xp="display-p3-linear",Qh="linear",Fn="srgb",$h="rec709",ep="p3",pL=0,$c=7680,mL=7681,gL=7682,yL=7683,vL=34055,xL=34056,CL=5386,wL=512,_L=513,SL=514,bL=515,ML=516,EL=517,AL=518,S2=519,ZM=512,JM=513,QM=514,$M=515,eE=516,tE=517,nE=518,rE=519,tp=35044,TL=35048,PL=35040,RL=35045,DL=35049,LL=35041,IL=35046,UL=35050,kL=35042,NL="100",b2="300 es",Wg=1035,Jo=2e3,np=2001;let Ja=class{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const n=this._listeners;n[e]===void 0&&(n[e]=[]),n[e].indexOf(t)===-1&&n[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const n=this._listeners;return n[e]!==void 0&&n[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const s=i.indexOf(t);s!==-1&&i.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const n=this._listeners[e.type];if(n!==void 0){e.target=this;const i=n.slice(0);for(let s=0,o=i.length;s<o;s++)i[s].call(this,e);e.target=null}}};const _i=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let nw=1234567;const cu=Math.PI/180,of=180/Math.PI;function Rs(){const r=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,n=Math.random()*4294967295|0;return(_i[r&255]+_i[r>>8&255]+_i[r>>16&255]+_i[r>>24&255]+"-"+_i[e&255]+_i[e>>8&255]+"-"+_i[e>>16&15|64]+_i[e>>24&255]+"-"+_i[t&63|128]+_i[t>>8&255]+"-"+_i[t>>16&255]+_i[t>>24&255]+_i[n&255]+_i[n>>8&255]+_i[n>>16&255]+_i[n>>24&255]).toLowerCase()}function lr(r,e,t){return Math.max(e,Math.min(t,r))}function Mx(r,e){return(r%e+e)%e}function OL(r,e,t,n,i){return n+(r-e)*(i-n)/(t-e)}function FL(r,e,t){return r!==e?(t-r)/(e-r):0}function Lh(r,e,t){return(1-t)*r+t*e}function BL(r,e,t,n){return Lh(r,e,1-Math.exp(-t*n))}function zL(r,e=1){return e-Math.abs(Mx(r,e*2)-e)}function VL(r,e,t){return r<=e?0:r>=t?1:(r=(r-e)/(t-e),r*r*(3-2*r))}function HL(r,e,t){return r<=e?0:r>=t?1:(r=(r-e)/(t-e),r*r*r*(r*(r*6-15)+10))}function GL(r,e){return r+Math.floor(Math.random()*(e-r+1))}function WL(r,e){return r+Math.random()*(e-r)}function jL(r){return r*(.5-Math.random())}function XL(r){r!==void 0&&(nw=r);let e=nw+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function YL(r){return r*cu}function qL(r){return r*of}function M2(r){return(r&r-1)===0&&r!==0}function iE(r){return Math.pow(2,Math.ceil(Math.log(r)/Math.LN2))}function jg(r){return Math.pow(2,Math.floor(Math.log(r)/Math.LN2))}function KL(r,e,t,n,i){const s=Math.cos,o=Math.sin,l=s(t/2),c=o(t/2),d=s((e+n)/2),h=o((e+n)/2),m=s((e-n)/2),y=o((e-n)/2),v=s((n-e)/2),C=o((n-e)/2);switch(i){case"XYX":r.set(l*h,c*m,c*y,l*d);break;case"YZY":r.set(c*y,l*h,c*m,l*d);break;case"ZXZ":r.set(c*m,c*y,l*h,l*d);break;case"XZX":r.set(l*h,c*C,c*v,l*d);break;case"YXY":r.set(c*v,l*h,c*C,l*d);break;case"ZYZ":r.set(c*C,c*v,l*h,l*d);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}function us(r,e){switch(e.constructor){case Float32Array:return r;case Uint32Array:return r/4294967295;case Uint16Array:return r/65535;case Uint8Array:return r/255;case Int32Array:return Math.max(r/2147483647,-1);case Int16Array:return Math.max(r/32767,-1);case Int8Array:return Math.max(r/127,-1);default:throw new Error("Invalid component type.")}}function rn(r,e){switch(e.constructor){case Float32Array:return r;case Uint32Array:return Math.round(r*4294967295);case Uint16Array:return Math.round(r*65535);case Uint8Array:return Math.round(r*255);case Int32Array:return Math.round(r*2147483647);case Int16Array:return Math.round(r*32767);case Int8Array:return Math.round(r*127);default:throw new Error("Invalid component type.")}}const ZL={DEG2RAD:cu,RAD2DEG:of,generateUUID:Rs,clamp:lr,euclideanModulo:Mx,mapLinear:OL,inverseLerp:FL,lerp:Lh,damp:BL,pingpong:zL,smoothstep:VL,smootherstep:HL,randInt:GL,randFloat:WL,randFloatSpread:jL,seededRandom:XL,degToRad:YL,radToDeg:qL,isPowerOfTwo:M2,ceilPowerOfTwo:iE,floorPowerOfTwo:jg,setQuaternionFromProperEuler:KL,normalize:rn,denormalize:us};class qe{constructor(e=0,t=0){qe.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,n=this.y,i=e.elements;return this.x=i[0]*t+i[3]*n+i[6],this.y=i[1]*t+i[4]*n+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const n=this.dot(e)/t;return Math.acos(lr(n,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,n=this.y-e.y;return t*t+n*n}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const n=Math.cos(t),i=Math.sin(t),s=this.x-e.x,o=this.y-e.y;return this.x=s*n-o*i+e.x,this.y=s*i+o*n+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class nn{constructor(e,t,n,i,s,o,l,c,d){nn.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,t,n,i,s,o,l,c,d)}set(e,t,n,i,s,o,l,c,d){const h=this.elements;return h[0]=e,h[1]=i,h[2]=l,h[3]=t,h[4]=s,h[5]=c,h[6]=n,h[7]=o,h[8]=d,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],this}extractBasis(e,t,n){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const n=e.elements,i=t.elements,s=this.elements,o=n[0],l=n[3],c=n[6],d=n[1],h=n[4],m=n[7],y=n[2],v=n[5],C=n[8],b=i[0],_=i[3],S=i[6],A=i[1],E=i[4],P=i[7],I=i[2],k=i[5],F=i[8];return s[0]=o*b+l*A+c*I,s[3]=o*_+l*E+c*k,s[6]=o*S+l*P+c*F,s[1]=d*b+h*A+m*I,s[4]=d*_+h*E+m*k,s[7]=d*S+h*P+m*F,s[2]=y*b+v*A+C*I,s[5]=y*_+v*E+C*k,s[8]=y*S+v*P+C*F,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],n=e[1],i=e[2],s=e[3],o=e[4],l=e[5],c=e[6],d=e[7],h=e[8];return t*o*h-t*l*d-n*s*h+n*l*c+i*s*d-i*o*c}invert(){const e=this.elements,t=e[0],n=e[1],i=e[2],s=e[3],o=e[4],l=e[5],c=e[6],d=e[7],h=e[8],m=h*o-l*d,y=l*c-h*s,v=d*s-o*c,C=t*m+n*y+i*v;if(C===0)return this.set(0,0,0,0,0,0,0,0,0);const b=1/C;return e[0]=m*b,e[1]=(i*d-h*n)*b,e[2]=(l*n-i*o)*b,e[3]=y*b,e[4]=(h*t-i*c)*b,e[5]=(i*s-l*t)*b,e[6]=v*b,e[7]=(n*c-d*t)*b,e[8]=(o*t-n*s)*b,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,n,i,s,o,l){const c=Math.cos(s),d=Math.sin(s);return this.set(n*c,n*d,-n*(c*o+d*l)+o+e,-i*d,i*c,-i*(-d*o+c*l)+l+t,0,0,1),this}scale(e,t){return this.premultiply(Dv.makeScale(e,t)),this}rotate(e){return this.premultiply(Dv.makeRotation(-e)),this}translate(e,t){return this.premultiply(Dv.makeTranslation(e,t)),this}makeTranslation(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,n,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,n=e.elements;for(let i=0;i<9;i++)if(t[i]!==n[i])return!1;return!0}fromArray(e,t=0){for(let n=0;n<9;n++)this.elements[n]=e[n+t];return this}toArray(e=[],t=0){const n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const Dv=new nn;function sE(r){for(let e=r.length-1;e>=0;--e)if(r[e]>=65535)return!0;return!1}const JL={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function qd(r,e){return new JL[r](e)}function rp(r){return document.createElementNS("http://www.w3.org/1999/xhtml",r)}function oE(){const r=rp("canvas");return r.style.display="block",r}const rw={};function Ih(r){r in rw||(rw[r]=!0,console.warn(r))}const iw=new nn().set(.8224621,.177538,0,.0331941,.9668058,0,.0170827,.0723974,.9105199),sw=new nn().set(1.2249401,-.2249404,0,-.0420569,1.0420571,0,-.0196376,-.0786361,1.0982735),Sm={[na]:{transfer:Qh,primaries:$h,toReference:r=>r,fromReference:r=>r},[Xr]:{transfer:Fn,primaries:$h,toReference:r=>r.convertSRGBToLinear(),fromReference:r=>r.convertLinearToSRGB()},[xp]:{transfer:Qh,primaries:ep,toReference:r=>r.applyMatrix3(sw),fromReference:r=>r.applyMatrix3(iw)},[uy]:{transfer:Fn,primaries:ep,toReference:r=>r.convertSRGBToLinear().applyMatrix3(sw),fromReference:r=>r.applyMatrix3(iw).convertLinearToSRGB()}},QL=new Set([na,xp]),Mn={enabled:!0,_workingColorSpace:na,get legacyMode(){return console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),!this.enabled},set legacyMode(r){console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),this.enabled=!r},get workingColorSpace(){return this._workingColorSpace},set workingColorSpace(r){if(!QL.has(r))throw new Error(`Unsupported working color space, "${r}".`);this._workingColorSpace=r},convert:function(r,e,t){if(this.enabled===!1||e===t||!e||!t)return r;const n=Sm[e].toReference,i=Sm[t].fromReference;return i(n(r))},fromWorkingColorSpace:function(r,e){return this.convert(r,this._workingColorSpace,e)},toWorkingColorSpace:function(r,e){return this.convert(r,e,this._workingColorSpace)},getPrimaries:function(r){return Sm[r].primaries},getTransfer:function(r){return r===Ps?Qh:Sm[r].transfer}};function $d(r){return r<.04045?r*.0773993808:Math.pow(r*.9478672986+.0521327014,2.4)}function Lv(r){return r<.0031308?r*12.92:1.055*Math.pow(r,.41666)-.055}let vd;class Ex{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{vd===void 0&&(vd=rp("canvas")),vd.width=e.width,vd.height=e.height;const n=vd.getContext("2d");e instanceof ImageData?n.putImageData(e,0,0):n.drawImage(e,0,0,e.width,e.height),t=vd}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=rp("canvas");t.width=e.width,t.height=e.height;const n=t.getContext("2d");n.drawImage(e,0,0,e.width,e.height);const i=n.getImageData(0,0,e.width,e.height),s=i.data;for(let o=0;o<s.length;o++)s[o]=$d(s[o]/255)*255;return n.putImageData(i,0,0),t}else if(e.data){const t=e.data.slice(0);for(let n=0;n<t.length;n++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[n]=Math.floor($d(t[n]/255)*255):t[n]=$d(t[n]);return{data:t,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let $L=0;class su{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:$L++}),this.uuid=Rs(),this.data=e,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const n={uuid:this.uuid,url:""},i=this.data;if(i!==null){let s;if(Array.isArray(i)){s=[];for(let o=0,l=i.length;o<l;o++)i[o].isDataTexture?s.push(Iv(i[o].image)):s.push(Iv(i[o]))}else s=Iv(i);n.url=s}return t||(e.images[this.uuid]=n),n}}function Iv(r){return typeof HTMLImageElement<"u"&&r instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&r instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&r instanceof ImageBitmap?Ex.getDataURL(r):r.data?{data:Array.from(r.data),width:r.width,height:r.height,type:r.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let eI=0;class cr extends Ja{constructor(e=cr.DEFAULT_IMAGE,t=cr.DEFAULT_MAPPING,n=Mi,i=Mi,s=Qn,o=Jl,l=cs,c=ea,d=cr.DEFAULT_ANISOTROPY,h=Ps){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:eI++}),this.uuid=Rs(),this.name="",this.source=new su(e),this.mipmaps=[],this.mapping=t,this.channel=0,this.wrapS=n,this.wrapT=i,this.magFilter=s,this.minFilter=o,this.anisotropy=d,this.format=l,this.internalFormat=null,this.type=c,this.offset=new qe(0,0),this.repeat=new qe(1,1),this.center=new qe(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new nn,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,typeof h=="string"?this.colorSpace=h:(Ih("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=h===Xl?Xr:Ps),this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const n={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(n.userData=this.userData),t||(e.textures[this.uuid]=n),n}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==ay)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Yh:e.x=e.x-Math.floor(e.x);break;case Mi:e.x=e.x<0?0:1;break;case qh:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case Yh:e.y=e.y-Math.floor(e.y);break;case Mi:e.y=e.y<0?0:1;break;case qh:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}get encoding(){return Ih("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace===Xr?Xl:Sx}set encoding(e){Ih("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=e===Xl?Xr:Ps}}cr.DEFAULT_IMAGE=null;cr.DEFAULT_MAPPING=ay;cr.DEFAULT_ANISOTROPY=1;class xn{constructor(e=0,t=0,n=0,i=1){xn.prototype.isVector4=!0,this.x=e,this.y=t,this.z=n,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,n,i){return this.x=e,this.y=t,this.z=n,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,n=this.y,i=this.z,s=this.w,o=e.elements;return this.x=o[0]*t+o[4]*n+o[8]*i+o[12]*s,this.y=o[1]*t+o[5]*n+o[9]*i+o[13]*s,this.z=o[2]*t+o[6]*n+o[10]*i+o[14]*s,this.w=o[3]*t+o[7]*n+o[11]*i+o[15]*s,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,n,i,s;const c=e.elements,d=c[0],h=c[4],m=c[8],y=c[1],v=c[5],C=c[9],b=c[2],_=c[6],S=c[10];if(Math.abs(h-y)<.01&&Math.abs(m-b)<.01&&Math.abs(C-_)<.01){if(Math.abs(h+y)<.1&&Math.abs(m+b)<.1&&Math.abs(C+_)<.1&&Math.abs(d+v+S-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const E=(d+1)/2,P=(v+1)/2,I=(S+1)/2,k=(h+y)/4,F=(m+b)/4,V=(C+_)/4;return E>P&&E>I?E<.01?(n=0,i=.707106781,s=.707106781):(n=Math.sqrt(E),i=k/n,s=F/n):P>I?P<.01?(n=.707106781,i=0,s=.707106781):(i=Math.sqrt(P),n=k/i,s=V/i):I<.01?(n=.707106781,i=.707106781,s=0):(s=Math.sqrt(I),n=F/s,i=V/s),this.set(n,i,s,t),this}let A=Math.sqrt((_-C)*(_-C)+(m-b)*(m-b)+(y-h)*(y-h));return Math.abs(A)<.001&&(A=1),this.x=(_-C)/A,this.y=(m-b)/A,this.z=(y-h)/A,this.w=Math.acos((d+v+S-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this.w=e.w+(t.w-e.w)*n,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class aE extends Ja{constructor(e=1,t=1,n={}){super(),this.isRenderTarget=!0,this.width=e,this.height=t,this.depth=1,this.scissor=new xn(0,0,e,t),this.scissorTest=!1,this.viewport=new xn(0,0,e,t);const i={width:e,height:t,depth:1};n.encoding!==void 0&&(Ih("THREE.WebGLRenderTarget: option.encoding has been replaced by option.colorSpace."),n.colorSpace=n.encoding===Xl?Xr:Ps),n=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:Qn,depthBuffer:!0,stencilBuffer:!1,depthTexture:null,samples:0},n),this.texture=new cr(i,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=n.generateMipmaps,this.texture.internalFormat=n.internalFormat,this.depthBuffer=n.depthBuffer,this.stencilBuffer=n.stencilBuffer,this.depthTexture=n.depthTexture,this.samples=n.samples}setSize(e,t,n=1){(this.width!==e||this.height!==t||this.depth!==n)&&(this.width=e,this.height=t,this.depth=n,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=n,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;const t=Object.assign({},e.texture.image);return this.texture.source=new su(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class Po extends aE{constructor(e=1,t=1,n={}){super(e,t,n),this.isWebGLRenderTarget=!0}}class dy extends cr{constructor(e=null,t=1,n=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:n,depth:i},this.magFilter=vr,this.minFilter=vr,this.wrapR=Mi,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class tI extends Po{constructor(e=1,t=1,n=1){super(e,t),this.isWebGLArrayRenderTarget=!0,this.depth=n,this.texture=new dy(null,e,t,n),this.texture.isRenderTargetTexture=!0}}class Ax extends cr{constructor(e=null,t=1,n=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:n,depth:i},this.magFilter=vr,this.minFilter=vr,this.wrapR=Mi,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class nI extends Po{constructor(e=1,t=1,n=1){super(e,t),this.isWebGL3DRenderTarget=!0,this.depth=n,this.texture=new Ax(null,e,t,n),this.texture.isRenderTargetTexture=!0}}class rI extends Po{constructor(e=1,t=1,n=1,i={}){super(e,t,i),this.isWebGLMultipleRenderTargets=!0;const s=this.texture;this.texture=[];for(let o=0;o<n;o++)this.texture[o]=s.clone(),this.texture[o].isRenderTargetTexture=!0}setSize(e,t,n=1){if(this.width!==e||this.height!==t||this.depth!==n){this.width=e,this.height=t,this.depth=n;for(let i=0,s=this.texture.length;i<s;i++)this.texture[i].image.width=e,this.texture[i].image.height=t,this.texture[i].image.depth=n;this.dispose()}this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}copy(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.texture.length=0;for(let t=0,n=e.texture.length;t<n;t++)this.texture[t]=e.texture[t].clone(),this.texture[t].isRenderTargetTexture=!0;return this}}class Ei{constructor(e=0,t=0,n=0,i=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=n,this._w=i}static slerpFlat(e,t,n,i,s,o,l){let c=n[i+0],d=n[i+1],h=n[i+2],m=n[i+3];const y=s[o+0],v=s[o+1],C=s[o+2],b=s[o+3];if(l===0){e[t+0]=c,e[t+1]=d,e[t+2]=h,e[t+3]=m;return}if(l===1){e[t+0]=y,e[t+1]=v,e[t+2]=C,e[t+3]=b;return}if(m!==b||c!==y||d!==v||h!==C){let _=1-l;const S=c*y+d*v+h*C+m*b,A=S>=0?1:-1,E=1-S*S;if(E>Number.EPSILON){const I=Math.sqrt(E),k=Math.atan2(I,S*A);_=Math.sin(_*k)/I,l=Math.sin(l*k)/I}const P=l*A;if(c=c*_+y*P,d=d*_+v*P,h=h*_+C*P,m=m*_+b*P,_===1-l){const I=1/Math.sqrt(c*c+d*d+h*h+m*m);c*=I,d*=I,h*=I,m*=I}}e[t]=c,e[t+1]=d,e[t+2]=h,e[t+3]=m}static multiplyQuaternionsFlat(e,t,n,i,s,o){const l=n[i],c=n[i+1],d=n[i+2],h=n[i+3],m=s[o],y=s[o+1],v=s[o+2],C=s[o+3];return e[t]=l*C+h*m+c*v-d*y,e[t+1]=c*C+h*y+d*m-l*v,e[t+2]=d*C+h*v+l*y-c*m,e[t+3]=h*C-l*m-c*y-d*v,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,n,i){return this._x=e,this._y=t,this._z=n,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t){const n=e._x,i=e._y,s=e._z,o=e._order,l=Math.cos,c=Math.sin,d=l(n/2),h=l(i/2),m=l(s/2),y=c(n/2),v=c(i/2),C=c(s/2);switch(o){case"XYZ":this._x=y*h*m+d*v*C,this._y=d*v*m-y*h*C,this._z=d*h*C+y*v*m,this._w=d*h*m-y*v*C;break;case"YXZ":this._x=y*h*m+d*v*C,this._y=d*v*m-y*h*C,this._z=d*h*C-y*v*m,this._w=d*h*m+y*v*C;break;case"ZXY":this._x=y*h*m-d*v*C,this._y=d*v*m+y*h*C,this._z=d*h*C+y*v*m,this._w=d*h*m-y*v*C;break;case"ZYX":this._x=y*h*m-d*v*C,this._y=d*v*m+y*h*C,this._z=d*h*C-y*v*m,this._w=d*h*m+y*v*C;break;case"YZX":this._x=y*h*m+d*v*C,this._y=d*v*m+y*h*C,this._z=d*h*C-y*v*m,this._w=d*h*m-y*v*C;break;case"XZY":this._x=y*h*m-d*v*C,this._y=d*v*m-y*h*C,this._z=d*h*C+y*v*m,this._w=d*h*m+y*v*C;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return t!==!1&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const n=t/2,i=Math.sin(n);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(n),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,n=t[0],i=t[4],s=t[8],o=t[1],l=t[5],c=t[9],d=t[2],h=t[6],m=t[10],y=n+l+m;if(y>0){const v=.5/Math.sqrt(y+1);this._w=.25/v,this._x=(h-c)*v,this._y=(s-d)*v,this._z=(o-i)*v}else if(n>l&&n>m){const v=2*Math.sqrt(1+n-l-m);this._w=(h-c)/v,this._x=.25*v,this._y=(i+o)/v,this._z=(s+d)/v}else if(l>m){const v=2*Math.sqrt(1+l-n-m);this._w=(s-d)/v,this._x=(i+o)/v,this._y=.25*v,this._z=(c+h)/v}else{const v=2*Math.sqrt(1+m-n-l);this._w=(o-i)/v,this._x=(s+d)/v,this._y=(c+h)/v,this._z=.25*v}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let n=e.dot(t)+1;return n<Number.EPSILON?(n=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=n):(this._x=0,this._y=-e.z,this._z=e.y,this._w=n)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=n),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(lr(this.dot(e),-1,1)))}rotateTowards(e,t){const n=this.angleTo(e);if(n===0)return this;const i=Math.min(1,t/n);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const n=e._x,i=e._y,s=e._z,o=e._w,l=t._x,c=t._y,d=t._z,h=t._w;return this._x=n*h+o*l+i*d-s*c,this._y=i*h+o*c+s*l-n*d,this._z=s*h+o*d+n*c-i*l,this._w=o*h-n*l-i*c-s*d,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);const n=this._x,i=this._y,s=this._z,o=this._w;let l=o*e._w+n*e._x+i*e._y+s*e._z;if(l<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,l=-l):this.copy(e),l>=1)return this._w=o,this._x=n,this._y=i,this._z=s,this;const c=1-l*l;if(c<=Number.EPSILON){const v=1-t;return this._w=v*o+t*this._w,this._x=v*n+t*this._x,this._y=v*i+t*this._y,this._z=v*s+t*this._z,this.normalize(),this._onChangeCallback(),this}const d=Math.sqrt(c),h=Math.atan2(d,l),m=Math.sin((1-t)*h)/d,y=Math.sin(t*h)/d;return this._w=o*m+this._w*y,this._x=n*m+this._x*y,this._y=i*m+this._y*y,this._z=s*m+this._z*y,this._onChangeCallback(),this}slerpQuaternions(e,t,n){return this.copy(e).slerp(t,n)}random(){const e=Math.random(),t=Math.sqrt(1-e),n=Math.sqrt(e),i=2*Math.PI*Math.random(),s=2*Math.PI*Math.random();return this.set(t*Math.cos(i),n*Math.sin(s),n*Math.cos(s),t*Math.sin(i))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class ${constructor(e=0,t=0,n=0){$.prototype.isVector3=!0,this.x=e,this.y=t,this.z=n}set(e,t,n){return n===void 0&&(n=this.z),this.x=e,this.y=t,this.z=n,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(ow.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(ow.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,n=this.y,i=this.z,s=e.elements;return this.x=s[0]*t+s[3]*n+s[6]*i,this.y=s[1]*t+s[4]*n+s[7]*i,this.z=s[2]*t+s[5]*n+s[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,n=this.y,i=this.z,s=e.elements,o=1/(s[3]*t+s[7]*n+s[11]*i+s[15]);return this.x=(s[0]*t+s[4]*n+s[8]*i+s[12])*o,this.y=(s[1]*t+s[5]*n+s[9]*i+s[13])*o,this.z=(s[2]*t+s[6]*n+s[10]*i+s[14])*o,this}applyQuaternion(e){const t=this.x,n=this.y,i=this.z,s=e.x,o=e.y,l=e.z,c=e.w,d=2*(o*i-l*n),h=2*(l*t-s*i),m=2*(s*n-o*t);return this.x=t+c*d+o*m-l*h,this.y=n+c*h+l*d-s*m,this.z=i+c*m+s*h-o*d,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,n=this.y,i=this.z,s=e.elements;return this.x=s[0]*t+s[4]*n+s[8]*i,this.y=s[1]*t+s[5]*n+s[9]*i,this.z=s[2]*t+s[6]*n+s[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const n=e.x,i=e.y,s=e.z,o=t.x,l=t.y,c=t.z;return this.x=i*c-s*l,this.y=s*o-n*c,this.z=n*l-i*o,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const n=e.dot(this)/t;return this.copy(e).multiplyScalar(n)}projectOnPlane(e){return Uv.copy(this).projectOnVector(e),this.sub(Uv)}reflect(e){return this.sub(Uv.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const n=this.dot(e)/t;return Math.acos(lr(n,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,n=this.y-e.y,i=this.z-e.z;return t*t+n*n+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,n){const i=Math.sin(t)*e;return this.x=i*Math.sin(n),this.y=Math.cos(t)*e,this.z=i*Math.cos(n),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,n){return this.x=e*Math.sin(t),this.y=n,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),n=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=n,this.z=i,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=(Math.random()-.5)*2,t=Math.random()*Math.PI*2,n=Math.sqrt(1-e**2);return this.x=n*Math.cos(t),this.y=n*Math.sin(t),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const Uv=new $,ow=new Ei;class qs{constructor(e=new $(1/0,1/0,1/0),t=new $(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t+=3)this.expandByPoint(So.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,n=e.count;t<n;t++)this.expandByPoint(So.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const n=So.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const n=e.geometry;if(n!==void 0){const s=n.getAttribute("position");if(t===!0&&s!==void 0&&e.isInstancedMesh!==!0)for(let o=0,l=s.count;o<l;o++)e.isMesh===!0?e.getVertexPosition(o,So):So.fromBufferAttribute(s,o),So.applyMatrix4(e.matrixWorld),this.expandByPoint(So);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),bm.copy(e.boundingBox)):(n.boundingBox===null&&n.computeBoundingBox(),bm.copy(n.boundingBox)),bm.applyMatrix4(e.matrixWorld),this.union(bm)}const i=e.children;for(let s=0,o=i.length;s<o;s++)this.expandByObject(i[s],t);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,So),So.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,n;return e.normal.x>0?(t=e.normal.x*this.min.x,n=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,n=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,n+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,n+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,n+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,n+=e.normal.z*this.min.z),t<=-e.constant&&n>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(ch),Mm.subVectors(this.max,ch),xd.subVectors(e.a,ch),Cd.subVectors(e.b,ch),wd.subVectors(e.c,ch),Dl.subVectors(Cd,xd),Ll.subVectors(wd,Cd),Fc.subVectors(xd,wd);let t=[0,-Dl.z,Dl.y,0,-Ll.z,Ll.y,0,-Fc.z,Fc.y,Dl.z,0,-Dl.x,Ll.z,0,-Ll.x,Fc.z,0,-Fc.x,-Dl.y,Dl.x,0,-Ll.y,Ll.x,0,-Fc.y,Fc.x,0];return!kv(t,xd,Cd,wd,Mm)||(t=[1,0,0,0,1,0,0,0,1],!kv(t,xd,Cd,wd,Mm))?!1:(Em.crossVectors(Dl,Ll),t=[Em.x,Em.y,Em.z],kv(t,xd,Cd,wd,Mm))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,So).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(So).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(Ia[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Ia[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Ia[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Ia[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Ia[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Ia[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Ia[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Ia[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Ia),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const Ia=[new $,new $,new $,new $,new $,new $,new $,new $],So=new $,bm=new qs,xd=new $,Cd=new $,wd=new $,Dl=new $,Ll=new $,Fc=new $,ch=new $,Mm=new $,Em=new $,Bc=new $;function kv(r,e,t,n,i){for(let s=0,o=r.length-3;s<=o;s+=3){Bc.fromArray(r,s);const l=i.x*Math.abs(Bc.x)+i.y*Math.abs(Bc.y)+i.z*Math.abs(Bc.z),c=e.dot(Bc),d=t.dot(Bc),h=n.dot(Bc);if(Math.max(-Math.max(c,d,h),Math.min(c,d,h))>l)return!1}return!0}const iI=new qs,uh=new $,Nv=new $;class Ks{constructor(e=new $,t=-1){this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const n=this.center;t!==void 0?n.copy(t):iI.setFromPoints(e).getCenter(n);let i=0;for(let s=0,o=e.length;s<o;s++)i=Math.max(i,n.distanceToSquared(e[s]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const n=this.center.distanceToSquared(e);return t.copy(e),n>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;uh.subVectors(e,this.center);const t=uh.lengthSq();if(t>this.radius*this.radius){const n=Math.sqrt(t),i=(n-this.radius)*.5;this.center.addScaledVector(uh,i/n),this.radius+=i}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(Nv.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(uh.copy(e.center).add(Nv)),this.expandByPoint(uh.copy(e.center).sub(Nv))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const Ua=new $,Ov=new $,Am=new $,Il=new $,Fv=new $,Tm=new $,Bv=new $;class _u{constructor(e=new $,t=new $(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Ua)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const n=t.dot(this.direction);return n<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,n)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=Ua.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(Ua.copy(this.origin).addScaledVector(this.direction,t),Ua.distanceToSquared(e))}distanceSqToSegment(e,t,n,i){Ov.copy(e).add(t).multiplyScalar(.5),Am.copy(t).sub(e).normalize(),Il.copy(this.origin).sub(Ov);const s=e.distanceTo(t)*.5,o=-this.direction.dot(Am),l=Il.dot(this.direction),c=-Il.dot(Am),d=Il.lengthSq(),h=Math.abs(1-o*o);let m,y,v,C;if(h>0)if(m=o*c-l,y=o*l-c,C=s*h,m>=0)if(y>=-C)if(y<=C){const b=1/h;m*=b,y*=b,v=m*(m+o*y+2*l)+y*(o*m+y+2*c)+d}else y=s,m=Math.max(0,-(o*y+l)),v=-m*m+y*(y+2*c)+d;else y=-s,m=Math.max(0,-(o*y+l)),v=-m*m+y*(y+2*c)+d;else y<=-C?(m=Math.max(0,-(-o*s+l)),y=m>0?-s:Math.min(Math.max(-s,-c),s),v=-m*m+y*(y+2*c)+d):y<=C?(m=0,y=Math.min(Math.max(-s,-c),s),v=y*(y+2*c)+d):(m=Math.max(0,-(o*s+l)),y=m>0?s:Math.min(Math.max(-s,-c),s),v=-m*m+y*(y+2*c)+d);else y=o>0?-s:s,m=Math.max(0,-(o*y+l)),v=-m*m+y*(y+2*c)+d;return n&&n.copy(this.origin).addScaledVector(this.direction,m),i&&i.copy(Ov).addScaledVector(Am,y),v}intersectSphere(e,t){Ua.subVectors(e.center,this.origin);const n=Ua.dot(this.direction),i=Ua.dot(Ua)-n*n,s=e.radius*e.radius;if(i>s)return null;const o=Math.sqrt(s-i),l=n-o,c=n+o;return c<0?null:l<0?this.at(c,t):this.at(l,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const n=-(this.origin.dot(e.normal)+e.constant)/t;return n>=0?n:null}intersectPlane(e,t){const n=this.distanceToPlane(e);return n===null?null:this.at(n,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let n,i,s,o,l,c;const d=1/this.direction.x,h=1/this.direction.y,m=1/this.direction.z,y=this.origin;return d>=0?(n=(e.min.x-y.x)*d,i=(e.max.x-y.x)*d):(n=(e.max.x-y.x)*d,i=(e.min.x-y.x)*d),h>=0?(s=(e.min.y-y.y)*h,o=(e.max.y-y.y)*h):(s=(e.max.y-y.y)*h,o=(e.min.y-y.y)*h),n>o||s>i||((s>n||isNaN(n))&&(n=s),(o<i||isNaN(i))&&(i=o),m>=0?(l=(e.min.z-y.z)*m,c=(e.max.z-y.z)*m):(l=(e.max.z-y.z)*m,c=(e.min.z-y.z)*m),n>c||l>i)||((l>n||n!==n)&&(n=l),(c<i||i!==i)&&(i=c),i<0)?null:this.at(n>=0?n:i,t)}intersectsBox(e){return this.intersectBox(e,Ua)!==null}intersectTriangle(e,t,n,i,s){Fv.subVectors(t,e),Tm.subVectors(n,e),Bv.crossVectors(Fv,Tm);let o=this.direction.dot(Bv),l;if(o>0){if(i)return null;l=1}else if(o<0)l=-1,o=-o;else return null;Il.subVectors(this.origin,e);const c=l*this.direction.dot(Tm.crossVectors(Il,Tm));if(c<0)return null;const d=l*this.direction.dot(Fv.cross(Il));if(d<0||c+d>o)return null;const h=-l*Il.dot(Bv);return h<0?null:this.at(h/o,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Zt{constructor(e,t,n,i,s,o,l,c,d,h,m,y,v,C,b,_){Zt.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,t,n,i,s,o,l,c,d,h,m,y,v,C,b,_)}set(e,t,n,i,s,o,l,c,d,h,m,y,v,C,b,_){const S=this.elements;return S[0]=e,S[4]=t,S[8]=n,S[12]=i,S[1]=s,S[5]=o,S[9]=l,S[13]=c,S[2]=d,S[6]=h,S[10]=m,S[14]=y,S[3]=v,S[7]=C,S[11]=b,S[15]=_,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Zt().fromArray(this.elements)}copy(e){const t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],this}copyPosition(e){const t=this.elements,n=e.elements;return t[12]=n[12],t[13]=n[13],t[14]=n[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,n){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this}makeBasis(e,t,n){return this.set(e.x,t.x,n.x,0,e.y,t.y,n.y,0,e.z,t.z,n.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,n=e.elements,i=1/_d.setFromMatrixColumn(e,0).length(),s=1/_d.setFromMatrixColumn(e,1).length(),o=1/_d.setFromMatrixColumn(e,2).length();return t[0]=n[0]*i,t[1]=n[1]*i,t[2]=n[2]*i,t[3]=0,t[4]=n[4]*s,t[5]=n[5]*s,t[6]=n[6]*s,t[7]=0,t[8]=n[8]*o,t[9]=n[9]*o,t[10]=n[10]*o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,n=e.x,i=e.y,s=e.z,o=Math.cos(n),l=Math.sin(n),c=Math.cos(i),d=Math.sin(i),h=Math.cos(s),m=Math.sin(s);if(e.order==="XYZ"){const y=o*h,v=o*m,C=l*h,b=l*m;t[0]=c*h,t[4]=-c*m,t[8]=d,t[1]=v+C*d,t[5]=y-b*d,t[9]=-l*c,t[2]=b-y*d,t[6]=C+v*d,t[10]=o*c}else if(e.order==="YXZ"){const y=c*h,v=c*m,C=d*h,b=d*m;t[0]=y+b*l,t[4]=C*l-v,t[8]=o*d,t[1]=o*m,t[5]=o*h,t[9]=-l,t[2]=v*l-C,t[6]=b+y*l,t[10]=o*c}else if(e.order==="ZXY"){const y=c*h,v=c*m,C=d*h,b=d*m;t[0]=y-b*l,t[4]=-o*m,t[8]=C+v*l,t[1]=v+C*l,t[5]=o*h,t[9]=b-y*l,t[2]=-o*d,t[6]=l,t[10]=o*c}else if(e.order==="ZYX"){const y=o*h,v=o*m,C=l*h,b=l*m;t[0]=c*h,t[4]=C*d-v,t[8]=y*d+b,t[1]=c*m,t[5]=b*d+y,t[9]=v*d-C,t[2]=-d,t[6]=l*c,t[10]=o*c}else if(e.order==="YZX"){const y=o*c,v=o*d,C=l*c,b=l*d;t[0]=c*h,t[4]=b-y*m,t[8]=C*m+v,t[1]=m,t[5]=o*h,t[9]=-l*h,t[2]=-d*h,t[6]=v*m+C,t[10]=y-b*m}else if(e.order==="XZY"){const y=o*c,v=o*d,C=l*c,b=l*d;t[0]=c*h,t[4]=-m,t[8]=d*h,t[1]=y*m+b,t[5]=o*h,t[9]=v*m-C,t[2]=C*m-v,t[6]=l*h,t[10]=b*m+y}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(sI,e,oI)}lookAt(e,t,n){const i=this.elements;return As.subVectors(e,t),As.lengthSq()===0&&(As.z=1),As.normalize(),Ul.crossVectors(n,As),Ul.lengthSq()===0&&(Math.abs(n.z)===1?As.x+=1e-4:As.z+=1e-4,As.normalize(),Ul.crossVectors(n,As)),Ul.normalize(),Pm.crossVectors(As,Ul),i[0]=Ul.x,i[4]=Pm.x,i[8]=As.x,i[1]=Ul.y,i[5]=Pm.y,i[9]=As.y,i[2]=Ul.z,i[6]=Pm.z,i[10]=As.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const n=e.elements,i=t.elements,s=this.elements,o=n[0],l=n[4],c=n[8],d=n[12],h=n[1],m=n[5],y=n[9],v=n[13],C=n[2],b=n[6],_=n[10],S=n[14],A=n[3],E=n[7],P=n[11],I=n[15],k=i[0],F=i[4],V=i[8],U=i[12],O=i[1],Q=i[5],q=i[9],te=i[13],X=i[2],le=i[6],re=i[10],de=i[14],j=i[3],Y=i[7],G=i[11],D=i[15];return s[0]=o*k+l*O+c*X+d*j,s[4]=o*F+l*Q+c*le+d*Y,s[8]=o*V+l*q+c*re+d*G,s[12]=o*U+l*te+c*de+d*D,s[1]=h*k+m*O+y*X+v*j,s[5]=h*F+m*Q+y*le+v*Y,s[9]=h*V+m*q+y*re+v*G,s[13]=h*U+m*te+y*de+v*D,s[2]=C*k+b*O+_*X+S*j,s[6]=C*F+b*Q+_*le+S*Y,s[10]=C*V+b*q+_*re+S*G,s[14]=C*U+b*te+_*de+S*D,s[3]=A*k+E*O+P*X+I*j,s[7]=A*F+E*Q+P*le+I*Y,s[11]=A*V+E*q+P*re+I*G,s[15]=A*U+E*te+P*de+I*D,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],n=e[4],i=e[8],s=e[12],o=e[1],l=e[5],c=e[9],d=e[13],h=e[2],m=e[6],y=e[10],v=e[14],C=e[3],b=e[7],_=e[11],S=e[15];return C*(+s*c*m-i*d*m-s*l*y+n*d*y+i*l*v-n*c*v)+b*(+t*c*v-t*d*y+s*o*y-i*o*v+i*d*h-s*c*h)+_*(+t*d*m-t*l*v-s*o*m+n*o*v+s*l*h-n*d*h)+S*(-i*l*h-t*c*m+t*l*y+i*o*m-n*o*y+n*c*h)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,n){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=t,i[14]=n),this}invert(){const e=this.elements,t=e[0],n=e[1],i=e[2],s=e[3],o=e[4],l=e[5],c=e[6],d=e[7],h=e[8],m=e[9],y=e[10],v=e[11],C=e[12],b=e[13],_=e[14],S=e[15],A=m*_*d-b*y*d+b*c*v-l*_*v-m*c*S+l*y*S,E=C*y*d-h*_*d-C*c*v+o*_*v+h*c*S-o*y*S,P=h*b*d-C*m*d+C*l*v-o*b*v-h*l*S+o*m*S,I=C*m*c-h*b*c-C*l*y+o*b*y+h*l*_-o*m*_,k=t*A+n*E+i*P+s*I;if(k===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const F=1/k;return e[0]=A*F,e[1]=(b*y*s-m*_*s-b*i*v+n*_*v+m*i*S-n*y*S)*F,e[2]=(l*_*s-b*c*s+b*i*d-n*_*d-l*i*S+n*c*S)*F,e[3]=(m*c*s-l*y*s-m*i*d+n*y*d+l*i*v-n*c*v)*F,e[4]=E*F,e[5]=(h*_*s-C*y*s+C*i*v-t*_*v-h*i*S+t*y*S)*F,e[6]=(C*c*s-o*_*s-C*i*d+t*_*d+o*i*S-t*c*S)*F,e[7]=(o*y*s-h*c*s+h*i*d-t*y*d-o*i*v+t*c*v)*F,e[8]=P*F,e[9]=(C*m*s-h*b*s-C*n*v+t*b*v+h*n*S-t*m*S)*F,e[10]=(o*b*s-C*l*s+C*n*d-t*b*d-o*n*S+t*l*S)*F,e[11]=(h*l*s-o*m*s-h*n*d+t*m*d+o*n*v-t*l*v)*F,e[12]=I*F,e[13]=(h*b*i-C*m*i+C*n*y-t*b*y-h*n*_+t*m*_)*F,e[14]=(C*l*i-o*b*i-C*n*c+t*b*c+o*n*_-t*l*_)*F,e[15]=(o*m*i-h*l*i+h*n*c-t*m*c-o*n*y+t*l*y)*F,this}scale(e){const t=this.elements,n=e.x,i=e.y,s=e.z;return t[0]*=n,t[4]*=i,t[8]*=s,t[1]*=n,t[5]*=i,t[9]*=s,t[2]*=n,t[6]*=i,t[10]*=s,t[3]*=n,t[7]*=i,t[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],n=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,n,i))}makeTranslation(e,t,n){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),n=Math.sin(e);return this.set(1,0,0,0,0,t,-n,0,0,n,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,0,n,0,0,1,0,0,-n,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,0,n,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const n=Math.cos(t),i=Math.sin(t),s=1-n,o=e.x,l=e.y,c=e.z,d=s*o,h=s*l;return this.set(d*o+n,d*l-i*c,d*c+i*l,0,d*l+i*c,h*l+n,h*c-i*o,0,d*c-i*l,h*c+i*o,s*c*c+n,0,0,0,0,1),this}makeScale(e,t,n){return this.set(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1),this}makeShear(e,t,n,i,s,o){return this.set(1,n,s,0,e,1,o,0,t,i,1,0,0,0,0,1),this}compose(e,t,n){const i=this.elements,s=t._x,o=t._y,l=t._z,c=t._w,d=s+s,h=o+o,m=l+l,y=s*d,v=s*h,C=s*m,b=o*h,_=o*m,S=l*m,A=c*d,E=c*h,P=c*m,I=n.x,k=n.y,F=n.z;return i[0]=(1-(b+S))*I,i[1]=(v+P)*I,i[2]=(C-E)*I,i[3]=0,i[4]=(v-P)*k,i[5]=(1-(y+S))*k,i[6]=(_+A)*k,i[7]=0,i[8]=(C+E)*F,i[9]=(_-A)*F,i[10]=(1-(y+b))*F,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,t,n){const i=this.elements;let s=_d.set(i[0],i[1],i[2]).length();const o=_d.set(i[4],i[5],i[6]).length(),l=_d.set(i[8],i[9],i[10]).length();this.determinant()<0&&(s=-s),e.x=i[12],e.y=i[13],e.z=i[14],bo.copy(this);const d=1/s,h=1/o,m=1/l;return bo.elements[0]*=d,bo.elements[1]*=d,bo.elements[2]*=d,bo.elements[4]*=h,bo.elements[5]*=h,bo.elements[6]*=h,bo.elements[8]*=m,bo.elements[9]*=m,bo.elements[10]*=m,t.setFromRotationMatrix(bo),n.x=s,n.y=o,n.z=l,this}makePerspective(e,t,n,i,s,o,l=Jo){const c=this.elements,d=2*s/(t-e),h=2*s/(n-i),m=(t+e)/(t-e),y=(n+i)/(n-i);let v,C;if(l===Jo)v=-(o+s)/(o-s),C=-2*o*s/(o-s);else if(l===np)v=-o/(o-s),C=-o*s/(o-s);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+l);return c[0]=d,c[4]=0,c[8]=m,c[12]=0,c[1]=0,c[5]=h,c[9]=y,c[13]=0,c[2]=0,c[6]=0,c[10]=v,c[14]=C,c[3]=0,c[7]=0,c[11]=-1,c[15]=0,this}makeOrthographic(e,t,n,i,s,o,l=Jo){const c=this.elements,d=1/(t-e),h=1/(n-i),m=1/(o-s),y=(t+e)*d,v=(n+i)*h;let C,b;if(l===Jo)C=(o+s)*m,b=-2*m;else if(l===np)C=s*m,b=-1*m;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+l);return c[0]=2*d,c[4]=0,c[8]=0,c[12]=-y,c[1]=0,c[5]=2*h,c[9]=0,c[13]=-v,c[2]=0,c[6]=0,c[10]=b,c[14]=-C,c[3]=0,c[7]=0,c[11]=0,c[15]=1,this}equals(e){const t=this.elements,n=e.elements;for(let i=0;i<16;i++)if(t[i]!==n[i])return!1;return!0}fromArray(e,t=0){for(let n=0;n<16;n++)this.elements[n]=e[n+t];return this}toArray(e=[],t=0){const n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e[t+9]=n[9],e[t+10]=n[10],e[t+11]=n[11],e[t+12]=n[12],e[t+13]=n[13],e[t+14]=n[14],e[t+15]=n[15],e}}const _d=new $,bo=new Zt,sI=new $(0,0,0),oI=new $(1,1,1),Ul=new $,Pm=new $,As=new $,aw=new Zt,lw=new Ei;class Cp{constructor(e=0,t=0,n=0,i=Cp.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=n,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,n,i=this._order){return this._x=e,this._y=t,this._z=n,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,n=!0){const i=e.elements,s=i[0],o=i[4],l=i[8],c=i[1],d=i[5],h=i[9],m=i[2],y=i[6],v=i[10];switch(t){case"XYZ":this._y=Math.asin(lr(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-h,v),this._z=Math.atan2(-o,s)):(this._x=Math.atan2(y,d),this._z=0);break;case"YXZ":this._x=Math.asin(-lr(h,-1,1)),Math.abs(h)<.9999999?(this._y=Math.atan2(l,v),this._z=Math.atan2(c,d)):(this._y=Math.atan2(-m,s),this._z=0);break;case"ZXY":this._x=Math.asin(lr(y,-1,1)),Math.abs(y)<.9999999?(this._y=Math.atan2(-m,v),this._z=Math.atan2(-o,d)):(this._y=0,this._z=Math.atan2(c,s));break;case"ZYX":this._y=Math.asin(-lr(m,-1,1)),Math.abs(m)<.9999999?(this._x=Math.atan2(y,v),this._z=Math.atan2(c,s)):(this._x=0,this._z=Math.atan2(-o,d));break;case"YZX":this._z=Math.asin(lr(c,-1,1)),Math.abs(c)<.9999999?(this._x=Math.atan2(-h,d),this._y=Math.atan2(-m,s)):(this._x=0,this._y=Math.atan2(l,v));break;case"XZY":this._z=Math.asin(-lr(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(y,d),this._y=Math.atan2(l,s)):(this._x=Math.atan2(-h,v),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,n===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,n){return aw.makeRotationFromQuaternion(e),this.setFromRotationMatrix(aw,t,n)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return lw.setFromEuler(this),this.setFromQuaternion(lw,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}Cp.DEFAULT_ORDER="XYZ";class uu{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let aI=0;const cw=new $,Sd=new Ei,ka=new Zt,Rm=new $,dh=new $,lI=new $,cI=new Ei,uw=new $(1,0,0),dw=new $(0,1,0),fw=new $(0,0,1),uI={type:"added"},dI={type:"removed"};class vn extends Ja{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:aI++}),this.uuid=Rs(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=vn.DEFAULT_UP.clone();const e=new $,t=new Cp,n=new Ei,i=new $(1,1,1);function s(){n.setFromEuler(t,!1)}function o(){t.setFromQuaternion(n,void 0,!1)}t._onChange(s),n._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:n},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new Zt},normalMatrix:{value:new nn}}),this.matrix=new Zt,this.matrixWorld=new Zt,this.matrixAutoUpdate=vn.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.matrixWorldAutoUpdate=vn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.layers=new uu,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return Sd.setFromAxisAngle(e,t),this.quaternion.multiply(Sd),this}rotateOnWorldAxis(e,t){return Sd.setFromAxisAngle(e,t),this.quaternion.premultiply(Sd),this}rotateX(e){return this.rotateOnAxis(uw,e)}rotateY(e){return this.rotateOnAxis(dw,e)}rotateZ(e){return this.rotateOnAxis(fw,e)}translateOnAxis(e,t){return cw.copy(e).applyQuaternion(this.quaternion),this.position.add(cw.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(uw,e)}translateY(e){return this.translateOnAxis(dw,e)}translateZ(e){return this.translateOnAxis(fw,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(ka.copy(this.matrixWorld).invert())}lookAt(e,t,n){e.isVector3?Rm.copy(e):Rm.set(e,t,n);const i=this.parent;this.updateWorldMatrix(!0,!1),dh.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?ka.lookAt(dh,Rm,this.up):ka.lookAt(Rm,dh,this.up),this.quaternion.setFromRotationMatrix(ka),i&&(ka.extractRotation(i.matrixWorld),Sd.setFromRotationMatrix(ka),this.quaternion.premultiply(Sd.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(uI)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.remove(arguments[n]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(dI)),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),ka.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),ka.multiply(e.parent.matrixWorld)),e.applyMatrix4(ka),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let n=0,i=this.children.length;n<i;n++){const o=this.children[n].getObjectByProperty(e,t);if(o!==void 0)return o}}getObjectsByProperty(e,t){let n=[];this[e]===t&&n.push(this);for(let i=0,s=this.children.length;i<s;i++){const o=this.children[i].getObjectsByProperty(e,t);o.length>0&&(n=n.concat(o))}return n}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(dh,e,lI),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(dh,cI,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let n=0,i=t.length;n<i;n++)t[n].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let n=0,i=t.length;n<i;n++)t[n].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let n=0,i=t.length;n<i;n++){const s=t[n];(s.matrixWorldAutoUpdate===!0||e===!0)&&s.updateMatrixWorld(e)}}updateWorldMatrix(e,t){const n=this.parent;if(e===!0&&n!==null&&n.matrixWorldAutoUpdate===!0&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),t===!0){const i=this.children;for(let s=0,o=i.length;s<o;s++){const l=i[s];l.matrixWorldAutoUpdate===!0&&l.updateWorldMatrix(!1,!0)}}}toJSON(e){const t=e===void 0||typeof e=="string",n={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},n.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),i.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON()));function s(l,c){return l[c.uuid]===void 0&&(l[c.uuid]=c.toJSON(e)),c.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=s(e.geometries,this.geometry);const l=this.geometry.parameters;if(l!==void 0&&l.shapes!==void 0){const c=l.shapes;if(Array.isArray(c))for(let d=0,h=c.length;d<h;d++){const m=c[d];s(e.shapes,m)}else s(e.shapes,c)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const l=[];for(let c=0,d=this.material.length;c<d;c++)l.push(s(e.materials,this.material[c]));i.material=l}else i.material=s(e.materials,this.material);if(this.children.length>0){i.children=[];for(let l=0;l<this.children.length;l++)i.children.push(this.children[l].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let l=0;l<this.animations.length;l++){const c=this.animations[l];i.animations.push(s(e.animations,c))}}if(t){const l=o(e.geometries),c=o(e.materials),d=o(e.textures),h=o(e.images),m=o(e.shapes),y=o(e.skeletons),v=o(e.animations),C=o(e.nodes);l.length>0&&(n.geometries=l),c.length>0&&(n.materials=c),d.length>0&&(n.textures=d),h.length>0&&(n.images=h),m.length>0&&(n.shapes=m),y.length>0&&(n.skeletons=y),v.length>0&&(n.animations=v),C.length>0&&(n.nodes=C)}return n.object=i,n;function o(l){const c=[];for(const d in l){const h=l[d];delete h.metadata,c.push(h)}return c}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let n=0;n<e.children.length;n++){const i=e.children[n];this.add(i.clone())}return this}}vn.DEFAULT_UP=new $(0,1,0);vn.DEFAULT_MATRIX_AUTO_UPDATE=!0;vn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const Mo=new $,Na=new $,zv=new $,Oa=new $,bd=new $,Md=new $,hw=new $,Vv=new $,Hv=new $,Gv=new $;let Dm=!1;class ls{constructor(e=new $,t=new $,n=new $){this.a=e,this.b=t,this.c=n}static getNormal(e,t,n,i){i.subVectors(n,t),Mo.subVectors(e,t),i.cross(Mo);const s=i.lengthSq();return s>0?i.multiplyScalar(1/Math.sqrt(s)):i.set(0,0,0)}static getBarycoord(e,t,n,i,s){Mo.subVectors(i,t),Na.subVectors(n,t),zv.subVectors(e,t);const o=Mo.dot(Mo),l=Mo.dot(Na),c=Mo.dot(zv),d=Na.dot(Na),h=Na.dot(zv),m=o*d-l*l;if(m===0)return s.set(-2,-1,-1);const y=1/m,v=(d*c-l*h)*y,C=(o*h-l*c)*y;return s.set(1-v-C,C,v)}static containsPoint(e,t,n,i){return this.getBarycoord(e,t,n,i,Oa),Oa.x>=0&&Oa.y>=0&&Oa.x+Oa.y<=1}static getUV(e,t,n,i,s,o,l,c){return Dm===!1&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),Dm=!0),this.getInterpolation(e,t,n,i,s,o,l,c)}static getInterpolation(e,t,n,i,s,o,l,c){return this.getBarycoord(e,t,n,i,Oa),c.setScalar(0),c.addScaledVector(s,Oa.x),c.addScaledVector(o,Oa.y),c.addScaledVector(l,Oa.z),c}static isFrontFacing(e,t,n,i){return Mo.subVectors(n,t),Na.subVectors(e,t),Mo.cross(Na).dot(i)<0}set(e,t,n){return this.a.copy(e),this.b.copy(t),this.c.copy(n),this}setFromPointsAndIndices(e,t,n,i){return this.a.copy(e[t]),this.b.copy(e[n]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,t,n,i){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,n),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Mo.subVectors(this.c,this.b),Na.subVectors(this.a,this.b),Mo.cross(Na).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return ls.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return ls.getBarycoord(e,this.a,this.b,this.c,t)}getUV(e,t,n,i,s){return Dm===!1&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),Dm=!0),ls.getInterpolation(e,this.a,this.b,this.c,t,n,i,s)}getInterpolation(e,t,n,i,s){return ls.getInterpolation(e,this.a,this.b,this.c,t,n,i,s)}containsPoint(e){return ls.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return ls.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const n=this.a,i=this.b,s=this.c;let o,l;bd.subVectors(i,n),Md.subVectors(s,n),Vv.subVectors(e,n);const c=bd.dot(Vv),d=Md.dot(Vv);if(c<=0&&d<=0)return t.copy(n);Hv.subVectors(e,i);const h=bd.dot(Hv),m=Md.dot(Hv);if(h>=0&&m<=h)return t.copy(i);const y=c*m-h*d;if(y<=0&&c>=0&&h<=0)return o=c/(c-h),t.copy(n).addScaledVector(bd,o);Gv.subVectors(e,s);const v=bd.dot(Gv),C=Md.dot(Gv);if(C>=0&&v<=C)return t.copy(s);const b=v*d-c*C;if(b<=0&&d>=0&&C<=0)return l=d/(d-C),t.copy(n).addScaledVector(Md,l);const _=h*C-v*m;if(_<=0&&m-h>=0&&v-C>=0)return hw.subVectors(s,i),l=(m-h)/(m-h+(v-C)),t.copy(i).addScaledVector(hw,l);const S=1/(_+b+y);return o=b*S,l=y*S,t.copy(n).addScaledVector(bd,o).addScaledVector(Md,l)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const lE={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},kl={h:0,s:0,l:0},Lm={h:0,s:0,l:0};function Wv(r,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?r+(e-r)*6*t:t<1/2?e:t<2/3?r+(e-r)*6*(2/3-t):r}class wt{constructor(e,t,n){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,t,n)}set(e,t,n){if(t===void 0&&n===void 0){const i=e;i&&i.isColor?this.copy(i):typeof i=="number"?this.setHex(i):typeof i=="string"&&this.setStyle(i)}else this.setRGB(e,t,n);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=Xr){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,Mn.toWorkingColorSpace(this,t),this}setRGB(e,t,n,i=Mn.workingColorSpace){return this.r=e,this.g=t,this.b=n,Mn.toWorkingColorSpace(this,i),this}setHSL(e,t,n,i=Mn.workingColorSpace){if(e=Mx(e,1),t=lr(t,0,1),n=lr(n,0,1),t===0)this.r=this.g=this.b=n;else{const s=n<=.5?n*(1+t):n+t-n*t,o=2*n-s;this.r=Wv(o,s,e+1/3),this.g=Wv(o,s,e),this.b=Wv(o,s,e-1/3)}return Mn.toWorkingColorSpace(this,i),this}setStyle(e,t=Xr){function n(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^(\w+)\(([^\)]*)\)/.exec(e)){let s;const o=i[1],l=i[2];switch(o){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(l))return n(s[4]),this.setRGB(Math.min(255,parseInt(s[1],10))/255,Math.min(255,parseInt(s[2],10))/255,Math.min(255,parseInt(s[3],10))/255,t);if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(l))return n(s[4]),this.setRGB(Math.min(100,parseInt(s[1],10))/100,Math.min(100,parseInt(s[2],10))/100,Math.min(100,parseInt(s[3],10))/100,t);break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(l))return n(s[4]),this.setHSL(parseFloat(s[1])/360,parseFloat(s[2])/100,parseFloat(s[3])/100,t);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=i[1],o=s.length;if(o===3)return this.setRGB(parseInt(s.charAt(0),16)/15,parseInt(s.charAt(1),16)/15,parseInt(s.charAt(2),16)/15,t);if(o===6)return this.setHex(parseInt(s,16),t);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,t);return this}setColorName(e,t=Xr){const n=lE[e.toLowerCase()];return n!==void 0?this.setHex(n,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=$d(e.r),this.g=$d(e.g),this.b=$d(e.b),this}copyLinearToSRGB(e){return this.r=Lv(e.r),this.g=Lv(e.g),this.b=Lv(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=Xr){return Mn.fromWorkingColorSpace(Si.copy(this),e),Math.round(lr(Si.r*255,0,255))*65536+Math.round(lr(Si.g*255,0,255))*256+Math.round(lr(Si.b*255,0,255))}getHexString(e=Xr){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=Mn.workingColorSpace){Mn.fromWorkingColorSpace(Si.copy(this),t);const n=Si.r,i=Si.g,s=Si.b,o=Math.max(n,i,s),l=Math.min(n,i,s);let c,d;const h=(l+o)/2;if(l===o)c=0,d=0;else{const m=o-l;switch(d=h<=.5?m/(o+l):m/(2-o-l),o){case n:c=(i-s)/m+(i<s?6:0);break;case i:c=(s-n)/m+2;break;case s:c=(n-i)/m+4;break}c/=6}return e.h=c,e.s=d,e.l=h,e}getRGB(e,t=Mn.workingColorSpace){return Mn.fromWorkingColorSpace(Si.copy(this),t),e.r=Si.r,e.g=Si.g,e.b=Si.b,e}getStyle(e=Xr){Mn.fromWorkingColorSpace(Si.copy(this),e);const t=Si.r,n=Si.g,i=Si.b;return e!==Xr?`color(${e} ${t.toFixed(3)} ${n.toFixed(3)} ${i.toFixed(3)})`:`rgb(${Math.round(t*255)},${Math.round(n*255)},${Math.round(i*255)})`}offsetHSL(e,t,n){return this.getHSL(kl),this.setHSL(kl.h+e,kl.s+t,kl.l+n)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,n){return this.r=e.r+(t.r-e.r)*n,this.g=e.g+(t.g-e.g)*n,this.b=e.b+(t.b-e.b)*n,this}lerpHSL(e,t){this.getHSL(kl),e.getHSL(Lm);const n=Lh(kl.h,Lm.h,t),i=Lh(kl.s,Lm.s,t),s=Lh(kl.l,Lm.l,t);return this.setHSL(n,i,s),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const t=this.r,n=this.g,i=this.b,s=e.elements;return this.r=s[0]*t+s[3]*n+s[6]*i,this.g=s[1]*t+s[4]*n+s[7]*i,this.b=s[2]*t+s[5]*n+s[8]*i,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const Si=new wt;wt.NAMES=lE;let fI=0;class Ai extends Ja{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:fI++}),this.uuid=Rs(),this.name="",this.type="Material",this.blending=lu,this.side=qa,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=Vg,this.blendDst=Hg,this.blendEquation=zl,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new wt(0,0,0),this.blendAlpha=0,this.depthFunc=Wh,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=S2,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=$c,this.stencilZFail=$c,this.stencilZPass=$c,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const n=e[t];if(n===void 0){console.warn(`THREE.Material: parameter '${t}' has value of undefined.`);continue}const i=this[t];if(i===void 0){console.warn(`THREE.Material: '${t}' is not a property of THREE.${this.type}.`);continue}i&&i.isColor?i.set(n):i&&i.isVector3&&n&&n.isVector3?i.copy(n):this[t]=n}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const n={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};n.uuid=this.uuid,n.type=this.type,this.name!==""&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),this.roughness!==void 0&&(n.roughness=this.roughness),this.metalness!==void 0&&(n.metalness=this.metalness),this.sheen!==void 0&&(n.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(n.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(n.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(n.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(n.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(n.shininess=this.shininess),this.clearcoat!==void 0&&(n.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(n.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(n.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(n.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(n.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(n.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(n.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(n.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(n.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(e).uuid,n.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(e).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(e).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(e).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(e).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(n.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(n.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(n.combine=this.combine)),this.envMapIntensity!==void 0&&(n.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(n.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(n.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(n.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(n.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(n.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(n.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(n.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(n.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(n.size=this.size),this.shadowSide!==null&&(n.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(n.sizeAttenuation=this.sizeAttenuation),this.blending!==lu&&(n.blending=this.blending),this.side!==qa&&(n.side=this.side),this.vertexColors===!0&&(n.vertexColors=!0),this.opacity<1&&(n.opacity=this.opacity),this.transparent===!0&&(n.transparent=!0),this.blendSrc!==Vg&&(n.blendSrc=this.blendSrc),this.blendDst!==Hg&&(n.blendDst=this.blendDst),this.blendEquation!==zl&&(n.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(n.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(n.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(n.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(n.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(n.blendAlpha=this.blendAlpha),this.depthFunc!==Wh&&(n.depthFunc=this.depthFunc),this.depthTest===!1&&(n.depthTest=this.depthTest),this.depthWrite===!1&&(n.depthWrite=this.depthWrite),this.colorWrite===!1&&(n.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(n.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==S2&&(n.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(n.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(n.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==$c&&(n.stencilFail=this.stencilFail),this.stencilZFail!==$c&&(n.stencilZFail=this.stencilZFail),this.stencilZPass!==$c&&(n.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(n.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(n.rotation=this.rotation),this.polygonOffset===!0&&(n.polygonOffset=!0),this.polygonOffsetFactor!==0&&(n.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(n.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(n.linewidth=this.linewidth),this.dashSize!==void 0&&(n.dashSize=this.dashSize),this.gapSize!==void 0&&(n.gapSize=this.gapSize),this.scale!==void 0&&(n.scale=this.scale),this.dithering===!0&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),this.alphaHash===!0&&(n.alphaHash=!0),this.alphaToCoverage===!0&&(n.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(n.premultipliedAlpha=!0),this.forceSinglePass===!0&&(n.forceSinglePass=!0),this.wireframe===!0&&(n.wireframe=!0),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(n.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(n.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(n.flatShading=!0),this.visible===!1&&(n.visible=!1),this.toneMapped===!1&&(n.toneMapped=!1),this.fog===!1&&(n.fog=!1),Object.keys(this.userData).length>0&&(n.userData=this.userData);function i(s){const o=[];for(const l in s){const c=s[l];delete c.metadata,o.push(c)}return o}if(t){const s=i(e.textures),o=i(e.images);s.length>0&&(n.textures=s),o.length>0&&(n.images=o)}return n}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let n=null;if(t!==null){const i=t.length;n=new Array(i);for(let s=0;s!==i;++s)n[s]=t[s].clone()}return this.clippingPlanes=n,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class Qa extends Ai{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new wt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=vp,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const Va=hI();function hI(){const r=new ArrayBuffer(4),e=new Float32Array(r),t=new Uint32Array(r),n=new Uint32Array(512),i=new Uint32Array(512);for(let c=0;c<256;++c){const d=c-127;d<-27?(n[c]=0,n[c|256]=32768,i[c]=24,i[c|256]=24):d<-14?(n[c]=1024>>-d-14,n[c|256]=1024>>-d-14|32768,i[c]=-d-1,i[c|256]=-d-1):d<=15?(n[c]=d+15<<10,n[c|256]=d+15<<10|32768,i[c]=13,i[c|256]=13):d<128?(n[c]=31744,n[c|256]=64512,i[c]=24,i[c|256]=24):(n[c]=31744,n[c|256]=64512,i[c]=13,i[c|256]=13)}const s=new Uint32Array(2048),o=new Uint32Array(64),l=new Uint32Array(64);for(let c=1;c<1024;++c){let d=c<<13,h=0;for(;(d&8388608)===0;)d<<=1,h-=8388608;d&=-8388609,h+=947912704,s[c]=d|h}for(let c=1024;c<2048;++c)s[c]=939524096+(c-1024<<13);for(let c=1;c<31;++c)o[c]=c<<23;o[31]=1199570944,o[32]=2147483648;for(let c=33;c<63;++c)o[c]=2147483648+(c-32<<23);o[63]=3347054592;for(let c=1;c<64;++c)c!==32&&(l[c]=1024);return{floatView:e,uint32View:t,baseTable:n,shiftTable:i,mantissaTable:s,exponentTable:o,offsetTable:l}}function as(r){Math.abs(r)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),r=lr(r,-65504,65504),Va.floatView[0]=r;const e=Va.uint32View[0],t=e>>23&511;return Va.baseTable[t]+((e&8388607)>>Va.shiftTable[t])}function Sh(r){const e=r>>10;return Va.uint32View[0]=Va.mantissaTable[Va.offsetTable[e]+(r&1023)]+Va.exponentTable[e],Va.floatView[0]}const pI={toHalfFloat:as,fromHalfFloat:Sh},Ir=new $,Im=new qe;class Dn{constructor(e,t,n=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=n,this.usage=tp,this.updateRange={offset:0,count:-1},this.gpuType=Zo,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,t,n){e*=this.itemSize,n*=t.itemSize;for(let i=0,s=this.itemSize;i<s;i++)this.array[e+i]=t.array[n+i];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,n=this.count;t<n;t++)Im.fromBufferAttribute(this,t),Im.applyMatrix3(e),this.setXY(t,Im.x,Im.y);else if(this.itemSize===3)for(let t=0,n=this.count;t<n;t++)Ir.fromBufferAttribute(this,t),Ir.applyMatrix3(e),this.setXYZ(t,Ir.x,Ir.y,Ir.z);return this}applyMatrix4(e){for(let t=0,n=this.count;t<n;t++)Ir.fromBufferAttribute(this,t),Ir.applyMatrix4(e),this.setXYZ(t,Ir.x,Ir.y,Ir.z);return this}applyNormalMatrix(e){for(let t=0,n=this.count;t<n;t++)Ir.fromBufferAttribute(this,t),Ir.applyNormalMatrix(e),this.setXYZ(t,Ir.x,Ir.y,Ir.z);return this}transformDirection(e){for(let t=0,n=this.count;t<n;t++)Ir.fromBufferAttribute(this,t),Ir.transformDirection(e),this.setXYZ(t,Ir.x,Ir.y,Ir.z);return this}set(e,t=0){return this.array.set(e,t),this}getComponent(e,t){let n=this.array[e*this.itemSize+t];return this.normalized&&(n=us(n,this.array)),n}setComponent(e,t,n){return this.normalized&&(n=rn(n,this.array)),this.array[e*this.itemSize+t]=n,this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=us(t,this.array)),t}setX(e,t){return this.normalized&&(t=rn(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=us(t,this.array)),t}setY(e,t){return this.normalized&&(t=rn(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=us(t,this.array)),t}setZ(e,t){return this.normalized&&(t=rn(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=us(t,this.array)),t}setW(e,t){return this.normalized&&(t=rn(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,n){return e*=this.itemSize,this.normalized&&(t=rn(t,this.array),n=rn(n,this.array)),this.array[e+0]=t,this.array[e+1]=n,this}setXYZ(e,t,n,i){return e*=this.itemSize,this.normalized&&(t=rn(t,this.array),n=rn(n,this.array),i=rn(i,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=i,this}setXYZW(e,t,n,i,s){return e*=this.itemSize,this.normalized&&(t=rn(t,this.array),n=rn(n,this.array),i=rn(i,this.array),s=rn(s,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=i,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==tp&&(e.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(e.updateRange=this.updateRange),e}}class mI extends Dn{constructor(e,t,n){super(new Int8Array(e),t,n)}}class gI extends Dn{constructor(e,t,n){super(new Uint8Array(e),t,n)}}class yI extends Dn{constructor(e,t,n){super(new Uint8ClampedArray(e),t,n)}}class vI extends Dn{constructor(e,t,n){super(new Int16Array(e),t,n)}}class Tx extends Dn{constructor(e,t,n){super(new Uint16Array(e),t,n)}}class xI extends Dn{constructor(e,t,n){super(new Int32Array(e),t,n)}}class Px extends Dn{constructor(e,t,n){super(new Uint32Array(e),t,n)}}class CI extends Dn{constructor(e,t,n){super(new Uint16Array(e),t,n),this.isFloat16BufferAttribute=!0}getX(e){let t=Sh(this.array[e*this.itemSize]);return this.normalized&&(t=us(t,this.array)),t}setX(e,t){return this.normalized&&(t=rn(t,this.array)),this.array[e*this.itemSize]=as(t),this}getY(e){let t=Sh(this.array[e*this.itemSize+1]);return this.normalized&&(t=us(t,this.array)),t}setY(e,t){return this.normalized&&(t=rn(t,this.array)),this.array[e*this.itemSize+1]=as(t),this}getZ(e){let t=Sh(this.array[e*this.itemSize+2]);return this.normalized&&(t=us(t,this.array)),t}setZ(e,t){return this.normalized&&(t=rn(t,this.array)),this.array[e*this.itemSize+2]=as(t),this}getW(e){let t=Sh(this.array[e*this.itemSize+3]);return this.normalized&&(t=us(t,this.array)),t}setW(e,t){return this.normalized&&(t=rn(t,this.array)),this.array[e*this.itemSize+3]=as(t),this}setXY(e,t,n){return e*=this.itemSize,this.normalized&&(t=rn(t,this.array),n=rn(n,this.array)),this.array[e+0]=as(t),this.array[e+1]=as(n),this}setXYZ(e,t,n,i){return e*=this.itemSize,this.normalized&&(t=rn(t,this.array),n=rn(n,this.array),i=rn(i,this.array)),this.array[e+0]=as(t),this.array[e+1]=as(n),this.array[e+2]=as(i),this}setXYZW(e,t,n,i,s){return e*=this.itemSize,this.normalized&&(t=rn(t,this.array),n=rn(n,this.array),i=rn(i,this.array),s=rn(s,this.array)),this.array[e+0]=as(t),this.array[e+1]=as(n),this.array[e+2]=as(i),this.array[e+3]=as(s),this}}class Lt extends Dn{constructor(e,t,n){super(new Float32Array(e),t,n)}}class wI extends Dn{constructor(e,t,n){super(new Float64Array(e),t,n)}}let _I=0;const Xs=new Zt,jv=new vn,Ed=new $,Ts=new qs,fh=new qs,ri=new $;class on extends Ja{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:_I++}),this.uuid=Rs(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(sE(e)?Px:Tx)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,n=0){this.groups.push({start:e,count:t,materialIndex:n})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const n=this.attributes.normal;if(n!==void 0){const s=new nn().getNormalMatrix(e);n.applyNormalMatrix(s),n.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return Xs.makeRotationFromQuaternion(e),this.applyMatrix4(Xs),this}rotateX(e){return Xs.makeRotationX(e),this.applyMatrix4(Xs),this}rotateY(e){return Xs.makeRotationY(e),this.applyMatrix4(Xs),this}rotateZ(e){return Xs.makeRotationZ(e),this.applyMatrix4(Xs),this}translate(e,t,n){return Xs.makeTranslation(e,t,n),this.applyMatrix4(Xs),this}scale(e,t,n){return Xs.makeScale(e,t,n),this.applyMatrix4(Xs),this}lookAt(e){return jv.lookAt(e),jv.updateMatrix(),this.applyMatrix4(jv.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Ed).negate(),this.translate(Ed.x,Ed.y,Ed.z),this}setFromPoints(e){const t=[];for(let n=0,i=e.length;n<i;n++){const s=e[n];t.push(s.x,s.y,s.z||0)}return this.setAttribute("position",new Lt(t,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new qs);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new $(-1/0,-1/0,-1/0),new $(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let n=0,i=t.length;n<i;n++){const s=t[n];Ts.setFromBufferAttribute(s),this.morphTargetsRelative?(ri.addVectors(this.boundingBox.min,Ts.min),this.boundingBox.expandByPoint(ri),ri.addVectors(this.boundingBox.max,Ts.max),this.boundingBox.expandByPoint(ri)):(this.boundingBox.expandByPoint(Ts.min),this.boundingBox.expandByPoint(Ts.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Ks);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new $,1/0);return}if(e){const n=this.boundingSphere.center;if(Ts.setFromBufferAttribute(e),t)for(let s=0,o=t.length;s<o;s++){const l=t[s];fh.setFromBufferAttribute(l),this.morphTargetsRelative?(ri.addVectors(Ts.min,fh.min),Ts.expandByPoint(ri),ri.addVectors(Ts.max,fh.max),Ts.expandByPoint(ri)):(Ts.expandByPoint(fh.min),Ts.expandByPoint(fh.max))}Ts.getCenter(n);let i=0;for(let s=0,o=e.count;s<o;s++)ri.fromBufferAttribute(e,s),i=Math.max(i,n.distanceToSquared(ri));if(t)for(let s=0,o=t.length;s<o;s++){const l=t[s],c=this.morphTargetsRelative;for(let d=0,h=l.count;d<h;d++)ri.fromBufferAttribute(l,d),c&&(Ed.fromBufferAttribute(e,d),ri.add(Ed)),i=Math.max(i,n.distanceToSquared(ri))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const n=e.array,i=t.position.array,s=t.normal.array,o=t.uv.array,l=i.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Dn(new Float32Array(4*l),4));const c=this.getAttribute("tangent").array,d=[],h=[];for(let O=0;O<l;O++)d[O]=new $,h[O]=new $;const m=new $,y=new $,v=new $,C=new qe,b=new qe,_=new qe,S=new $,A=new $;function E(O,Q,q){m.fromArray(i,O*3),y.fromArray(i,Q*3),v.fromArray(i,q*3),C.fromArray(o,O*2),b.fromArray(o,Q*2),_.fromArray(o,q*2),y.sub(m),v.sub(m),b.sub(C),_.sub(C);const te=1/(b.x*_.y-_.x*b.y);isFinite(te)&&(S.copy(y).multiplyScalar(_.y).addScaledVector(v,-b.y).multiplyScalar(te),A.copy(v).multiplyScalar(b.x).addScaledVector(y,-_.x).multiplyScalar(te),d[O].add(S),d[Q].add(S),d[q].add(S),h[O].add(A),h[Q].add(A),h[q].add(A))}let P=this.groups;P.length===0&&(P=[{start:0,count:n.length}]);for(let O=0,Q=P.length;O<Q;++O){const q=P[O],te=q.start,X=q.count;for(let le=te,re=te+X;le<re;le+=3)E(n[le+0],n[le+1],n[le+2])}const I=new $,k=new $,F=new $,V=new $;function U(O){F.fromArray(s,O*3),V.copy(F);const Q=d[O];I.copy(Q),I.sub(F.multiplyScalar(F.dot(Q))).normalize(),k.crossVectors(V,Q);const te=k.dot(h[O])<0?-1:1;c[O*4]=I.x,c[O*4+1]=I.y,c[O*4+2]=I.z,c[O*4+3]=te}for(let O=0,Q=P.length;O<Q;++O){const q=P[O],te=q.start,X=q.count;for(let le=te,re=te+X;le<re;le+=3)U(n[le+0]),U(n[le+1]),U(n[le+2])}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let n=this.getAttribute("normal");if(n===void 0)n=new Dn(new Float32Array(t.count*3),3),this.setAttribute("normal",n);else for(let y=0,v=n.count;y<v;y++)n.setXYZ(y,0,0,0);const i=new $,s=new $,o=new $,l=new $,c=new $,d=new $,h=new $,m=new $;if(e)for(let y=0,v=e.count;y<v;y+=3){const C=e.getX(y+0),b=e.getX(y+1),_=e.getX(y+2);i.fromBufferAttribute(t,C),s.fromBufferAttribute(t,b),o.fromBufferAttribute(t,_),h.subVectors(o,s),m.subVectors(i,s),h.cross(m),l.fromBufferAttribute(n,C),c.fromBufferAttribute(n,b),d.fromBufferAttribute(n,_),l.add(h),c.add(h),d.add(h),n.setXYZ(C,l.x,l.y,l.z),n.setXYZ(b,c.x,c.y,c.z),n.setXYZ(_,d.x,d.y,d.z)}else for(let y=0,v=t.count;y<v;y+=3)i.fromBufferAttribute(t,y+0),s.fromBufferAttribute(t,y+1),o.fromBufferAttribute(t,y+2),h.subVectors(o,s),m.subVectors(i,s),h.cross(m),n.setXYZ(y+0,h.x,h.y,h.z),n.setXYZ(y+1,h.x,h.y,h.z),n.setXYZ(y+2,h.x,h.y,h.z);this.normalizeNormals(),n.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let t=0,n=e.count;t<n;t++)ri.fromBufferAttribute(e,t),ri.normalize(),e.setXYZ(t,ri.x,ri.y,ri.z)}toNonIndexed(){function e(l,c){const d=l.array,h=l.itemSize,m=l.normalized,y=new d.constructor(c.length*h);let v=0,C=0;for(let b=0,_=c.length;b<_;b++){l.isInterleavedBufferAttribute?v=c[b]*l.data.stride+l.offset:v=c[b]*h;for(let S=0;S<h;S++)y[C++]=d[v++]}return new Dn(y,h,m)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new on,n=this.index.array,i=this.attributes;for(const l in i){const c=i[l],d=e(c,n);t.setAttribute(l,d)}const s=this.morphAttributes;for(const l in s){const c=[],d=s[l];for(let h=0,m=d.length;h<m;h++){const y=d[h],v=e(y,n);c.push(v)}t.morphAttributes[l]=c}t.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let l=0,c=o.length;l<c;l++){const d=o[l];t.addGroup(d.start,d.count,d.materialIndex)}return t}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const c=this.parameters;for(const d in c)c[d]!==void 0&&(e[d]=c[d]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const n=this.attributes;for(const c in n){const d=n[c];e.data.attributes[c]=d.toJSON(e.data)}const i={};let s=!1;for(const c in this.morphAttributes){const d=this.morphAttributes[c],h=[];for(let m=0,y=d.length;m<y;m++){const v=d[m];h.push(v.toJSON(e.data))}h.length>0&&(i[c]=h,s=!0)}s&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const l=this.boundingSphere;return l!==null&&(e.data.boundingSphere={center:l.center.toArray(),radius:l.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const n=e.index;n!==null&&this.setIndex(n.clone(t));const i=e.attributes;for(const d in i){const h=i[d];this.setAttribute(d,h.clone(t))}const s=e.morphAttributes;for(const d in s){const h=[],m=s[d];for(let y=0,v=m.length;y<v;y++)h.push(m[y].clone(t));this.morphAttributes[d]=h}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let d=0,h=o.length;d<h;d++){const m=o[d];this.addGroup(m.start,m.count,m.materialIndex)}const l=e.boundingBox;l!==null&&(this.boundingBox=l.clone());const c=e.boundingSphere;return c!==null&&(this.boundingSphere=c.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const pw=new Zt,zc=new _u,Um=new Ks,mw=new $,Ad=new $,Td=new $,Pd=new $,Xv=new $,km=new $,Nm=new qe,Om=new qe,Fm=new qe,gw=new $,yw=new $,vw=new $,Bm=new $,zm=new $;class kr extends vn{constructor(e=new on,t=new Qa){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,n=Object.keys(t);if(n.length>0){const i=t[n[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const l=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[l]=s}}}}getVertexPosition(e,t){const n=this.geometry,i=n.attributes.position,s=n.morphAttributes.position,o=n.morphTargetsRelative;t.fromBufferAttribute(i,e);const l=this.morphTargetInfluences;if(s&&l){km.set(0,0,0);for(let c=0,d=s.length;c<d;c++){const h=l[c],m=s[c];h!==0&&(Xv.fromBufferAttribute(m,e),o?km.addScaledVector(Xv,h):km.addScaledVector(Xv.sub(t),h))}t.add(km)}return t}raycast(e,t){const n=this.geometry,i=this.material,s=this.matrixWorld;i!==void 0&&(n.boundingSphere===null&&n.computeBoundingSphere(),Um.copy(n.boundingSphere),Um.applyMatrix4(s),zc.copy(e.ray).recast(e.near),!(Um.containsPoint(zc.origin)===!1&&(zc.intersectSphere(Um,mw)===null||zc.origin.distanceToSquared(mw)>(e.far-e.near)**2))&&(pw.copy(s).invert(),zc.copy(e.ray).applyMatrix4(pw),!(n.boundingBox!==null&&zc.intersectsBox(n.boundingBox)===!1)&&this._computeIntersections(e,t,zc)))}_computeIntersections(e,t,n){let i;const s=this.geometry,o=this.material,l=s.index,c=s.attributes.position,d=s.attributes.uv,h=s.attributes.uv1,m=s.attributes.normal,y=s.groups,v=s.drawRange;if(l!==null)if(Array.isArray(o))for(let C=0,b=y.length;C<b;C++){const _=y[C],S=o[_.materialIndex],A=Math.max(_.start,v.start),E=Math.min(l.count,Math.min(_.start+_.count,v.start+v.count));for(let P=A,I=E;P<I;P+=3){const k=l.getX(P),F=l.getX(P+1),V=l.getX(P+2);i=Vm(this,S,e,n,d,h,m,k,F,V),i&&(i.faceIndex=Math.floor(P/3),i.face.materialIndex=_.materialIndex,t.push(i))}}else{const C=Math.max(0,v.start),b=Math.min(l.count,v.start+v.count);for(let _=C,S=b;_<S;_+=3){const A=l.getX(_),E=l.getX(_+1),P=l.getX(_+2);i=Vm(this,o,e,n,d,h,m,A,E,P),i&&(i.faceIndex=Math.floor(_/3),t.push(i))}}else if(c!==void 0)if(Array.isArray(o))for(let C=0,b=y.length;C<b;C++){const _=y[C],S=o[_.materialIndex],A=Math.max(_.start,v.start),E=Math.min(c.count,Math.min(_.start+_.count,v.start+v.count));for(let P=A,I=E;P<I;P+=3){const k=P,F=P+1,V=P+2;i=Vm(this,S,e,n,d,h,m,k,F,V),i&&(i.faceIndex=Math.floor(P/3),i.face.materialIndex=_.materialIndex,t.push(i))}}else{const C=Math.max(0,v.start),b=Math.min(c.count,v.start+v.count);for(let _=C,S=b;_<S;_+=3){const A=_,E=_+1,P=_+2;i=Vm(this,o,e,n,d,h,m,A,E,P),i&&(i.faceIndex=Math.floor(_/3),t.push(i))}}}}function SI(r,e,t,n,i,s,o,l){let c;if(e.side===ji?c=n.intersectTriangle(o,s,i,!0,l):c=n.intersectTriangle(i,s,o,e.side===qa,l),c===null)return null;zm.copy(l),zm.applyMatrix4(r.matrixWorld);const d=t.ray.origin.distanceTo(zm);return d<t.near||d>t.far?null:{distance:d,point:zm.clone(),object:r}}function Vm(r,e,t,n,i,s,o,l,c,d){r.getVertexPosition(l,Ad),r.getVertexPosition(c,Td),r.getVertexPosition(d,Pd);const h=SI(r,e,t,n,Ad,Td,Pd,Bm);if(h){i&&(Nm.fromBufferAttribute(i,l),Om.fromBufferAttribute(i,c),Fm.fromBufferAttribute(i,d),h.uv=ls.getInterpolation(Bm,Ad,Td,Pd,Nm,Om,Fm,new qe)),s&&(Nm.fromBufferAttribute(s,l),Om.fromBufferAttribute(s,c),Fm.fromBufferAttribute(s,d),h.uv1=ls.getInterpolation(Bm,Ad,Td,Pd,Nm,Om,Fm,new qe),h.uv2=h.uv1),o&&(gw.fromBufferAttribute(o,l),yw.fromBufferAttribute(o,c),vw.fromBufferAttribute(o,d),h.normal=ls.getInterpolation(Bm,Ad,Td,Pd,gw,yw,vw,new $),h.normal.dot(n.direction)>0&&h.normal.multiplyScalar(-1));const m={a:l,b:c,c:d,normal:new $,materialIndex:0};ls.getNormal(Ad,Td,Pd,m.normal),h.face=m}return h}class Su extends on{constructor(e=1,t=1,n=1,i=1,s=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:n,widthSegments:i,heightSegments:s,depthSegments:o};const l=this;i=Math.floor(i),s=Math.floor(s),o=Math.floor(o);const c=[],d=[],h=[],m=[];let y=0,v=0;C("z","y","x",-1,-1,n,t,e,o,s,0),C("z","y","x",1,-1,n,t,-e,o,s,1),C("x","z","y",1,1,e,n,t,i,o,2),C("x","z","y",1,-1,e,n,-t,i,o,3),C("x","y","z",1,-1,e,t,n,i,s,4),C("x","y","z",-1,-1,e,t,-n,i,s,5),this.setIndex(c),this.setAttribute("position",new Lt(d,3)),this.setAttribute("normal",new Lt(h,3)),this.setAttribute("uv",new Lt(m,2));function C(b,_,S,A,E,P,I,k,F,V,U){const O=P/F,Q=I/V,q=P/2,te=I/2,X=k/2,le=F+1,re=V+1;let de=0,j=0;const Y=new $;for(let G=0;G<re;G++){const D=G*Q-te;for(let B=0;B<le;B++){const ee=B*O-q;Y[b]=ee*A,Y[_]=D*E,Y[S]=X,d.push(Y.x,Y.y,Y.z),Y[b]=0,Y[_]=0,Y[S]=k>0?1:-1,h.push(Y.x,Y.y,Y.z),m.push(B/F),m.push(1-G/V),de+=1}}for(let G=0;G<V;G++)for(let D=0;D<F;D++){const B=y+D+le*G,ee=y+D+le*(G+1),ie=y+(D+1)+le*(G+1),se=y+(D+1)+le*G;c.push(B,ee,se),c.push(ee,ie,se),j+=6}l.addGroup(v,j,U),v+=j,y+=de}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Su(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function af(r){const e={};for(const t in r){e[t]={};for(const n in r[t]){const i=r[t][n];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?i.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[t][n]=null):e[t][n]=i.clone():Array.isArray(i)?e[t][n]=i.slice():e[t][n]=i}}return e}function Gi(r){const e={};for(let t=0;t<r.length;t++){const n=af(r[t]);for(const i in n)e[i]=n[i]}return e}function bI(r){const e=[];for(let t=0;t<r.length;t++)e.push(r[t].clone());return e}function cE(r){return r.getRenderTarget()===null?r.outputColorSpace:Mn.workingColorSpace}const Rx={clone:af,merge:Gi};var MI=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,EI=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class ra extends Ai{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=MI,this.fragmentShader=EI,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=af(e.uniforms),this.uniformsGroups=bI(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const i in this.uniforms){const o=this.uniforms[i].value;o&&o.isTexture?t.uniforms[i]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?t.uniforms[i]={type:"c",value:o.getHex()}:o&&o.isVector2?t.uniforms[i]={type:"v2",value:o.toArray()}:o&&o.isVector3?t.uniforms[i]={type:"v3",value:o.toArray()}:o&&o.isVector4?t.uniforms[i]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?t.uniforms[i]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?t.uniforms[i]={type:"m4",value:o.toArray()}:t.uniforms[i]={value:o}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;const n={};for(const i in this.extensions)this.extensions[i]===!0&&(n[i]=!0);return Object.keys(n).length>0&&(t.extensions=n),t}}class wp extends vn{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Zt,this.projectionMatrix=new Zt,this.projectionMatrixInverse=new Zt,this.coordinateSystem=Jo}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}class xr extends wp{constructor(e=50,t=1,n=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=n,this.far=i,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=of*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(cu*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return of*2*Math.atan(Math.tan(cu*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,t,n,i,s,o){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=i,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(cu*.5*this.fov)/this.zoom,n=2*t,i=this.aspect*n,s=-.5*i;const o=this.view;if(this.view!==null&&this.view.enabled){const c=o.fullWidth,d=o.fullHeight;s+=o.offsetX*i/c,t-=o.offsetY*n/d,i*=o.width/c,n*=o.height/d}const l=this.filmOffset;l!==0&&(s+=e*l/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+i,t,t-n,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const Rd=-90,Dd=1;class uE extends vn{constructor(e,t,n){super(),this.type="CubeCamera",this.renderTarget=n,this.coordinateSystem=null,this.activeMipmapLevel=0;const i=new xr(Rd,Dd,e,t);i.layers=this.layers,this.add(i);const s=new xr(Rd,Dd,e,t);s.layers=this.layers,this.add(s);const o=new xr(Rd,Dd,e,t);o.layers=this.layers,this.add(o);const l=new xr(Rd,Dd,e,t);l.layers=this.layers,this.add(l);const c=new xr(Rd,Dd,e,t);c.layers=this.layers,this.add(c);const d=new xr(Rd,Dd,e,t);d.layers=this.layers,this.add(d)}updateCoordinateSystem(){const e=this.coordinateSystem,t=this.children.concat(),[n,i,s,o,l,c]=t;for(const d of t)this.remove(d);if(e===Jo)n.up.set(0,1,0),n.lookAt(1,0,0),i.up.set(0,1,0),i.lookAt(-1,0,0),s.up.set(0,0,-1),s.lookAt(0,1,0),o.up.set(0,0,1),o.lookAt(0,-1,0),l.up.set(0,1,0),l.lookAt(0,0,1),c.up.set(0,1,0),c.lookAt(0,0,-1);else if(e===np)n.up.set(0,-1,0),n.lookAt(-1,0,0),i.up.set(0,-1,0),i.lookAt(1,0,0),s.up.set(0,0,1),s.lookAt(0,1,0),o.up.set(0,0,-1),o.lookAt(0,-1,0),l.up.set(0,-1,0),l.lookAt(0,0,1),c.up.set(0,-1,0),c.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const d of t)this.add(d),d.updateMatrixWorld()}update(e,t){this.parent===null&&this.updateMatrixWorld();const{renderTarget:n,activeMipmapLevel:i}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[s,o,l,c,d,h]=this.children,m=e.getRenderTarget(),y=e.getActiveCubeFace(),v=e.getActiveMipmapLevel(),C=e.xr.enabled;e.xr.enabled=!1;const b=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,e.setRenderTarget(n,0,i),e.render(t,s),e.setRenderTarget(n,1,i),e.render(t,o),e.setRenderTarget(n,2,i),e.render(t,l),e.setRenderTarget(n,3,i),e.render(t,c),e.setRenderTarget(n,4,i),e.render(t,d),n.texture.generateMipmaps=b,e.setRenderTarget(n,5,i),e.render(t,h),e.setRenderTarget(m,y,v),e.xr.enabled=C,n.texture.needsPMREMUpdate=!0}}class _p extends cr{constructor(e,t,n,i,s,o,l,c,d,h){e=e!==void 0?e:[],t=t!==void 0?t:Ka,super(e,t,n,i,s,o,l,c,d,h),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class dE extends Po{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const n={width:e,height:e,depth:1},i=[n,n,n,n,n,n];t.encoding!==void 0&&(Ih("THREE.WebGLCubeRenderTarget: option.encoding has been replaced by option.colorSpace."),t.colorSpace=t.encoding===Xl?Xr:Ps),this.texture=new _p(i,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=t.generateMipmaps!==void 0?t.generateMipmaps:!1,this.texture.minFilter=t.minFilter!==void 0?t.minFilter:Qn}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const n={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new Su(5,5,5),s=new ra({name:"CubemapFromEquirect",uniforms:af(n.uniforms),vertexShader:n.vertexShader,fragmentShader:n.fragmentShader,side:ji,blending:Xa});s.uniforms.tEquirect.value=t;const o=new kr(i,s),l=t.minFilter;return t.minFilter===Jl&&(t.minFilter=Qn),new uE(1,10,this).update(e,o),t.minFilter=l,o.geometry.dispose(),o.material.dispose(),this}clear(e,t,n,i){const s=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(t,n,i);e.setRenderTarget(s)}}const Yv=new $,AI=new $,TI=new nn;class za{constructor(e=new $(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,n,i){return this.normal.set(e,t,n),this.constant=i,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,n){const i=Yv.subVectors(n,t).cross(AI.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const n=e.delta(Yv),i=this.normal.dot(n);if(i===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/i;return s<0||s>1?null:t.copy(e.start).addScaledVector(n,s)}intersectsLine(e){const t=this.distanceToPoint(e.start),n=this.distanceToPoint(e.end);return t<0&&n>0||n<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const n=t||TI.getNormalMatrix(e),i=this.coplanarPoint(Yv).applyMatrix4(e),s=this.normal.applyMatrix3(n).normalize();return this.constant=-i.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const Vc=new Ks,Hm=new $;class fy{constructor(e=new za,t=new za,n=new za,i=new za,s=new za,o=new za){this.planes=[e,t,n,i,s,o]}set(e,t,n,i,s,o){const l=this.planes;return l[0].copy(e),l[1].copy(t),l[2].copy(n),l[3].copy(i),l[4].copy(s),l[5].copy(o),this}copy(e){const t=this.planes;for(let n=0;n<6;n++)t[n].copy(e.planes[n]);return this}setFromProjectionMatrix(e,t=Jo){const n=this.planes,i=e.elements,s=i[0],o=i[1],l=i[2],c=i[3],d=i[4],h=i[5],m=i[6],y=i[7],v=i[8],C=i[9],b=i[10],_=i[11],S=i[12],A=i[13],E=i[14],P=i[15];if(n[0].setComponents(c-s,y-d,_-v,P-S).normalize(),n[1].setComponents(c+s,y+d,_+v,P+S).normalize(),n[2].setComponents(c+o,y+h,_+C,P+A).normalize(),n[3].setComponents(c-o,y-h,_-C,P-A).normalize(),n[4].setComponents(c-l,y-m,_-b,P-E).normalize(),t===Jo)n[5].setComponents(c+l,y+m,_+b,P+E).normalize();else if(t===np)n[5].setComponents(l,m,b,E).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+t);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),Vc.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const t=e.geometry;t.boundingSphere===null&&t.computeBoundingSphere(),Vc.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(Vc)}intersectsSprite(e){return Vc.center.set(0,0,0),Vc.radius=.7071067811865476,Vc.applyMatrix4(e.matrixWorld),this.intersectsSphere(Vc)}intersectsSphere(e){const t=this.planes,n=e.center,i=-e.radius;for(let s=0;s<6;s++)if(t[s].distanceToPoint(n)<i)return!1;return!0}intersectsBox(e){const t=this.planes;for(let n=0;n<6;n++){const i=t[n];if(Hm.x=i.normal.x>0?e.max.x:e.min.x,Hm.y=i.normal.y>0?e.max.y:e.min.y,Hm.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(Hm)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let n=0;n<6;n++)if(t[n].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function fE(){let r=null,e=!1,t=null,n=null;function i(s,o){t(s,o),n=r.requestAnimationFrame(i)}return{start:function(){e!==!0&&t!==null&&(n=r.requestAnimationFrame(i),e=!0)},stop:function(){r.cancelAnimationFrame(n),e=!1},setAnimationLoop:function(s){t=s},setContext:function(s){r=s}}}function PI(r,e){const t=e.isWebGL2,n=new WeakMap;function i(d,h){const m=d.array,y=d.usage,v=r.createBuffer();r.bindBuffer(h,v),r.bufferData(h,m,y),d.onUploadCallback();let C;if(m instanceof Float32Array)C=r.FLOAT;else if(m instanceof Uint16Array)if(d.isFloat16BufferAttribute)if(t)C=r.HALF_FLOAT;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else C=r.UNSIGNED_SHORT;else if(m instanceof Int16Array)C=r.SHORT;else if(m instanceof Uint32Array)C=r.UNSIGNED_INT;else if(m instanceof Int32Array)C=r.INT;else if(m instanceof Int8Array)C=r.BYTE;else if(m instanceof Uint8Array)C=r.UNSIGNED_BYTE;else if(m instanceof Uint8ClampedArray)C=r.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+m);return{buffer:v,type:C,bytesPerElement:m.BYTES_PER_ELEMENT,version:d.version}}function s(d,h,m){const y=h.array,v=h.updateRange;r.bindBuffer(m,d),v.count===-1?r.bufferSubData(m,0,y):(t?r.bufferSubData(m,v.offset*y.BYTES_PER_ELEMENT,y,v.offset,v.count):r.bufferSubData(m,v.offset*y.BYTES_PER_ELEMENT,y.subarray(v.offset,v.offset+v.count)),v.count=-1),h.onUploadCallback()}function o(d){return d.isInterleavedBufferAttribute&&(d=d.data),n.get(d)}function l(d){d.isInterleavedBufferAttribute&&(d=d.data);const h=n.get(d);h&&(r.deleteBuffer(h.buffer),n.delete(d))}function c(d,h){if(d.isGLBufferAttribute){const y=n.get(d);(!y||y.version<d.version)&&n.set(d,{buffer:d.buffer,type:d.type,bytesPerElement:d.elementSize,version:d.version});return}d.isInterleavedBufferAttribute&&(d=d.data);const m=n.get(d);m===void 0?n.set(d,i(d,h)):m.version<d.version&&(s(m.buffer,d,h),m.version=d.version)}return{get:o,remove:l,update:c}}class tc extends on{constructor(e=1,t=1,n=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:n,heightSegments:i};const s=e/2,o=t/2,l=Math.floor(n),c=Math.floor(i),d=l+1,h=c+1,m=e/l,y=t/c,v=[],C=[],b=[],_=[];for(let S=0;S<h;S++){const A=S*y-o;for(let E=0;E<d;E++){const P=E*m-s;C.push(P,-A,0),b.push(0,0,1),_.push(E/l),_.push(1-S/c)}}for(let S=0;S<c;S++)for(let A=0;A<l;A++){const E=A+d*S,P=A+d*(S+1),I=A+1+d*(S+1),k=A+1+d*S;v.push(E,P,k),v.push(P,I,k)}this.setIndex(v),this.setAttribute("position",new Lt(C,3)),this.setAttribute("normal",new Lt(b,3)),this.setAttribute("uv",new Lt(_,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new tc(e.width,e.height,e.widthSegments,e.heightSegments)}}var RI=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,DI=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,LI=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,II=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,UI=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,kI=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,NI=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,OI=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,FI=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,BI=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,zI=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,VI=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,HI=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,GI=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,WI=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,jI=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,XI=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,YI=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,qI=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,KI=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,ZI=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,JI=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,QI=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_v0 0.339
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_v1 0.276
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_v4 0.046
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_v5 0.016
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_v6 0.0038
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,$I=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,eU=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,tU=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,nU=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,rU=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,iU="gl_FragColor = linearToOutputTexel( gl_FragColor );",sU=`
const mat3 LINEAR_SRGB_TO_LINEAR_DISPLAY_P3 = mat3(
	vec3( 0.8224621, 0.177538, 0.0 ),
	vec3( 0.0331941, 0.9668058, 0.0 ),
	vec3( 0.0170827, 0.0723974, 0.9105199 )
);
const mat3 LINEAR_DISPLAY_P3_TO_LINEAR_SRGB = mat3(
	vec3( 1.2249401, - 0.2249404, 0.0 ),
	vec3( - 0.0420569, 1.0420571, 0.0 ),
	vec3( - 0.0196376, - 0.0786361, 1.0982735 )
);
vec4 LinearSRGBToLinearDisplayP3( in vec4 value ) {
	return vec4( value.rgb * LINEAR_SRGB_TO_LINEAR_DISPLAY_P3, value.a );
}
vec4 LinearDisplayP3ToLinearSRGB( in vec4 value ) {
	return vec4( value.rgb * LINEAR_DISPLAY_P3_TO_LINEAR_SRGB, value.a );
}
vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}
vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return sRGBTransferOETF( value );
}`,oU=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,aU=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,lU=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,cU=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,uU=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,dU=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,fU=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,hU=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,pU=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,mU=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,gU=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,yU=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,vU=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,xU=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,CU=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( LEGACY_LIGHTS )
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#else
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,wU=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,_U=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,SU=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,bU=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,MU=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,EU=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	anisotropyV /= material.anisotropy;
	material.anisotropy = saturate( material.anisotropy );
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x - tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x + tbn[ 0 ] * anisotropyV.y;
#endif`,AU=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,TU=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,PU=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,RU=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,DU=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,LU=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,IU=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,UU=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,kU=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,NU=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,OU=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,FU=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,BU=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,zU=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,VU=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,HU=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,GU=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,WU=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,jU=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,XU=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,YU=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,qU=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,KU=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,ZU=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,JU=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,QU=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,$U=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,ek=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,tk=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,nk=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,rk=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,ik=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,sk=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,ok=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,ak=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,lk=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,ck=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,uk=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,dk=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,fk=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,hk=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,pk=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	uniform int boneTextureSize;
	mat4 getBoneMatrix( const in float i ) {
		float j = i * 4.0;
		float x = mod( j, float( boneTextureSize ) );
		float y = floor( j / float( boneTextureSize ) );
		float dx = 1.0 / float( boneTextureSize );
		float dy = 1.0 / float( boneTextureSize );
		y = dy * ( y + 0.5 );
		vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
		vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
		vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
		vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
		mat4 bone = mat4( v1, v2, v3, v4 );
		return bone;
	}
#endif`,mk=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,gk=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,yk=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,vk=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,xk=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,Ck=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,wk=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,_k=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,Sk=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,bk=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,Mk=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,Ek=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const Ak=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,Tk=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Pk=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,Rk=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Dk=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,Lk=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Ik=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,Uk=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,kk=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,Nk=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,Ok=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,Fk=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Bk=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,zk=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,Vk=`#include <common>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,Hk=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Gk=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Wk=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,jk=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,Xk=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Yk=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,qk=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,Kk=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Zk=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Jk=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,Qk=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,$k=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,eN=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,tN=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,nN=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,rN=`#include <common>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,iN=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,sN=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,oN=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,en={alphahash_fragment:RI,alphahash_pars_fragment:DI,alphamap_fragment:LI,alphamap_pars_fragment:II,alphatest_fragment:UI,alphatest_pars_fragment:kI,aomap_fragment:NI,aomap_pars_fragment:OI,begin_vertex:FI,beginnormal_vertex:BI,bsdfs:zI,iridescence_fragment:VI,bumpmap_pars_fragment:HI,clipping_planes_fragment:GI,clipping_planes_pars_fragment:WI,clipping_planes_pars_vertex:jI,clipping_planes_vertex:XI,color_fragment:YI,color_pars_fragment:qI,color_pars_vertex:KI,color_vertex:ZI,common:JI,cube_uv_reflection_fragment:QI,defaultnormal_vertex:$I,displacementmap_pars_vertex:eU,displacementmap_vertex:tU,emissivemap_fragment:nU,emissivemap_pars_fragment:rU,colorspace_fragment:iU,colorspace_pars_fragment:sU,envmap_fragment:oU,envmap_common_pars_fragment:aU,envmap_pars_fragment:lU,envmap_pars_vertex:cU,envmap_physical_pars_fragment:wU,envmap_vertex:uU,fog_vertex:dU,fog_pars_vertex:fU,fog_fragment:hU,fog_pars_fragment:pU,gradientmap_pars_fragment:mU,lightmap_fragment:gU,lightmap_pars_fragment:yU,lights_lambert_fragment:vU,lights_lambert_pars_fragment:xU,lights_pars_begin:CU,lights_toon_fragment:_U,lights_toon_pars_fragment:SU,lights_phong_fragment:bU,lights_phong_pars_fragment:MU,lights_physical_fragment:EU,lights_physical_pars_fragment:AU,lights_fragment_begin:TU,lights_fragment_maps:PU,lights_fragment_end:RU,logdepthbuf_fragment:DU,logdepthbuf_pars_fragment:LU,logdepthbuf_pars_vertex:IU,logdepthbuf_vertex:UU,map_fragment:kU,map_pars_fragment:NU,map_particle_fragment:OU,map_particle_pars_fragment:FU,metalnessmap_fragment:BU,metalnessmap_pars_fragment:zU,morphcolor_vertex:VU,morphnormal_vertex:HU,morphtarget_pars_vertex:GU,morphtarget_vertex:WU,normal_fragment_begin:jU,normal_fragment_maps:XU,normal_pars_fragment:YU,normal_pars_vertex:qU,normal_vertex:KU,normalmap_pars_fragment:ZU,clearcoat_normal_fragment_begin:JU,clearcoat_normal_fragment_maps:QU,clearcoat_pars_fragment:$U,iridescence_pars_fragment:ek,opaque_fragment:tk,packing:nk,premultiplied_alpha_fragment:rk,project_vertex:ik,dithering_fragment:sk,dithering_pars_fragment:ok,roughnessmap_fragment:ak,roughnessmap_pars_fragment:lk,shadowmap_pars_fragment:ck,shadowmap_pars_vertex:uk,shadowmap_vertex:dk,shadowmask_pars_fragment:fk,skinbase_vertex:hk,skinning_pars_vertex:pk,skinning_vertex:mk,skinnormal_vertex:gk,specularmap_fragment:yk,specularmap_pars_fragment:vk,tonemapping_fragment:xk,tonemapping_pars_fragment:Ck,transmission_fragment:wk,transmission_pars_fragment:_k,uv_pars_fragment:Sk,uv_pars_vertex:bk,uv_vertex:Mk,worldpos_vertex:Ek,background_vert:Ak,background_frag:Tk,backgroundCube_vert:Pk,backgroundCube_frag:Rk,cube_vert:Dk,cube_frag:Lk,depth_vert:Ik,depth_frag:Uk,distanceRGBA_vert:kk,distanceRGBA_frag:Nk,equirect_vert:Ok,equirect_frag:Fk,linedashed_vert:Bk,linedashed_frag:zk,meshbasic_vert:Vk,meshbasic_frag:Hk,meshlambert_vert:Gk,meshlambert_frag:Wk,meshmatcap_vert:jk,meshmatcap_frag:Xk,meshnormal_vert:Yk,meshnormal_frag:qk,meshphong_vert:Kk,meshphong_frag:Zk,meshphysical_vert:Jk,meshphysical_frag:Qk,meshtoon_vert:$k,meshtoon_frag:eN,points_vert:tN,points_frag:nN,shadow_vert:rN,shadow_frag:iN,sprite_vert:sN,sprite_frag:oN},vt={common:{diffuse:{value:new wt(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new nn},alphaMap:{value:null},alphaMapTransform:{value:new nn},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new nn}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new nn}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new nn}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new nn},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new nn},normalScale:{value:new qe(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new nn},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new nn}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new nn}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new nn}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new wt(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new wt(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new nn},alphaTest:{value:0},uvTransform:{value:new nn}},sprite:{diffuse:{value:new wt(16777215)},opacity:{value:1},center:{value:new qe(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new nn},alphaMap:{value:null},alphaMapTransform:{value:new nn},alphaTest:{value:0}}},Ao={basic:{uniforms:Gi([vt.common,vt.specularmap,vt.envmap,vt.aomap,vt.lightmap,vt.fog]),vertexShader:en.meshbasic_vert,fragmentShader:en.meshbasic_frag},lambert:{uniforms:Gi([vt.common,vt.specularmap,vt.envmap,vt.aomap,vt.lightmap,vt.emissivemap,vt.bumpmap,vt.normalmap,vt.displacementmap,vt.fog,vt.lights,{emissive:{value:new wt(0)}}]),vertexShader:en.meshlambert_vert,fragmentShader:en.meshlambert_frag},phong:{uniforms:Gi([vt.common,vt.specularmap,vt.envmap,vt.aomap,vt.lightmap,vt.emissivemap,vt.bumpmap,vt.normalmap,vt.displacementmap,vt.fog,vt.lights,{emissive:{value:new wt(0)},specular:{value:new wt(1118481)},shininess:{value:30}}]),vertexShader:en.meshphong_vert,fragmentShader:en.meshphong_frag},standard:{uniforms:Gi([vt.common,vt.envmap,vt.aomap,vt.lightmap,vt.emissivemap,vt.bumpmap,vt.normalmap,vt.displacementmap,vt.roughnessmap,vt.metalnessmap,vt.fog,vt.lights,{emissive:{value:new wt(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:en.meshphysical_vert,fragmentShader:en.meshphysical_frag},toon:{uniforms:Gi([vt.common,vt.aomap,vt.lightmap,vt.emissivemap,vt.bumpmap,vt.normalmap,vt.displacementmap,vt.gradientmap,vt.fog,vt.lights,{emissive:{value:new wt(0)}}]),vertexShader:en.meshtoon_vert,fragmentShader:en.meshtoon_frag},matcap:{uniforms:Gi([vt.common,vt.bumpmap,vt.normalmap,vt.displacementmap,vt.fog,{matcap:{value:null}}]),vertexShader:en.meshmatcap_vert,fragmentShader:en.meshmatcap_frag},points:{uniforms:Gi([vt.points,vt.fog]),vertexShader:en.points_vert,fragmentShader:en.points_frag},dashed:{uniforms:Gi([vt.common,vt.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:en.linedashed_vert,fragmentShader:en.linedashed_frag},depth:{uniforms:Gi([vt.common,vt.displacementmap]),vertexShader:en.depth_vert,fragmentShader:en.depth_frag},normal:{uniforms:Gi([vt.common,vt.bumpmap,vt.normalmap,vt.displacementmap,{opacity:{value:1}}]),vertexShader:en.meshnormal_vert,fragmentShader:en.meshnormal_frag},sprite:{uniforms:Gi([vt.sprite,vt.fog]),vertexShader:en.sprite_vert,fragmentShader:en.sprite_frag},background:{uniforms:{uvTransform:{value:new nn},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:en.background_vert,fragmentShader:en.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:en.backgroundCube_vert,fragmentShader:en.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:en.cube_vert,fragmentShader:en.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:en.equirect_vert,fragmentShader:en.equirect_frag},distanceRGBA:{uniforms:Gi([vt.common,vt.displacementmap,{referencePosition:{value:new $},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:en.distanceRGBA_vert,fragmentShader:en.distanceRGBA_frag},shadow:{uniforms:Gi([vt.lights,vt.fog,{color:{value:new wt(0)},opacity:{value:1}}]),vertexShader:en.shadow_vert,fragmentShader:en.shadow_frag}};Ao.physical={uniforms:Gi([Ao.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new nn},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new nn},clearcoatNormalScale:{value:new qe(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new nn},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new nn},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new nn},sheen:{value:0},sheenColor:{value:new wt(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new nn},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new nn},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new nn},transmissionSamplerSize:{value:new qe},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new nn},attenuationDistance:{value:0},attenuationColor:{value:new wt(0)},specularColor:{value:new wt(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new nn},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new nn},anisotropyVector:{value:new qe},anisotropyMap:{value:null},anisotropyMapTransform:{value:new nn}}]),vertexShader:en.meshphysical_vert,fragmentShader:en.meshphysical_frag};const Gm={r:0,b:0,g:0};function aN(r,e,t,n,i,s,o){const l=new wt(0);let c=s===!0?0:1,d,h,m=null,y=0,v=null;function C(_,S){let A=!1,E=S.isScene===!0?S.background:null;E&&E.isTexture&&(E=(S.backgroundBlurriness>0?t:e).get(E)),E===null?b(l,c):E&&E.isColor&&(b(E,1),A=!0);const P=r.xr.getEnvironmentBlendMode();P==="additive"?n.buffers.color.setClear(0,0,0,1,o):P==="alpha-blend"&&n.buffers.color.setClear(0,0,0,0,o),(r.autoClear||A)&&r.clear(r.autoClearColor,r.autoClearDepth,r.autoClearStencil),E&&(E.isCubeTexture||E.mapping===uf)?(h===void 0&&(h=new kr(new Su(1,1,1),new ra({name:"BackgroundCubeMaterial",uniforms:af(Ao.backgroundCube.uniforms),vertexShader:Ao.backgroundCube.vertexShader,fragmentShader:Ao.backgroundCube.fragmentShader,side:ji,depthTest:!1,depthWrite:!1,fog:!1})),h.geometry.deleteAttribute("normal"),h.geometry.deleteAttribute("uv"),h.onBeforeRender=function(I,k,F){this.matrixWorld.copyPosition(F.matrixWorld)},Object.defineProperty(h.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(h)),h.material.uniforms.envMap.value=E,h.material.uniforms.flipEnvMap.value=E.isCubeTexture&&E.isRenderTargetTexture===!1?-1:1,h.material.uniforms.backgroundBlurriness.value=S.backgroundBlurriness,h.material.uniforms.backgroundIntensity.value=S.backgroundIntensity,h.material.toneMapped=Mn.getTransfer(E.colorSpace)!==Fn,(m!==E||y!==E.version||v!==r.toneMapping)&&(h.material.needsUpdate=!0,m=E,y=E.version,v=r.toneMapping),h.layers.enableAll(),_.unshift(h,h.geometry,h.material,0,0,null)):E&&E.isTexture&&(d===void 0&&(d=new kr(new tc(2,2),new ra({name:"BackgroundMaterial",uniforms:af(Ao.background.uniforms),vertexShader:Ao.background.vertexShader,fragmentShader:Ao.background.fragmentShader,side:qa,depthTest:!1,depthWrite:!1,fog:!1})),d.geometry.deleteAttribute("normal"),Object.defineProperty(d.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(d)),d.material.uniforms.t2D.value=E,d.material.uniforms.backgroundIntensity.value=S.backgroundIntensity,d.material.toneMapped=Mn.getTransfer(E.colorSpace)!==Fn,E.matrixAutoUpdate===!0&&E.updateMatrix(),d.material.uniforms.uvTransform.value.copy(E.matrix),(m!==E||y!==E.version||v!==r.toneMapping)&&(d.material.needsUpdate=!0,m=E,y=E.version,v=r.toneMapping),d.layers.enableAll(),_.unshift(d,d.geometry,d.material,0,0,null))}function b(_,S){_.getRGB(Gm,cE(r)),n.buffers.color.setClear(Gm.r,Gm.g,Gm.b,S,o)}return{getClearColor:function(){return l},setClearColor:function(_,S=1){l.set(_),c=S,b(l,c)},getClearAlpha:function(){return c},setClearAlpha:function(_){c=_,b(l,c)},render:C}}function lN(r,e,t,n){const i=r.getParameter(r.MAX_VERTEX_ATTRIBS),s=n.isWebGL2?null:e.get("OES_vertex_array_object"),o=n.isWebGL2||s!==null,l={},c=_(null);let d=c,h=!1;function m(X,le,re,de,j){let Y=!1;if(o){const G=b(de,re,le);d!==G&&(d=G,v(d.object)),Y=S(X,de,re,j),Y&&A(X,de,re,j)}else{const G=le.wireframe===!0;(d.geometry!==de.id||d.program!==re.id||d.wireframe!==G)&&(d.geometry=de.id,d.program=re.id,d.wireframe=G,Y=!0)}j!==null&&t.update(j,r.ELEMENT_ARRAY_BUFFER),(Y||h)&&(h=!1,V(X,le,re,de),j!==null&&r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,t.get(j).buffer))}function y(){return n.isWebGL2?r.createVertexArray():s.createVertexArrayOES()}function v(X){return n.isWebGL2?r.bindVertexArray(X):s.bindVertexArrayOES(X)}function C(X){return n.isWebGL2?r.deleteVertexArray(X):s.deleteVertexArrayOES(X)}function b(X,le,re){const de=re.wireframe===!0;let j=l[X.id];j===void 0&&(j={},l[X.id]=j);let Y=j[le.id];Y===void 0&&(Y={},j[le.id]=Y);let G=Y[de];return G===void 0&&(G=_(y()),Y[de]=G),G}function _(X){const le=[],re=[],de=[];for(let j=0;j<i;j++)le[j]=0,re[j]=0,de[j]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:le,enabledAttributes:re,attributeDivisors:de,object:X,attributes:{},index:null}}function S(X,le,re,de){const j=d.attributes,Y=le.attributes;let G=0;const D=re.getAttributes();for(const B in D)if(D[B].location>=0){const ie=j[B];let se=Y[B];if(se===void 0&&(B==="instanceMatrix"&&X.instanceMatrix&&(se=X.instanceMatrix),B==="instanceColor"&&X.instanceColor&&(se=X.instanceColor)),ie===void 0||ie.attribute!==se||se&&ie.data!==se.data)return!0;G++}return d.attributesNum!==G||d.index!==de}function A(X,le,re,de){const j={},Y=le.attributes;let G=0;const D=re.getAttributes();for(const B in D)if(D[B].location>=0){let ie=Y[B];ie===void 0&&(B==="instanceMatrix"&&X.instanceMatrix&&(ie=X.instanceMatrix),B==="instanceColor"&&X.instanceColor&&(ie=X.instanceColor));const se={};se.attribute=ie,ie&&ie.data&&(se.data=ie.data),j[B]=se,G++}d.attributes=j,d.attributesNum=G,d.index=de}function E(){const X=d.newAttributes;for(let le=0,re=X.length;le<re;le++)X[le]=0}function P(X){I(X,0)}function I(X,le){const re=d.newAttributes,de=d.enabledAttributes,j=d.attributeDivisors;re[X]=1,de[X]===0&&(r.enableVertexAttribArray(X),de[X]=1),j[X]!==le&&((n.isWebGL2?r:e.get("ANGLE_instanced_arrays"))[n.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](X,le),j[X]=le)}function k(){const X=d.newAttributes,le=d.enabledAttributes;for(let re=0,de=le.length;re<de;re++)le[re]!==X[re]&&(r.disableVertexAttribArray(re),le[re]=0)}function F(X,le,re,de,j,Y,G){G===!0?r.vertexAttribIPointer(X,le,re,j,Y):r.vertexAttribPointer(X,le,re,de,j,Y)}function V(X,le,re,de){if(n.isWebGL2===!1&&(X.isInstancedMesh||de.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;E();const j=de.attributes,Y=re.getAttributes(),G=le.defaultAttributeValues;for(const D in Y){const B=Y[D];if(B.location>=0){let ee=j[D];if(ee===void 0&&(D==="instanceMatrix"&&X.instanceMatrix&&(ee=X.instanceMatrix),D==="instanceColor"&&X.instanceColor&&(ee=X.instanceColor)),ee!==void 0){const ie=ee.normalized,se=ee.itemSize,pe=t.get(ee);if(pe===void 0)continue;const me=pe.buffer,ve=pe.type,ke=pe.bytesPerElement,$e=n.isWebGL2===!0&&(ve===r.INT||ve===r.UNSIGNED_INT||ee.gpuType===gx);if(ee.isInterleavedBufferAttribute){const Re=ee.data,Z=Re.stride,Oe=ee.offset;if(Re.isInstancedInterleavedBuffer){for(let Ce=0;Ce<B.locationSize;Ce++)I(B.location+Ce,Re.meshPerAttribute);X.isInstancedMesh!==!0&&de._maxInstanceCount===void 0&&(de._maxInstanceCount=Re.meshPerAttribute*Re.count)}else for(let Ce=0;Ce<B.locationSize;Ce++)P(B.location+Ce);r.bindBuffer(r.ARRAY_BUFFER,me);for(let Ce=0;Ce<B.locationSize;Ce++)F(B.location+Ce,se/B.locationSize,ve,ie,Z*ke,(Oe+se/B.locationSize*Ce)*ke,$e)}else{if(ee.isInstancedBufferAttribute){for(let Re=0;Re<B.locationSize;Re++)I(B.location+Re,ee.meshPerAttribute);X.isInstancedMesh!==!0&&de._maxInstanceCount===void 0&&(de._maxInstanceCount=ee.meshPerAttribute*ee.count)}else for(let Re=0;Re<B.locationSize;Re++)P(B.location+Re);r.bindBuffer(r.ARRAY_BUFFER,me);for(let Re=0;Re<B.locationSize;Re++)F(B.location+Re,se/B.locationSize,ve,ie,se*ke,se/B.locationSize*Re*ke,$e)}}else if(G!==void 0){const ie=G[D];if(ie!==void 0)switch(ie.length){case 2:r.vertexAttrib2fv(B.location,ie);break;case 3:r.vertexAttrib3fv(B.location,ie);break;case 4:r.vertexAttrib4fv(B.location,ie);break;default:r.vertexAttrib1fv(B.location,ie)}}}}k()}function U(){q();for(const X in l){const le=l[X];for(const re in le){const de=le[re];for(const j in de)C(de[j].object),delete de[j];delete le[re]}delete l[X]}}function O(X){if(l[X.id]===void 0)return;const le=l[X.id];for(const re in le){const de=le[re];for(const j in de)C(de[j].object),delete de[j];delete le[re]}delete l[X.id]}function Q(X){for(const le in l){const re=l[le];if(re[X.id]===void 0)continue;const de=re[X.id];for(const j in de)C(de[j].object),delete de[j];delete re[X.id]}}function q(){te(),h=!0,d!==c&&(d=c,v(d.object))}function te(){c.geometry=null,c.program=null,c.wireframe=!1}return{setup:m,reset:q,resetDefaultState:te,dispose:U,releaseStatesOfGeometry:O,releaseStatesOfProgram:Q,initAttributes:E,enableAttribute:P,disableUnusedAttributes:k}}function cN(r,e,t,n){const i=n.isWebGL2;let s;function o(d){s=d}function l(d,h){r.drawArrays(s,d,h),t.update(h,s,1)}function c(d,h,m){if(m===0)return;let y,v;if(i)y=r,v="drawArraysInstanced";else if(y=e.get("ANGLE_instanced_arrays"),v="drawArraysInstancedANGLE",y===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}y[v](s,d,h,m),t.update(h,s,m)}this.setMode=o,this.render=l,this.renderInstances=c}function uN(r,e,t){let n;function i(){if(n!==void 0)return n;if(e.has("EXT_texture_filter_anisotropic")===!0){const F=e.get("EXT_texture_filter_anisotropic");n=r.getParameter(F.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else n=0;return n}function s(F){if(F==="highp"){if(r.getShaderPrecisionFormat(r.VERTEX_SHADER,r.HIGH_FLOAT).precision>0&&r.getShaderPrecisionFormat(r.FRAGMENT_SHADER,r.HIGH_FLOAT).precision>0)return"highp";F="mediump"}return F==="mediump"&&r.getShaderPrecisionFormat(r.VERTEX_SHADER,r.MEDIUM_FLOAT).precision>0&&r.getShaderPrecisionFormat(r.FRAGMENT_SHADER,r.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}const o=typeof WebGL2RenderingContext<"u"&&r.constructor.name==="WebGL2RenderingContext";let l=t.precision!==void 0?t.precision:"highp";const c=s(l);c!==l&&(console.warn("THREE.WebGLRenderer:",l,"not supported, using",c,"instead."),l=c);const d=o||e.has("WEBGL_draw_buffers"),h=t.logarithmicDepthBuffer===!0,m=r.getParameter(r.MAX_TEXTURE_IMAGE_UNITS),y=r.getParameter(r.MAX_VERTEX_TEXTURE_IMAGE_UNITS),v=r.getParameter(r.MAX_TEXTURE_SIZE),C=r.getParameter(r.MAX_CUBE_MAP_TEXTURE_SIZE),b=r.getParameter(r.MAX_VERTEX_ATTRIBS),_=r.getParameter(r.MAX_VERTEX_UNIFORM_VECTORS),S=r.getParameter(r.MAX_VARYING_VECTORS),A=r.getParameter(r.MAX_FRAGMENT_UNIFORM_VECTORS),E=y>0,P=o||e.has("OES_texture_float"),I=E&&P,k=o?r.getParameter(r.MAX_SAMPLES):0;return{isWebGL2:o,drawBuffers:d,getMaxAnisotropy:i,getMaxPrecision:s,precision:l,logarithmicDepthBuffer:h,maxTextures:m,maxVertexTextures:y,maxTextureSize:v,maxCubemapSize:C,maxAttributes:b,maxVertexUniforms:_,maxVaryings:S,maxFragmentUniforms:A,vertexTextures:E,floatFragmentTextures:P,floatVertexTextures:I,maxSamples:k}}function dN(r){const e=this;let t=null,n=0,i=!1,s=!1;const o=new za,l=new nn,c={value:null,needsUpdate:!1};this.uniform=c,this.numPlanes=0,this.numIntersection=0,this.init=function(m,y){const v=m.length!==0||y||n!==0||i;return i=y,n=m.length,v},this.beginShadows=function(){s=!0,h(null)},this.endShadows=function(){s=!1},this.setGlobalState=function(m,y){t=h(m,y,0)},this.setState=function(m,y,v){const C=m.clippingPlanes,b=m.clipIntersection,_=m.clipShadows,S=r.get(m);if(!i||C===null||C.length===0||s&&!_)s?h(null):d();else{const A=s?0:n,E=A*4;let P=S.clippingState||null;c.value=P,P=h(C,y,E,v);for(let I=0;I!==E;++I)P[I]=t[I];S.clippingState=P,this.numIntersection=b?this.numPlanes:0,this.numPlanes+=A}};function d(){c.value!==t&&(c.value=t,c.needsUpdate=n>0),e.numPlanes=n,e.numIntersection=0}function h(m,y,v,C){const b=m!==null?m.length:0;let _=null;if(b!==0){if(_=c.value,C!==!0||_===null){const S=v+b*4,A=y.matrixWorldInverse;l.getNormalMatrix(A),(_===null||_.length<S)&&(_=new Float32Array(S));for(let E=0,P=v;E!==b;++E,P+=4)o.copy(m[E]).applyMatrix4(A,l),o.normal.toArray(_,P),_[P+3]=o.constant}c.value=_,c.needsUpdate=!0}return e.numPlanes=b,e.numIntersection=0,_}}function fN(r){let e=new WeakMap;function t(o,l){return l===jh?o.mapping=Ka:l===Xh&&(o.mapping=Zl),o}function n(o){if(o&&o.isTexture&&o.isRenderTargetTexture===!1){const l=o.mapping;if(l===jh||l===Xh)if(e.has(o)){const c=e.get(o).texture;return t(c,o.mapping)}else{const c=o.image;if(c&&c.height>0){const d=new dE(c.height/2);return d.fromEquirectangularTexture(r,o),e.set(o,d),o.addEventListener("dispose",i),t(d.texture,o.mapping)}else return null}}return o}function i(o){const l=o.target;l.removeEventListener("dispose",i);const c=e.get(l);c!==void 0&&(e.delete(l),c.dispose())}function s(){e=new WeakMap}return{get:n,dispose:s}}class Yl extends wp{constructor(e=-1,t=1,n=1,i=-1,s=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=n,this.bottom=i,this.near=s,this.far=o,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,n,i,s,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=i,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let s=n-e,o=n+e,l=i+t,c=i-t;if(this.view!==null&&this.view.enabled){const d=(this.right-this.left)/this.view.fullWidth/this.zoom,h=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=d*this.view.offsetX,o=s+d*this.view.width,l-=h*this.view.offsetY,c=l-h*this.view.height}this.projectionMatrix.makeOrthographic(s,o,l,c,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}const Kd=4,xw=[.125,.215,.35,.446,.526,.582],tu=20,qv=new Yl,Cw=new wt;let Kv=null,Zv=0,Jv=0;const eu=(1+Math.sqrt(5))/2,Ld=1/eu,ww=[new $(1,1,1),new $(-1,1,1),new $(1,1,-1),new $(-1,1,-1),new $(0,eu,Ld),new $(0,eu,-Ld),new $(Ld,0,eu),new $(-Ld,0,eu),new $(eu,Ld,0),new $(-eu,Ld,0)];class E2{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,n=.1,i=100){Kv=this._renderer.getRenderTarget(),Zv=this._renderer.getActiveCubeFace(),Jv=this._renderer.getActiveMipmapLevel(),this._setSize(256);const s=this._allocateTargets();return s.depthBuffer=!0,this._sceneToCubeUV(e,n,i,s),t>0&&this._blur(s,0,0,t),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=bw(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=Sw(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(Kv,Zv,Jv),e.scissorTest=!1,Wm(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===Ka||e.mapping===Zl?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),Kv=this._renderer.getRenderTarget(),Zv=this._renderer.getActiveCubeFace(),Jv=this._renderer.getActiveMipmapLevel();const n=t||this._allocateTargets();return this._textureToCubeUV(e,n),this._applyPMREM(n),this._cleanup(n),n}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,n={magFilter:Qn,minFilter:Qn,generateMipmaps:!1,type:sf,format:cs,colorSpace:na,depthBuffer:!1},i=_w(e,t,n);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=_w(e,t,n);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=hN(s)),this._blurMaterial=pN(s,e,t)}return i}_compileMaterial(e){const t=new kr(this._lodPlanes[0],e);this._renderer.compile(t,qv)}_sceneToCubeUV(e,t,n,i){const l=new xr(90,1,t,n),c=[1,-1,1,1,1,1],d=[1,1,1,-1,-1,-1],h=this._renderer,m=h.autoClear,y=h.toneMapping;h.getClearColor(Cw),h.toneMapping=$o,h.autoClear=!1;const v=new Qa({name:"PMREM.Background",side:ji,depthWrite:!1,depthTest:!1}),C=new kr(new Su,v);let b=!1;const _=e.background;_?_.isColor&&(v.color.copy(_),e.background=null,b=!0):(v.color.copy(Cw),b=!0);for(let S=0;S<6;S++){const A=S%3;A===0?(l.up.set(0,c[S],0),l.lookAt(d[S],0,0)):A===1?(l.up.set(0,0,c[S]),l.lookAt(0,d[S],0)):(l.up.set(0,c[S],0),l.lookAt(0,0,d[S]));const E=this._cubeSize;Wm(i,A*E,S>2?E:0,E,E),h.setRenderTarget(i),b&&h.render(C,l),h.render(e,l)}C.geometry.dispose(),C.material.dispose(),h.toneMapping=y,h.autoClear=m,e.background=_}_textureToCubeUV(e,t){const n=this._renderer,i=e.mapping===Ka||e.mapping===Zl;i?(this._cubemapMaterial===null&&(this._cubemapMaterial=bw()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=Sw());const s=i?this._cubemapMaterial:this._equirectMaterial,o=new kr(this._lodPlanes[0],s),l=s.uniforms;l.envMap.value=e;const c=this._cubeSize;Wm(t,0,0,3*c,2*c),n.setRenderTarget(t),n.render(o,qv)}_applyPMREM(e){const t=this._renderer,n=t.autoClear;t.autoClear=!1;for(let i=1;i<this._lodPlanes.length;i++){const s=Math.sqrt(this._sigmas[i]*this._sigmas[i]-this._sigmas[i-1]*this._sigmas[i-1]),o=ww[(i-1)%ww.length];this._blur(e,i-1,i,s,o)}t.autoClear=n}_blur(e,t,n,i,s){const o=this._pingPongRenderTarget;this._halfBlur(e,o,t,n,i,"latitudinal",s),this._halfBlur(o,e,n,n,i,"longitudinal",s)}_halfBlur(e,t,n,i,s,o,l){const c=this._renderer,d=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const h=3,m=new kr(this._lodPlanes[i],d),y=d.uniforms,v=this._sizeLods[n]-1,C=isFinite(s)?Math.PI/(2*v):2*Math.PI/(2*tu-1),b=s/C,_=isFinite(s)?1+Math.floor(h*b):tu;_>tu&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${_} samples when the maximum is set to ${tu}`);const S=[];let A=0;for(let F=0;F<tu;++F){const V=F/b,U=Math.exp(-V*V/2);S.push(U),F===0?A+=U:F<_&&(A+=2*U)}for(let F=0;F<S.length;F++)S[F]=S[F]/A;y.envMap.value=e.texture,y.samples.value=_,y.weights.value=S,y.latitudinal.value=o==="latitudinal",l&&(y.poleAxis.value=l);const{_lodMax:E}=this;y.dTheta.value=C,y.mipInt.value=E-n;const P=this._sizeLods[i],I=3*P*(i>E-Kd?i-E+Kd:0),k=4*(this._cubeSize-P);Wm(t,I,k,3*P,2*P),c.setRenderTarget(t),c.render(m,qv)}}function hN(r){const e=[],t=[],n=[];let i=r;const s=r-Kd+1+xw.length;for(let o=0;o<s;o++){const l=Math.pow(2,i);t.push(l);let c=1/l;o>r-Kd?c=xw[o-r+Kd-1]:o===0&&(c=0),n.push(c);const d=1/(l-2),h=-d,m=1+d,y=[h,h,m,h,m,m,h,h,m,m,h,m],v=6,C=6,b=3,_=2,S=1,A=new Float32Array(b*C*v),E=new Float32Array(_*C*v),P=new Float32Array(S*C*v);for(let k=0;k<v;k++){const F=k%3*2/3-1,V=k>2?0:-1,U=[F,V,0,F+2/3,V,0,F+2/3,V+1,0,F,V,0,F+2/3,V+1,0,F,V+1,0];A.set(U,b*C*k),E.set(y,_*C*k);const O=[k,k,k,k,k,k];P.set(O,S*C*k)}const I=new on;I.setAttribute("position",new Dn(A,b)),I.setAttribute("uv",new Dn(E,_)),I.setAttribute("faceIndex",new Dn(P,S)),e.push(I),i>Kd&&i--}return{lodPlanes:e,sizeLods:t,sigmas:n}}function _w(r,e,t){const n=new Po(r,e,t);return n.texture.mapping=uf,n.texture.name="PMREM.cubeUv",n.scissorTest=!0,n}function Wm(r,e,t,n,i){r.viewport.set(e,t,n,i),r.scissor.set(e,t,n,i)}function pN(r,e,t){const n=new Float32Array(tu),i=new $(0,1,0);return new ra({name:"SphericalGaussianBlur",defines:{n:tu,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${r}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:n},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:Dx(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:Xa,depthTest:!1,depthWrite:!1})}function Sw(){return new ra({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:Dx(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:Xa,depthTest:!1,depthWrite:!1})}function bw(){return new ra({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:Dx(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:Xa,depthTest:!1,depthWrite:!1})}function Dx(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function mN(r){let e=new WeakMap,t=null;function n(l){if(l&&l.isTexture){const c=l.mapping,d=c===jh||c===Xh,h=c===Ka||c===Zl;if(d||h)if(l.isRenderTargetTexture&&l.needsPMREMUpdate===!0){l.needsPMREMUpdate=!1;let m=e.get(l);return t===null&&(t=new E2(r)),m=d?t.fromEquirectangular(l,m):t.fromCubemap(l,m),e.set(l,m),m.texture}else{if(e.has(l))return e.get(l).texture;{const m=l.image;if(d&&m&&m.height>0||h&&m&&i(m)){t===null&&(t=new E2(r));const y=d?t.fromEquirectangular(l):t.fromCubemap(l);return e.set(l,y),l.addEventListener("dispose",s),y.texture}else return null}}}return l}function i(l){let c=0;const d=6;for(let h=0;h<d;h++)l[h]!==void 0&&c++;return c===d}function s(l){const c=l.target;c.removeEventListener("dispose",s);const d=e.get(c);d!==void 0&&(e.delete(c),d.dispose())}function o(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:n,dispose:o}}function gN(r){const e={};function t(n){if(e[n]!==void 0)return e[n];let i;switch(n){case"WEBGL_depth_texture":i=r.getExtension("WEBGL_depth_texture")||r.getExtension("MOZ_WEBGL_depth_texture")||r.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=r.getExtension("EXT_texture_filter_anisotropic")||r.getExtension("MOZ_EXT_texture_filter_anisotropic")||r.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=r.getExtension("WEBGL_compressed_texture_s3tc")||r.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||r.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=r.getExtension("WEBGL_compressed_texture_pvrtc")||r.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=r.getExtension(n)}return e[n]=i,i}return{has:function(n){return t(n)!==null},init:function(n){n.isWebGL2?t("EXT_color_buffer_float"):(t("WEBGL_depth_texture"),t("OES_texture_float"),t("OES_texture_half_float"),t("OES_texture_half_float_linear"),t("OES_standard_derivatives"),t("OES_element_index_uint"),t("OES_vertex_array_object"),t("ANGLE_instanced_arrays")),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture")},get:function(n){const i=t(n);return i===null&&console.warn("THREE.WebGLRenderer: "+n+" extension not supported."),i}}}function yN(r,e,t,n){const i={},s=new WeakMap;function o(m){const y=m.target;y.index!==null&&e.remove(y.index);for(const C in y.attributes)e.remove(y.attributes[C]);for(const C in y.morphAttributes){const b=y.morphAttributes[C];for(let _=0,S=b.length;_<S;_++)e.remove(b[_])}y.removeEventListener("dispose",o),delete i[y.id];const v=s.get(y);v&&(e.remove(v),s.delete(y)),n.releaseStatesOfGeometry(y),y.isInstancedBufferGeometry===!0&&delete y._maxInstanceCount,t.memory.geometries--}function l(m,y){return i[y.id]===!0||(y.addEventListener("dispose",o),i[y.id]=!0,t.memory.geometries++),y}function c(m){const y=m.attributes;for(const C in y)e.update(y[C],r.ARRAY_BUFFER);const v=m.morphAttributes;for(const C in v){const b=v[C];for(let _=0,S=b.length;_<S;_++)e.update(b[_],r.ARRAY_BUFFER)}}function d(m){const y=[],v=m.index,C=m.attributes.position;let b=0;if(v!==null){const A=v.array;b=v.version;for(let E=0,P=A.length;E<P;E+=3){const I=A[E+0],k=A[E+1],F=A[E+2];y.push(I,k,k,F,F,I)}}else if(C!==void 0){const A=C.array;b=C.version;for(let E=0,P=A.length/3-1;E<P;E+=3){const I=E+0,k=E+1,F=E+2;y.push(I,k,k,F,F,I)}}else return;const _=new(sE(y)?Px:Tx)(y,1);_.version=b;const S=s.get(m);S&&e.remove(S),s.set(m,_)}function h(m){const y=s.get(m);if(y){const v=m.index;v!==null&&y.version<v.version&&d(m)}else d(m);return s.get(m)}return{get:l,update:c,getWireframeAttribute:h}}function vN(r,e,t,n){const i=n.isWebGL2;let s;function o(y){s=y}let l,c;function d(y){l=y.type,c=y.bytesPerElement}function h(y,v){r.drawElements(s,v,l,y*c),t.update(v,s,1)}function m(y,v,C){if(C===0)return;let b,_;if(i)b=r,_="drawElementsInstanced";else if(b=e.get("ANGLE_instanced_arrays"),_="drawElementsInstancedANGLE",b===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}b[_](s,v,l,y*c,C),t.update(v,s,C)}this.setMode=o,this.setIndex=d,this.render=h,this.renderInstances=m}function xN(r){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function n(s,o,l){switch(t.calls++,o){case r.TRIANGLES:t.triangles+=l*(s/3);break;case r.LINES:t.lines+=l*(s/2);break;case r.LINE_STRIP:t.lines+=l*(s-1);break;case r.LINE_LOOP:t.lines+=l*s;break;case r.POINTS:t.points+=l*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function i(){t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:i,update:n}}function CN(r,e){return r[0]-e[0]}function wN(r,e){return Math.abs(e[1])-Math.abs(r[1])}function _N(r,e,t){const n={},i=new Float32Array(8),s=new WeakMap,o=new xn,l=[];for(let d=0;d<8;d++)l[d]=[d,0];function c(d,h,m){const y=d.morphTargetInfluences;if(e.isWebGL2===!0){const C=h.morphAttributes.position||h.morphAttributes.normal||h.morphAttributes.color,b=C!==void 0?C.length:0;let _=s.get(h);if(_===void 0||_.count!==b){let le=function(){te.dispose(),s.delete(h),h.removeEventListener("dispose",le)};var v=le;_!==void 0&&_.texture.dispose();const E=h.morphAttributes.position!==void 0,P=h.morphAttributes.normal!==void 0,I=h.morphAttributes.color!==void 0,k=h.morphAttributes.position||[],F=h.morphAttributes.normal||[],V=h.morphAttributes.color||[];let U=0;E===!0&&(U=1),P===!0&&(U=2),I===!0&&(U=3);let O=h.attributes.position.count*U,Q=1;O>e.maxTextureSize&&(Q=Math.ceil(O/e.maxTextureSize),O=e.maxTextureSize);const q=new Float32Array(O*Q*4*b),te=new dy(q,O,Q,b);te.type=Zo,te.needsUpdate=!0;const X=U*4;for(let re=0;re<b;re++){const de=k[re],j=F[re],Y=V[re],G=O*Q*4*re;for(let D=0;D<de.count;D++){const B=D*X;E===!0&&(o.fromBufferAttribute(de,D),q[G+B+0]=o.x,q[G+B+1]=o.y,q[G+B+2]=o.z,q[G+B+3]=0),P===!0&&(o.fromBufferAttribute(j,D),q[G+B+4]=o.x,q[G+B+5]=o.y,q[G+B+6]=o.z,q[G+B+7]=0),I===!0&&(o.fromBufferAttribute(Y,D),q[G+B+8]=o.x,q[G+B+9]=o.y,q[G+B+10]=o.z,q[G+B+11]=Y.itemSize===4?o.w:1)}}_={count:b,texture:te,size:new qe(O,Q)},s.set(h,_),h.addEventListener("dispose",le)}let S=0;for(let E=0;E<y.length;E++)S+=y[E];const A=h.morphTargetsRelative?1:1-S;m.getUniforms().setValue(r,"morphTargetBaseInfluence",A),m.getUniforms().setValue(r,"morphTargetInfluences",y),m.getUniforms().setValue(r,"morphTargetsTexture",_.texture,t),m.getUniforms().setValue(r,"morphTargetsTextureSize",_.size)}else{const C=y===void 0?0:y.length;let b=n[h.id];if(b===void 0||b.length!==C){b=[];for(let P=0;P<C;P++)b[P]=[P,0];n[h.id]=b}for(let P=0;P<C;P++){const I=b[P];I[0]=P,I[1]=y[P]}b.sort(wN);for(let P=0;P<8;P++)P<C&&b[P][1]?(l[P][0]=b[P][0],l[P][1]=b[P][1]):(l[P][0]=Number.MAX_SAFE_INTEGER,l[P][1]=0);l.sort(CN);const _=h.morphAttributes.position,S=h.morphAttributes.normal;let A=0;for(let P=0;P<8;P++){const I=l[P],k=I[0],F=I[1];k!==Number.MAX_SAFE_INTEGER&&F?(_&&h.getAttribute("morphTarget"+P)!==_[k]&&h.setAttribute("morphTarget"+P,_[k]),S&&h.getAttribute("morphNormal"+P)!==S[k]&&h.setAttribute("morphNormal"+P,S[k]),i[P]=F,A+=F):(_&&h.hasAttribute("morphTarget"+P)===!0&&h.deleteAttribute("morphTarget"+P),S&&h.hasAttribute("morphNormal"+P)===!0&&h.deleteAttribute("morphNormal"+P),i[P]=0)}const E=h.morphTargetsRelative?1:1-A;m.getUniforms().setValue(r,"morphTargetBaseInfluence",E),m.getUniforms().setValue(r,"morphTargetInfluences",i)}}return{update:c}}function SN(r,e,t,n){let i=new WeakMap;function s(c){const d=n.render.frame,h=c.geometry,m=e.get(c,h);if(i.get(m)!==d&&(e.update(m),i.set(m,d)),c.isInstancedMesh&&(c.hasEventListener("dispose",l)===!1&&c.addEventListener("dispose",l),i.get(c)!==d&&(t.update(c.instanceMatrix,r.ARRAY_BUFFER),c.instanceColor!==null&&t.update(c.instanceColor,r.ARRAY_BUFFER),i.set(c,d))),c.isSkinnedMesh){const y=c.skeleton;i.get(y)!==d&&(y.update(),i.set(y,d))}return m}function o(){i=new WeakMap}function l(c){const d=c.target;d.removeEventListener("dispose",l),t.remove(d.instanceMatrix),d.instanceColor!==null&&t.remove(d.instanceColor)}return{update:s,dispose:o}}const hE=new cr,pE=new dy,mE=new Ax,gE=new _p,Mw=[],Ew=[],Aw=new Float32Array(16),Tw=new Float32Array(9),Pw=new Float32Array(4);function df(r,e,t){const n=r[0];if(n<=0||n>0)return r;const i=e*t;let s=Mw[i];if(s===void 0&&(s=new Float32Array(i),Mw[i]=s),e!==0){n.toArray(s,0);for(let o=1,l=0;o!==e;++o)l+=t,r[o].toArray(s,l)}return s}function Yr(r,e){if(r.length!==e.length)return!1;for(let t=0,n=r.length;t<n;t++)if(r[t]!==e[t])return!1;return!0}function qr(r,e){for(let t=0,n=e.length;t<n;t++)r[t]=e[t]}function hy(r,e){let t=Ew[e];t===void 0&&(t=new Int32Array(e),Ew[e]=t);for(let n=0;n!==e;++n)t[n]=r.allocateTextureUnit();return t}function bN(r,e){const t=this.cache;t[0]!==e&&(r.uniform1f(this.addr,e),t[0]=e)}function MN(r,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(r.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Yr(t,e))return;r.uniform2fv(this.addr,e),qr(t,e)}}function EN(r,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(r.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(r.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(Yr(t,e))return;r.uniform3fv(this.addr,e),qr(t,e)}}function AN(r,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(r.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Yr(t,e))return;r.uniform4fv(this.addr,e),qr(t,e)}}function TN(r,e){const t=this.cache,n=e.elements;if(n===void 0){if(Yr(t,e))return;r.uniformMatrix2fv(this.addr,!1,e),qr(t,e)}else{if(Yr(t,n))return;Pw.set(n),r.uniformMatrix2fv(this.addr,!1,Pw),qr(t,n)}}function PN(r,e){const t=this.cache,n=e.elements;if(n===void 0){if(Yr(t,e))return;r.uniformMatrix3fv(this.addr,!1,e),qr(t,e)}else{if(Yr(t,n))return;Tw.set(n),r.uniformMatrix3fv(this.addr,!1,Tw),qr(t,n)}}function RN(r,e){const t=this.cache,n=e.elements;if(n===void 0){if(Yr(t,e))return;r.uniformMatrix4fv(this.addr,!1,e),qr(t,e)}else{if(Yr(t,n))return;Aw.set(n),r.uniformMatrix4fv(this.addr,!1,Aw),qr(t,n)}}function DN(r,e){const t=this.cache;t[0]!==e&&(r.uniform1i(this.addr,e),t[0]=e)}function LN(r,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(r.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Yr(t,e))return;r.uniform2iv(this.addr,e),qr(t,e)}}function IN(r,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(r.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(Yr(t,e))return;r.uniform3iv(this.addr,e),qr(t,e)}}function UN(r,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(r.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Yr(t,e))return;r.uniform4iv(this.addr,e),qr(t,e)}}function kN(r,e){const t=this.cache;t[0]!==e&&(r.uniform1ui(this.addr,e),t[0]=e)}function NN(r,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(r.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Yr(t,e))return;r.uniform2uiv(this.addr,e),qr(t,e)}}function ON(r,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(r.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(Yr(t,e))return;r.uniform3uiv(this.addr,e),qr(t,e)}}function FN(r,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(r.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Yr(t,e))return;r.uniform4uiv(this.addr,e),qr(t,e)}}function BN(r,e,t){const n=this.cache,i=t.allocateTextureUnit();n[0]!==i&&(r.uniform1i(this.addr,i),n[0]=i),t.setTexture2D(e||hE,i)}function zN(r,e,t){const n=this.cache,i=t.allocateTextureUnit();n[0]!==i&&(r.uniform1i(this.addr,i),n[0]=i),t.setTexture3D(e||mE,i)}function VN(r,e,t){const n=this.cache,i=t.allocateTextureUnit();n[0]!==i&&(r.uniform1i(this.addr,i),n[0]=i),t.setTextureCube(e||gE,i)}function HN(r,e,t){const n=this.cache,i=t.allocateTextureUnit();n[0]!==i&&(r.uniform1i(this.addr,i),n[0]=i),t.setTexture2DArray(e||pE,i)}function GN(r){switch(r){case 5126:return bN;case 35664:return MN;case 35665:return EN;case 35666:return AN;case 35674:return TN;case 35675:return PN;case 35676:return RN;case 5124:case 35670:return DN;case 35667:case 35671:return LN;case 35668:case 35672:return IN;case 35669:case 35673:return UN;case 5125:return kN;case 36294:return NN;case 36295:return ON;case 36296:return FN;case 35678:case 36198:case 36298:case 36306:case 35682:return BN;case 35679:case 36299:case 36307:return zN;case 35680:case 36300:case 36308:case 36293:return VN;case 36289:case 36303:case 36311:case 36292:return HN}}function WN(r,e){r.uniform1fv(this.addr,e)}function jN(r,e){const t=df(e,this.size,2);r.uniform2fv(this.addr,t)}function XN(r,e){const t=df(e,this.size,3);r.uniform3fv(this.addr,t)}function YN(r,e){const t=df(e,this.size,4);r.uniform4fv(this.addr,t)}function qN(r,e){const t=df(e,this.size,4);r.uniformMatrix2fv(this.addr,!1,t)}function KN(r,e){const t=df(e,this.size,9);r.uniformMatrix3fv(this.addr,!1,t)}function ZN(r,e){const t=df(e,this.size,16);r.uniformMatrix4fv(this.addr,!1,t)}function JN(r,e){r.uniform1iv(this.addr,e)}function QN(r,e){r.uniform2iv(this.addr,e)}function $N(r,e){r.uniform3iv(this.addr,e)}function eO(r,e){r.uniform4iv(this.addr,e)}function tO(r,e){r.uniform1uiv(this.addr,e)}function nO(r,e){r.uniform2uiv(this.addr,e)}function rO(r,e){r.uniform3uiv(this.addr,e)}function iO(r,e){r.uniform4uiv(this.addr,e)}function sO(r,e,t){const n=this.cache,i=e.length,s=hy(t,i);Yr(n,s)||(r.uniform1iv(this.addr,s),qr(n,s));for(let o=0;o!==i;++o)t.setTexture2D(e[o]||hE,s[o])}function oO(r,e,t){const n=this.cache,i=e.length,s=hy(t,i);Yr(n,s)||(r.uniform1iv(this.addr,s),qr(n,s));for(let o=0;o!==i;++o)t.setTexture3D(e[o]||mE,s[o])}function aO(r,e,t){const n=this.cache,i=e.length,s=hy(t,i);Yr(n,s)||(r.uniform1iv(this.addr,s),qr(n,s));for(let o=0;o!==i;++o)t.setTextureCube(e[o]||gE,s[o])}function lO(r,e,t){const n=this.cache,i=e.length,s=hy(t,i);Yr(n,s)||(r.uniform1iv(this.addr,s),qr(n,s));for(let o=0;o!==i;++o)t.setTexture2DArray(e[o]||pE,s[o])}function cO(r){switch(r){case 5126:return WN;case 35664:return jN;case 35665:return XN;case 35666:return YN;case 35674:return qN;case 35675:return KN;case 35676:return ZN;case 5124:case 35670:return JN;case 35667:case 35671:return QN;case 35668:case 35672:return $N;case 35669:case 35673:return eO;case 5125:return tO;case 36294:return nO;case 36295:return rO;case 36296:return iO;case 35678:case 36198:case 36298:case 36306:case 35682:return sO;case 35679:case 36299:case 36307:return oO;case 35680:case 36300:case 36308:case 36293:return aO;case 36289:case 36303:case 36311:case 36292:return lO}}class uO{constructor(e,t,n){this.id=e,this.addr=n,this.cache=[],this.setValue=GN(t.type)}}class dO{constructor(e,t,n){this.id=e,this.addr=n,this.cache=[],this.size=t.size,this.setValue=cO(t.type)}}class fO{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,n){const i=this.seq;for(let s=0,o=i.length;s!==o;++s){const l=i[s];l.setValue(e,t[l.id],n)}}}const Qv=/(\w+)(\])?(\[|\.)?/g;function Rw(r,e){r.seq.push(e),r.map[e.id]=e}function hO(r,e,t){const n=r.name,i=n.length;for(Qv.lastIndex=0;;){const s=Qv.exec(n),o=Qv.lastIndex;let l=s[1];const c=s[2]==="]",d=s[3];if(c&&(l=l|0),d===void 0||d==="["&&o+2===i){Rw(t,d===void 0?new uO(l,r,e):new dO(l,r,e));break}else{let m=t.map[l];m===void 0&&(m=new fO(l),Rw(t,m)),t=m}}}class Tg{constructor(e,t){this.seq=[],this.map={};const n=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let i=0;i<n;++i){const s=e.getActiveUniform(t,i),o=e.getUniformLocation(t,s.name);hO(s,o,this)}}setValue(e,t,n,i){const s=this.map[t];s!==void 0&&s.setValue(e,n,i)}setOptional(e,t,n){const i=t[n];i!==void 0&&this.setValue(e,n,i)}static upload(e,t,n,i){for(let s=0,o=t.length;s!==o;++s){const l=t[s],c=n[l.id];c.needsUpdate!==!1&&l.setValue(e,c.value,i)}}static seqWithValue(e,t){const n=[];for(let i=0,s=e.length;i!==s;++i){const o=e[i];o.id in t&&n.push(o)}return n}}function Dw(r,e,t){const n=r.createShader(e);return r.shaderSource(n,t),r.compileShader(n),n}const pO=37297;let mO=0;function gO(r,e){const t=r.split(`
`),n=[],i=Math.max(e-6,0),s=Math.min(e+6,t.length);for(let o=i;o<s;o++){const l=o+1;n.push(`${l===e?">":" "} ${l}: ${t[o]}`)}return n.join(`
`)}function yO(r){const e=Mn.getPrimaries(Mn.workingColorSpace),t=Mn.getPrimaries(r);let n;switch(e===t?n="":e===ep&&t===$h?n="LinearDisplayP3ToLinearSRGB":e===$h&&t===ep&&(n="LinearSRGBToLinearDisplayP3"),r){case na:case xp:return[n,"LinearTransferOETF"];case Xr:case uy:return[n,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space:",r),[n,"LinearTransferOETF"]}}function Lw(r,e,t){const n=r.getShaderParameter(e,r.COMPILE_STATUS),i=r.getShaderInfoLog(e).trim();if(n&&i==="")return"";const s=/ERROR: 0:(\d+)/.exec(i);if(s){const o=parseInt(s[1]);return t.toUpperCase()+`

`+i+`

`+gO(r.getShaderSource(e),o)}else return i}function vO(r,e){const t=yO(e);return`vec4 ${r}( vec4 value ) { return ${t[0]}( ${t[1]}( value ) ); }`}function xO(r,e){let t;switch(e){case DM:t="Linear";break;case LM:t="Reinhard";break;case IM:t="OptimizedCineon";break;case px:t="ACESFilmic";break;case UM:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+r+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}function CO(r){return[r.extensionDerivatives||r.envMapCubeUVHeight||r.bumpMap||r.normalMapTangentSpace||r.clearcoatNormalMap||r.flatShading||r.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(r.extensionFragDepth||r.logarithmicDepthBuffer)&&r.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",r.extensionDrawBuffers&&r.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(r.extensionShaderTextureLOD||r.envMap||r.transmission)&&r.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(bh).join(`
`)}function wO(r){const e=[];for(const t in r){const n=r[t];n!==!1&&e.push("#define "+t+" "+n)}return e.join(`
`)}function _O(r,e){const t={},n=r.getProgramParameter(e,r.ACTIVE_ATTRIBUTES);for(let i=0;i<n;i++){const s=r.getActiveAttrib(e,i),o=s.name;let l=1;s.type===r.FLOAT_MAT2&&(l=2),s.type===r.FLOAT_MAT3&&(l=3),s.type===r.FLOAT_MAT4&&(l=4),t[o]={type:s.type,location:r.getAttribLocation(e,o),locationSize:l}}return t}function bh(r){return r!==""}function Iw(r,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return r.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function Uw(r,e){return r.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const SO=/^[ \t]*#include +<([\w\d./]+)>/gm;function A2(r){return r.replace(SO,MO)}const bO=new Map([["encodings_fragment","colorspace_fragment"],["encodings_pars_fragment","colorspace_pars_fragment"],["output_fragment","opaque_fragment"]]);function MO(r,e){let t=en[e];if(t===void 0){const n=bO.get(e);if(n!==void 0)t=en[n],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,n);else throw new Error("Can not resolve #include <"+e+">")}return A2(t)}const EO=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function kw(r){return r.replace(EO,AO)}function AO(r,e,t,n){let i="";for(let s=parseInt(e);s<parseInt(t);s++)i+=n.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return i}function Nw(r){let e="precision "+r.precision+` float;
precision `+r.precision+" int;";return r.precision==="highp"?e+=`
#define HIGH_PRECISION`:r.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:r.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function TO(r){let e="SHADOWMAP_TYPE_BASIC";return r.shadowMapType===oy?e="SHADOWMAP_TYPE_PCF":r.shadowMapType===Rh?e="SHADOWMAP_TYPE_PCF_SOFT":r.shadowMapType===Eo&&(e="SHADOWMAP_TYPE_VSM"),e}function PO(r){let e="ENVMAP_TYPE_CUBE";if(r.envMap)switch(r.envMapMode){case Ka:case Zl:e="ENVMAP_TYPE_CUBE";break;case uf:e="ENVMAP_TYPE_CUBE_UV";break}return e}function RO(r){let e="ENVMAP_MODE_REFLECTION";if(r.envMap)switch(r.envMapMode){case Zl:e="ENVMAP_MODE_REFRACTION";break}return e}function DO(r){let e="ENVMAP_BLENDING_NONE";if(r.envMap)switch(r.combine){case vp:e="ENVMAP_BLENDING_MULTIPLY";break;case PM:e="ENVMAP_BLENDING_MIX";break;case RM:e="ENVMAP_BLENDING_ADD";break}return e}function LO(r){const e=r.envMapCubeUVHeight;if(e===null)return null;const t=Math.log2(e)-2,n=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),112)),texelHeight:n,maxMip:t}}function IO(r,e,t,n){const i=r.getContext(),s=t.defines;let o=t.vertexShader,l=t.fragmentShader;const c=TO(t),d=PO(t),h=RO(t),m=DO(t),y=LO(t),v=t.isWebGL2?"":CO(t),C=wO(s),b=i.createProgram();let _,S,A=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(_=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,C].filter(bh).join(`
`),_.length>0&&(_+=`
`),S=[v,"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,C].filter(bh).join(`
`),S.length>0&&(S+=`
`)):(_=[Nw(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,C,t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+h:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.displacementMap?"#define USE_DISPLACEMENTMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.mapUv?"#define MAP_UV "+t.mapUv:"",t.alphaMapUv?"#define ALPHAMAP_UV "+t.alphaMapUv:"",t.lightMapUv?"#define LIGHTMAP_UV "+t.lightMapUv:"",t.aoMapUv?"#define AOMAP_UV "+t.aoMapUv:"",t.emissiveMapUv?"#define EMISSIVEMAP_UV "+t.emissiveMapUv:"",t.bumpMapUv?"#define BUMPMAP_UV "+t.bumpMapUv:"",t.normalMapUv?"#define NORMALMAP_UV "+t.normalMapUv:"",t.displacementMapUv?"#define DISPLACEMENTMAP_UV "+t.displacementMapUv:"",t.metalnessMapUv?"#define METALNESSMAP_UV "+t.metalnessMapUv:"",t.roughnessMapUv?"#define ROUGHNESSMAP_UV "+t.roughnessMapUv:"",t.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+t.anisotropyMapUv:"",t.clearcoatMapUv?"#define CLEARCOATMAP_UV "+t.clearcoatMapUv:"",t.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+t.clearcoatNormalMapUv:"",t.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+t.clearcoatRoughnessMapUv:"",t.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+t.iridescenceMapUv:"",t.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+t.iridescenceThicknessMapUv:"",t.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+t.sheenColorMapUv:"",t.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+t.sheenRoughnessMapUv:"",t.specularMapUv?"#define SPECULARMAP_UV "+t.specularMapUv:"",t.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+t.specularColorMapUv:"",t.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+t.specularIntensityMapUv:"",t.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+t.transmissionMapUv:"",t.thicknessMapUv?"#define THICKNESSMAP_UV "+t.thicknessMapUv:"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors&&t.isWebGL2?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+c:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.useLegacyLights?"#define LEGACY_LIGHTS":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(bh).join(`
`),S=[v,Nw(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,C,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+d:"",t.envMap?"#define "+h:"",t.envMap?"#define "+m:"",y?"#define CUBEUV_TEXEL_WIDTH "+y.texelWidth:"",y?"#define CUBEUV_TEXEL_HEIGHT "+y.texelHeight:"",y?"#define CUBEUV_MAX_MIP "+y.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+c:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.useLegacyLights?"#define LEGACY_LIGHTS":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==$o?"#define TONE_MAPPING":"",t.toneMapping!==$o?en.tonemapping_pars_fragment:"",t.toneMapping!==$o?xO("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",en.colorspace_pars_fragment,vO("linearToOutputTexel",t.outputColorSpace),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(bh).join(`
`)),o=A2(o),o=Iw(o,t),o=Uw(o,t),l=A2(l),l=Iw(l,t),l=Uw(l,t),o=kw(o),l=kw(l),t.isWebGL2&&t.isRawShaderMaterial!==!0&&(A=`#version 300 es
`,_=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+_,S=["precision mediump sampler2DArray;","#define varying in",t.glslVersion===b2?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===b2?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+S);const E=A+_+o,P=A+S+l,I=Dw(i,i.VERTEX_SHADER,E),k=Dw(i,i.FRAGMENT_SHADER,P);i.attachShader(b,I),i.attachShader(b,k),t.index0AttributeName!==void 0?i.bindAttribLocation(b,0,t.index0AttributeName):t.morphTargets===!0&&i.bindAttribLocation(b,0,"position"),i.linkProgram(b);function F(Q){if(r.debug.checkShaderErrors){const q=i.getProgramInfoLog(b).trim(),te=i.getShaderInfoLog(I).trim(),X=i.getShaderInfoLog(k).trim();let le=!0,re=!0;if(i.getProgramParameter(b,i.LINK_STATUS)===!1)if(le=!1,typeof r.debug.onShaderError=="function")r.debug.onShaderError(i,b,I,k);else{const de=Lw(i,I,"vertex"),j=Lw(i,k,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(b,i.VALIDATE_STATUS)+`

Program Info Log: `+q+`
`+de+`
`+j)}else q!==""?console.warn("THREE.WebGLProgram: Program Info Log:",q):(te===""||X==="")&&(re=!1);re&&(Q.diagnostics={runnable:le,programLog:q,vertexShader:{log:te,prefix:_},fragmentShader:{log:X,prefix:S}})}i.deleteShader(I),i.deleteShader(k),V=new Tg(i,b),U=_O(i,b)}let V;this.getUniforms=function(){return V===void 0&&F(this),V};let U;this.getAttributes=function(){return U===void 0&&F(this),U};let O=t.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return O===!1&&(O=i.getProgramParameter(b,pO)),O},this.destroy=function(){n.releaseStatesOfProgram(this),i.deleteProgram(b),this.program=void 0},this.type=t.shaderType,this.name=t.shaderName,this.id=mO++,this.cacheKey=e,this.usedTimes=1,this.program=b,this.vertexShader=I,this.fragmentShader=k,this}let UO=0;class kO{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,n=e.fragmentShader,i=this._getShaderStage(t),s=this._getShaderStage(n),o=this._getShaderCacheForMaterial(e);return o.has(i)===!1&&(o.add(i),i.usedTimes++),o.has(s)===!1&&(o.add(s),s.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const n of t)n.usedTimes--,n.usedTimes===0&&this.shaderCache.delete(n.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let n=t.get(e);return n===void 0&&(n=new Set,t.set(e,n)),n}_getShaderStage(e){const t=this.shaderCache;let n=t.get(e);return n===void 0&&(n=new NO(e),t.set(e,n)),n}}class NO{constructor(e){this.id=UO++,this.code=e,this.usedTimes=0}}function OO(r,e,t,n,i,s,o){const l=new uu,c=new kO,d=[],h=i.isWebGL2,m=i.logarithmicDepthBuffer,y=i.vertexTextures;let v=i.precision;const C={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function b(U){return U===0?"uv":`uv${U}`}function _(U,O,Q,q,te){const X=q.fog,le=te.geometry,re=U.isMeshStandardMaterial?q.environment:null,de=(U.isMeshStandardMaterial?t:e).get(U.envMap||re),j=de&&de.mapping===uf?de.image.height:null,Y=C[U.type];U.precision!==null&&(v=i.getMaxPrecision(U.precision),v!==U.precision&&console.warn("THREE.WebGLProgram.getParameters:",U.precision,"not supported, using",v,"instead."));const G=le.morphAttributes.position||le.morphAttributes.normal||le.morphAttributes.color,D=G!==void 0?G.length:0;let B=0;le.morphAttributes.position!==void 0&&(B=1),le.morphAttributes.normal!==void 0&&(B=2),le.morphAttributes.color!==void 0&&(B=3);let ee,ie,se,pe;if(Y){const Ut=Ao[Y];ee=Ut.vertexShader,ie=Ut.fragmentShader}else ee=U.vertexShader,ie=U.fragmentShader,c.update(U),se=c.getVertexShaderID(U),pe=c.getFragmentShaderID(U);const me=r.getRenderTarget(),ve=te.isInstancedMesh===!0,ke=!!U.map,$e=!!U.matcap,Re=!!de,Z=!!U.aoMap,Oe=!!U.lightMap,Ce=!!U.bumpMap,Ne=!!U.normalMap,Ee=!!U.displacementMap,rt=!!U.emissiveMap,Ae=!!U.metalnessMap,We=!!U.roughnessMap,Ke=U.anisotropy>0,Me=U.clearcoat>0,ht=U.iridescence>0,K=U.sheen>0,H=U.transmission>0,fe=Ke&&!!U.anisotropyMap,Ye=Me&&!!U.clearcoatMap,Se=Me&&!!U.clearcoatNormalMap,Le=Me&&!!U.clearcoatRoughnessMap,tt=ht&&!!U.iridescenceMap,Xe=ht&&!!U.iridescenceThicknessMap,et=K&&!!U.sheenColorMap,gt=K&&!!U.sheenRoughnessMap,yt=!!U.specularMap,Ve=!!U.specularColorMap,lt=!!U.specularIntensityMap,oe=H&&!!U.transmissionMap,Te=H&&!!U.thicknessMap,Je=!!U.gradientMap,Ge=!!U.alphaMap,nt=U.alphaTest>0,ce=!!U.alphaHash,ot=!!U.extensions,Ze=!!le.attributes.uv1,be=!!le.attributes.uv2,Qe=!!le.attributes.uv3;let ft=$o;return U.toneMapped&&(me===null||me.isXRRenderTarget===!0)&&(ft=r.toneMapping),{isWebGL2:h,shaderID:Y,shaderType:U.type,shaderName:U.name,vertexShader:ee,fragmentShader:ie,defines:U.defines,customVertexShaderID:se,customFragmentShaderID:pe,isRawShaderMaterial:U.isRawShaderMaterial===!0,glslVersion:U.glslVersion,precision:v,instancing:ve,instancingColor:ve&&te.instanceColor!==null,supportsVertexTextures:y,outputColorSpace:me===null?r.outputColorSpace:me.isXRRenderTarget===!0?me.texture.colorSpace:na,map:ke,matcap:$e,envMap:Re,envMapMode:Re&&de.mapping,envMapCubeUVHeight:j,aoMap:Z,lightMap:Oe,bumpMap:Ce,normalMap:Ne,displacementMap:y&&Ee,emissiveMap:rt,normalMapObjectSpace:Ne&&U.normalMapType===KM,normalMapTangentSpace:Ne&&U.normalMapType===ec,metalnessMap:Ae,roughnessMap:We,anisotropy:Ke,anisotropyMap:fe,clearcoat:Me,clearcoatMap:Ye,clearcoatNormalMap:Se,clearcoatRoughnessMap:Le,iridescence:ht,iridescenceMap:tt,iridescenceThicknessMap:Xe,sheen:K,sheenColorMap:et,sheenRoughnessMap:gt,specularMap:yt,specularColorMap:Ve,specularIntensityMap:lt,transmission:H,transmissionMap:oe,thicknessMap:Te,gradientMap:Je,opaque:U.transparent===!1&&U.blending===lu,alphaMap:Ge,alphaTest:nt,alphaHash:ce,combine:U.combine,mapUv:ke&&b(U.map.channel),aoMapUv:Z&&b(U.aoMap.channel),lightMapUv:Oe&&b(U.lightMap.channel),bumpMapUv:Ce&&b(U.bumpMap.channel),normalMapUv:Ne&&b(U.normalMap.channel),displacementMapUv:Ee&&b(U.displacementMap.channel),emissiveMapUv:rt&&b(U.emissiveMap.channel),metalnessMapUv:Ae&&b(U.metalnessMap.channel),roughnessMapUv:We&&b(U.roughnessMap.channel),anisotropyMapUv:fe&&b(U.anisotropyMap.channel),clearcoatMapUv:Ye&&b(U.clearcoatMap.channel),clearcoatNormalMapUv:Se&&b(U.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:Le&&b(U.clearcoatRoughnessMap.channel),iridescenceMapUv:tt&&b(U.iridescenceMap.channel),iridescenceThicknessMapUv:Xe&&b(U.iridescenceThicknessMap.channel),sheenColorMapUv:et&&b(U.sheenColorMap.channel),sheenRoughnessMapUv:gt&&b(U.sheenRoughnessMap.channel),specularMapUv:yt&&b(U.specularMap.channel),specularColorMapUv:Ve&&b(U.specularColorMap.channel),specularIntensityMapUv:lt&&b(U.specularIntensityMap.channel),transmissionMapUv:oe&&b(U.transmissionMap.channel),thicknessMapUv:Te&&b(U.thicknessMap.channel),alphaMapUv:Ge&&b(U.alphaMap.channel),vertexTangents:!!le.attributes.tangent&&(Ne||Ke),vertexColors:U.vertexColors,vertexAlphas:U.vertexColors===!0&&!!le.attributes.color&&le.attributes.color.itemSize===4,vertexUv1s:Ze,vertexUv2s:be,vertexUv3s:Qe,pointsUvs:te.isPoints===!0&&!!le.attributes.uv&&(ke||Ge),fog:!!X,useFog:U.fog===!0,fogExp2:X&&X.isFogExp2,flatShading:U.flatShading===!0,sizeAttenuation:U.sizeAttenuation===!0,logarithmicDepthBuffer:m,skinning:te.isSkinnedMesh===!0,morphTargets:le.morphAttributes.position!==void 0,morphNormals:le.morphAttributes.normal!==void 0,morphColors:le.morphAttributes.color!==void 0,morphTargetsCount:D,morphTextureStride:B,numDirLights:O.directional.length,numPointLights:O.point.length,numSpotLights:O.spot.length,numSpotLightMaps:O.spotLightMap.length,numRectAreaLights:O.rectArea.length,numHemiLights:O.hemi.length,numDirLightShadows:O.directionalShadowMap.length,numPointLightShadows:O.pointShadowMap.length,numSpotLightShadows:O.spotShadowMap.length,numSpotLightShadowsWithMaps:O.numSpotLightShadowsWithMaps,numLightProbes:O.numLightProbes,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:U.dithering,shadowMapEnabled:r.shadowMap.enabled&&Q.length>0,shadowMapType:r.shadowMap.type,toneMapping:ft,useLegacyLights:r._useLegacyLights,decodeVideoTexture:ke&&U.map.isVideoTexture===!0&&Mn.getTransfer(U.map.colorSpace)===Fn,premultipliedAlpha:U.premultipliedAlpha,doubleSided:U.side===To,flipSided:U.side===ji,useDepthPacking:U.depthPacking>=0,depthPacking:U.depthPacking||0,index0AttributeName:U.index0AttributeName,extensionDerivatives:ot&&U.extensions.derivatives===!0,extensionFragDepth:ot&&U.extensions.fragDepth===!0,extensionDrawBuffers:ot&&U.extensions.drawBuffers===!0,extensionShaderTextureLOD:ot&&U.extensions.shaderTextureLOD===!0,rendererExtensionFragDepth:h||n.has("EXT_frag_depth"),rendererExtensionDrawBuffers:h||n.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:h||n.has("EXT_shader_texture_lod"),rendererExtensionParallelShaderCompile:n.has("KHR_parallel_shader_compile"),customProgramCacheKey:U.customProgramCacheKey()}}function S(U){const O=[];if(U.shaderID?O.push(U.shaderID):(O.push(U.customVertexShaderID),O.push(U.customFragmentShaderID)),U.defines!==void 0)for(const Q in U.defines)O.push(Q),O.push(U.defines[Q]);return U.isRawShaderMaterial===!1&&(A(O,U),E(O,U),O.push(r.outputColorSpace)),O.push(U.customProgramCacheKey),O.join()}function A(U,O){U.push(O.precision),U.push(O.outputColorSpace),U.push(O.envMapMode),U.push(O.envMapCubeUVHeight),U.push(O.mapUv),U.push(O.alphaMapUv),U.push(O.lightMapUv),U.push(O.aoMapUv),U.push(O.bumpMapUv),U.push(O.normalMapUv),U.push(O.displacementMapUv),U.push(O.emissiveMapUv),U.push(O.metalnessMapUv),U.push(O.roughnessMapUv),U.push(O.anisotropyMapUv),U.push(O.clearcoatMapUv),U.push(O.clearcoatNormalMapUv),U.push(O.clearcoatRoughnessMapUv),U.push(O.iridescenceMapUv),U.push(O.iridescenceThicknessMapUv),U.push(O.sheenColorMapUv),U.push(O.sheenRoughnessMapUv),U.push(O.specularMapUv),U.push(O.specularColorMapUv),U.push(O.specularIntensityMapUv),U.push(O.transmissionMapUv),U.push(O.thicknessMapUv),U.push(O.combine),U.push(O.fogExp2),U.push(O.sizeAttenuation),U.push(O.morphTargetsCount),U.push(O.morphAttributeCount),U.push(O.numDirLights),U.push(O.numPointLights),U.push(O.numSpotLights),U.push(O.numSpotLightMaps),U.push(O.numHemiLights),U.push(O.numRectAreaLights),U.push(O.numDirLightShadows),U.push(O.numPointLightShadows),U.push(O.numSpotLightShadows),U.push(O.numSpotLightShadowsWithMaps),U.push(O.numLightProbes),U.push(O.shadowMapType),U.push(O.toneMapping),U.push(O.numClippingPlanes),U.push(O.numClipIntersection),U.push(O.depthPacking)}function E(U,O){l.disableAll(),O.isWebGL2&&l.enable(0),O.supportsVertexTextures&&l.enable(1),O.instancing&&l.enable(2),O.instancingColor&&l.enable(3),O.matcap&&l.enable(4),O.envMap&&l.enable(5),O.normalMapObjectSpace&&l.enable(6),O.normalMapTangentSpace&&l.enable(7),O.clearcoat&&l.enable(8),O.iridescence&&l.enable(9),O.alphaTest&&l.enable(10),O.vertexColors&&l.enable(11),O.vertexAlphas&&l.enable(12),O.vertexUv1s&&l.enable(13),O.vertexUv2s&&l.enable(14),O.vertexUv3s&&l.enable(15),O.vertexTangents&&l.enable(16),O.anisotropy&&l.enable(17),O.alphaHash&&l.enable(18),U.push(l.mask),l.disableAll(),O.fog&&l.enable(0),O.useFog&&l.enable(1),O.flatShading&&l.enable(2),O.logarithmicDepthBuffer&&l.enable(3),O.skinning&&l.enable(4),O.morphTargets&&l.enable(5),O.morphNormals&&l.enable(6),O.morphColors&&l.enable(7),O.premultipliedAlpha&&l.enable(8),O.shadowMapEnabled&&l.enable(9),O.useLegacyLights&&l.enable(10),O.doubleSided&&l.enable(11),O.flipSided&&l.enable(12),O.useDepthPacking&&l.enable(13),O.dithering&&l.enable(14),O.transmission&&l.enable(15),O.sheen&&l.enable(16),O.opaque&&l.enable(17),O.pointsUvs&&l.enable(18),O.decodeVideoTexture&&l.enable(19),U.push(l.mask)}function P(U){const O=C[U.type];let Q;if(O){const q=Ao[O];Q=Rx.clone(q.uniforms)}else Q=U.uniforms;return Q}function I(U,O){let Q;for(let q=0,te=d.length;q<te;q++){const X=d[q];if(X.cacheKey===O){Q=X,++Q.usedTimes;break}}return Q===void 0&&(Q=new IO(r,O,U,s),d.push(Q)),Q}function k(U){if(--U.usedTimes===0){const O=d.indexOf(U);d[O]=d[d.length-1],d.pop(),U.destroy()}}function F(U){c.remove(U)}function V(){c.dispose()}return{getParameters:_,getProgramCacheKey:S,getUniforms:P,acquireProgram:I,releaseProgram:k,releaseShaderCache:F,programs:d,dispose:V}}function FO(){let r=new WeakMap;function e(s){let o=r.get(s);return o===void 0&&(o={},r.set(s,o)),o}function t(s){r.delete(s)}function n(s,o,l){r.get(s)[o]=l}function i(){r=new WeakMap}return{get:e,remove:t,update:n,dispose:i}}function BO(r,e){return r.groupOrder!==e.groupOrder?r.groupOrder-e.groupOrder:r.renderOrder!==e.renderOrder?r.renderOrder-e.renderOrder:r.material.id!==e.material.id?r.material.id-e.material.id:r.z!==e.z?r.z-e.z:r.id-e.id}function Ow(r,e){return r.groupOrder!==e.groupOrder?r.groupOrder-e.groupOrder:r.renderOrder!==e.renderOrder?r.renderOrder-e.renderOrder:r.z!==e.z?e.z-r.z:r.id-e.id}function Fw(){const r=[];let e=0;const t=[],n=[],i=[];function s(){e=0,t.length=0,n.length=0,i.length=0}function o(m,y,v,C,b,_){let S=r[e];return S===void 0?(S={id:m.id,object:m,geometry:y,material:v,groupOrder:C,renderOrder:m.renderOrder,z:b,group:_},r[e]=S):(S.id=m.id,S.object=m,S.geometry=y,S.material=v,S.groupOrder=C,S.renderOrder=m.renderOrder,S.z=b,S.group=_),e++,S}function l(m,y,v,C,b,_){const S=o(m,y,v,C,b,_);v.transmission>0?n.push(S):v.transparent===!0?i.push(S):t.push(S)}function c(m,y,v,C,b,_){const S=o(m,y,v,C,b,_);v.transmission>0?n.unshift(S):v.transparent===!0?i.unshift(S):t.unshift(S)}function d(m,y){t.length>1&&t.sort(m||BO),n.length>1&&n.sort(y||Ow),i.length>1&&i.sort(y||Ow)}function h(){for(let m=e,y=r.length;m<y;m++){const v=r[m];if(v.id===null)break;v.id=null,v.object=null,v.geometry=null,v.material=null,v.group=null}}return{opaque:t,transmissive:n,transparent:i,init:s,push:l,unshift:c,finish:h,sort:d}}function zO(){let r=new WeakMap;function e(n,i){const s=r.get(n);let o;return s===void 0?(o=new Fw,r.set(n,[o])):i>=s.length?(o=new Fw,s.push(o)):o=s[i],o}function t(){r=new WeakMap}return{get:e,dispose:t}}function VO(){const r={};return{get:function(e){if(r[e.id]!==void 0)return r[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new $,color:new wt};break;case"SpotLight":t={position:new $,direction:new $,color:new wt,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new $,color:new wt,distance:0,decay:0};break;case"HemisphereLight":t={direction:new $,skyColor:new wt,groundColor:new wt};break;case"RectAreaLight":t={color:new wt,position:new $,halfWidth:new $,halfHeight:new $};break}return r[e.id]=t,t}}}function HO(){const r={};return{get:function(e){if(r[e.id]!==void 0)return r[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new qe};break;case"SpotLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new qe};break;case"PointLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new qe,shadowCameraNear:1,shadowCameraFar:1e3};break}return r[e.id]=t,t}}}let GO=0;function WO(r,e){return(e.castShadow?2:0)-(r.castShadow?2:0)+(e.map?1:0)-(r.map?1:0)}function jO(r,e){const t=new VO,n=HO(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let h=0;h<9;h++)i.probe.push(new $);const s=new $,o=new Zt,l=new Zt;function c(h,m){let y=0,v=0,C=0;for(let q=0;q<9;q++)i.probe[q].set(0,0,0);let b=0,_=0,S=0,A=0,E=0,P=0,I=0,k=0,F=0,V=0,U=0;h.sort(WO);const O=m===!0?Math.PI:1;for(let q=0,te=h.length;q<te;q++){const X=h[q],le=X.color,re=X.intensity,de=X.distance,j=X.shadow&&X.shadow.map?X.shadow.map.texture:null;if(X.isAmbientLight)y+=le.r*re*O,v+=le.g*re*O,C+=le.b*re*O;else if(X.isLightProbe){for(let Y=0;Y<9;Y++)i.probe[Y].addScaledVector(X.sh.coefficients[Y],re);U++}else if(X.isDirectionalLight){const Y=t.get(X);if(Y.color.copy(X.color).multiplyScalar(X.intensity*O),X.castShadow){const G=X.shadow,D=n.get(X);D.shadowBias=G.bias,D.shadowNormalBias=G.normalBias,D.shadowRadius=G.radius,D.shadowMapSize=G.mapSize,i.directionalShadow[b]=D,i.directionalShadowMap[b]=j,i.directionalShadowMatrix[b]=X.shadow.matrix,P++}i.directional[b]=Y,b++}else if(X.isSpotLight){const Y=t.get(X);Y.position.setFromMatrixPosition(X.matrixWorld),Y.color.copy(le).multiplyScalar(re*O),Y.distance=de,Y.coneCos=Math.cos(X.angle),Y.penumbraCos=Math.cos(X.angle*(1-X.penumbra)),Y.decay=X.decay,i.spot[S]=Y;const G=X.shadow;if(X.map&&(i.spotLightMap[F]=X.map,F++,G.updateMatrices(X),X.castShadow&&V++),i.spotLightMatrix[S]=G.matrix,X.castShadow){const D=n.get(X);D.shadowBias=G.bias,D.shadowNormalBias=G.normalBias,D.shadowRadius=G.radius,D.shadowMapSize=G.mapSize,i.spotShadow[S]=D,i.spotShadowMap[S]=j,k++}S++}else if(X.isRectAreaLight){const Y=t.get(X);Y.color.copy(le).multiplyScalar(re),Y.halfWidth.set(X.width*.5,0,0),Y.halfHeight.set(0,X.height*.5,0),i.rectArea[A]=Y,A++}else if(X.isPointLight){const Y=t.get(X);if(Y.color.copy(X.color).multiplyScalar(X.intensity*O),Y.distance=X.distance,Y.decay=X.decay,X.castShadow){const G=X.shadow,D=n.get(X);D.shadowBias=G.bias,D.shadowNormalBias=G.normalBias,D.shadowRadius=G.radius,D.shadowMapSize=G.mapSize,D.shadowCameraNear=G.camera.near,D.shadowCameraFar=G.camera.far,i.pointShadow[_]=D,i.pointShadowMap[_]=j,i.pointShadowMatrix[_]=X.shadow.matrix,I++}i.point[_]=Y,_++}else if(X.isHemisphereLight){const Y=t.get(X);Y.skyColor.copy(X.color).multiplyScalar(re*O),Y.groundColor.copy(X.groundColor).multiplyScalar(re*O),i.hemi[E]=Y,E++}}A>0&&(e.isWebGL2||r.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=vt.LTC_FLOAT_1,i.rectAreaLTC2=vt.LTC_FLOAT_2):r.has("OES_texture_half_float_linear")===!0?(i.rectAreaLTC1=vt.LTC_HALF_1,i.rectAreaLTC2=vt.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),i.ambient[0]=y,i.ambient[1]=v,i.ambient[2]=C;const Q=i.hash;(Q.directionalLength!==b||Q.pointLength!==_||Q.spotLength!==S||Q.rectAreaLength!==A||Q.hemiLength!==E||Q.numDirectionalShadows!==P||Q.numPointShadows!==I||Q.numSpotShadows!==k||Q.numSpotMaps!==F||Q.numLightProbes!==U)&&(i.directional.length=b,i.spot.length=S,i.rectArea.length=A,i.point.length=_,i.hemi.length=E,i.directionalShadow.length=P,i.directionalShadowMap.length=P,i.pointShadow.length=I,i.pointShadowMap.length=I,i.spotShadow.length=k,i.spotShadowMap.length=k,i.directionalShadowMatrix.length=P,i.pointShadowMatrix.length=I,i.spotLightMatrix.length=k+F-V,i.spotLightMap.length=F,i.numSpotLightShadowsWithMaps=V,i.numLightProbes=U,Q.directionalLength=b,Q.pointLength=_,Q.spotLength=S,Q.rectAreaLength=A,Q.hemiLength=E,Q.numDirectionalShadows=P,Q.numPointShadows=I,Q.numSpotShadows=k,Q.numSpotMaps=F,Q.numLightProbes=U,i.version=GO++)}function d(h,m){let y=0,v=0,C=0,b=0,_=0;const S=m.matrixWorldInverse;for(let A=0,E=h.length;A<E;A++){const P=h[A];if(P.isDirectionalLight){const I=i.directional[y];I.direction.setFromMatrixPosition(P.matrixWorld),s.setFromMatrixPosition(P.target.matrixWorld),I.direction.sub(s),I.direction.transformDirection(S),y++}else if(P.isSpotLight){const I=i.spot[C];I.position.setFromMatrixPosition(P.matrixWorld),I.position.applyMatrix4(S),I.direction.setFromMatrixPosition(P.matrixWorld),s.setFromMatrixPosition(P.target.matrixWorld),I.direction.sub(s),I.direction.transformDirection(S),C++}else if(P.isRectAreaLight){const I=i.rectArea[b];I.position.setFromMatrixPosition(P.matrixWorld),I.position.applyMatrix4(S),l.identity(),o.copy(P.matrixWorld),o.premultiply(S),l.extractRotation(o),I.halfWidth.set(P.width*.5,0,0),I.halfHeight.set(0,P.height*.5,0),I.halfWidth.applyMatrix4(l),I.halfHeight.applyMatrix4(l),b++}else if(P.isPointLight){const I=i.point[v];I.position.setFromMatrixPosition(P.matrixWorld),I.position.applyMatrix4(S),v++}else if(P.isHemisphereLight){const I=i.hemi[_];I.direction.setFromMatrixPosition(P.matrixWorld),I.direction.transformDirection(S),_++}}}return{setup:c,setupView:d,state:i}}function Bw(r,e){const t=new jO(r,e),n=[],i=[];function s(){n.length=0,i.length=0}function o(m){n.push(m)}function l(m){i.push(m)}function c(m){t.setup(n,m)}function d(m){t.setupView(n,m)}return{init:s,state:{lightsArray:n,shadowsArray:i,lights:t},setupLights:c,setupLightsView:d,pushLight:o,pushShadow:l}}function XO(r,e){let t=new WeakMap;function n(s,o=0){const l=t.get(s);let c;return l===void 0?(c=new Bw(r,e),t.set(s,[c])):o>=l.length?(c=new Bw(r,e),l.push(c)):c=l[o],c}function i(){t=new WeakMap}return{get:n,dispose:i}}class py extends Ai{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=qM,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class my extends Ai{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const YO=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,qO=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function KO(r,e,t){let n=new fy;const i=new qe,s=new qe,o=new xn,l=new py({depthPacking:bx}),c=new my,d={},h=t.maxTextureSize,m={[qa]:ji,[ji]:qa,[To]:To},y=new ra({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new qe},radius:{value:4}},vertexShader:YO,fragmentShader:qO}),v=y.clone();v.defines.HORIZONTAL_PASS=1;const C=new on;C.setAttribute("position",new Dn(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const b=new kr(C,y),_=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=oy;let S=this.type;this.render=function(I,k,F){if(_.enabled===!1||_.autoUpdate===!1&&_.needsUpdate===!1||I.length===0)return;const V=r.getRenderTarget(),U=r.getActiveCubeFace(),O=r.getActiveMipmapLevel(),Q=r.state;Q.setBlending(Xa),Q.buffers.color.setClear(1,1,1,1),Q.buffers.depth.setTest(!0),Q.setScissorTest(!1);const q=S!==Eo&&this.type===Eo,te=S===Eo&&this.type!==Eo;for(let X=0,le=I.length;X<le;X++){const re=I[X],de=re.shadow;if(de===void 0){console.warn("THREE.WebGLShadowMap:",re,"has no shadow.");continue}if(de.autoUpdate===!1&&de.needsUpdate===!1)continue;i.copy(de.mapSize);const j=de.getFrameExtents();if(i.multiply(j),s.copy(de.mapSize),(i.x>h||i.y>h)&&(i.x>h&&(s.x=Math.floor(h/j.x),i.x=s.x*j.x,de.mapSize.x=s.x),i.y>h&&(s.y=Math.floor(h/j.y),i.y=s.y*j.y,de.mapSize.y=s.y)),de.map===null||q===!0||te===!0){const G=this.type!==Eo?{minFilter:vr,magFilter:vr}:{};de.map!==null&&de.map.dispose(),de.map=new Po(i.x,i.y,G),de.map.texture.name=re.name+".shadowMap",de.camera.updateProjectionMatrix()}r.setRenderTarget(de.map),r.clear();const Y=de.getViewportCount();for(let G=0;G<Y;G++){const D=de.getViewport(G);o.set(s.x*D.x,s.y*D.y,s.x*D.z,s.y*D.w),Q.viewport(o),de.updateMatrices(re,G),n=de.getFrustum(),P(k,F,de.camera,re,this.type)}de.isPointLightShadow!==!0&&this.type===Eo&&A(de,F),de.needsUpdate=!1}S=this.type,_.needsUpdate=!1,r.setRenderTarget(V,U,O)};function A(I,k){const F=e.update(b);y.defines.VSM_SAMPLES!==I.blurSamples&&(y.defines.VSM_SAMPLES=I.blurSamples,v.defines.VSM_SAMPLES=I.blurSamples,y.needsUpdate=!0,v.needsUpdate=!0),I.mapPass===null&&(I.mapPass=new Po(i.x,i.y)),y.uniforms.shadow_pass.value=I.map.texture,y.uniforms.resolution.value=I.mapSize,y.uniforms.radius.value=I.radius,r.setRenderTarget(I.mapPass),r.clear(),r.renderBufferDirect(k,null,F,y,b,null),v.uniforms.shadow_pass.value=I.mapPass.texture,v.uniforms.resolution.value=I.mapSize,v.uniforms.radius.value=I.radius,r.setRenderTarget(I.map),r.clear(),r.renderBufferDirect(k,null,F,v,b,null)}function E(I,k,F,V){let U=null;const O=F.isPointLight===!0?I.customDistanceMaterial:I.customDepthMaterial;if(O!==void 0)U=O;else if(U=F.isPointLight===!0?c:l,r.localClippingEnabled&&k.clipShadows===!0&&Array.isArray(k.clippingPlanes)&&k.clippingPlanes.length!==0||k.displacementMap&&k.displacementScale!==0||k.alphaMap&&k.alphaTest>0||k.map&&k.alphaTest>0){const Q=U.uuid,q=k.uuid;let te=d[Q];te===void 0&&(te={},d[Q]=te);let X=te[q];X===void 0&&(X=U.clone(),te[q]=X),U=X}if(U.visible=k.visible,U.wireframe=k.wireframe,V===Eo?U.side=k.shadowSide!==null?k.shadowSide:k.side:U.side=k.shadowSide!==null?k.shadowSide:m[k.side],U.alphaMap=k.alphaMap,U.alphaTest=k.alphaTest,U.map=k.map,U.clipShadows=k.clipShadows,U.clippingPlanes=k.clippingPlanes,U.clipIntersection=k.clipIntersection,U.displacementMap=k.displacementMap,U.displacementScale=k.displacementScale,U.displacementBias=k.displacementBias,U.wireframeLinewidth=k.wireframeLinewidth,U.linewidth=k.linewidth,F.isPointLight===!0&&U.isMeshDistanceMaterial===!0){const Q=r.properties.get(U);Q.light=F}return U}function P(I,k,F,V,U){if(I.visible===!1)return;if(I.layers.test(k.layers)&&(I.isMesh||I.isLine||I.isPoints)&&(I.castShadow||I.receiveShadow&&U===Eo)&&(!I.frustumCulled||n.intersectsObject(I))){I.modelViewMatrix.multiplyMatrices(F.matrixWorldInverse,I.matrixWorld);const q=e.update(I),te=I.material;if(Array.isArray(te)){const X=q.groups;for(let le=0,re=X.length;le<re;le++){const de=X[le],j=te[de.materialIndex];if(j&&j.visible){const Y=E(I,j,V,U);r.renderBufferDirect(F,null,q,Y,I,de)}}}else if(te.visible){const X=E(I,te,V,U);r.renderBufferDirect(F,null,q,X,I,null)}}const Q=I.children;for(let q=0,te=Q.length;q<te;q++)P(Q[q],k,F,V,U)}}function ZO(r,e,t){const n=t.isWebGL2;function i(){let ce=!1;const ot=new xn;let Ze=null;const be=new xn(0,0,0,0);return{setMask:function(Qe){Ze!==Qe&&!ce&&(r.colorMask(Qe,Qe,Qe,Qe),Ze=Qe)},setLocked:function(Qe){ce=Qe},setClear:function(Qe,ft,pt,Ut,sn){sn===!0&&(Qe*=Ut,ft*=Ut,pt*=Ut),ot.set(Qe,ft,pt,Ut),be.equals(ot)===!1&&(r.clearColor(Qe,ft,pt,Ut),be.copy(ot))},reset:function(){ce=!1,Ze=null,be.set(-1,0,0,0)}}}function s(){let ce=!1,ot=null,Ze=null,be=null;return{setTest:function(Qe){Qe?ke(r.DEPTH_TEST):$e(r.DEPTH_TEST)},setMask:function(Qe){ot!==Qe&&!ce&&(r.depthMask(Qe),ot=Qe)},setFunc:function(Qe){if(Ze!==Qe){switch(Qe){case _M:r.depthFunc(r.NEVER);break;case SM:r.depthFunc(r.ALWAYS);break;case bM:r.depthFunc(r.LESS);break;case Wh:r.depthFunc(r.LEQUAL);break;case MM:r.depthFunc(r.EQUAL);break;case EM:r.depthFunc(r.GEQUAL);break;case AM:r.depthFunc(r.GREATER);break;case TM:r.depthFunc(r.NOTEQUAL);break;default:r.depthFunc(r.LEQUAL)}Ze=Qe}},setLocked:function(Qe){ce=Qe},setClear:function(Qe){be!==Qe&&(r.clearDepth(Qe),be=Qe)},reset:function(){ce=!1,ot=null,Ze=null,be=null}}}function o(){let ce=!1,ot=null,Ze=null,be=null,Qe=null,ft=null,pt=null,Ut=null,sn=null;return{setTest:function(kt){ce||(kt?ke(r.STENCIL_TEST):$e(r.STENCIL_TEST))},setMask:function(kt){ot!==kt&&!ce&&(r.stencilMask(kt),ot=kt)},setFunc:function(kt,tn,Cn){(Ze!==kt||be!==tn||Qe!==Cn)&&(r.stencilFunc(kt,tn,Cn),Ze=kt,be=tn,Qe=Cn)},setOp:function(kt,tn,Cn){(ft!==kt||pt!==tn||Ut!==Cn)&&(r.stencilOp(kt,tn,Cn),ft=kt,pt=tn,Ut=Cn)},setLocked:function(kt){ce=kt},setClear:function(kt){sn!==kt&&(r.clearStencil(kt),sn=kt)},reset:function(){ce=!1,ot=null,Ze=null,be=null,Qe=null,ft=null,pt=null,Ut=null,sn=null}}}const l=new i,c=new s,d=new o,h=new WeakMap,m=new WeakMap;let y={},v={},C=new WeakMap,b=[],_=null,S=!1,A=null,E=null,P=null,I=null,k=null,F=null,V=null,U=new wt(0,0,0),O=0,Q=!1,q=null,te=null,X=null,le=null,re=null;const de=r.getParameter(r.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let j=!1,Y=0;const G=r.getParameter(r.VERSION);G.indexOf("WebGL")!==-1?(Y=parseFloat(/^WebGL (\d)/.exec(G)[1]),j=Y>=1):G.indexOf("OpenGL ES")!==-1&&(Y=parseFloat(/^OpenGL ES (\d)/.exec(G)[1]),j=Y>=2);let D=null,B={};const ee=r.getParameter(r.SCISSOR_BOX),ie=r.getParameter(r.VIEWPORT),se=new xn().fromArray(ee),pe=new xn().fromArray(ie);function me(ce,ot,Ze,be){const Qe=new Uint8Array(4),ft=r.createTexture();r.bindTexture(ce,ft),r.texParameteri(ce,r.TEXTURE_MIN_FILTER,r.NEAREST),r.texParameteri(ce,r.TEXTURE_MAG_FILTER,r.NEAREST);for(let pt=0;pt<Ze;pt++)n&&(ce===r.TEXTURE_3D||ce===r.TEXTURE_2D_ARRAY)?r.texImage3D(ot,0,r.RGBA,1,1,be,0,r.RGBA,r.UNSIGNED_BYTE,Qe):r.texImage2D(ot+pt,0,r.RGBA,1,1,0,r.RGBA,r.UNSIGNED_BYTE,Qe);return ft}const ve={};ve[r.TEXTURE_2D]=me(r.TEXTURE_2D,r.TEXTURE_2D,1),ve[r.TEXTURE_CUBE_MAP]=me(r.TEXTURE_CUBE_MAP,r.TEXTURE_CUBE_MAP_POSITIVE_X,6),n&&(ve[r.TEXTURE_2D_ARRAY]=me(r.TEXTURE_2D_ARRAY,r.TEXTURE_2D_ARRAY,1,1),ve[r.TEXTURE_3D]=me(r.TEXTURE_3D,r.TEXTURE_3D,1,1)),l.setClear(0,0,0,1),c.setClear(1),d.setClear(0),ke(r.DEPTH_TEST),c.setFunc(Wh),Ae(!1),We(X0),ke(r.CULL_FACE),Ee(Xa);function ke(ce){y[ce]!==!0&&(r.enable(ce),y[ce]=!0)}function $e(ce){y[ce]!==!1&&(r.disable(ce),y[ce]=!1)}function Re(ce,ot){return v[ce]!==ot?(r.bindFramebuffer(ce,ot),v[ce]=ot,n&&(ce===r.DRAW_FRAMEBUFFER&&(v[r.FRAMEBUFFER]=ot),ce===r.FRAMEBUFFER&&(v[r.DRAW_FRAMEBUFFER]=ot)),!0):!1}function Z(ce,ot){let Ze=b,be=!1;if(ce)if(Ze=C.get(ot),Ze===void 0&&(Ze=[],C.set(ot,Ze)),ce.isWebGLMultipleRenderTargets){const Qe=ce.texture;if(Ze.length!==Qe.length||Ze[0]!==r.COLOR_ATTACHMENT0){for(let ft=0,pt=Qe.length;ft<pt;ft++)Ze[ft]=r.COLOR_ATTACHMENT0+ft;Ze.length=Qe.length,be=!0}}else Ze[0]!==r.COLOR_ATTACHMENT0&&(Ze[0]=r.COLOR_ATTACHMENT0,be=!0);else Ze[0]!==r.BACK&&(Ze[0]=r.BACK,be=!0);be&&(t.isWebGL2?r.drawBuffers(Ze):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(Ze))}function Oe(ce){return _!==ce?(r.useProgram(ce),_=ce,!0):!1}const Ce={[zl]:r.FUNC_ADD,[aM]:r.FUNC_SUBTRACT,[lM]:r.FUNC_REVERSE_SUBTRACT};if(n)Ce[K0]=r.MIN,Ce[Z0]=r.MAX;else{const ce=e.get("EXT_blend_minmax");ce!==null&&(Ce[K0]=ce.MIN_EXT,Ce[Z0]=ce.MAX_EXT)}const Ne={[cM]:r.ZERO,[uM]:r.ONE,[dM]:r.SRC_COLOR,[Vg]:r.SRC_ALPHA,[yM]:r.SRC_ALPHA_SATURATE,[mM]:r.DST_COLOR,[hM]:r.DST_ALPHA,[fM]:r.ONE_MINUS_SRC_COLOR,[Hg]:r.ONE_MINUS_SRC_ALPHA,[gM]:r.ONE_MINUS_DST_COLOR,[pM]:r.ONE_MINUS_DST_ALPHA,[vM]:r.CONSTANT_COLOR,[xM]:r.ONE_MINUS_CONSTANT_COLOR,[CM]:r.CONSTANT_ALPHA,[wM]:r.ONE_MINUS_CONSTANT_ALPHA};function Ee(ce,ot,Ze,be,Qe,ft,pt,Ut,sn,kt){if(ce===Xa){S===!0&&($e(r.BLEND),S=!1);return}if(S===!1&&(ke(r.BLEND),S=!0),ce!==oM){if(ce!==A||kt!==Q){if((E!==zl||k!==zl)&&(r.blendEquation(r.FUNC_ADD),E=zl,k=zl),kt)switch(ce){case lu:r.blendFuncSeparate(r.ONE,r.ONE_MINUS_SRC_ALPHA,r.ONE,r.ONE_MINUS_SRC_ALPHA);break;case Gh:r.blendFunc(r.ONE,r.ONE);break;case Y0:r.blendFuncSeparate(r.ZERO,r.ONE_MINUS_SRC_COLOR,r.ZERO,r.ONE);break;case q0:r.blendFuncSeparate(r.ZERO,r.SRC_COLOR,r.ZERO,r.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",ce);break}else switch(ce){case lu:r.blendFuncSeparate(r.SRC_ALPHA,r.ONE_MINUS_SRC_ALPHA,r.ONE,r.ONE_MINUS_SRC_ALPHA);break;case Gh:r.blendFunc(r.SRC_ALPHA,r.ONE);break;case Y0:r.blendFuncSeparate(r.ZERO,r.ONE_MINUS_SRC_COLOR,r.ZERO,r.ONE);break;case q0:r.blendFunc(r.ZERO,r.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",ce);break}P=null,I=null,F=null,V=null,U.set(0,0,0),O=0,A=ce,Q=kt}return}Qe=Qe||ot,ft=ft||Ze,pt=pt||be,(ot!==E||Qe!==k)&&(r.blendEquationSeparate(Ce[ot],Ce[Qe]),E=ot,k=Qe),(Ze!==P||be!==I||ft!==F||pt!==V)&&(r.blendFuncSeparate(Ne[Ze],Ne[be],Ne[ft],Ne[pt]),P=Ze,I=be,F=ft,V=pt),(Ut.equals(U)===!1||sn!==O)&&(r.blendColor(Ut.r,Ut.g,Ut.b,sn),U.copy(Ut),O=sn),A=ce,Q=!1}function rt(ce,ot){ce.side===To?$e(r.CULL_FACE):ke(r.CULL_FACE);let Ze=ce.side===ji;ot&&(Ze=!Ze),Ae(Ze),ce.blending===lu&&ce.transparent===!1?Ee(Xa):Ee(ce.blending,ce.blendEquation,ce.blendSrc,ce.blendDst,ce.blendEquationAlpha,ce.blendSrcAlpha,ce.blendDstAlpha,ce.blendColor,ce.blendAlpha,ce.premultipliedAlpha),c.setFunc(ce.depthFunc),c.setTest(ce.depthTest),c.setMask(ce.depthWrite),l.setMask(ce.colorWrite);const be=ce.stencilWrite;d.setTest(be),be&&(d.setMask(ce.stencilWriteMask),d.setFunc(ce.stencilFunc,ce.stencilRef,ce.stencilFuncMask),d.setOp(ce.stencilFail,ce.stencilZFail,ce.stencilZPass)),Me(ce.polygonOffset,ce.polygonOffsetFactor,ce.polygonOffsetUnits),ce.alphaToCoverage===!0?ke(r.SAMPLE_ALPHA_TO_COVERAGE):$e(r.SAMPLE_ALPHA_TO_COVERAGE)}function Ae(ce){q!==ce&&(ce?r.frontFace(r.CW):r.frontFace(r.CCW),q=ce)}function We(ce){ce!==rM?(ke(r.CULL_FACE),ce!==te&&(ce===X0?r.cullFace(r.BACK):ce===iM?r.cullFace(r.FRONT):r.cullFace(r.FRONT_AND_BACK))):$e(r.CULL_FACE),te=ce}function Ke(ce){ce!==X&&(j&&r.lineWidth(ce),X=ce)}function Me(ce,ot,Ze){ce?(ke(r.POLYGON_OFFSET_FILL),(le!==ot||re!==Ze)&&(r.polygonOffset(ot,Ze),le=ot,re=Ze)):$e(r.POLYGON_OFFSET_FILL)}function ht(ce){ce?ke(r.SCISSOR_TEST):$e(r.SCISSOR_TEST)}function K(ce){ce===void 0&&(ce=r.TEXTURE0+de-1),D!==ce&&(r.activeTexture(ce),D=ce)}function H(ce,ot,Ze){Ze===void 0&&(D===null?Ze=r.TEXTURE0+de-1:Ze=D);let be=B[Ze];be===void 0&&(be={type:void 0,texture:void 0},B[Ze]=be),(be.type!==ce||be.texture!==ot)&&(D!==Ze&&(r.activeTexture(Ze),D=Ze),r.bindTexture(ce,ot||ve[ce]),be.type=ce,be.texture=ot)}function fe(){const ce=B[D];ce!==void 0&&ce.type!==void 0&&(r.bindTexture(ce.type,null),ce.type=void 0,ce.texture=void 0)}function Ye(){try{r.compressedTexImage2D.apply(r,arguments)}catch(ce){console.error("THREE.WebGLState:",ce)}}function Se(){try{r.compressedTexImage3D.apply(r,arguments)}catch(ce){console.error("THREE.WebGLState:",ce)}}function Le(){try{r.texSubImage2D.apply(r,arguments)}catch(ce){console.error("THREE.WebGLState:",ce)}}function tt(){try{r.texSubImage3D.apply(r,arguments)}catch(ce){console.error("THREE.WebGLState:",ce)}}function Xe(){try{r.compressedTexSubImage2D.apply(r,arguments)}catch(ce){console.error("THREE.WebGLState:",ce)}}function et(){try{r.compressedTexSubImage3D.apply(r,arguments)}catch(ce){console.error("THREE.WebGLState:",ce)}}function gt(){try{r.texStorage2D.apply(r,arguments)}catch(ce){console.error("THREE.WebGLState:",ce)}}function yt(){try{r.texStorage3D.apply(r,arguments)}catch(ce){console.error("THREE.WebGLState:",ce)}}function Ve(){try{r.texImage2D.apply(r,arguments)}catch(ce){console.error("THREE.WebGLState:",ce)}}function lt(){try{r.texImage3D.apply(r,arguments)}catch(ce){console.error("THREE.WebGLState:",ce)}}function oe(ce){se.equals(ce)===!1&&(r.scissor(ce.x,ce.y,ce.z,ce.w),se.copy(ce))}function Te(ce){pe.equals(ce)===!1&&(r.viewport(ce.x,ce.y,ce.z,ce.w),pe.copy(ce))}function Je(ce,ot){let Ze=m.get(ot);Ze===void 0&&(Ze=new WeakMap,m.set(ot,Ze));let be=Ze.get(ce);be===void 0&&(be=r.getUniformBlockIndex(ot,ce.name),Ze.set(ce,be))}function Ge(ce,ot){const be=m.get(ot).get(ce);h.get(ot)!==be&&(r.uniformBlockBinding(ot,be,ce.__bindingPointIndex),h.set(ot,be))}function nt(){r.disable(r.BLEND),r.disable(r.CULL_FACE),r.disable(r.DEPTH_TEST),r.disable(r.POLYGON_OFFSET_FILL),r.disable(r.SCISSOR_TEST),r.disable(r.STENCIL_TEST),r.disable(r.SAMPLE_ALPHA_TO_COVERAGE),r.blendEquation(r.FUNC_ADD),r.blendFunc(r.ONE,r.ZERO),r.blendFuncSeparate(r.ONE,r.ZERO,r.ONE,r.ZERO),r.blendColor(0,0,0,0),r.colorMask(!0,!0,!0,!0),r.clearColor(0,0,0,0),r.depthMask(!0),r.depthFunc(r.LESS),r.clearDepth(1),r.stencilMask(4294967295),r.stencilFunc(r.ALWAYS,0,4294967295),r.stencilOp(r.KEEP,r.KEEP,r.KEEP),r.clearStencil(0),r.cullFace(r.BACK),r.frontFace(r.CCW),r.polygonOffset(0,0),r.activeTexture(r.TEXTURE0),r.bindFramebuffer(r.FRAMEBUFFER,null),n===!0&&(r.bindFramebuffer(r.DRAW_FRAMEBUFFER,null),r.bindFramebuffer(r.READ_FRAMEBUFFER,null)),r.useProgram(null),r.lineWidth(1),r.scissor(0,0,r.canvas.width,r.canvas.height),r.viewport(0,0,r.canvas.width,r.canvas.height),y={},D=null,B={},v={},C=new WeakMap,b=[],_=null,S=!1,A=null,E=null,P=null,I=null,k=null,F=null,V=null,U=new wt(0,0,0),O=0,Q=!1,q=null,te=null,X=null,le=null,re=null,se.set(0,0,r.canvas.width,r.canvas.height),pe.set(0,0,r.canvas.width,r.canvas.height),l.reset(),c.reset(),d.reset()}return{buffers:{color:l,depth:c,stencil:d},enable:ke,disable:$e,bindFramebuffer:Re,drawBuffers:Z,useProgram:Oe,setBlending:Ee,setMaterial:rt,setFlipSided:Ae,setCullFace:We,setLineWidth:Ke,setPolygonOffset:Me,setScissorTest:ht,activeTexture:K,bindTexture:H,unbindTexture:fe,compressedTexImage2D:Ye,compressedTexImage3D:Se,texImage2D:Ve,texImage3D:lt,updateUBOMapping:Je,uniformBlockBinding:Ge,texStorage2D:gt,texStorage3D:yt,texSubImage2D:Le,texSubImage3D:tt,compressedTexSubImage2D:Xe,compressedTexSubImage3D:et,scissor:oe,viewport:Te,reset:nt}}function JO(r,e,t,n,i,s,o){const l=i.isWebGL2,c=i.maxTextures,d=i.maxCubemapSize,h=i.maxTextureSize,m=i.maxSamples,y=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,v=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),C=new WeakMap;let b;const _=new WeakMap;let S=!1;try{S=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function A(K,H){return S?new OffscreenCanvas(K,H):rp("canvas")}function E(K,H,fe,Ye){let Se=1;if((K.width>Ye||K.height>Ye)&&(Se=Ye/Math.max(K.width,K.height)),Se<1||H===!0)if(typeof HTMLImageElement<"u"&&K instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&K instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&K instanceof ImageBitmap){const Le=H?jg:Math.floor,tt=Le(Se*K.width),Xe=Le(Se*K.height);b===void 0&&(b=A(tt,Xe));const et=fe?A(tt,Xe):b;return et.width=tt,et.height=Xe,et.getContext("2d").drawImage(K,0,0,tt,Xe),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+K.width+"x"+K.height+") to ("+tt+"x"+Xe+")."),et}else return"data"in K&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+K.width+"x"+K.height+")."),K;return K}function P(K){return M2(K.width)&&M2(K.height)}function I(K){return l?!1:K.wrapS!==Mi||K.wrapT!==Mi||K.minFilter!==vr&&K.minFilter!==Qn}function k(K,H){return K.generateMipmaps&&H&&K.minFilter!==vr&&K.minFilter!==Qn}function F(K){r.generateMipmap(K)}function V(K,H,fe,Ye,Se=!1){if(l===!1)return H;if(K!==null){if(r[K]!==void 0)return r[K];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+K+"'")}let Le=H;if(H===r.RED&&(fe===r.FLOAT&&(Le=r.R32F),fe===r.HALF_FLOAT&&(Le=r.R16F),fe===r.UNSIGNED_BYTE&&(Le=r.R8)),H===r.RED_INTEGER&&(fe===r.UNSIGNED_BYTE&&(Le=r.R8UI),fe===r.UNSIGNED_SHORT&&(Le=r.R16UI),fe===r.UNSIGNED_INT&&(Le=r.R32UI),fe===r.BYTE&&(Le=r.R8I),fe===r.SHORT&&(Le=r.R16I),fe===r.INT&&(Le=r.R32I)),H===r.RG&&(fe===r.FLOAT&&(Le=r.RG32F),fe===r.HALF_FLOAT&&(Le=r.RG16F),fe===r.UNSIGNED_BYTE&&(Le=r.RG8)),H===r.RGBA){const tt=Se?Qh:Mn.getTransfer(Ye);fe===r.FLOAT&&(Le=r.RGBA32F),fe===r.HALF_FLOAT&&(Le=r.RGBA16F),fe===r.UNSIGNED_BYTE&&(Le=tt===Fn?r.SRGB8_ALPHA8:r.RGBA8),fe===r.UNSIGNED_SHORT_4_4_4_4&&(Le=r.RGBA4),fe===r.UNSIGNED_SHORT_5_5_5_1&&(Le=r.RGB5_A1)}return(Le===r.R16F||Le===r.R32F||Le===r.RG16F||Le===r.RG32F||Le===r.RGBA16F||Le===r.RGBA32F)&&e.get("EXT_color_buffer_float"),Le}function U(K,H,fe){return k(K,fe)===!0||K.isFramebufferTexture&&K.minFilter!==vr&&K.minFilter!==Qn?Math.log2(Math.max(H.width,H.height))+1:K.mipmaps!==void 0&&K.mipmaps.length>0?K.mipmaps.length:K.isCompressedTexture&&Array.isArray(K.image)?H.mipmaps.length:1}function O(K){return K===vr||K===Gg||K===Dh?r.NEAREST:r.LINEAR}function Q(K){const H=K.target;H.removeEventListener("dispose",Q),te(H),H.isVideoTexture&&C.delete(H)}function q(K){const H=K.target;H.removeEventListener("dispose",q),le(H)}function te(K){const H=n.get(K);if(H.__webglInit===void 0)return;const fe=K.source,Ye=_.get(fe);if(Ye){const Se=Ye[H.__cacheKey];Se.usedTimes--,Se.usedTimes===0&&X(K),Object.keys(Ye).length===0&&_.delete(fe)}n.remove(K)}function X(K){const H=n.get(K);r.deleteTexture(H.__webglTexture);const fe=K.source,Ye=_.get(fe);delete Ye[H.__cacheKey],o.memory.textures--}function le(K){const H=K.texture,fe=n.get(K),Ye=n.get(H);if(Ye.__webglTexture!==void 0&&(r.deleteTexture(Ye.__webglTexture),o.memory.textures--),K.depthTexture&&K.depthTexture.dispose(),K.isWebGLCubeRenderTarget)for(let Se=0;Se<6;Se++){if(Array.isArray(fe.__webglFramebuffer[Se]))for(let Le=0;Le<fe.__webglFramebuffer[Se].length;Le++)r.deleteFramebuffer(fe.__webglFramebuffer[Se][Le]);else r.deleteFramebuffer(fe.__webglFramebuffer[Se]);fe.__webglDepthbuffer&&r.deleteRenderbuffer(fe.__webglDepthbuffer[Se])}else{if(Array.isArray(fe.__webglFramebuffer))for(let Se=0;Se<fe.__webglFramebuffer.length;Se++)r.deleteFramebuffer(fe.__webglFramebuffer[Se]);else r.deleteFramebuffer(fe.__webglFramebuffer);if(fe.__webglDepthbuffer&&r.deleteRenderbuffer(fe.__webglDepthbuffer),fe.__webglMultisampledFramebuffer&&r.deleteFramebuffer(fe.__webglMultisampledFramebuffer),fe.__webglColorRenderbuffer)for(let Se=0;Se<fe.__webglColorRenderbuffer.length;Se++)fe.__webglColorRenderbuffer[Se]&&r.deleteRenderbuffer(fe.__webglColorRenderbuffer[Se]);fe.__webglDepthRenderbuffer&&r.deleteRenderbuffer(fe.__webglDepthRenderbuffer)}if(K.isWebGLMultipleRenderTargets)for(let Se=0,Le=H.length;Se<Le;Se++){const tt=n.get(H[Se]);tt.__webglTexture&&(r.deleteTexture(tt.__webglTexture),o.memory.textures--),n.remove(H[Se])}n.remove(H),n.remove(K)}let re=0;function de(){re=0}function j(){const K=re;return K>=c&&console.warn("THREE.WebGLTextures: Trying to use "+K+" texture units while this GPU supports only "+c),re+=1,K}function Y(K){const H=[];return H.push(K.wrapS),H.push(K.wrapT),H.push(K.wrapR||0),H.push(K.magFilter),H.push(K.minFilter),H.push(K.anisotropy),H.push(K.internalFormat),H.push(K.format),H.push(K.type),H.push(K.generateMipmaps),H.push(K.premultiplyAlpha),H.push(K.flipY),H.push(K.unpackAlignment),H.push(K.colorSpace),H.join()}function G(K,H){const fe=n.get(K);if(K.isVideoTexture&&Me(K),K.isRenderTargetTexture===!1&&K.version>0&&fe.__version!==K.version){const Ye=K.image;if(Ye===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(Ye.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{ke(fe,K,H);return}}t.bindTexture(r.TEXTURE_2D,fe.__webglTexture,r.TEXTURE0+H)}function D(K,H){const fe=n.get(K);if(K.version>0&&fe.__version!==K.version){ke(fe,K,H);return}t.bindTexture(r.TEXTURE_2D_ARRAY,fe.__webglTexture,r.TEXTURE0+H)}function B(K,H){const fe=n.get(K);if(K.version>0&&fe.__version!==K.version){ke(fe,K,H);return}t.bindTexture(r.TEXTURE_3D,fe.__webglTexture,r.TEXTURE0+H)}function ee(K,H){const fe=n.get(K);if(K.version>0&&fe.__version!==K.version){$e(fe,K,H);return}t.bindTexture(r.TEXTURE_CUBE_MAP,fe.__webglTexture,r.TEXTURE0+H)}const ie={[Yh]:r.REPEAT,[Mi]:r.CLAMP_TO_EDGE,[qh]:r.MIRRORED_REPEAT},se={[vr]:r.NEAREST,[Gg]:r.NEAREST_MIPMAP_NEAREST,[Dh]:r.NEAREST_MIPMAP_LINEAR,[Qn]:r.LINEAR,[mx]:r.LINEAR_MIPMAP_NEAREST,[Jl]:r.LINEAR_MIPMAP_LINEAR},pe={[ZM]:r.NEVER,[rE]:r.ALWAYS,[JM]:r.LESS,[$M]:r.LEQUAL,[QM]:r.EQUAL,[nE]:r.GEQUAL,[eE]:r.GREATER,[tE]:r.NOTEQUAL};function me(K,H,fe){if(fe?(r.texParameteri(K,r.TEXTURE_WRAP_S,ie[H.wrapS]),r.texParameteri(K,r.TEXTURE_WRAP_T,ie[H.wrapT]),(K===r.TEXTURE_3D||K===r.TEXTURE_2D_ARRAY)&&r.texParameteri(K,r.TEXTURE_WRAP_R,ie[H.wrapR]),r.texParameteri(K,r.TEXTURE_MAG_FILTER,se[H.magFilter]),r.texParameteri(K,r.TEXTURE_MIN_FILTER,se[H.minFilter])):(r.texParameteri(K,r.TEXTURE_WRAP_S,r.CLAMP_TO_EDGE),r.texParameteri(K,r.TEXTURE_WRAP_T,r.CLAMP_TO_EDGE),(K===r.TEXTURE_3D||K===r.TEXTURE_2D_ARRAY)&&r.texParameteri(K,r.TEXTURE_WRAP_R,r.CLAMP_TO_EDGE),(H.wrapS!==Mi||H.wrapT!==Mi)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),r.texParameteri(K,r.TEXTURE_MAG_FILTER,O(H.magFilter)),r.texParameteri(K,r.TEXTURE_MIN_FILTER,O(H.minFilter)),H.minFilter!==vr&&H.minFilter!==Qn&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),H.compareFunction&&(r.texParameteri(K,r.TEXTURE_COMPARE_MODE,r.COMPARE_REF_TO_TEXTURE),r.texParameteri(K,r.TEXTURE_COMPARE_FUNC,pe[H.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){const Ye=e.get("EXT_texture_filter_anisotropic");if(H.magFilter===vr||H.minFilter!==Dh&&H.minFilter!==Jl||H.type===Zo&&e.has("OES_texture_float_linear")===!1||l===!1&&H.type===sf&&e.has("OES_texture_half_float_linear")===!1)return;(H.anisotropy>1||n.get(H).__currentAnisotropy)&&(r.texParameterf(K,Ye.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(H.anisotropy,i.getMaxAnisotropy())),n.get(H).__currentAnisotropy=H.anisotropy)}}function ve(K,H){let fe=!1;K.__webglInit===void 0&&(K.__webglInit=!0,H.addEventListener("dispose",Q));const Ye=H.source;let Se=_.get(Ye);Se===void 0&&(Se={},_.set(Ye,Se));const Le=Y(H);if(Le!==K.__cacheKey){Se[Le]===void 0&&(Se[Le]={texture:r.createTexture(),usedTimes:0},o.memory.textures++,fe=!0),Se[Le].usedTimes++;const tt=Se[K.__cacheKey];tt!==void 0&&(Se[K.__cacheKey].usedTimes--,tt.usedTimes===0&&X(H)),K.__cacheKey=Le,K.__webglTexture=Se[Le].texture}return fe}function ke(K,H,fe){let Ye=r.TEXTURE_2D;(H.isDataArrayTexture||H.isCompressedArrayTexture)&&(Ye=r.TEXTURE_2D_ARRAY),H.isData3DTexture&&(Ye=r.TEXTURE_3D);const Se=ve(K,H),Le=H.source;t.bindTexture(Ye,K.__webglTexture,r.TEXTURE0+fe);const tt=n.get(Le);if(Le.version!==tt.__version||Se===!0){t.activeTexture(r.TEXTURE0+fe);const Xe=Mn.getPrimaries(Mn.workingColorSpace),et=H.colorSpace===Ps?null:Mn.getPrimaries(H.colorSpace),gt=H.colorSpace===Ps||Xe===et?r.NONE:r.BROWSER_DEFAULT_WEBGL;r.pixelStorei(r.UNPACK_FLIP_Y_WEBGL,H.flipY),r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,H.premultiplyAlpha),r.pixelStorei(r.UNPACK_ALIGNMENT,H.unpackAlignment),r.pixelStorei(r.UNPACK_COLORSPACE_CONVERSION_WEBGL,gt);const yt=I(H)&&P(H.image)===!1;let Ve=E(H.image,yt,!1,h);Ve=ht(H,Ve);const lt=P(Ve)||l,oe=s.convert(H.format,H.colorSpace);let Te=s.convert(H.type),Je=V(H.internalFormat,oe,Te,H.colorSpace,H.isVideoTexture);me(Ye,H,lt);let Ge;const nt=H.mipmaps,ce=l&&H.isVideoTexture!==!0,ot=tt.__version===void 0||Se===!0,Ze=U(H,Ve,lt);if(H.isDepthTexture)Je=r.DEPTH_COMPONENT,l?H.type===Zo?Je=r.DEPTH_COMPONENT32F:H.type===Ga?Je=r.DEPTH_COMPONENT24:H.type===Wl?Je=r.DEPTH24_STENCIL8:Je=r.DEPTH_COMPONENT16:H.type===Zo&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),H.format===jl&&Je===r.DEPTH_COMPONENT&&H.type!==ly&&H.type!==Ga&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),H.type=Ga,Te=s.convert(H.type)),H.format===hu&&Je===r.DEPTH_COMPONENT&&(Je=r.DEPTH_STENCIL,H.type!==Wl&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),H.type=Wl,Te=s.convert(H.type))),ot&&(ce?t.texStorage2D(r.TEXTURE_2D,1,Je,Ve.width,Ve.height):t.texImage2D(r.TEXTURE_2D,0,Je,Ve.width,Ve.height,0,oe,Te,null));else if(H.isDataTexture)if(nt.length>0&&lt){ce&&ot&&t.texStorage2D(r.TEXTURE_2D,Ze,Je,nt[0].width,nt[0].height);for(let be=0,Qe=nt.length;be<Qe;be++)Ge=nt[be],ce?t.texSubImage2D(r.TEXTURE_2D,be,0,0,Ge.width,Ge.height,oe,Te,Ge.data):t.texImage2D(r.TEXTURE_2D,be,Je,Ge.width,Ge.height,0,oe,Te,Ge.data);H.generateMipmaps=!1}else ce?(ot&&t.texStorage2D(r.TEXTURE_2D,Ze,Je,Ve.width,Ve.height),t.texSubImage2D(r.TEXTURE_2D,0,0,0,Ve.width,Ve.height,oe,Te,Ve.data)):t.texImage2D(r.TEXTURE_2D,0,Je,Ve.width,Ve.height,0,oe,Te,Ve.data);else if(H.isCompressedTexture)if(H.isCompressedArrayTexture){ce&&ot&&t.texStorage3D(r.TEXTURE_2D_ARRAY,Ze,Je,nt[0].width,nt[0].height,Ve.depth);for(let be=0,Qe=nt.length;be<Qe;be++)Ge=nt[be],H.format!==cs?oe!==null?ce?t.compressedTexSubImage3D(r.TEXTURE_2D_ARRAY,be,0,0,0,Ge.width,Ge.height,Ve.depth,oe,Ge.data,0,0):t.compressedTexImage3D(r.TEXTURE_2D_ARRAY,be,Je,Ge.width,Ge.height,Ve.depth,0,Ge.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):ce?t.texSubImage3D(r.TEXTURE_2D_ARRAY,be,0,0,0,Ge.width,Ge.height,Ve.depth,oe,Te,Ge.data):t.texImage3D(r.TEXTURE_2D_ARRAY,be,Je,Ge.width,Ge.height,Ve.depth,0,oe,Te,Ge.data)}else{ce&&ot&&t.texStorage2D(r.TEXTURE_2D,Ze,Je,nt[0].width,nt[0].height);for(let be=0,Qe=nt.length;be<Qe;be++)Ge=nt[be],H.format!==cs?oe!==null?ce?t.compressedTexSubImage2D(r.TEXTURE_2D,be,0,0,Ge.width,Ge.height,oe,Ge.data):t.compressedTexImage2D(r.TEXTURE_2D,be,Je,Ge.width,Ge.height,0,Ge.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):ce?t.texSubImage2D(r.TEXTURE_2D,be,0,0,Ge.width,Ge.height,oe,Te,Ge.data):t.texImage2D(r.TEXTURE_2D,be,Je,Ge.width,Ge.height,0,oe,Te,Ge.data)}else if(H.isDataArrayTexture)ce?(ot&&t.texStorage3D(r.TEXTURE_2D_ARRAY,Ze,Je,Ve.width,Ve.height,Ve.depth),t.texSubImage3D(r.TEXTURE_2D_ARRAY,0,0,0,0,Ve.width,Ve.height,Ve.depth,oe,Te,Ve.data)):t.texImage3D(r.TEXTURE_2D_ARRAY,0,Je,Ve.width,Ve.height,Ve.depth,0,oe,Te,Ve.data);else if(H.isData3DTexture)ce?(ot&&t.texStorage3D(r.TEXTURE_3D,Ze,Je,Ve.width,Ve.height,Ve.depth),t.texSubImage3D(r.TEXTURE_3D,0,0,0,0,Ve.width,Ve.height,Ve.depth,oe,Te,Ve.data)):t.texImage3D(r.TEXTURE_3D,0,Je,Ve.width,Ve.height,Ve.depth,0,oe,Te,Ve.data);else if(H.isFramebufferTexture){if(ot)if(ce)t.texStorage2D(r.TEXTURE_2D,Ze,Je,Ve.width,Ve.height);else{let be=Ve.width,Qe=Ve.height;for(let ft=0;ft<Ze;ft++)t.texImage2D(r.TEXTURE_2D,ft,Je,be,Qe,0,oe,Te,null),be>>=1,Qe>>=1}}else if(nt.length>0&&lt){ce&&ot&&t.texStorage2D(r.TEXTURE_2D,Ze,Je,nt[0].width,nt[0].height);for(let be=0,Qe=nt.length;be<Qe;be++)Ge=nt[be],ce?t.texSubImage2D(r.TEXTURE_2D,be,0,0,oe,Te,Ge):t.texImage2D(r.TEXTURE_2D,be,Je,oe,Te,Ge);H.generateMipmaps=!1}else ce?(ot&&t.texStorage2D(r.TEXTURE_2D,Ze,Je,Ve.width,Ve.height),t.texSubImage2D(r.TEXTURE_2D,0,0,0,oe,Te,Ve)):t.texImage2D(r.TEXTURE_2D,0,Je,oe,Te,Ve);k(H,lt)&&F(Ye),tt.__version=Le.version,H.onUpdate&&H.onUpdate(H)}K.__version=H.version}function $e(K,H,fe){if(H.image.length!==6)return;const Ye=ve(K,H),Se=H.source;t.bindTexture(r.TEXTURE_CUBE_MAP,K.__webglTexture,r.TEXTURE0+fe);const Le=n.get(Se);if(Se.version!==Le.__version||Ye===!0){t.activeTexture(r.TEXTURE0+fe);const tt=Mn.getPrimaries(Mn.workingColorSpace),Xe=H.colorSpace===Ps?null:Mn.getPrimaries(H.colorSpace),et=H.colorSpace===Ps||tt===Xe?r.NONE:r.BROWSER_DEFAULT_WEBGL;r.pixelStorei(r.UNPACK_FLIP_Y_WEBGL,H.flipY),r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,H.premultiplyAlpha),r.pixelStorei(r.UNPACK_ALIGNMENT,H.unpackAlignment),r.pixelStorei(r.UNPACK_COLORSPACE_CONVERSION_WEBGL,et);const gt=H.isCompressedTexture||H.image[0].isCompressedTexture,yt=H.image[0]&&H.image[0].isDataTexture,Ve=[];for(let be=0;be<6;be++)!gt&&!yt?Ve[be]=E(H.image[be],!1,!0,d):Ve[be]=yt?H.image[be].image:H.image[be],Ve[be]=ht(H,Ve[be]);const lt=Ve[0],oe=P(lt)||l,Te=s.convert(H.format,H.colorSpace),Je=s.convert(H.type),Ge=V(H.internalFormat,Te,Je,H.colorSpace),nt=l&&H.isVideoTexture!==!0,ce=Le.__version===void 0||Ye===!0;let ot=U(H,lt,oe);me(r.TEXTURE_CUBE_MAP,H,oe);let Ze;if(gt){nt&&ce&&t.texStorage2D(r.TEXTURE_CUBE_MAP,ot,Ge,lt.width,lt.height);for(let be=0;be<6;be++){Ze=Ve[be].mipmaps;for(let Qe=0;Qe<Ze.length;Qe++){const ft=Ze[Qe];H.format!==cs?Te!==null?nt?t.compressedTexSubImage2D(r.TEXTURE_CUBE_MAP_POSITIVE_X+be,Qe,0,0,ft.width,ft.height,Te,ft.data):t.compressedTexImage2D(r.TEXTURE_CUBE_MAP_POSITIVE_X+be,Qe,Ge,ft.width,ft.height,0,ft.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):nt?t.texSubImage2D(r.TEXTURE_CUBE_MAP_POSITIVE_X+be,Qe,0,0,ft.width,ft.height,Te,Je,ft.data):t.texImage2D(r.TEXTURE_CUBE_MAP_POSITIVE_X+be,Qe,Ge,ft.width,ft.height,0,Te,Je,ft.data)}}}else{Ze=H.mipmaps,nt&&ce&&(Ze.length>0&&ot++,t.texStorage2D(r.TEXTURE_CUBE_MAP,ot,Ge,Ve[0].width,Ve[0].height));for(let be=0;be<6;be++)if(yt){nt?t.texSubImage2D(r.TEXTURE_CUBE_MAP_POSITIVE_X+be,0,0,0,Ve[be].width,Ve[be].height,Te,Je,Ve[be].data):t.texImage2D(r.TEXTURE_CUBE_MAP_POSITIVE_X+be,0,Ge,Ve[be].width,Ve[be].height,0,Te,Je,Ve[be].data);for(let Qe=0;Qe<Ze.length;Qe++){const pt=Ze[Qe].image[be].image;nt?t.texSubImage2D(r.TEXTURE_CUBE_MAP_POSITIVE_X+be,Qe+1,0,0,pt.width,pt.height,Te,Je,pt.data):t.texImage2D(r.TEXTURE_CUBE_MAP_POSITIVE_X+be,Qe+1,Ge,pt.width,pt.height,0,Te,Je,pt.data)}}else{nt?t.texSubImage2D(r.TEXTURE_CUBE_MAP_POSITIVE_X+be,0,0,0,Te,Je,Ve[be]):t.texImage2D(r.TEXTURE_CUBE_MAP_POSITIVE_X+be,0,Ge,Te,Je,Ve[be]);for(let Qe=0;Qe<Ze.length;Qe++){const ft=Ze[Qe];nt?t.texSubImage2D(r.TEXTURE_CUBE_MAP_POSITIVE_X+be,Qe+1,0,0,Te,Je,ft.image[be]):t.texImage2D(r.TEXTURE_CUBE_MAP_POSITIVE_X+be,Qe+1,Ge,Te,Je,ft.image[be])}}}k(H,oe)&&F(r.TEXTURE_CUBE_MAP),Le.__version=Se.version,H.onUpdate&&H.onUpdate(H)}K.__version=H.version}function Re(K,H,fe,Ye,Se,Le){const tt=s.convert(fe.format,fe.colorSpace),Xe=s.convert(fe.type),et=V(fe.internalFormat,tt,Xe,fe.colorSpace);if(!n.get(H).__hasExternalTextures){const yt=Math.max(1,H.width>>Le),Ve=Math.max(1,H.height>>Le);Se===r.TEXTURE_3D||Se===r.TEXTURE_2D_ARRAY?t.texImage3D(Se,Le,et,yt,Ve,H.depth,0,tt,Xe,null):t.texImage2D(Se,Le,et,yt,Ve,0,tt,Xe,null)}t.bindFramebuffer(r.FRAMEBUFFER,K),Ke(H)?y.framebufferTexture2DMultisampleEXT(r.FRAMEBUFFER,Ye,Se,n.get(fe).__webglTexture,0,We(H)):(Se===r.TEXTURE_2D||Se>=r.TEXTURE_CUBE_MAP_POSITIVE_X&&Se<=r.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&r.framebufferTexture2D(r.FRAMEBUFFER,Ye,Se,n.get(fe).__webglTexture,Le),t.bindFramebuffer(r.FRAMEBUFFER,null)}function Z(K,H,fe){if(r.bindRenderbuffer(r.RENDERBUFFER,K),H.depthBuffer&&!H.stencilBuffer){let Ye=l===!0?r.DEPTH_COMPONENT24:r.DEPTH_COMPONENT16;if(fe||Ke(H)){const Se=H.depthTexture;Se&&Se.isDepthTexture&&(Se.type===Zo?Ye=r.DEPTH_COMPONENT32F:Se.type===Ga&&(Ye=r.DEPTH_COMPONENT24));const Le=We(H);Ke(H)?y.renderbufferStorageMultisampleEXT(r.RENDERBUFFER,Le,Ye,H.width,H.height):r.renderbufferStorageMultisample(r.RENDERBUFFER,Le,Ye,H.width,H.height)}else r.renderbufferStorage(r.RENDERBUFFER,Ye,H.width,H.height);r.framebufferRenderbuffer(r.FRAMEBUFFER,r.DEPTH_ATTACHMENT,r.RENDERBUFFER,K)}else if(H.depthBuffer&&H.stencilBuffer){const Ye=We(H);fe&&Ke(H)===!1?r.renderbufferStorageMultisample(r.RENDERBUFFER,Ye,r.DEPTH24_STENCIL8,H.width,H.height):Ke(H)?y.renderbufferStorageMultisampleEXT(r.RENDERBUFFER,Ye,r.DEPTH24_STENCIL8,H.width,H.height):r.renderbufferStorage(r.RENDERBUFFER,r.DEPTH_STENCIL,H.width,H.height),r.framebufferRenderbuffer(r.FRAMEBUFFER,r.DEPTH_STENCIL_ATTACHMENT,r.RENDERBUFFER,K)}else{const Ye=H.isWebGLMultipleRenderTargets===!0?H.texture:[H.texture];for(let Se=0;Se<Ye.length;Se++){const Le=Ye[Se],tt=s.convert(Le.format,Le.colorSpace),Xe=s.convert(Le.type),et=V(Le.internalFormat,tt,Xe,Le.colorSpace),gt=We(H);fe&&Ke(H)===!1?r.renderbufferStorageMultisample(r.RENDERBUFFER,gt,et,H.width,H.height):Ke(H)?y.renderbufferStorageMultisampleEXT(r.RENDERBUFFER,gt,et,H.width,H.height):r.renderbufferStorage(r.RENDERBUFFER,et,H.width,H.height)}}r.bindRenderbuffer(r.RENDERBUFFER,null)}function Oe(K,H){if(H&&H.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(r.FRAMEBUFFER,K),!(H.depthTexture&&H.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!n.get(H.depthTexture).__webglTexture||H.depthTexture.image.width!==H.width||H.depthTexture.image.height!==H.height)&&(H.depthTexture.image.width=H.width,H.depthTexture.image.height=H.height,H.depthTexture.needsUpdate=!0),G(H.depthTexture,0);const Ye=n.get(H.depthTexture).__webglTexture,Se=We(H);if(H.depthTexture.format===jl)Ke(H)?y.framebufferTexture2DMultisampleEXT(r.FRAMEBUFFER,r.DEPTH_ATTACHMENT,r.TEXTURE_2D,Ye,0,Se):r.framebufferTexture2D(r.FRAMEBUFFER,r.DEPTH_ATTACHMENT,r.TEXTURE_2D,Ye,0);else if(H.depthTexture.format===hu)Ke(H)?y.framebufferTexture2DMultisampleEXT(r.FRAMEBUFFER,r.DEPTH_STENCIL_ATTACHMENT,r.TEXTURE_2D,Ye,0,Se):r.framebufferTexture2D(r.FRAMEBUFFER,r.DEPTH_STENCIL_ATTACHMENT,r.TEXTURE_2D,Ye,0);else throw new Error("Unknown depthTexture format")}function Ce(K){const H=n.get(K),fe=K.isWebGLCubeRenderTarget===!0;if(K.depthTexture&&!H.__autoAllocateDepthBuffer){if(fe)throw new Error("target.depthTexture not supported in Cube render targets");Oe(H.__webglFramebuffer,K)}else if(fe){H.__webglDepthbuffer=[];for(let Ye=0;Ye<6;Ye++)t.bindFramebuffer(r.FRAMEBUFFER,H.__webglFramebuffer[Ye]),H.__webglDepthbuffer[Ye]=r.createRenderbuffer(),Z(H.__webglDepthbuffer[Ye],K,!1)}else t.bindFramebuffer(r.FRAMEBUFFER,H.__webglFramebuffer),H.__webglDepthbuffer=r.createRenderbuffer(),Z(H.__webglDepthbuffer,K,!1);t.bindFramebuffer(r.FRAMEBUFFER,null)}function Ne(K,H,fe){const Ye=n.get(K);H!==void 0&&Re(Ye.__webglFramebuffer,K,K.texture,r.COLOR_ATTACHMENT0,r.TEXTURE_2D,0),fe!==void 0&&Ce(K)}function Ee(K){const H=K.texture,fe=n.get(K),Ye=n.get(H);K.addEventListener("dispose",q),K.isWebGLMultipleRenderTargets!==!0&&(Ye.__webglTexture===void 0&&(Ye.__webglTexture=r.createTexture()),Ye.__version=H.version,o.memory.textures++);const Se=K.isWebGLCubeRenderTarget===!0,Le=K.isWebGLMultipleRenderTargets===!0,tt=P(K)||l;if(Se){fe.__webglFramebuffer=[];for(let Xe=0;Xe<6;Xe++)if(l&&H.mipmaps&&H.mipmaps.length>0){fe.__webglFramebuffer[Xe]=[];for(let et=0;et<H.mipmaps.length;et++)fe.__webglFramebuffer[Xe][et]=r.createFramebuffer()}else fe.__webglFramebuffer[Xe]=r.createFramebuffer()}else{if(l&&H.mipmaps&&H.mipmaps.length>0){fe.__webglFramebuffer=[];for(let Xe=0;Xe<H.mipmaps.length;Xe++)fe.__webglFramebuffer[Xe]=r.createFramebuffer()}else fe.__webglFramebuffer=r.createFramebuffer();if(Le)if(i.drawBuffers){const Xe=K.texture;for(let et=0,gt=Xe.length;et<gt;et++){const yt=n.get(Xe[et]);yt.__webglTexture===void 0&&(yt.__webglTexture=r.createTexture(),o.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(l&&K.samples>0&&Ke(K)===!1){const Xe=Le?H:[H];fe.__webglMultisampledFramebuffer=r.createFramebuffer(),fe.__webglColorRenderbuffer=[],t.bindFramebuffer(r.FRAMEBUFFER,fe.__webglMultisampledFramebuffer);for(let et=0;et<Xe.length;et++){const gt=Xe[et];fe.__webglColorRenderbuffer[et]=r.createRenderbuffer(),r.bindRenderbuffer(r.RENDERBUFFER,fe.__webglColorRenderbuffer[et]);const yt=s.convert(gt.format,gt.colorSpace),Ve=s.convert(gt.type),lt=V(gt.internalFormat,yt,Ve,gt.colorSpace,K.isXRRenderTarget===!0),oe=We(K);r.renderbufferStorageMultisample(r.RENDERBUFFER,oe,lt,K.width,K.height),r.framebufferRenderbuffer(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0+et,r.RENDERBUFFER,fe.__webglColorRenderbuffer[et])}r.bindRenderbuffer(r.RENDERBUFFER,null),K.depthBuffer&&(fe.__webglDepthRenderbuffer=r.createRenderbuffer(),Z(fe.__webglDepthRenderbuffer,K,!0)),t.bindFramebuffer(r.FRAMEBUFFER,null)}}if(Se){t.bindTexture(r.TEXTURE_CUBE_MAP,Ye.__webglTexture),me(r.TEXTURE_CUBE_MAP,H,tt);for(let Xe=0;Xe<6;Xe++)if(l&&H.mipmaps&&H.mipmaps.length>0)for(let et=0;et<H.mipmaps.length;et++)Re(fe.__webglFramebuffer[Xe][et],K,H,r.COLOR_ATTACHMENT0,r.TEXTURE_CUBE_MAP_POSITIVE_X+Xe,et);else Re(fe.__webglFramebuffer[Xe],K,H,r.COLOR_ATTACHMENT0,r.TEXTURE_CUBE_MAP_POSITIVE_X+Xe,0);k(H,tt)&&F(r.TEXTURE_CUBE_MAP),t.unbindTexture()}else if(Le){const Xe=K.texture;for(let et=0,gt=Xe.length;et<gt;et++){const yt=Xe[et],Ve=n.get(yt);t.bindTexture(r.TEXTURE_2D,Ve.__webglTexture),me(r.TEXTURE_2D,yt,tt),Re(fe.__webglFramebuffer,K,yt,r.COLOR_ATTACHMENT0+et,r.TEXTURE_2D,0),k(yt,tt)&&F(r.TEXTURE_2D)}t.unbindTexture()}else{let Xe=r.TEXTURE_2D;if((K.isWebGL3DRenderTarget||K.isWebGLArrayRenderTarget)&&(l?Xe=K.isWebGL3DRenderTarget?r.TEXTURE_3D:r.TEXTURE_2D_ARRAY:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),t.bindTexture(Xe,Ye.__webglTexture),me(Xe,H,tt),l&&H.mipmaps&&H.mipmaps.length>0)for(let et=0;et<H.mipmaps.length;et++)Re(fe.__webglFramebuffer[et],K,H,r.COLOR_ATTACHMENT0,Xe,et);else Re(fe.__webglFramebuffer,K,H,r.COLOR_ATTACHMENT0,Xe,0);k(H,tt)&&F(Xe),t.unbindTexture()}K.depthBuffer&&Ce(K)}function rt(K){const H=P(K)||l,fe=K.isWebGLMultipleRenderTargets===!0?K.texture:[K.texture];for(let Ye=0,Se=fe.length;Ye<Se;Ye++){const Le=fe[Ye];if(k(Le,H)){const tt=K.isWebGLCubeRenderTarget?r.TEXTURE_CUBE_MAP:r.TEXTURE_2D,Xe=n.get(Le).__webglTexture;t.bindTexture(tt,Xe),F(tt),t.unbindTexture()}}}function Ae(K){if(l&&K.samples>0&&Ke(K)===!1){const H=K.isWebGLMultipleRenderTargets?K.texture:[K.texture],fe=K.width,Ye=K.height;let Se=r.COLOR_BUFFER_BIT;const Le=[],tt=K.stencilBuffer?r.DEPTH_STENCIL_ATTACHMENT:r.DEPTH_ATTACHMENT,Xe=n.get(K),et=K.isWebGLMultipleRenderTargets===!0;if(et)for(let gt=0;gt<H.length;gt++)t.bindFramebuffer(r.FRAMEBUFFER,Xe.__webglMultisampledFramebuffer),r.framebufferRenderbuffer(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0+gt,r.RENDERBUFFER,null),t.bindFramebuffer(r.FRAMEBUFFER,Xe.__webglFramebuffer),r.framebufferTexture2D(r.DRAW_FRAMEBUFFER,r.COLOR_ATTACHMENT0+gt,r.TEXTURE_2D,null,0);t.bindFramebuffer(r.READ_FRAMEBUFFER,Xe.__webglMultisampledFramebuffer),t.bindFramebuffer(r.DRAW_FRAMEBUFFER,Xe.__webglFramebuffer);for(let gt=0;gt<H.length;gt++){Le.push(r.COLOR_ATTACHMENT0+gt),K.depthBuffer&&Le.push(tt);const yt=Xe.__ignoreDepthValues!==void 0?Xe.__ignoreDepthValues:!1;if(yt===!1&&(K.depthBuffer&&(Se|=r.DEPTH_BUFFER_BIT),K.stencilBuffer&&(Se|=r.STENCIL_BUFFER_BIT)),et&&r.framebufferRenderbuffer(r.READ_FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.RENDERBUFFER,Xe.__webglColorRenderbuffer[gt]),yt===!0&&(r.invalidateFramebuffer(r.READ_FRAMEBUFFER,[tt]),r.invalidateFramebuffer(r.DRAW_FRAMEBUFFER,[tt])),et){const Ve=n.get(H[gt]).__webglTexture;r.framebufferTexture2D(r.DRAW_FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.TEXTURE_2D,Ve,0)}r.blitFramebuffer(0,0,fe,Ye,0,0,fe,Ye,Se,r.NEAREST),v&&r.invalidateFramebuffer(r.READ_FRAMEBUFFER,Le)}if(t.bindFramebuffer(r.READ_FRAMEBUFFER,null),t.bindFramebuffer(r.DRAW_FRAMEBUFFER,null),et)for(let gt=0;gt<H.length;gt++){t.bindFramebuffer(r.FRAMEBUFFER,Xe.__webglMultisampledFramebuffer),r.framebufferRenderbuffer(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0+gt,r.RENDERBUFFER,Xe.__webglColorRenderbuffer[gt]);const yt=n.get(H[gt]).__webglTexture;t.bindFramebuffer(r.FRAMEBUFFER,Xe.__webglFramebuffer),r.framebufferTexture2D(r.DRAW_FRAMEBUFFER,r.COLOR_ATTACHMENT0+gt,r.TEXTURE_2D,yt,0)}t.bindFramebuffer(r.DRAW_FRAMEBUFFER,Xe.__webglMultisampledFramebuffer)}}function We(K){return Math.min(m,K.samples)}function Ke(K){const H=n.get(K);return l&&K.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&H.__useRenderToTexture!==!1}function Me(K){const H=o.render.frame;C.get(K)!==H&&(C.set(K,H),K.update())}function ht(K,H){const fe=K.colorSpace,Ye=K.format,Se=K.type;return K.isCompressedTexture===!0||K.isVideoTexture===!0||K.format===Wg||fe!==na&&fe!==Ps&&(Mn.getTransfer(fe)===Fn?l===!1?e.has("EXT_sRGB")===!0&&Ye===cs?(K.format=Wg,K.minFilter=Qn,K.generateMipmaps=!1):H=Ex.sRGBToLinear(H):(Ye!==cs||Se!==ea)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",fe)),H}this.allocateTextureUnit=j,this.resetTextureUnits=de,this.setTexture2D=G,this.setTexture2DArray=D,this.setTexture3D=B,this.setTextureCube=ee,this.rebindTextures=Ne,this.setupRenderTarget=Ee,this.updateRenderTargetMipmap=rt,this.updateMultisampleRenderTarget=Ae,this.setupDepthRenderbuffer=Ce,this.setupFrameBufferTexture=Re,this.useMultisampledRTT=Ke}function yE(r,e,t){const n=t.isWebGL2;function i(s,o=Ps){let l;const c=Mn.getTransfer(o);if(s===ea)return r.UNSIGNED_BYTE;if(s===yx)return r.UNSIGNED_SHORT_4_4_4_4;if(s===vx)return r.UNSIGNED_SHORT_5_5_5_1;if(s===NM)return r.BYTE;if(s===OM)return r.SHORT;if(s===ly)return r.UNSIGNED_SHORT;if(s===gx)return r.INT;if(s===Ga)return r.UNSIGNED_INT;if(s===Zo)return r.FLOAT;if(s===sf)return n?r.HALF_FLOAT:(l=e.get("OES_texture_half_float"),l!==null?l.HALF_FLOAT_OES:null);if(s===FM)return r.ALPHA;if(s===cs)return r.RGBA;if(s===BM)return r.LUMINANCE;if(s===zM)return r.LUMINANCE_ALPHA;if(s===jl)return r.DEPTH_COMPONENT;if(s===hu)return r.DEPTH_STENCIL;if(s===Wg)return l=e.get("EXT_sRGB"),l!==null?l.SRGB_ALPHA_EXT:null;if(s===VM)return r.RED;if(s===xx)return r.RED_INTEGER;if(s===HM)return r.RG;if(s===Cx)return r.RG_INTEGER;if(s===wx)return r.RGBA_INTEGER;if(s===_g||s===Sg||s===bg||s===Mg)if(c===Fn)if(l=e.get("WEBGL_compressed_texture_s3tc_srgb"),l!==null){if(s===_g)return l.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(s===Sg)return l.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(s===bg)return l.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(s===Mg)return l.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(l=e.get("WEBGL_compressed_texture_s3tc"),l!==null){if(s===_g)return l.COMPRESSED_RGB_S3TC_DXT1_EXT;if(s===Sg)return l.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(s===bg)return l.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(s===Mg)return l.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(s===Q0||s===$0||s===e2||s===t2)if(l=e.get("WEBGL_compressed_texture_pvrtc"),l!==null){if(s===Q0)return l.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(s===$0)return l.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(s===e2)return l.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(s===t2)return l.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(s===GM)return l=e.get("WEBGL_compressed_texture_etc1"),l!==null?l.COMPRESSED_RGB_ETC1_WEBGL:null;if(s===n2||s===r2)if(l=e.get("WEBGL_compressed_texture_etc"),l!==null){if(s===n2)return c===Fn?l.COMPRESSED_SRGB8_ETC2:l.COMPRESSED_RGB8_ETC2;if(s===r2)return c===Fn?l.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:l.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(s===i2||s===s2||s===o2||s===a2||s===l2||s===c2||s===u2||s===d2||s===f2||s===h2||s===p2||s===m2||s===g2||s===y2)if(l=e.get("WEBGL_compressed_texture_astc"),l!==null){if(s===i2)return c===Fn?l.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:l.COMPRESSED_RGBA_ASTC_4x4_KHR;if(s===s2)return c===Fn?l.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:l.COMPRESSED_RGBA_ASTC_5x4_KHR;if(s===o2)return c===Fn?l.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:l.COMPRESSED_RGBA_ASTC_5x5_KHR;if(s===a2)return c===Fn?l.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:l.COMPRESSED_RGBA_ASTC_6x5_KHR;if(s===l2)return c===Fn?l.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:l.COMPRESSED_RGBA_ASTC_6x6_KHR;if(s===c2)return c===Fn?l.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:l.COMPRESSED_RGBA_ASTC_8x5_KHR;if(s===u2)return c===Fn?l.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:l.COMPRESSED_RGBA_ASTC_8x6_KHR;if(s===d2)return c===Fn?l.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:l.COMPRESSED_RGBA_ASTC_8x8_KHR;if(s===f2)return c===Fn?l.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:l.COMPRESSED_RGBA_ASTC_10x5_KHR;if(s===h2)return c===Fn?l.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:l.COMPRESSED_RGBA_ASTC_10x6_KHR;if(s===p2)return c===Fn?l.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:l.COMPRESSED_RGBA_ASTC_10x8_KHR;if(s===m2)return c===Fn?l.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:l.COMPRESSED_RGBA_ASTC_10x10_KHR;if(s===g2)return c===Fn?l.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:l.COMPRESSED_RGBA_ASTC_12x10_KHR;if(s===y2)return c===Fn?l.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:l.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(s===Eg||s===v2||s===x2)if(l=e.get("EXT_texture_compression_bptc"),l!==null){if(s===Eg)return c===Fn?l.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:l.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(s===v2)return l.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(s===x2)return l.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(s===WM||s===C2||s===w2||s===_2)if(l=e.get("EXT_texture_compression_rgtc"),l!==null){if(s===Eg)return l.COMPRESSED_RED_RGTC1_EXT;if(s===C2)return l.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(s===w2)return l.COMPRESSED_RED_GREEN_RGTC2_EXT;if(s===_2)return l.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return s===Wl?n?r.UNSIGNED_INT_24_8:(l=e.get("WEBGL_depth_texture"),l!==null?l.UNSIGNED_INT_24_8_WEBGL:null):r[s]!==void 0?r[s]:null}return{convert:i}}class vE extends xr{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class Zd extends vn{constructor(){super(),this.isGroup=!0,this.type="Group"}}const QO={type:"move"};class $v{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Zd,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Zd,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new $,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new $),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Zd,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new $,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new $),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const n of e.hand.values())this._getHandJoint(t,n)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,n){let i=null,s=null,o=null;const l=this._targetRay,c=this._grip,d=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(d&&e.hand){o=!0;for(const b of e.hand.values()){const _=t.getJointPose(b,n),S=this._getHandJoint(d,b);_!==null&&(S.matrix.fromArray(_.transform.matrix),S.matrix.decompose(S.position,S.rotation,S.scale),S.matrixWorldNeedsUpdate=!0,S.jointRadius=_.radius),S.visible=_!==null}const h=d.joints["index-finger-tip"],m=d.joints["thumb-tip"],y=h.position.distanceTo(m.position),v=.02,C=.005;d.inputState.pinching&&y>v+C?(d.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!d.inputState.pinching&&y<=v-C&&(d.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else c!==null&&e.gripSpace&&(s=t.getPose(e.gripSpace,n),s!==null&&(c.matrix.fromArray(s.transform.matrix),c.matrix.decompose(c.position,c.rotation,c.scale),c.matrixWorldNeedsUpdate=!0,s.linearVelocity?(c.hasLinearVelocity=!0,c.linearVelocity.copy(s.linearVelocity)):c.hasLinearVelocity=!1,s.angularVelocity?(c.hasAngularVelocity=!0,c.angularVelocity.copy(s.angularVelocity)):c.hasAngularVelocity=!1));l!==null&&(i=t.getPose(e.targetRaySpace,n),i===null&&s!==null&&(i=s),i!==null&&(l.matrix.fromArray(i.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,i.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(i.linearVelocity)):l.hasLinearVelocity=!1,i.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(i.angularVelocity)):l.hasAngularVelocity=!1,this.dispatchEvent(QO)))}return l!==null&&(l.visible=i!==null),c!==null&&(c.visible=s!==null),d!==null&&(d.visible=o!==null),this}_getHandJoint(e,t){if(e.joints[t.jointName]===void 0){const n=new Zd;n.matrixAutoUpdate=!1,n.visible=!1,e.joints[t.jointName]=n,e.add(n)}return e.joints[t.jointName]}}class xE extends cr{constructor(e,t,n,i,s,o,l,c,d,h){if(h=h!==void 0?h:jl,h!==jl&&h!==hu)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");n===void 0&&h===jl&&(n=Ga),n===void 0&&h===hu&&(n=Wl),super(null,i,s,o,l,c,h,n,d),this.isDepthTexture=!0,this.image={width:e,height:t},this.magFilter=l!==void 0?l:vr,this.minFilter=c!==void 0?c:vr,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.compareFunction=e.compareFunction,this}toJSON(e){const t=super.toJSON(e);return this.compareFunction!==null&&(t.compareFunction=this.compareFunction),t}}class $O extends Ja{constructor(e,t){super();const n=this;let i=null,s=1,o=null,l="local-floor",c=1,d=null,h=null,m=null,y=null,v=null,C=null;const b=t.getContextAttributes();let _=null,S=null;const A=[],E=[],P=new xr;P.layers.enable(1),P.viewport=new xn;const I=new xr;I.layers.enable(2),I.viewport=new xn;const k=[P,I],F=new vE;F.layers.enable(1),F.layers.enable(2);let V=null,U=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(D){let B=A[D];return B===void 0&&(B=new $v,A[D]=B),B.getTargetRaySpace()},this.getControllerGrip=function(D){let B=A[D];return B===void 0&&(B=new $v,A[D]=B),B.getGripSpace()},this.getHand=function(D){let B=A[D];return B===void 0&&(B=new $v,A[D]=B),B.getHandSpace()};function O(D){const B=E.indexOf(D.inputSource);if(B===-1)return;const ee=A[B];ee!==void 0&&(ee.update(D.inputSource,D.frame,d||o),ee.dispatchEvent({type:D.type,data:D.inputSource}))}function Q(){i.removeEventListener("select",O),i.removeEventListener("selectstart",O),i.removeEventListener("selectend",O),i.removeEventListener("squeeze",O),i.removeEventListener("squeezestart",O),i.removeEventListener("squeezeend",O),i.removeEventListener("end",Q),i.removeEventListener("inputsourceschange",q);for(let D=0;D<A.length;D++){const B=E[D];B!==null&&(E[D]=null,A[D].disconnect(B))}V=null,U=null,e.setRenderTarget(_),v=null,y=null,m=null,i=null,S=null,G.stop(),n.isPresenting=!1,n.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(D){s=D,n.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(D){l=D,n.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return d||o},this.setReferenceSpace=function(D){d=D},this.getBaseLayer=function(){return y!==null?y:v},this.getBinding=function(){return m},this.getFrame=function(){return C},this.getSession=function(){return i},this.setSession=async function(D){if(i=D,i!==null){if(_=e.getRenderTarget(),i.addEventListener("select",O),i.addEventListener("selectstart",O),i.addEventListener("selectend",O),i.addEventListener("squeeze",O),i.addEventListener("squeezestart",O),i.addEventListener("squeezeend",O),i.addEventListener("end",Q),i.addEventListener("inputsourceschange",q),b.xrCompatible!==!0&&await t.makeXRCompatible(),i.renderState.layers===void 0||e.capabilities.isWebGL2===!1){const B={antialias:i.renderState.layers===void 0?b.antialias:!0,alpha:!0,depth:b.depth,stencil:b.stencil,framebufferScaleFactor:s};v=new XRWebGLLayer(i,t,B),i.updateRenderState({baseLayer:v}),S=new Po(v.framebufferWidth,v.framebufferHeight,{format:cs,type:ea,colorSpace:e.outputColorSpace,stencilBuffer:b.stencil})}else{let B=null,ee=null,ie=null;b.depth&&(ie=b.stencil?t.DEPTH24_STENCIL8:t.DEPTH_COMPONENT24,B=b.stencil?hu:jl,ee=b.stencil?Wl:Ga);const se={colorFormat:t.RGBA8,depthFormat:ie,scaleFactor:s};m=new XRWebGLBinding(i,t),y=m.createProjectionLayer(se),i.updateRenderState({layers:[y]}),S=new Po(y.textureWidth,y.textureHeight,{format:cs,type:ea,depthTexture:new xE(y.textureWidth,y.textureHeight,ee,void 0,void 0,void 0,void 0,void 0,void 0,B),stencilBuffer:b.stencil,colorSpace:e.outputColorSpace,samples:b.antialias?4:0});const pe=e.properties.get(S);pe.__ignoreDepthValues=y.ignoreDepthValues}S.isXRRenderTarget=!0,this.setFoveation(c),d=null,o=await i.requestReferenceSpace(l),G.setContext(i),G.start(),n.isPresenting=!0,n.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(i!==null)return i.environmentBlendMode};function q(D){for(let B=0;B<D.removed.length;B++){const ee=D.removed[B],ie=E.indexOf(ee);ie>=0&&(E[ie]=null,A[ie].disconnect(ee))}for(let B=0;B<D.added.length;B++){const ee=D.added[B];let ie=E.indexOf(ee);if(ie===-1){for(let pe=0;pe<A.length;pe++)if(pe>=E.length){E.push(ee),ie=pe;break}else if(E[pe]===null){E[pe]=ee,ie=pe;break}if(ie===-1)break}const se=A[ie];se&&se.connect(ee)}}const te=new $,X=new $;function le(D,B,ee){te.setFromMatrixPosition(B.matrixWorld),X.setFromMatrixPosition(ee.matrixWorld);const ie=te.distanceTo(X),se=B.projectionMatrix.elements,pe=ee.projectionMatrix.elements,me=se[14]/(se[10]-1),ve=se[14]/(se[10]+1),ke=(se[9]+1)/se[5],$e=(se[9]-1)/se[5],Re=(se[8]-1)/se[0],Z=(pe[8]+1)/pe[0],Oe=me*Re,Ce=me*Z,Ne=ie/(-Re+Z),Ee=Ne*-Re;B.matrixWorld.decompose(D.position,D.quaternion,D.scale),D.translateX(Ee),D.translateZ(Ne),D.matrixWorld.compose(D.position,D.quaternion,D.scale),D.matrixWorldInverse.copy(D.matrixWorld).invert();const rt=me+Ne,Ae=ve+Ne,We=Oe-Ee,Ke=Ce+(ie-Ee),Me=ke*ve/Ae*rt,ht=$e*ve/Ae*rt;D.projectionMatrix.makePerspective(We,Ke,Me,ht,rt,Ae),D.projectionMatrixInverse.copy(D.projectionMatrix).invert()}function re(D,B){B===null?D.matrixWorld.copy(D.matrix):D.matrixWorld.multiplyMatrices(B.matrixWorld,D.matrix),D.matrixWorldInverse.copy(D.matrixWorld).invert()}this.updateCamera=function(D){if(i===null)return;F.near=I.near=P.near=D.near,F.far=I.far=P.far=D.far,(V!==F.near||U!==F.far)&&(i.updateRenderState({depthNear:F.near,depthFar:F.far}),V=F.near,U=F.far);const B=D.parent,ee=F.cameras;re(F,B);for(let ie=0;ie<ee.length;ie++)re(ee[ie],B);ee.length===2?le(F,P,I):F.projectionMatrix.copy(P.projectionMatrix),de(D,F,B)};function de(D,B,ee){ee===null?D.matrix.copy(B.matrixWorld):(D.matrix.copy(ee.matrixWorld),D.matrix.invert(),D.matrix.multiply(B.matrixWorld)),D.matrix.decompose(D.position,D.quaternion,D.scale),D.updateMatrixWorld(!0),D.projectionMatrix.copy(B.projectionMatrix),D.projectionMatrixInverse.copy(B.projectionMatrixInverse),D.isPerspectiveCamera&&(D.fov=of*2*Math.atan(1/D.projectionMatrix.elements[5]),D.zoom=1)}this.getCamera=function(){return F},this.getFoveation=function(){if(!(y===null&&v===null))return c},this.setFoveation=function(D){c=D,y!==null&&(y.fixedFoveation=D),v!==null&&v.fixedFoveation!==void 0&&(v.fixedFoveation=D)};let j=null;function Y(D,B){if(h=B.getViewerPose(d||o),C=B,h!==null){const ee=h.views;v!==null&&(e.setRenderTargetFramebuffer(S,v.framebuffer),e.setRenderTarget(S));let ie=!1;ee.length!==F.cameras.length&&(F.cameras.length=0,ie=!0);for(let se=0;se<ee.length;se++){const pe=ee[se];let me=null;if(v!==null)me=v.getViewport(pe);else{const ke=m.getViewSubImage(y,pe);me=ke.viewport,se===0&&(e.setRenderTargetTextures(S,ke.colorTexture,y.ignoreDepthValues?void 0:ke.depthStencilTexture),e.setRenderTarget(S))}let ve=k[se];ve===void 0&&(ve=new xr,ve.layers.enable(se),ve.viewport=new xn,k[se]=ve),ve.matrix.fromArray(pe.transform.matrix),ve.matrix.decompose(ve.position,ve.quaternion,ve.scale),ve.projectionMatrix.fromArray(pe.projectionMatrix),ve.projectionMatrixInverse.copy(ve.projectionMatrix).invert(),ve.viewport.set(me.x,me.y,me.width,me.height),se===0&&(F.matrix.copy(ve.matrix),F.matrix.decompose(F.position,F.quaternion,F.scale)),ie===!0&&F.cameras.push(ve)}}for(let ee=0;ee<A.length;ee++){const ie=E[ee],se=A[ee];ie!==null&&se!==void 0&&se.update(ie,B,d||o)}j&&j(D,B),B.detectedPlanes&&n.dispatchEvent({type:"planesdetected",data:B}),C=null}const G=new fE;G.setAnimationLoop(Y),this.setAnimationLoop=function(D){j=D},this.dispose=function(){}}}function eF(r,e){function t(_,S){_.matrixAutoUpdate===!0&&_.updateMatrix(),S.value.copy(_.matrix)}function n(_,S){S.color.getRGB(_.fogColor.value,cE(r)),S.isFog?(_.fogNear.value=S.near,_.fogFar.value=S.far):S.isFogExp2&&(_.fogDensity.value=S.density)}function i(_,S,A,E,P){S.isMeshBasicMaterial||S.isMeshLambertMaterial?s(_,S):S.isMeshToonMaterial?(s(_,S),m(_,S)):S.isMeshPhongMaterial?(s(_,S),h(_,S)):S.isMeshStandardMaterial?(s(_,S),y(_,S),S.isMeshPhysicalMaterial&&v(_,S,P)):S.isMeshMatcapMaterial?(s(_,S),C(_,S)):S.isMeshDepthMaterial?s(_,S):S.isMeshDistanceMaterial?(s(_,S),b(_,S)):S.isMeshNormalMaterial?s(_,S):S.isLineBasicMaterial?(o(_,S),S.isLineDashedMaterial&&l(_,S)):S.isPointsMaterial?c(_,S,A,E):S.isSpriteMaterial?d(_,S):S.isShadowMaterial?(_.color.value.copy(S.color),_.opacity.value=S.opacity):S.isShaderMaterial&&(S.uniformsNeedUpdate=!1)}function s(_,S){_.opacity.value=S.opacity,S.color&&_.diffuse.value.copy(S.color),S.emissive&&_.emissive.value.copy(S.emissive).multiplyScalar(S.emissiveIntensity),S.map&&(_.map.value=S.map,t(S.map,_.mapTransform)),S.alphaMap&&(_.alphaMap.value=S.alphaMap,t(S.alphaMap,_.alphaMapTransform)),S.bumpMap&&(_.bumpMap.value=S.bumpMap,t(S.bumpMap,_.bumpMapTransform),_.bumpScale.value=S.bumpScale,S.side===ji&&(_.bumpScale.value*=-1)),S.normalMap&&(_.normalMap.value=S.normalMap,t(S.normalMap,_.normalMapTransform),_.normalScale.value.copy(S.normalScale),S.side===ji&&_.normalScale.value.negate()),S.displacementMap&&(_.displacementMap.value=S.displacementMap,t(S.displacementMap,_.displacementMapTransform),_.displacementScale.value=S.displacementScale,_.displacementBias.value=S.displacementBias),S.emissiveMap&&(_.emissiveMap.value=S.emissiveMap,t(S.emissiveMap,_.emissiveMapTransform)),S.specularMap&&(_.specularMap.value=S.specularMap,t(S.specularMap,_.specularMapTransform)),S.alphaTest>0&&(_.alphaTest.value=S.alphaTest);const A=e.get(S).envMap;if(A&&(_.envMap.value=A,_.flipEnvMap.value=A.isCubeTexture&&A.isRenderTargetTexture===!1?-1:1,_.reflectivity.value=S.reflectivity,_.ior.value=S.ior,_.refractionRatio.value=S.refractionRatio),S.lightMap){_.lightMap.value=S.lightMap;const E=r._useLegacyLights===!0?Math.PI:1;_.lightMapIntensity.value=S.lightMapIntensity*E,t(S.lightMap,_.lightMapTransform)}S.aoMap&&(_.aoMap.value=S.aoMap,_.aoMapIntensity.value=S.aoMapIntensity,t(S.aoMap,_.aoMapTransform))}function o(_,S){_.diffuse.value.copy(S.color),_.opacity.value=S.opacity,S.map&&(_.map.value=S.map,t(S.map,_.mapTransform))}function l(_,S){_.dashSize.value=S.dashSize,_.totalSize.value=S.dashSize+S.gapSize,_.scale.value=S.scale}function c(_,S,A,E){_.diffuse.value.copy(S.color),_.opacity.value=S.opacity,_.size.value=S.size*A,_.scale.value=E*.5,S.map&&(_.map.value=S.map,t(S.map,_.uvTransform)),S.alphaMap&&(_.alphaMap.value=S.alphaMap,t(S.alphaMap,_.alphaMapTransform)),S.alphaTest>0&&(_.alphaTest.value=S.alphaTest)}function d(_,S){_.diffuse.value.copy(S.color),_.opacity.value=S.opacity,_.rotation.value=S.rotation,S.map&&(_.map.value=S.map,t(S.map,_.mapTransform)),S.alphaMap&&(_.alphaMap.value=S.alphaMap,t(S.alphaMap,_.alphaMapTransform)),S.alphaTest>0&&(_.alphaTest.value=S.alphaTest)}function h(_,S){_.specular.value.copy(S.specular),_.shininess.value=Math.max(S.shininess,1e-4)}function m(_,S){S.gradientMap&&(_.gradientMap.value=S.gradientMap)}function y(_,S){_.metalness.value=S.metalness,S.metalnessMap&&(_.metalnessMap.value=S.metalnessMap,t(S.metalnessMap,_.metalnessMapTransform)),_.roughness.value=S.roughness,S.roughnessMap&&(_.roughnessMap.value=S.roughnessMap,t(S.roughnessMap,_.roughnessMapTransform)),e.get(S).envMap&&(_.envMapIntensity.value=S.envMapIntensity)}function v(_,S,A){_.ior.value=S.ior,S.sheen>0&&(_.sheenColor.value.copy(S.sheenColor).multiplyScalar(S.sheen),_.sheenRoughness.value=S.sheenRoughness,S.sheenColorMap&&(_.sheenColorMap.value=S.sheenColorMap,t(S.sheenColorMap,_.sheenColorMapTransform)),S.sheenRoughnessMap&&(_.sheenRoughnessMap.value=S.sheenRoughnessMap,t(S.sheenRoughnessMap,_.sheenRoughnessMapTransform))),S.clearcoat>0&&(_.clearcoat.value=S.clearcoat,_.clearcoatRoughness.value=S.clearcoatRoughness,S.clearcoatMap&&(_.clearcoatMap.value=S.clearcoatMap,t(S.clearcoatMap,_.clearcoatMapTransform)),S.clearcoatRoughnessMap&&(_.clearcoatRoughnessMap.value=S.clearcoatRoughnessMap,t(S.clearcoatRoughnessMap,_.clearcoatRoughnessMapTransform)),S.clearcoatNormalMap&&(_.clearcoatNormalMap.value=S.clearcoatNormalMap,t(S.clearcoatNormalMap,_.clearcoatNormalMapTransform),_.clearcoatNormalScale.value.copy(S.clearcoatNormalScale),S.side===ji&&_.clearcoatNormalScale.value.negate())),S.iridescence>0&&(_.iridescence.value=S.iridescence,_.iridescenceIOR.value=S.iridescenceIOR,_.iridescenceThicknessMinimum.value=S.iridescenceThicknessRange[0],_.iridescenceThicknessMaximum.value=S.iridescenceThicknessRange[1],S.iridescenceMap&&(_.iridescenceMap.value=S.iridescenceMap,t(S.iridescenceMap,_.iridescenceMapTransform)),S.iridescenceThicknessMap&&(_.iridescenceThicknessMap.value=S.iridescenceThicknessMap,t(S.iridescenceThicknessMap,_.iridescenceThicknessMapTransform))),S.transmission>0&&(_.transmission.value=S.transmission,_.transmissionSamplerMap.value=A.texture,_.transmissionSamplerSize.value.set(A.width,A.height),S.transmissionMap&&(_.transmissionMap.value=S.transmissionMap,t(S.transmissionMap,_.transmissionMapTransform)),_.thickness.value=S.thickness,S.thicknessMap&&(_.thicknessMap.value=S.thicknessMap,t(S.thicknessMap,_.thicknessMapTransform)),_.attenuationDistance.value=S.attenuationDistance,_.attenuationColor.value.copy(S.attenuationColor)),S.anisotropy>0&&(_.anisotropyVector.value.set(S.anisotropy*Math.cos(S.anisotropyRotation),S.anisotropy*Math.sin(S.anisotropyRotation)),S.anisotropyMap&&(_.anisotropyMap.value=S.anisotropyMap,t(S.anisotropyMap,_.anisotropyMapTransform))),_.specularIntensity.value=S.specularIntensity,_.specularColor.value.copy(S.specularColor),S.specularColorMap&&(_.specularColorMap.value=S.specularColorMap,t(S.specularColorMap,_.specularColorMapTransform)),S.specularIntensityMap&&(_.specularIntensityMap.value=S.specularIntensityMap,t(S.specularIntensityMap,_.specularIntensityMapTransform))}function C(_,S){S.matcap&&(_.matcap.value=S.matcap)}function b(_,S){const A=e.get(S).light;_.referencePosition.value.setFromMatrixPosition(A.matrixWorld),_.nearDistance.value=A.shadow.camera.near,_.farDistance.value=A.shadow.camera.far}return{refreshFogUniforms:n,refreshMaterialUniforms:i}}function tF(r,e,t,n){let i={},s={},o=[];const l=t.isWebGL2?r.getParameter(r.MAX_UNIFORM_BUFFER_BINDINGS):0;function c(A,E){const P=E.program;n.uniformBlockBinding(A,P)}function d(A,E){let P=i[A.id];P===void 0&&(C(A),P=h(A),i[A.id]=P,A.addEventListener("dispose",_));const I=E.program;n.updateUBOMapping(A,I);const k=e.render.frame;s[A.id]!==k&&(y(A),s[A.id]=k)}function h(A){const E=m();A.__bindingPointIndex=E;const P=r.createBuffer(),I=A.__size,k=A.usage;return r.bindBuffer(r.UNIFORM_BUFFER,P),r.bufferData(r.UNIFORM_BUFFER,I,k),r.bindBuffer(r.UNIFORM_BUFFER,null),r.bindBufferBase(r.UNIFORM_BUFFER,E,P),P}function m(){for(let A=0;A<l;A++)if(o.indexOf(A)===-1)return o.push(A),A;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function y(A){const E=i[A.id],P=A.uniforms,I=A.__cache;r.bindBuffer(r.UNIFORM_BUFFER,E);for(let k=0,F=P.length;k<F;k++){const V=P[k];if(v(V,k,I)===!0){const U=V.__offset,O=Array.isArray(V.value)?V.value:[V.value];let Q=0;for(let q=0;q<O.length;q++){const te=O[q],X=b(te);typeof te=="number"?(V.__data[0]=te,r.bufferSubData(r.UNIFORM_BUFFER,U+Q,V.__data)):te.isMatrix3?(V.__data[0]=te.elements[0],V.__data[1]=te.elements[1],V.__data[2]=te.elements[2],V.__data[3]=te.elements[0],V.__data[4]=te.elements[3],V.__data[5]=te.elements[4],V.__data[6]=te.elements[5],V.__data[7]=te.elements[0],V.__data[8]=te.elements[6],V.__data[9]=te.elements[7],V.__data[10]=te.elements[8],V.__data[11]=te.elements[0]):(te.toArray(V.__data,Q),Q+=X.storage/Float32Array.BYTES_PER_ELEMENT)}r.bufferSubData(r.UNIFORM_BUFFER,U,V.__data)}}r.bindBuffer(r.UNIFORM_BUFFER,null)}function v(A,E,P){const I=A.value;if(P[E]===void 0){if(typeof I=="number")P[E]=I;else{const k=Array.isArray(I)?I:[I],F=[];for(let V=0;V<k.length;V++)F.push(k[V].clone());P[E]=F}return!0}else if(typeof I=="number"){if(P[E]!==I)return P[E]=I,!0}else{const k=Array.isArray(P[E])?P[E]:[P[E]],F=Array.isArray(I)?I:[I];for(let V=0;V<k.length;V++){const U=k[V];if(U.equals(F[V])===!1)return U.copy(F[V]),!0}}return!1}function C(A){const E=A.uniforms;let P=0;const I=16;let k=0;for(let F=0,V=E.length;F<V;F++){const U=E[F],O={boundary:0,storage:0},Q=Array.isArray(U.value)?U.value:[U.value];for(let q=0,te=Q.length;q<te;q++){const X=Q[q],le=b(X);O.boundary+=le.boundary,O.storage+=le.storage}if(U.__data=new Float32Array(O.storage/Float32Array.BYTES_PER_ELEMENT),U.__offset=P,F>0){k=P%I;const q=I-k;k!==0&&q-O.boundary<0&&(P+=I-k,U.__offset=P)}P+=O.storage}return k=P%I,k>0&&(P+=I-k),A.__size=P,A.__cache={},this}function b(A){const E={boundary:0,storage:0};return typeof A=="number"?(E.boundary=4,E.storage=4):A.isVector2?(E.boundary=8,E.storage=8):A.isVector3||A.isColor?(E.boundary=16,E.storage=12):A.isVector4?(E.boundary=16,E.storage=16):A.isMatrix3?(E.boundary=48,E.storage=48):A.isMatrix4?(E.boundary=64,E.storage=64):A.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",A),E}function _(A){const E=A.target;E.removeEventListener("dispose",_);const P=o.indexOf(E.__bindingPointIndex);o.splice(P,1),r.deleteBuffer(i[E.id]),delete i[E.id],delete s[E.id]}function S(){for(const A in i)r.deleteBuffer(i[A]);o=[],i={},s={}}return{bind:c,update:d,dispose:S}}class Lx{constructor(e={}){const{canvas:t=oE(),context:n=null,depth:i=!0,stencil:s=!0,alpha:o=!1,antialias:l=!1,premultipliedAlpha:c=!0,preserveDrawingBuffer:d=!1,powerPreference:h="default",failIfMajorPerformanceCaveat:m=!1}=e;this.isWebGLRenderer=!0;let y;n!==null?y=n.getContextAttributes().alpha:y=o;const v=new Uint32Array(4),C=new Int32Array(4);let b=null,_=null;const S=[],A=[];this.domElement=t,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=Xr,this._useLegacyLights=!1,this.toneMapping=$o,this.toneMappingExposure=1;const E=this;let P=!1,I=0,k=0,F=null,V=-1,U=null;const O=new xn,Q=new xn;let q=null;const te=new wt(0);let X=0,le=t.width,re=t.height,de=1,j=null,Y=null;const G=new xn(0,0,le,re),D=new xn(0,0,le,re);let B=!1;const ee=new fy;let ie=!1,se=!1,pe=null;const me=new Zt,ve=new qe,ke=new $,$e={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function Re(){return F===null?de:1}let Z=n;function Oe(J,we){for(let Ie=0;Ie<J.length;Ie++){const Fe=J[Ie],Be=t.getContext(Fe,we);if(Be!==null)return Be}return null}try{const J={alpha:!0,depth:i,stencil:s,antialias:l,premultipliedAlpha:c,preserveDrawingBuffer:d,powerPreference:h,failIfMajorPerformanceCaveat:m};if("setAttribute"in t&&t.setAttribute("data-engine",`three.js r${sy}`),t.addEventListener("webglcontextlost",nt,!1),t.addEventListener("webglcontextrestored",ce,!1),t.addEventListener("webglcontextcreationerror",ot,!1),Z===null){const we=["webgl2","webgl","experimental-webgl"];if(E.isWebGL1Renderer===!0&&we.shift(),Z=Oe(we,J),Z===null)throw Oe(we)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}typeof WebGLRenderingContext<"u"&&Z instanceof WebGLRenderingContext&&console.warn("THREE.WebGLRenderer: WebGL 1 support was deprecated in r153 and will be removed in r163."),Z.getShaderPrecisionFormat===void 0&&(Z.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(J){throw console.error("THREE.WebGLRenderer: "+J.message),J}let Ce,Ne,Ee,rt,Ae,We,Ke,Me,ht,K,H,fe,Ye,Se,Le,tt,Xe,et,gt,yt,Ve,lt,oe,Te;function Je(){Ce=new gN(Z),Ne=new uN(Z,Ce,e),Ce.init(Ne),lt=new yE(Z,Ce,Ne),Ee=new ZO(Z,Ce,Ne),rt=new xN(Z),Ae=new FO,We=new JO(Z,Ce,Ee,Ae,Ne,lt,rt),Ke=new fN(E),Me=new mN(E),ht=new PI(Z,Ne),oe=new lN(Z,Ce,ht,Ne),K=new yN(Z,ht,rt,oe),H=new SN(Z,K,ht,rt),gt=new _N(Z,Ne,We),tt=new dN(Ae),fe=new OO(E,Ke,Me,Ce,Ne,oe,tt),Ye=new eF(E,Ae),Se=new zO,Le=new XO(Ce,Ne),et=new aN(E,Ke,Me,Ee,H,y,c),Xe=new KO(E,H,Ne),Te=new tF(Z,rt,Ne,Ee),yt=new cN(Z,Ce,rt,Ne),Ve=new vN(Z,Ce,rt,Ne),rt.programs=fe.programs,E.capabilities=Ne,E.extensions=Ce,E.properties=Ae,E.renderLists=Se,E.shadowMap=Xe,E.state=Ee,E.info=rt}Je();const Ge=new $O(E,Z);this.xr=Ge,this.getContext=function(){return Z},this.getContextAttributes=function(){return Z.getContextAttributes()},this.forceContextLoss=function(){const J=Ce.get("WEBGL_lose_context");J&&J.loseContext()},this.forceContextRestore=function(){const J=Ce.get("WEBGL_lose_context");J&&J.restoreContext()},this.getPixelRatio=function(){return de},this.setPixelRatio=function(J){J!==void 0&&(de=J,this.setSize(le,re,!1))},this.getSize=function(J){return J.set(le,re)},this.setSize=function(J,we,Ie=!0){if(Ge.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}le=J,re=we,t.width=Math.floor(J*de),t.height=Math.floor(we*de),Ie===!0&&(t.style.width=J+"px",t.style.height=we+"px"),this.setViewport(0,0,J,we)},this.getDrawingBufferSize=function(J){return J.set(le*de,re*de).floor()},this.setDrawingBufferSize=function(J,we,Ie){le=J,re=we,de=Ie,t.width=Math.floor(J*Ie),t.height=Math.floor(we*Ie),this.setViewport(0,0,J,we)},this.getCurrentViewport=function(J){return J.copy(O)},this.getViewport=function(J){return J.copy(G)},this.setViewport=function(J,we,Ie,Fe){J.isVector4?G.set(J.x,J.y,J.z,J.w):G.set(J,we,Ie,Fe),Ee.viewport(O.copy(G).multiplyScalar(de).floor())},this.getScissor=function(J){return J.copy(D)},this.setScissor=function(J,we,Ie,Fe){J.isVector4?D.set(J.x,J.y,J.z,J.w):D.set(J,we,Ie,Fe),Ee.scissor(Q.copy(D).multiplyScalar(de).floor())},this.getScissorTest=function(){return B},this.setScissorTest=function(J){Ee.setScissorTest(B=J)},this.setOpaqueSort=function(J){j=J},this.setTransparentSort=function(J){Y=J},this.getClearColor=function(J){return J.copy(et.getClearColor())},this.setClearColor=function(){et.setClearColor.apply(et,arguments)},this.getClearAlpha=function(){return et.getClearAlpha()},this.setClearAlpha=function(){et.setClearAlpha.apply(et,arguments)},this.clear=function(J=!0,we=!0,Ie=!0){let Fe=0;if(J){let Be=!1;if(F!==null){const xt=F.texture.format;Be=xt===wx||xt===Cx||xt===xx}if(Be){const xt=F.texture.type,Pt=xt===ea||xt===Ga||xt===ly||xt===Wl||xt===yx||xt===vx,Nt=et.getClearColor(),je=et.getClearAlpha(),Bt=Nt.r,zt=Nt.g,Ot=Nt.b;Pt?(v[0]=Bt,v[1]=zt,v[2]=Ot,v[3]=je,Z.clearBufferuiv(Z.COLOR,0,v)):(C[0]=Bt,C[1]=zt,C[2]=Ot,C[3]=je,Z.clearBufferiv(Z.COLOR,0,C))}else Fe|=Z.COLOR_BUFFER_BIT}we&&(Fe|=Z.DEPTH_BUFFER_BIT),Ie&&(Fe|=Z.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),Z.clear(Fe)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",nt,!1),t.removeEventListener("webglcontextrestored",ce,!1),t.removeEventListener("webglcontextcreationerror",ot,!1),Se.dispose(),Le.dispose(),Ae.dispose(),Ke.dispose(),Me.dispose(),H.dispose(),oe.dispose(),Te.dispose(),fe.dispose(),Ge.dispose(),Ge.removeEventListener("sessionstart",sn),Ge.removeEventListener("sessionend",kt),pe&&(pe.dispose(),pe=null),tn.stop()};function nt(J){J.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),P=!0}function ce(){console.log("THREE.WebGLRenderer: Context Restored."),P=!1;const J=rt.autoReset,we=Xe.enabled,Ie=Xe.autoUpdate,Fe=Xe.needsUpdate,Be=Xe.type;Je(),rt.autoReset=J,Xe.enabled=we,Xe.autoUpdate=Ie,Xe.needsUpdate=Fe,Xe.type=Be}function ot(J){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",J.statusMessage)}function Ze(J){const we=J.target;we.removeEventListener("dispose",Ze),be(we)}function be(J){Qe(J),Ae.remove(J)}function Qe(J){const we=Ae.get(J).programs;we!==void 0&&(we.forEach(function(Ie){fe.releaseProgram(Ie)}),J.isShaderMaterial&&fe.releaseShaderCache(J))}this.renderBufferDirect=function(J,we,Ie,Fe,Be,xt){we===null&&(we=$e);const Pt=Be.isMesh&&Be.matrixWorld.determinant()<0,Nt=$a(J,we,Ie,Fe,Be);Ee.setMaterial(Fe,Pt);let je=Ie.index,Bt=1;if(Fe.wireframe===!0){if(je=K.getWireframeAttribute(Ie),je===void 0)return;Bt=2}const zt=Ie.drawRange,Ot=Ie.attributes.position;let fn=zt.start*Bt,nr=(zt.start+zt.count)*Bt;xt!==null&&(fn=Math.max(fn,xt.start*Bt),nr=Math.min(nr,(xt.start+xt.count)*Bt)),je!==null?(fn=Math.max(fn,0),nr=Math.min(nr,je.count)):Ot!=null&&(fn=Math.max(fn,0),nr=Math.min(nr,Ot.count));const gn=nr-fn;if(gn<0||gn===1/0)return;oe.setup(Be,Fe,Nt,Ie,je);let En,At=yt;if(je!==null&&(En=ht.get(je),At=Ve,At.setIndex(En)),Be.isMesh)Fe.wireframe===!0?(Ee.setLineWidth(Fe.wireframeLinewidth*Re()),At.setMode(Z.LINES)):At.setMode(Z.TRIANGLES);else if(Be.isLine){let bt=Fe.linewidth;bt===void 0&&(bt=1),Ee.setLineWidth(bt*Re()),Be.isLineSegments?At.setMode(Z.LINES):Be.isLineLoop?At.setMode(Z.LINE_LOOP):At.setMode(Z.LINE_STRIP)}else Be.isPoints?At.setMode(Z.POINTS):Be.isSprite&&At.setMode(Z.TRIANGLES);if(Be.isInstancedMesh)At.renderInstances(fn,gn,Be.count);else if(Ie.isInstancedBufferGeometry){const bt=Ie._maxInstanceCount!==void 0?Ie._maxInstanceCount:1/0,Sn=Math.min(Ie.instanceCount,bt);At.renderInstances(fn,gn,Sn)}else At.render(fn,gn)};function ft(J,we,Ie){J.transparent===!0&&J.side===To&&J.forceSinglePass===!1?(J.side=ji,J.needsUpdate=!0,_r(J,we,Ie),J.side=qa,J.needsUpdate=!0,_r(J,we,Ie),J.side=To):_r(J,we,Ie)}this.compile=function(J,we,Ie=null){Ie===null&&(Ie=J),_=Le.get(Ie),_.init(),A.push(_),Ie.traverseVisible(function(Be){Be.isLight&&Be.layers.test(we.layers)&&(_.pushLight(Be),Be.castShadow&&_.pushShadow(Be))}),J!==Ie&&J.traverseVisible(function(Be){Be.isLight&&Be.layers.test(we.layers)&&(_.pushLight(Be),Be.castShadow&&_.pushShadow(Be))}),_.setupLights(E._useLegacyLights);const Fe=new Set;return J.traverse(function(Be){const xt=Be.material;if(xt)if(Array.isArray(xt))for(let Pt=0;Pt<xt.length;Pt++){const Nt=xt[Pt];ft(Nt,Ie,Be),Fe.add(Nt)}else ft(xt,Ie,Be),Fe.add(xt)}),A.pop(),_=null,Fe},this.compileAsync=function(J,we,Ie=null){const Fe=this.compile(J,we,Ie);return new Promise(Be=>{function xt(){if(Fe.forEach(function(Pt){Ae.get(Pt).currentProgram.isReady()&&Fe.delete(Pt)}),Fe.size===0){Be(J);return}setTimeout(xt,10)}Ce.get("KHR_parallel_shader_compile")!==null?xt():setTimeout(xt,10)})};let pt=null;function Ut(J){pt&&pt(J)}function sn(){tn.stop()}function kt(){tn.start()}const tn=new fE;tn.setAnimationLoop(Ut),typeof self<"u"&&tn.setContext(self),this.setAnimationLoop=function(J){pt=J,Ge.setAnimationLoop(J),J===null?tn.stop():tn.start()},Ge.addEventListener("sessionstart",sn),Ge.addEventListener("sessionend",kt),this.render=function(J,we){if(we!==void 0&&we.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(P===!0)return;J.matrixWorldAutoUpdate===!0&&J.updateMatrixWorld(),we.parent===null&&we.matrixWorldAutoUpdate===!0&&we.updateMatrixWorld(),Ge.enabled===!0&&Ge.isPresenting===!0&&(Ge.cameraAutoUpdate===!0&&Ge.updateCamera(we),we=Ge.getCamera()),J.isScene===!0&&J.onBeforeRender(E,J,we,F),_=Le.get(J,A.length),_.init(),A.push(_),me.multiplyMatrices(we.projectionMatrix,we.matrixWorldInverse),ee.setFromProjectionMatrix(me),se=this.localClippingEnabled,ie=tt.init(this.clippingPlanes,se),b=Se.get(J,S.length),b.init(),S.push(b),Cn(J,we,0,E.sortObjects),b.finish(),E.sortObjects===!0&&b.sort(j,Y),this.info.render.frame++,ie===!0&&tt.beginShadows();const Ie=_.state.shadowsArray;if(Xe.render(Ie,J,we),ie===!0&&tt.endShadows(),this.info.autoReset===!0&&this.info.reset(),et.render(b,J),_.setupLights(E._useLegacyLights),we.isArrayCamera){const Fe=we.cameras;for(let Be=0,xt=Fe.length;Be<xt;Be++){const Pt=Fe[Be];pi(b,J,Pt,Pt.viewport)}}else pi(b,J,we);F!==null&&(We.updateMultisampleRenderTarget(F),We.updateRenderTargetMipmap(F)),J.isScene===!0&&J.onAfterRender(E,J,we),oe.resetDefaultState(),V=-1,U=null,A.pop(),A.length>0?_=A[A.length-1]:_=null,S.pop(),S.length>0?b=S[S.length-1]:b=null};function Cn(J,we,Ie,Fe){if(J.visible===!1)return;if(J.layers.test(we.layers)){if(J.isGroup)Ie=J.renderOrder;else if(J.isLOD)J.autoUpdate===!0&&J.update(we);else if(J.isLight)_.pushLight(J),J.castShadow&&_.pushShadow(J);else if(J.isSprite){if(!J.frustumCulled||ee.intersectsSprite(J)){Fe&&ke.setFromMatrixPosition(J.matrixWorld).applyMatrix4(me);const Pt=H.update(J),Nt=J.material;Nt.visible&&b.push(J,Pt,Nt,Ie,ke.z,null)}}else if((J.isMesh||J.isLine||J.isPoints)&&(!J.frustumCulled||ee.intersectsObject(J))){const Pt=H.update(J),Nt=J.material;if(Fe&&(J.boundingSphere!==void 0?(J.boundingSphere===null&&J.computeBoundingSphere(),ke.copy(J.boundingSphere.center)):(Pt.boundingSphere===null&&Pt.computeBoundingSphere(),ke.copy(Pt.boundingSphere.center)),ke.applyMatrix4(J.matrixWorld).applyMatrix4(me)),Array.isArray(Nt)){const je=Pt.groups;for(let Bt=0,zt=je.length;Bt<zt;Bt++){const Ot=je[Bt],fn=Nt[Ot.materialIndex];fn&&fn.visible&&b.push(J,Pt,fn,Ie,ke.z,Ot)}}else Nt.visible&&b.push(J,Pt,Nt,Ie,ke.z,null)}}const xt=J.children;for(let Pt=0,Nt=xt.length;Pt<Nt;Pt++)Cn(xt[Pt],we,Ie,Fe)}function pi(J,we,Ie,Fe){const Be=J.opaque,xt=J.transmissive,Pt=J.transparent;_.setupLightsView(Ie),ie===!0&&tt.setGlobalState(E.clippingPlanes,Ie),xt.length>0&&ur(Be,xt,we,Ie),Fe&&Ee.viewport(O.copy(Fe)),Be.length>0&&wr(Be,we,Ie),xt.length>0&&wr(xt,we,Ie),Pt.length>0&&wr(Pt,we,Ie),Ee.buffers.depth.setTest(!0),Ee.buffers.depth.setMask(!0),Ee.buffers.color.setMask(!0),Ee.setPolygonOffset(!1)}function ur(J,we,Ie,Fe){if((Ie.isScene===!0?Ie.overrideMaterial:null)!==null)return;const xt=Ne.isWebGL2;pe===null&&(pe=new Po(1,1,{generateMipmaps:!0,type:Ce.has("EXT_color_buffer_half_float")?sf:ea,minFilter:Jl,samples:xt?4:0})),E.getDrawingBufferSize(ve),xt?pe.setSize(ve.x,ve.y):pe.setSize(jg(ve.x),jg(ve.y));const Pt=E.getRenderTarget();E.setRenderTarget(pe),E.getClearColor(te),X=E.getClearAlpha(),X<1&&E.setClearColor(16777215,.5),E.clear();const Nt=E.toneMapping;E.toneMapping=$o,wr(J,Ie,Fe),We.updateMultisampleRenderTarget(pe),We.updateRenderTargetMipmap(pe);let je=!1;for(let Bt=0,zt=we.length;Bt<zt;Bt++){const Ot=we[Bt],fn=Ot.object,nr=Ot.geometry,gn=Ot.material,En=Ot.group;if(gn.side===To&&fn.layers.test(Fe.layers)){const At=gn.side;gn.side=ji,gn.needsUpdate=!0,dr(fn,Ie,Fe,nr,gn,En),gn.side=At,gn.needsUpdate=!0,je=!0}}je===!0&&(We.updateMultisampleRenderTarget(pe),We.updateRenderTargetMipmap(pe)),E.setRenderTarget(Pt),E.setClearColor(te,X),E.toneMapping=Nt}function wr(J,we,Ie){const Fe=we.isScene===!0?we.overrideMaterial:null;for(let Be=0,xt=J.length;Be<xt;Be++){const Pt=J[Be],Nt=Pt.object,je=Pt.geometry,Bt=Fe===null?Pt.material:Fe,zt=Pt.group;Nt.layers.test(Ie.layers)&&dr(Nt,we,Ie,je,Bt,zt)}}function dr(J,we,Ie,Fe,Be,xt){J.onBeforeRender(E,we,Ie,Fe,Be,xt),J.modelViewMatrix.multiplyMatrices(Ie.matrixWorldInverse,J.matrixWorld),J.normalMatrix.getNormalMatrix(J.modelViewMatrix),Be.onBeforeRender(E,we,Ie,Fe,J,xt),Be.transparent===!0&&Be.side===To&&Be.forceSinglePass===!1?(Be.side=ji,Be.needsUpdate=!0,E.renderBufferDirect(Ie,we,Fe,Be,J,xt),Be.side=qa,Be.needsUpdate=!0,E.renderBufferDirect(Ie,we,Fe,Be,J,xt),Be.side=To):E.renderBufferDirect(Ie,we,Fe,Be,J,xt),J.onAfterRender(E,we,Ie,Fe,Be,xt)}function _r(J,we,Ie){we.isScene!==!0&&(we=$e);const Fe=Ae.get(J),Be=_.state.lights,xt=_.state.shadowsArray,Pt=Be.state.version,Nt=fe.getParameters(J,Be.state,xt,we,Ie),je=fe.getProgramCacheKey(Nt);let Bt=Fe.programs;Fe.environment=J.isMeshStandardMaterial?we.environment:null,Fe.fog=we.fog,Fe.envMap=(J.isMeshStandardMaterial?Me:Ke).get(J.envMap||Fe.environment),Bt===void 0&&(J.addEventListener("dispose",Ze),Bt=new Map,Fe.programs=Bt);let zt=Bt.get(je);if(zt!==void 0){if(Fe.currentProgram===zt&&Fe.lightsStateVersion===Pt)return Yi(J,Nt),zt}else Nt.uniforms=fe.getUniforms(J),J.onBuild(Ie,Nt,E),J.onBeforeCompile(Nt,E),zt=fe.acquireProgram(Nt,je),Bt.set(je,zt),Fe.uniforms=Nt.uniforms;const Ot=Fe.uniforms;return(!J.isShaderMaterial&&!J.isRawShaderMaterial||J.clipping===!0)&&(Ot.clippingPlanes=tt.uniform),Yi(J,Nt),Fe.needsLights=el(J),Fe.lightsStateVersion=Pt,Fe.needsLights&&(Ot.ambientLightColor.value=Be.state.ambient,Ot.lightProbe.value=Be.state.probe,Ot.directionalLights.value=Be.state.directional,Ot.directionalLightShadows.value=Be.state.directionalShadow,Ot.spotLights.value=Be.state.spot,Ot.spotLightShadows.value=Be.state.spotShadow,Ot.rectAreaLights.value=Be.state.rectArea,Ot.ltc_1.value=Be.state.rectAreaLTC1,Ot.ltc_2.value=Be.state.rectAreaLTC2,Ot.pointLights.value=Be.state.point,Ot.pointLightShadows.value=Be.state.pointShadow,Ot.hemisphereLights.value=Be.state.hemi,Ot.directionalShadowMap.value=Be.state.directionalShadowMap,Ot.directionalShadowMatrix.value=Be.state.directionalShadowMatrix,Ot.spotShadowMap.value=Be.state.spotShadowMap,Ot.spotLightMatrix.value=Be.state.spotLightMatrix,Ot.spotLightMap.value=Be.state.spotLightMap,Ot.pointShadowMap.value=Be.state.pointShadowMap,Ot.pointShadowMatrix.value=Be.state.pointShadowMatrix),Fe.currentProgram=zt,Fe.uniformsList=null,zt}function tr(J){if(J.uniformsList===null){const we=J.currentProgram.getUniforms();J.uniformsList=Tg.seqWithValue(we.seq,J.uniforms)}return J.uniformsList}function Yi(J,we){const Ie=Ae.get(J);Ie.outputColorSpace=we.outputColorSpace,Ie.instancing=we.instancing,Ie.instancingColor=we.instancingColor,Ie.skinning=we.skinning,Ie.morphTargets=we.morphTargets,Ie.morphNormals=we.morphNormals,Ie.morphColors=we.morphColors,Ie.morphTargetsCount=we.morphTargetsCount,Ie.numClippingPlanes=we.numClippingPlanes,Ie.numIntersection=we.numClipIntersection,Ie.vertexAlphas=we.vertexAlphas,Ie.vertexTangents=we.vertexTangents,Ie.toneMapping=we.toneMapping}function $a(J,we,Ie,Fe,Be){we.isScene!==!0&&(we=$e),We.resetTextureUnits();const xt=we.fog,Pt=Fe.isMeshStandardMaterial?we.environment:null,Nt=F===null?E.outputColorSpace:F.isXRRenderTarget===!0?F.texture.colorSpace:na,je=(Fe.isMeshStandardMaterial?Me:Ke).get(Fe.envMap||Pt),Bt=Fe.vertexColors===!0&&!!Ie.attributes.color&&Ie.attributes.color.itemSize===4,zt=!!Ie.attributes.tangent&&(!!Fe.normalMap||Fe.anisotropy>0),Ot=!!Ie.morphAttributes.position,fn=!!Ie.morphAttributes.normal,nr=!!Ie.morphAttributes.color;let gn=$o;Fe.toneMapped&&(F===null||F.isXRRenderTarget===!0)&&(gn=E.toneMapping);const En=Ie.morphAttributes.position||Ie.morphAttributes.normal||Ie.morphAttributes.color,At=En!==void 0?En.length:0,bt=Ae.get(Fe),Sn=_.state.lights;if(ie===!0&&(se===!0||J!==U)){const Wn=J===U&&Fe.id===V;tt.setState(Fe,J,Wn)}let Qt=!1;Fe.version===bt.__version?(bt.needsLights&&bt.lightsStateVersion!==Sn.state.version||bt.outputColorSpace!==Nt||Be.isInstancedMesh&&bt.instancing===!1||!Be.isInstancedMesh&&bt.instancing===!0||Be.isSkinnedMesh&&bt.skinning===!1||!Be.isSkinnedMesh&&bt.skinning===!0||Be.isInstancedMesh&&bt.instancingColor===!0&&Be.instanceColor===null||Be.isInstancedMesh&&bt.instancingColor===!1&&Be.instanceColor!==null||bt.envMap!==je||Fe.fog===!0&&bt.fog!==xt||bt.numClippingPlanes!==void 0&&(bt.numClippingPlanes!==tt.numPlanes||bt.numIntersection!==tt.numIntersection)||bt.vertexAlphas!==Bt||bt.vertexTangents!==zt||bt.morphTargets!==Ot||bt.morphNormals!==fn||bt.morphColors!==nr||bt.toneMapping!==gn||Ne.isWebGL2===!0&&bt.morphTargetsCount!==At)&&(Qt=!0):(Qt=!0,bt.__version=Fe.version);let An=bt.currentProgram;Qt===!0&&(An=_r(Fe,we,Be));let Pi=!1,qn=!1,Ln=!1;const hn=An.getUniforms(),Or=bt.uniforms;if(Ee.useProgram(An.program)&&(Pi=!0,qn=!0,Ln=!0),Fe.id!==V&&(V=Fe.id,qn=!0),Pi||U!==J){hn.setValue(Z,"projectionMatrix",J.projectionMatrix),hn.setValue(Z,"viewMatrix",J.matrixWorldInverse);const Wn=hn.map.cameraPosition;Wn!==void 0&&Wn.setValue(Z,ke.setFromMatrixPosition(J.matrixWorld)),Ne.logarithmicDepthBuffer&&hn.setValue(Z,"logDepthBufFC",2/(Math.log(J.far+1)/Math.LN2)),(Fe.isMeshPhongMaterial||Fe.isMeshToonMaterial||Fe.isMeshLambertMaterial||Fe.isMeshBasicMaterial||Fe.isMeshStandardMaterial||Fe.isShaderMaterial)&&hn.setValue(Z,"isOrthographic",J.isOrthographicCamera===!0),U!==J&&(U=J,qn=!0,Ln=!0)}if(Be.isSkinnedMesh){hn.setOptional(Z,Be,"bindMatrix"),hn.setOptional(Z,Be,"bindMatrixInverse");const Wn=Be.skeleton;Wn&&(Ne.floatVertexTextures?(Wn.boneTexture===null&&Wn.computeBoneTexture(),hn.setValue(Z,"boneTexture",Wn.boneTexture,We),hn.setValue(Z,"boneTextureSize",Wn.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const Ls=Ie.morphAttributes;if((Ls.position!==void 0||Ls.normal!==void 0||Ls.color!==void 0&&Ne.isWebGL2===!0)&&gt.update(Be,Ie,An),(qn||bt.receiveShadow!==Be.receiveShadow)&&(bt.receiveShadow=Be.receiveShadow,hn.setValue(Z,"receiveShadow",Be.receiveShadow)),Fe.isMeshGouraudMaterial&&Fe.envMap!==null&&(Or.envMap.value=je,Or.flipEnvMap.value=je.isCubeTexture&&je.isRenderTargetTexture===!1?-1:1),qn&&(hn.setValue(Z,"toneMappingExposure",E.toneMappingExposure),bt.needsLights&&Ti(Or,Ln),xt&&Fe.fog===!0&&Ye.refreshFogUniforms(Or,xt),Ye.refreshMaterialUniforms(Or,Fe,de,re,pe),Tg.upload(Z,tr(bt),Or,We)),Fe.isShaderMaterial&&Fe.uniformsNeedUpdate===!0&&(Tg.upload(Z,tr(bt),Or,We),Fe.uniformsNeedUpdate=!1),Fe.isSpriteMaterial&&hn.setValue(Z,"center",Be.center),hn.setValue(Z,"modelViewMatrix",Be.modelViewMatrix),hn.setValue(Z,"normalMatrix",Be.normalMatrix),hn.setValue(Z,"modelMatrix",Be.matrixWorld),Fe.isShaderMaterial||Fe.isRawShaderMaterial){const Wn=Fe.uniformsGroups;for(let fr=0,Kr=Wn.length;fr<Kr;fr++)if(Ne.isWebGL2){const hs=Wn[fr];Te.update(hs,An),Te.bind(hs,An)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return An}function Ti(J,we){J.ambientLightColor.needsUpdate=we,J.lightProbe.needsUpdate=we,J.directionalLights.needsUpdate=we,J.directionalLightShadows.needsUpdate=we,J.pointLights.needsUpdate=we,J.pointLightShadows.needsUpdate=we,J.spotLights.needsUpdate=we,J.spotLightShadows.needsUpdate=we,J.rectAreaLights.needsUpdate=we,J.hemisphereLights.needsUpdate=we}function el(J){return J.isMeshLambertMaterial||J.isMeshToonMaterial||J.isMeshPhongMaterial||J.isMeshStandardMaterial||J.isShadowMaterial||J.isShaderMaterial&&J.lights===!0}this.getActiveCubeFace=function(){return I},this.getActiveMipmapLevel=function(){return k},this.getRenderTarget=function(){return F},this.setRenderTargetTextures=function(J,we,Ie){Ae.get(J.texture).__webglTexture=we,Ae.get(J.depthTexture).__webglTexture=Ie;const Fe=Ae.get(J);Fe.__hasExternalTextures=!0,Fe.__hasExternalTextures&&(Fe.__autoAllocateDepthBuffer=Ie===void 0,Fe.__autoAllocateDepthBuffer||Ce.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),Fe.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(J,we){const Ie=Ae.get(J);Ie.__webglFramebuffer=we,Ie.__useDefaultFramebuffer=we===void 0},this.setRenderTarget=function(J,we=0,Ie=0){F=J,I=we,k=Ie;let Fe=!0,Be=null,xt=!1,Pt=!1;if(J){const je=Ae.get(J);je.__useDefaultFramebuffer!==void 0?(Ee.bindFramebuffer(Z.FRAMEBUFFER,null),Fe=!1):je.__webglFramebuffer===void 0?We.setupRenderTarget(J):je.__hasExternalTextures&&We.rebindTextures(J,Ae.get(J.texture).__webglTexture,Ae.get(J.depthTexture).__webglTexture);const Bt=J.texture;(Bt.isData3DTexture||Bt.isDataArrayTexture||Bt.isCompressedArrayTexture)&&(Pt=!0);const zt=Ae.get(J).__webglFramebuffer;J.isWebGLCubeRenderTarget?(Array.isArray(zt[we])?Be=zt[we][Ie]:Be=zt[we],xt=!0):Ne.isWebGL2&&J.samples>0&&We.useMultisampledRTT(J)===!1?Be=Ae.get(J).__webglMultisampledFramebuffer:Array.isArray(zt)?Be=zt[Ie]:Be=zt,O.copy(J.viewport),Q.copy(J.scissor),q=J.scissorTest}else O.copy(G).multiplyScalar(de).floor(),Q.copy(D).multiplyScalar(de).floor(),q=B;if(Ee.bindFramebuffer(Z.FRAMEBUFFER,Be)&&Ne.drawBuffers&&Fe&&Ee.drawBuffers(J,Be),Ee.viewport(O),Ee.scissor(Q),Ee.setScissorTest(q),xt){const je=Ae.get(J.texture);Z.framebufferTexture2D(Z.FRAMEBUFFER,Z.COLOR_ATTACHMENT0,Z.TEXTURE_CUBE_MAP_POSITIVE_X+we,je.__webglTexture,Ie)}else if(Pt){const je=Ae.get(J.texture),Bt=we||0;Z.framebufferTextureLayer(Z.FRAMEBUFFER,Z.COLOR_ATTACHMENT0,je.__webglTexture,Ie||0,Bt)}V=-1},this.readRenderTargetPixels=function(J,we,Ie,Fe,Be,xt,Pt){if(!(J&&J.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let Nt=Ae.get(J).__webglFramebuffer;if(J.isWebGLCubeRenderTarget&&Pt!==void 0&&(Nt=Nt[Pt]),Nt){Ee.bindFramebuffer(Z.FRAMEBUFFER,Nt);try{const je=J.texture,Bt=je.format,zt=je.type;if(Bt!==cs&&lt.convert(Bt)!==Z.getParameter(Z.IMPLEMENTATION_COLOR_READ_FORMAT)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const Ot=zt===sf&&(Ce.has("EXT_color_buffer_half_float")||Ne.isWebGL2&&Ce.has("EXT_color_buffer_float"));if(zt!==ea&&lt.convert(zt)!==Z.getParameter(Z.IMPLEMENTATION_COLOR_READ_TYPE)&&!(zt===Zo&&(Ne.isWebGL2||Ce.has("OES_texture_float")||Ce.has("WEBGL_color_buffer_float")))&&!Ot){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}we>=0&&we<=J.width-Fe&&Ie>=0&&Ie<=J.height-Be&&Z.readPixels(we,Ie,Fe,Be,lt.convert(Bt),lt.convert(zt),xt)}finally{const je=F!==null?Ae.get(F).__webglFramebuffer:null;Ee.bindFramebuffer(Z.FRAMEBUFFER,je)}}},this.copyFramebufferToTexture=function(J,we,Ie=0){const Fe=Math.pow(2,-Ie),Be=Math.floor(we.image.width*Fe),xt=Math.floor(we.image.height*Fe);We.setTexture2D(we,0),Z.copyTexSubImage2D(Z.TEXTURE_2D,Ie,0,0,J.x,J.y,Be,xt),Ee.unbindTexture()},this.copyTextureToTexture=function(J,we,Ie,Fe=0){const Be=we.image.width,xt=we.image.height,Pt=lt.convert(Ie.format),Nt=lt.convert(Ie.type);We.setTexture2D(Ie,0),Z.pixelStorei(Z.UNPACK_FLIP_Y_WEBGL,Ie.flipY),Z.pixelStorei(Z.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Ie.premultiplyAlpha),Z.pixelStorei(Z.UNPACK_ALIGNMENT,Ie.unpackAlignment),we.isDataTexture?Z.texSubImage2D(Z.TEXTURE_2D,Fe,J.x,J.y,Be,xt,Pt,Nt,we.image.data):we.isCompressedTexture?Z.compressedTexSubImage2D(Z.TEXTURE_2D,Fe,J.x,J.y,we.mipmaps[0].width,we.mipmaps[0].height,Pt,we.mipmaps[0].data):Z.texSubImage2D(Z.TEXTURE_2D,Fe,J.x,J.y,Pt,Nt,we.image),Fe===0&&Ie.generateMipmaps&&Z.generateMipmap(Z.TEXTURE_2D),Ee.unbindTexture()},this.copyTextureToTexture3D=function(J,we,Ie,Fe,Be=0){if(E.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const xt=J.max.x-J.min.x+1,Pt=J.max.y-J.min.y+1,Nt=J.max.z-J.min.z+1,je=lt.convert(Fe.format),Bt=lt.convert(Fe.type);let zt;if(Fe.isData3DTexture)We.setTexture3D(Fe,0),zt=Z.TEXTURE_3D;else if(Fe.isDataArrayTexture)We.setTexture2DArray(Fe,0),zt=Z.TEXTURE_2D_ARRAY;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}Z.pixelStorei(Z.UNPACK_FLIP_Y_WEBGL,Fe.flipY),Z.pixelStorei(Z.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Fe.premultiplyAlpha),Z.pixelStorei(Z.UNPACK_ALIGNMENT,Fe.unpackAlignment);const Ot=Z.getParameter(Z.UNPACK_ROW_LENGTH),fn=Z.getParameter(Z.UNPACK_IMAGE_HEIGHT),nr=Z.getParameter(Z.UNPACK_SKIP_PIXELS),gn=Z.getParameter(Z.UNPACK_SKIP_ROWS),En=Z.getParameter(Z.UNPACK_SKIP_IMAGES),At=Ie.isCompressedTexture?Ie.mipmaps[0]:Ie.image;Z.pixelStorei(Z.UNPACK_ROW_LENGTH,At.width),Z.pixelStorei(Z.UNPACK_IMAGE_HEIGHT,At.height),Z.pixelStorei(Z.UNPACK_SKIP_PIXELS,J.min.x),Z.pixelStorei(Z.UNPACK_SKIP_ROWS,J.min.y),Z.pixelStorei(Z.UNPACK_SKIP_IMAGES,J.min.z),Ie.isDataTexture||Ie.isData3DTexture?Z.texSubImage3D(zt,Be,we.x,we.y,we.z,xt,Pt,Nt,je,Bt,At.data):Ie.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),Z.compressedTexSubImage3D(zt,Be,we.x,we.y,we.z,xt,Pt,Nt,je,At.data)):Z.texSubImage3D(zt,Be,we.x,we.y,we.z,xt,Pt,Nt,je,Bt,At),Z.pixelStorei(Z.UNPACK_ROW_LENGTH,Ot),Z.pixelStorei(Z.UNPACK_IMAGE_HEIGHT,fn),Z.pixelStorei(Z.UNPACK_SKIP_PIXELS,nr),Z.pixelStorei(Z.UNPACK_SKIP_ROWS,gn),Z.pixelStorei(Z.UNPACK_SKIP_IMAGES,En),Be===0&&Fe.generateMipmaps&&Z.generateMipmap(zt),Ee.unbindTexture()},this.initTexture=function(J){J.isCubeTexture?We.setTextureCube(J,0):J.isData3DTexture?We.setTexture3D(J,0):J.isDataArrayTexture||J.isCompressedArrayTexture?We.setTexture2DArray(J,0):We.setTexture2D(J,0),Ee.unbindTexture()},this.resetState=function(){I=0,k=0,F=null,Ee.reset(),oe.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return Jo}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const t=this.getContext();t.drawingBufferColorSpace=e===uy?"display-p3":"srgb",t.unpackColorSpace=Mn.workingColorSpace===xp?"display-p3":"srgb"}get physicallyCorrectLights(){return console.warn("THREE.WebGLRenderer: The property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),!this.useLegacyLights}set physicallyCorrectLights(e){console.warn("THREE.WebGLRenderer: The property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),this.useLegacyLights=!e}get outputEncoding(){return console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace===Xr?Xl:Sx}set outputEncoding(e){console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace=e===Xl?Xr:na}get useLegacyLights(){return console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights}set useLegacyLights(e){console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights=e}}class CE extends Lx{}CE.prototype.isWebGL1Renderer=!0;class gy{constructor(e,t=25e-5){this.isFogExp2=!0,this.name="",this.color=new wt(e),this.density=t}clone(){return new gy(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class yy{constructor(e,t=1,n=1e3){this.isFog=!0,this.name="",this.color=new wt(e),this.near=t,this.far=n}clone(){return new yy(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}let Ix=class extends vn{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(t.object.backgroundIntensity=this.backgroundIntensity),t}};class vy{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=tp,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=Rs()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,n){e*=this.stride,n*=t.stride;for(let i=0,s=this.stride;i<s;i++)this.array[e+i]=t.array[n+i];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Rs()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),n=new this.constructor(t,this.stride);return n.setUsage(this.usage),n}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Rs()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const Hi=new $;class pu{constructor(e,t,n,i=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=n,this.normalized=i}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,n=this.data.count;t<n;t++)Hi.fromBufferAttribute(this,t),Hi.applyMatrix4(e),this.setXYZ(t,Hi.x,Hi.y,Hi.z);return this}applyNormalMatrix(e){for(let t=0,n=this.count;t<n;t++)Hi.fromBufferAttribute(this,t),Hi.applyNormalMatrix(e),this.setXYZ(t,Hi.x,Hi.y,Hi.z);return this}transformDirection(e){for(let t=0,n=this.count;t<n;t++)Hi.fromBufferAttribute(this,t),Hi.transformDirection(e),this.setXYZ(t,Hi.x,Hi.y,Hi.z);return this}setX(e,t){return this.normalized&&(t=rn(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=rn(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=rn(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=rn(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=us(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=us(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=us(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=us(t,this.array)),t}setXY(e,t,n){return e=e*this.data.stride+this.offset,this.normalized&&(t=rn(t,this.array),n=rn(n,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this}setXYZ(e,t,n,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=rn(t,this.array),n=rn(n,this.array),i=rn(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=i,this}setXYZW(e,t,n,i,s){return e=e*this.data.stride+this.offset,this.normalized&&(t=rn(t,this.array),n=rn(n,this.array),i=rn(i,this.array),s=rn(s,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=i,this.data.array[e+3]=s,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let n=0;n<this.count;n++){const i=n*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[i+s])}return new Dn(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new pu(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let n=0;n<this.count;n++){const i=n*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[i+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class Ux extends Ai{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new wt(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let Id;const hh=new $,Ud=new $,kd=new $,Nd=new qe,ph=new qe,wE=new Zt,jm=new $,mh=new $,Xm=new $,zw=new qe,e0=new qe,Vw=new qe;class _E extends vn{constructor(e=new Ux){if(super(),this.isSprite=!0,this.type="Sprite",Id===void 0){Id=new on;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),n=new vy(t,5);Id.setIndex([0,1,2,0,2,3]),Id.setAttribute("position",new pu(n,3,0,!1)),Id.setAttribute("uv",new pu(n,2,3,!1))}this.geometry=Id,this.material=e,this.center=new qe(.5,.5)}raycast(e,t){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Ud.setFromMatrixScale(this.matrixWorld),wE.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),kd.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&Ud.multiplyScalar(-kd.z);const n=this.material.rotation;let i,s;n!==0&&(s=Math.cos(n),i=Math.sin(n));const o=this.center;Ym(jm.set(-.5,-.5,0),kd,o,Ud,i,s),Ym(mh.set(.5,-.5,0),kd,o,Ud,i,s),Ym(Xm.set(.5,.5,0),kd,o,Ud,i,s),zw.set(0,0),e0.set(1,0),Vw.set(1,1);let l=e.ray.intersectTriangle(jm,mh,Xm,!1,hh);if(l===null&&(Ym(mh.set(-.5,.5,0),kd,o,Ud,i,s),e0.set(0,1),l=e.ray.intersectTriangle(jm,Xm,mh,!1,hh),l===null))return;const c=e.ray.origin.distanceTo(hh);c<e.near||c>e.far||t.push({distance:c,point:hh.clone(),uv:ls.getInterpolation(hh,jm,mh,Xm,zw,e0,Vw,new qe),face:null,object:this})}copy(e,t){return super.copy(e,t),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function Ym(r,e,t,n,i,s){Nd.subVectors(r,t).addScalar(.5).multiply(n),i!==void 0?(ph.x=s*Nd.x-i*Nd.y,ph.y=i*Nd.x+s*Nd.y):ph.copy(Nd),r.copy(e),r.x+=ph.x,r.y+=ph.y,r.applyMatrix4(wE)}const qm=new $,Hw=new $;class SE extends vn{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let n=0,i=t.length;n<i;n++){const s=t[n];this.addLevel(s.object.clone(),s.distance,s.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0,n=0){t=Math.abs(t);const i=this.levels;let s;for(s=0;s<i.length&&!(t<i[s].distance);s++);return i.splice(s,0,{distance:t,hysteresis:n,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let n,i;for(n=1,i=t.length;n<i;n++){let s=t[n].distance;if(t[n].object.visible&&(s-=s*t[n].hysteresis),e<s)break}return t[n-1].object}return null}raycast(e,t){if(this.levels.length>0){qm.setFromMatrixPosition(this.matrixWorld);const i=e.ray.origin.distanceTo(qm);this.getObjectForDistance(i).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){qm.setFromMatrixPosition(e.matrixWorld),Hw.setFromMatrixPosition(this.matrixWorld);const n=qm.distanceTo(Hw)/e.zoom;t[0].object.visible=!0;let i,s;for(i=1,s=t.length;i<s;i++){let o=t[i].distance;if(t[i].object.visible&&(o-=o*t[i].hysteresis),n>=o)t[i-1].object.visible=!1,t[i].object.visible=!0;else break}for(this._currentLevel=i-1;i<s;i++)t[i].object.visible=!1}}toJSON(e){const t=super.toJSON(e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];const n=this.levels;for(let i=0,s=n.length;i<s;i++){const o=n[i];t.object.levels.push({object:o.object.uuid,distance:o.distance,hysteresis:o.hysteresis})}return t}}const Gw=new $,Ww=new xn,jw=new xn,nF=new $,Xw=new Zt,Km=new $,t0=new Ks,Yw=new Zt,n0=new _u;class bE extends kr{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=J0,this.bindMatrix=new Zt,this.bindMatrixInverse=new Zt,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new qs),this.boundingBox.makeEmpty();const t=e.getAttribute("position");for(let n=0;n<t.count;n++)this.getVertexPosition(n,Km),this.boundingBox.expandByPoint(Km)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new Ks),this.boundingSphere.makeEmpty();const t=e.getAttribute("position");for(let n=0;n<t.count;n++)this.getVertexPosition(n,Km),this.boundingSphere.expandByPoint(Km)}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,t){const n=this.material,i=this.matrixWorld;n!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),t0.copy(this.boundingSphere),t0.applyMatrix4(i),e.ray.intersectsSphere(t0)!==!1&&(Yw.copy(i).invert(),n0.copy(e.ray).applyMatrix4(Yw),!(this.boundingBox!==null&&n0.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,t,n0)))}getVertexPosition(e,t){return super.getVertexPosition(e,t),this.applyBoneTransform(e,t),t}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new xn,t=this.geometry.attributes.skinWeight;for(let n=0,i=t.count;n<i;n++){e.fromBufferAttribute(t,n);const s=1/e.manhattanLength();s!==1/0?e.multiplyScalar(s):e.set(1,0,0,0),t.setXYZW(n,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===J0?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===kM?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,t){const n=this.skeleton,i=this.geometry;Ww.fromBufferAttribute(i.attributes.skinIndex,e),jw.fromBufferAttribute(i.attributes.skinWeight,e),Gw.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let s=0;s<4;s++){const o=jw.getComponent(s);if(o!==0){const l=Ww.getComponent(s);Xw.multiplyMatrices(n.bones[l].matrixWorld,n.boneInverses[l]),t.addScaledVector(nF.copy(Gw).applyMatrix4(Xw),o)}}return t.applyMatrix4(this.bindMatrixInverse)}boneTransform(e,t){return console.warn("THREE.SkinnedMesh: .boneTransform() was renamed to .applyBoneTransform() in r151."),this.applyBoneTransform(e,t)}}class kx extends vn{constructor(){super(),this.isBone=!0,this.type="Bone"}}class ef extends cr{constructor(e=null,t=1,n=1,i,s,o,l,c,d=vr,h=vr,m,y){super(null,o,l,c,d,h,i,s,m,y),this.isDataTexture=!0,this.image={data:e,width:t,height:n},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const qw=new Zt,rF=new Zt;class xy{constructor(e=[],t=[]){this.uuid=Rs(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let n=0,i=this.bones.length;n<i;n++)this.boneInverses.push(new Zt)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const n=new Zt;this.bones[e]&&n.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(n)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const n=this.bones[e];n&&n.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const n=this.bones[e];n&&(n.parent&&n.parent.isBone?(n.matrix.copy(n.parent.matrixWorld).invert(),n.matrix.multiply(n.matrixWorld)):n.matrix.copy(n.matrixWorld),n.matrix.decompose(n.position,n.quaternion,n.scale))}}update(){const e=this.bones,t=this.boneInverses,n=this.boneMatrices,i=this.boneTexture;for(let s=0,o=e.length;s<o;s++){const l=e[s]?e[s].matrixWorld:rF;qw.multiplyMatrices(l,t[s]),qw.toArray(n,s*16)}i!==null&&(i.needsUpdate=!0)}clone(){return new xy(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=iE(e),e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const n=new ef(t,e,e,cs,Zo);return n.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=n,this.boneTextureSize=e,this}getBoneByName(e){for(let t=0,n=this.bones.length;t<n;t++){const i=this.bones[t];if(i.name===e)return i}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let n=0,i=e.bones.length;n<i;n++){const s=e.bones[n];let o=t[s];o===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",s),o=new kx),this.bones.push(o),this.boneInverses.push(new Zt().fromArray(e.boneInverses[n]))}return this.init(),this}toJSON(){const e={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,n=this.boneInverses;for(let i=0,s=t.length;i<s;i++){const o=t[i];e.bones.push(o.uuid);const l=n[i];e.boneInverses.push(l.toArray())}return e}}class mu extends Dn{constructor(e,t,n,i=1){super(e,t,n),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const Od=new Zt,Kw=new Zt,Zm=[],Zw=new qs,iF=new Zt,gh=new kr,yh=new Ks;class ME extends kr{constructor(e,t,n){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new mu(new Float32Array(n*16),16),this.instanceColor=null,this.count=n,this.boundingBox=null,this.boundingSphere=null;for(let i=0;i<n;i++)this.setMatrixAt(i,iF)}computeBoundingBox(){const e=this.geometry,t=this.count;this.boundingBox===null&&(this.boundingBox=new qs),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let n=0;n<t;n++)this.getMatrixAt(n,Od),Zw.copy(e.boundingBox).applyMatrix4(Od),this.boundingBox.union(Zw)}computeBoundingSphere(){const e=this.geometry,t=this.count;this.boundingSphere===null&&(this.boundingSphere=new Ks),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let n=0;n<t;n++)this.getMatrixAt(n,Od),yh.copy(e.boundingSphere).applyMatrix4(Od),this.boundingSphere.union(yh)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}raycast(e,t){const n=this.matrixWorld,i=this.count;if(gh.geometry=this.geometry,gh.material=this.material,gh.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),yh.copy(this.boundingSphere),yh.applyMatrix4(n),e.ray.intersectsSphere(yh)!==!1))for(let s=0;s<i;s++){this.getMatrixAt(s,Od),Kw.multiplyMatrices(n,Od),gh.matrixWorld=Kw,gh.raycast(e,Zm);for(let o=0,l=Zm.length;o<l;o++){const c=Zm[o];c.instanceId=s,c.object=this,t.push(c)}Zm.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new mu(new Float32Array(this.instanceMatrix.count*3),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}class Xi extends Ai{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new wt(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const Jw=new $,Qw=new $,$w=new Zt,r0=new _u,Jm=new Ks;class Ql extends vn{constructor(e=new on,t=new Xi){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,n=[0];for(let i=1,s=t.count;i<s;i++)Jw.fromBufferAttribute(t,i-1),Qw.fromBufferAttribute(t,i),n[i]=n[i-1],n[i]+=Jw.distanceTo(Qw);e.setAttribute("lineDistance",new Lt(n,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const n=this.geometry,i=this.matrixWorld,s=e.params.Line.threshold,o=n.drawRange;if(n.boundingSphere===null&&n.computeBoundingSphere(),Jm.copy(n.boundingSphere),Jm.applyMatrix4(i),Jm.radius+=s,e.ray.intersectsSphere(Jm)===!1)return;$w.copy(i).invert(),r0.copy(e.ray).applyMatrix4($w);const l=s/((this.scale.x+this.scale.y+this.scale.z)/3),c=l*l,d=new $,h=new $,m=new $,y=new $,v=this.isLineSegments?2:1,C=n.index,_=n.attributes.position;if(C!==null){const S=Math.max(0,o.start),A=Math.min(C.count,o.start+o.count);for(let E=S,P=A-1;E<P;E+=v){const I=C.getX(E),k=C.getX(E+1);if(d.fromBufferAttribute(_,I),h.fromBufferAttribute(_,k),r0.distanceSqToSegment(d,h,y,m)>c)continue;y.applyMatrix4(this.matrixWorld);const V=e.ray.origin.distanceTo(y);V<e.near||V>e.far||t.push({distance:V,point:m.clone().applyMatrix4(this.matrixWorld),index:E,face:null,faceIndex:null,object:this})}}else{const S=Math.max(0,o.start),A=Math.min(_.count,o.start+o.count);for(let E=S,P=A-1;E<P;E+=v){if(d.fromBufferAttribute(_,E),h.fromBufferAttribute(_,E+1),r0.distanceSqToSegment(d,h,y,m)>c)continue;y.applyMatrix4(this.matrixWorld);const k=e.ray.origin.distanceTo(y);k<e.near||k>e.far||t.push({distance:k,point:m.clone().applyMatrix4(this.matrixWorld),index:E,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const t=this.geometry.morphAttributes,n=Object.keys(t);if(n.length>0){const i=t[n[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const l=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[l]=s}}}}}const e_=new $,t_=new $;class ia extends Ql{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,n=[];for(let i=0,s=t.count;i<s;i+=2)e_.fromBufferAttribute(t,i),t_.fromBufferAttribute(t,i+1),n[i]=i===0?0:n[i-1],n[i+1]=n[i]+e_.distanceTo(t_);e.setAttribute("lineDistance",new Lt(n,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class EE extends Ql{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class Nx extends Ai{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new wt(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const n_=new Zt,T2=new _u,Qm=new Ks,$m=new $;class AE extends vn{constructor(e=new on,t=new Nx){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,t){const n=this.geometry,i=this.matrixWorld,s=e.params.Points.threshold,o=n.drawRange;if(n.boundingSphere===null&&n.computeBoundingSphere(),Qm.copy(n.boundingSphere),Qm.applyMatrix4(i),Qm.radius+=s,e.ray.intersectsSphere(Qm)===!1)return;n_.copy(i).invert(),T2.copy(e.ray).applyMatrix4(n_);const l=s/((this.scale.x+this.scale.y+this.scale.z)/3),c=l*l,d=n.index,m=n.attributes.position;if(d!==null){const y=Math.max(0,o.start),v=Math.min(d.count,o.start+o.count);for(let C=y,b=v;C<b;C++){const _=d.getX(C);$m.fromBufferAttribute(m,_),r_($m,_,c,i,e,t,this)}}else{const y=Math.max(0,o.start),v=Math.min(m.count,o.start+o.count);for(let C=y,b=v;C<b;C++)$m.fromBufferAttribute(m,C),r_($m,C,c,i,e,t,this)}}updateMorphTargets(){const t=this.geometry.morphAttributes,n=Object.keys(t);if(n.length>0){const i=t[n[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const l=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[l]=s}}}}}function r_(r,e,t,n,i,s,o){const l=T2.distanceSqToPoint(r);if(l<t){const c=new $;T2.closestPointToPoint(r,c),c.applyMatrix4(n);const d=i.ray.origin.distanceTo(c);if(d<i.near||d>i.far)return;s.push({distance:d,distanceToRay:Math.sqrt(l),point:c,index:e,face:null,object:o})}}class sF extends cr{constructor(e,t,n,i,s,o,l,c,d){super(e,t,n,i,s,o,l,c,d),this.isVideoTexture=!0,this.minFilter=o!==void 0?o:Qn,this.magFilter=s!==void 0?s:Qn,this.generateMipmaps=!1;const h=this;function m(){h.needsUpdate=!0,e.requestVideoFrameCallback(m)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(m)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class oF extends cr{constructor(e,t){super({width:e,height:t}),this.isFramebufferTexture=!0,this.magFilter=vr,this.minFilter=vr,this.generateMipmaps=!1,this.needsUpdate=!0}}class Cy extends cr{constructor(e,t,n,i,s,o,l,c,d,h,m,y){super(null,o,l,c,d,h,i,s,m,y),this.isCompressedTexture=!0,this.image={width:t,height:n},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class aF extends Cy{constructor(e,t,n,i,s,o){super(e,t,n,s,o),this.isCompressedArrayTexture=!0,this.image.depth=i,this.wrapR=Mi}}class lF extends Cy{constructor(e,t,n){super(void 0,e[0].width,e[0].height,t,n,Ka),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class cF extends cr{constructor(e,t,n,i,s,o,l,c,d){super(e,t,n,i,s,o,l,c,d),this.isCanvasTexture=!0,this.needsUpdate=!0}}class Ro{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,t){const n=this.getUtoTmapping(e);return this.getPoint(n,t)}getPoints(e=5){const t=[];for(let n=0;n<=e;n++)t.push(this.getPoint(n/e));return t}getSpacedPoints(e=5){const t=[];for(let n=0;n<=e;n++)t.push(this.getPointAt(n/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let n,i=this.getPoint(0),s=0;t.push(0);for(let o=1;o<=e;o++)n=this.getPoint(o/e),s+=n.distanceTo(i),t.push(s),i=n;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t){const n=this.getLengths();let i=0;const s=n.length;let o;t?o=t:o=e*n[s-1];let l=0,c=s-1,d;for(;l<=c;)if(i=Math.floor(l+(c-l)/2),d=n[i]-o,d<0)l=i+1;else if(d>0)c=i-1;else{c=i;break}if(i=c,n[i]===o)return i/(s-1);const h=n[i],y=n[i+1]-h,v=(o-h)/y;return(i+v)/(s-1)}getTangent(e,t){let i=e-1e-4,s=e+1e-4;i<0&&(i=0),s>1&&(s=1);const o=this.getPoint(i),l=this.getPoint(s),c=t||(o.isVector2?new qe:new $);return c.copy(l).sub(o).normalize(),c}getTangentAt(e,t){const n=this.getUtoTmapping(e);return this.getTangent(n,t)}computeFrenetFrames(e,t){const n=new $,i=[],s=[],o=[],l=new $,c=new Zt;for(let v=0;v<=e;v++){const C=v/e;i[v]=this.getTangentAt(C,new $)}s[0]=new $,o[0]=new $;let d=Number.MAX_VALUE;const h=Math.abs(i[0].x),m=Math.abs(i[0].y),y=Math.abs(i[0].z);h<=d&&(d=h,n.set(1,0,0)),m<=d&&(d=m,n.set(0,1,0)),y<=d&&n.set(0,0,1),l.crossVectors(i[0],n).normalize(),s[0].crossVectors(i[0],l),o[0].crossVectors(i[0],s[0]);for(let v=1;v<=e;v++){if(s[v]=s[v-1].clone(),o[v]=o[v-1].clone(),l.crossVectors(i[v-1],i[v]),l.length()>Number.EPSILON){l.normalize();const C=Math.acos(lr(i[v-1].dot(i[v]),-1,1));s[v].applyMatrix4(c.makeRotationAxis(l,C))}o[v].crossVectors(i[v],s[v])}if(t===!0){let v=Math.acos(lr(s[0].dot(s[e]),-1,1));v/=e,i[0].dot(l.crossVectors(s[0],s[e]))>0&&(v=-v);for(let C=1;C<=e;C++)s[C].applyMatrix4(c.makeRotationAxis(i[C],v*C)),o[C].crossVectors(i[C],s[C])}return{tangents:i,normals:s,binormals:o}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class wy extends Ro{constructor(e=0,t=0,n=1,i=1,s=0,o=Math.PI*2,l=!1,c=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=n,this.yRadius=i,this.aStartAngle=s,this.aEndAngle=o,this.aClockwise=l,this.aRotation=c}getPoint(e,t){const n=t||new qe,i=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const o=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=i;for(;s>i;)s-=i;s<Number.EPSILON&&(o?s=0:s=i),this.aClockwise===!0&&!o&&(s===i?s=-i:s=s-i);const l=this.aStartAngle+e*s;let c=this.aX+this.xRadius*Math.cos(l),d=this.aY+this.yRadius*Math.sin(l);if(this.aRotation!==0){const h=Math.cos(this.aRotation),m=Math.sin(this.aRotation),y=c-this.aX,v=d-this.aY;c=y*h-v*m+this.aX,d=y*m+v*h+this.aY}return n.set(c,d)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class TE extends wy{constructor(e,t,n,i,s,o){super(e,t,n,n,i,s,o),this.isArcCurve=!0,this.type="ArcCurve"}}function Ox(){let r=0,e=0,t=0,n=0;function i(s,o,l,c){r=s,e=l,t=-3*s+3*o-2*l-c,n=2*s-2*o+l+c}return{initCatmullRom:function(s,o,l,c,d){i(o,l,d*(l-s),d*(c-o))},initNonuniformCatmullRom:function(s,o,l,c,d,h,m){let y=(o-s)/d-(l-s)/(d+h)+(l-o)/h,v=(l-o)/h-(c-o)/(h+m)+(c-l)/m;y*=h,v*=h,i(o,l,y,v)},calc:function(s){const o=s*s,l=o*s;return r+e*s+t*o+n*l}}}const eg=new $,i0=new Ox,s0=new Ox,o0=new Ox;class PE extends Ro{constructor(e=[],t=!1,n="centripetal",i=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=n,this.tension=i}getPoint(e,t=new $){const n=t,i=this.points,s=i.length,o=(s-(this.closed?0:1))*e;let l=Math.floor(o),c=o-l;this.closed?l+=l>0?0:(Math.floor(Math.abs(l)/s)+1)*s:c===0&&l===s-1&&(l=s-2,c=1);let d,h;this.closed||l>0?d=i[(l-1)%s]:(eg.subVectors(i[0],i[1]).add(i[0]),d=eg);const m=i[l%s],y=i[(l+1)%s];if(this.closed||l+2<s?h=i[(l+2)%s]:(eg.subVectors(i[s-1],i[s-2]).add(i[s-1]),h=eg),this.curveType==="centripetal"||this.curveType==="chordal"){const v=this.curveType==="chordal"?.5:.25;let C=Math.pow(d.distanceToSquared(m),v),b=Math.pow(m.distanceToSquared(y),v),_=Math.pow(y.distanceToSquared(h),v);b<1e-4&&(b=1),C<1e-4&&(C=b),_<1e-4&&(_=b),i0.initNonuniformCatmullRom(d.x,m.x,y.x,h.x,C,b,_),s0.initNonuniformCatmullRom(d.y,m.y,y.y,h.y,C,b,_),o0.initNonuniformCatmullRom(d.z,m.z,y.z,h.z,C,b,_)}else this.curveType==="catmullrom"&&(i0.initCatmullRom(d.x,m.x,y.x,h.x,this.tension),s0.initCatmullRom(d.y,m.y,y.y,h.y,this.tension),o0.initCatmullRom(d.z,m.z,y.z,h.z,this.tension));return n.set(i0.calc(c),s0.calc(c),o0.calc(c)),n}copy(e){super.copy(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const i=e.points[t];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,n=this.points.length;t<n;t++){const i=this.points[t];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const i=e.points[t];this.points.push(new $().fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function i_(r,e,t,n,i){const s=(n-e)*.5,o=(i-t)*.5,l=r*r,c=r*l;return(2*t-2*n+s+o)*c+(-3*t+3*n-2*s-o)*l+s*r+t}function uF(r,e){const t=1-r;return t*t*e}function dF(r,e){return 2*(1-r)*r*e}function fF(r,e){return r*r*e}function Uh(r,e,t,n){return uF(r,e)+dF(r,t)+fF(r,n)}function hF(r,e){const t=1-r;return t*t*t*e}function pF(r,e){const t=1-r;return 3*t*t*r*e}function mF(r,e){return 3*(1-r)*r*r*e}function gF(r,e){return r*r*r*e}function kh(r,e,t,n,i){return hF(r,e)+pF(r,t)+mF(r,n)+gF(r,i)}class Fx extends Ro{constructor(e=new qe,t=new qe,n=new qe,i=new qe){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=n,this.v3=i}getPoint(e,t=new qe){const n=t,i=this.v0,s=this.v1,o=this.v2,l=this.v3;return n.set(kh(e,i.x,s.x,o.x,l.x),kh(e,i.y,s.y,o.y,l.y)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class RE extends Ro{constructor(e=new $,t=new $,n=new $,i=new $){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=n,this.v3=i}getPoint(e,t=new $){const n=t,i=this.v0,s=this.v1,o=this.v2,l=this.v3;return n.set(kh(e,i.x,s.x,o.x,l.x),kh(e,i.y,s.y,o.y,l.y),kh(e,i.z,s.z,o.z,l.z)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class Bx extends Ro{constructor(e=new qe,t=new qe){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new qe){const n=t;return e===1?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new qe){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class DE extends Ro{constructor(e=new $,t=new $){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new $){const n=t;return e===1?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new $){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class zx extends Ro{constructor(e=new qe,t=new qe,n=new qe){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=n}getPoint(e,t=new qe){const n=t,i=this.v0,s=this.v1,o=this.v2;return n.set(Uh(e,i.x,s.x,o.x),Uh(e,i.y,s.y,o.y)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class Vx extends Ro{constructor(e=new $,t=new $,n=new $){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=n}getPoint(e,t=new $){const n=t,i=this.v0,s=this.v1,o=this.v2;return n.set(Uh(e,i.x,s.x,o.x),Uh(e,i.y,s.y,o.y),Uh(e,i.z,s.z,o.z)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class Hx extends Ro{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new qe){const n=t,i=this.points,s=(i.length-1)*e,o=Math.floor(s),l=s-o,c=i[o===0?o:o-1],d=i[o],h=i[o>i.length-2?i.length-1:o+1],m=i[o>i.length-3?i.length-1:o+2];return n.set(i_(l,c.x,d.x,h.x,m.x),i_(l,c.y,d.y,h.y,m.y)),n}copy(e){super.copy(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const i=e.points[t];this.points.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,n=this.points.length;t<n;t++){const i=this.points[t];e.points.push(i.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const i=e.points[t];this.points.push(new qe().fromArray(i))}return this}}var Xg=Object.freeze({__proto__:null,ArcCurve:TE,CatmullRomCurve3:PE,CubicBezierCurve:Fx,CubicBezierCurve3:RE,EllipseCurve:wy,LineCurve:Bx,LineCurve3:DE,QuadraticBezierCurve:zx,QuadraticBezierCurve3:Vx,SplineCurve:Hx});class LE extends Ro{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(t)){const n=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new Xg[n](t,e))}return this}getPoint(e,t){const n=e*this.getLength(),i=this.getCurveLengths();let s=0;for(;s<i.length;){if(i[s]>=n){const o=i[s]-n,l=this.curves[s],c=l.getLength(),d=c===0?0:1-o/c;return l.getPointAt(d,t)}s++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let n=0,i=this.curves.length;n<i;n++)t+=this.curves[n].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let n=0;n<=e;n++)t.push(this.getPoint(n/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let n;for(let i=0,s=this.curves;i<s.length;i++){const o=s[i],l=o.isEllipseCurve?e*2:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?e*o.points.length:e,c=o.getPoints(l);for(let d=0;d<c.length;d++){const h=c[d];n&&n.equals(h)||(t.push(h),n=h)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,n=e.curves.length;t<n;t++){const i=e.curves[t];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,n=this.curves.length;t<n;t++){const i=this.curves[t];e.curves.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,n=e.curves.length;t<n;t++){const i=e.curves[t];this.curves.push(new Xg[i.type]().fromJSON(i))}return this}}class ip extends LE{constructor(e){super(),this.type="Path",this.currentPoint=new qe,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,n=e.length;t<n;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const n=new Bx(this.currentPoint.clone(),new qe(e,t));return this.curves.push(n),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,n,i){const s=new zx(this.currentPoint.clone(),new qe(e,t),new qe(n,i));return this.curves.push(s),this.currentPoint.set(n,i),this}bezierCurveTo(e,t,n,i,s,o){const l=new Fx(this.currentPoint.clone(),new qe(e,t),new qe(n,i),new qe(s,o));return this.curves.push(l),this.currentPoint.set(s,o),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),n=new Hx(t);return this.curves.push(n),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,n,i,s,o){const l=this.currentPoint.x,c=this.currentPoint.y;return this.absarc(e+l,t+c,n,i,s,o),this}absarc(e,t,n,i,s,o){return this.absellipse(e,t,n,n,i,s,o),this}ellipse(e,t,n,i,s,o,l,c){const d=this.currentPoint.x,h=this.currentPoint.y;return this.absellipse(e+d,t+h,n,i,s,o,l,c),this}absellipse(e,t,n,i,s,o,l,c){const d=new wy(e,t,n,i,s,o,l,c);if(this.curves.length>0){const m=d.getPoint(0);m.equals(this.currentPoint)||this.lineTo(m.x,m.y)}this.curves.push(d);const h=d.getPoint(1);return this.currentPoint.copy(h),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class Sp extends on{constructor(e=[new qe(0,-.5),new qe(.5,0),new qe(0,.5)],t=12,n=0,i=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:n,phiLength:i},t=Math.floor(t),i=lr(i,0,Math.PI*2);const s=[],o=[],l=[],c=[],d=[],h=1/t,m=new $,y=new qe,v=new $,C=new $,b=new $;let _=0,S=0;for(let A=0;A<=e.length-1;A++)switch(A){case 0:_=e[A+1].x-e[A].x,S=e[A+1].y-e[A].y,v.x=S*1,v.y=-_,v.z=S*0,b.copy(v),v.normalize(),c.push(v.x,v.y,v.z);break;case e.length-1:c.push(b.x,b.y,b.z);break;default:_=e[A+1].x-e[A].x,S=e[A+1].y-e[A].y,v.x=S*1,v.y=-_,v.z=S*0,C.copy(v),v.x+=b.x,v.y+=b.y,v.z+=b.z,v.normalize(),c.push(v.x,v.y,v.z),b.copy(C)}for(let A=0;A<=t;A++){const E=n+A*h*i,P=Math.sin(E),I=Math.cos(E);for(let k=0;k<=e.length-1;k++){m.x=e[k].x*P,m.y=e[k].y,m.z=e[k].x*I,o.push(m.x,m.y,m.z),y.x=A/t,y.y=k/(e.length-1),l.push(y.x,y.y);const F=c[3*k+0]*P,V=c[3*k+1],U=c[3*k+0]*I;d.push(F,V,U)}}for(let A=0;A<t;A++)for(let E=0;E<e.length-1;E++){const P=E+A*e.length,I=P,k=P+e.length,F=P+e.length+1,V=P+1;s.push(I,k,V),s.push(F,V,k)}this.setIndex(s),this.setAttribute("position",new Lt(o,3)),this.setAttribute("uv",new Lt(l,2)),this.setAttribute("normal",new Lt(d,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Sp(e.points,e.segments,e.phiStart,e.phiLength)}}class _y extends Sp{constructor(e=1,t=1,n=4,i=8){const s=new ip;s.absarc(0,-t/2,e,Math.PI*1.5,0),s.absarc(0,t/2,e,0,Math.PI*.5),super(s.getPoints(n),i),this.type="CapsuleGeometry",this.parameters={radius:e,length:t,capSegments:n,radialSegments:i}}static fromJSON(e){return new _y(e.radius,e.length,e.capSegments,e.radialSegments)}}class Sy extends on{constructor(e=1,t=32,n=0,i=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:n,thetaLength:i},t=Math.max(3,t);const s=[],o=[],l=[],c=[],d=new $,h=new qe;o.push(0,0,0),l.push(0,0,1),c.push(.5,.5);for(let m=0,y=3;m<=t;m++,y+=3){const v=n+m/t*i;d.x=e*Math.cos(v),d.y=e*Math.sin(v),o.push(d.x,d.y,d.z),l.push(0,0,1),h.x=(o[y]/e+1)/2,h.y=(o[y+1]/e+1)/2,c.push(h.x,h.y)}for(let m=1;m<=t;m++)s.push(m,m+1,0);this.setIndex(s),this.setAttribute("position",new Lt(o,3)),this.setAttribute("normal",new Lt(l,3)),this.setAttribute("uv",new Lt(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Sy(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class ff extends on{constructor(e=1,t=1,n=1,i=32,s=1,o=!1,l=0,c=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:n,radialSegments:i,heightSegments:s,openEnded:o,thetaStart:l,thetaLength:c};const d=this;i=Math.floor(i),s=Math.floor(s);const h=[],m=[],y=[],v=[];let C=0;const b=[],_=n/2;let S=0;A(),o===!1&&(e>0&&E(!0),t>0&&E(!1)),this.setIndex(h),this.setAttribute("position",new Lt(m,3)),this.setAttribute("normal",new Lt(y,3)),this.setAttribute("uv",new Lt(v,2));function A(){const P=new $,I=new $;let k=0;const F=(t-e)/n;for(let V=0;V<=s;V++){const U=[],O=V/s,Q=O*(t-e)+e;for(let q=0;q<=i;q++){const te=q/i,X=te*c+l,le=Math.sin(X),re=Math.cos(X);I.x=Q*le,I.y=-O*n+_,I.z=Q*re,m.push(I.x,I.y,I.z),P.set(le,F,re).normalize(),y.push(P.x,P.y,P.z),v.push(te,1-O),U.push(C++)}b.push(U)}for(let V=0;V<i;V++)for(let U=0;U<s;U++){const O=b[U][V],Q=b[U+1][V],q=b[U+1][V+1],te=b[U][V+1];h.push(O,Q,te),h.push(Q,q,te),k+=6}d.addGroup(S,k,0),S+=k}function E(P){const I=C,k=new qe,F=new $;let V=0;const U=P===!0?e:t,O=P===!0?1:-1;for(let q=1;q<=i;q++)m.push(0,_*O,0),y.push(0,O,0),v.push(.5,.5),C++;const Q=C;for(let q=0;q<=i;q++){const X=q/i*c+l,le=Math.cos(X),re=Math.sin(X);F.x=U*re,F.y=_*O,F.z=U*le,m.push(F.x,F.y,F.z),y.push(0,O,0),k.x=le*.5+.5,k.y=re*.5*O+.5,v.push(k.x,k.y),C++}for(let q=0;q<i;q++){const te=I+q,X=Q+q;P===!0?h.push(X,X+1,te):h.push(X+1,X,te),V+=3}d.addGroup(S,V,P===!0?1:2),S+=V}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new ff(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class by extends ff{constructor(e=1,t=1,n=32,i=1,s=!1,o=0,l=Math.PI*2){super(0,e,t,n,i,s,o,l),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:n,heightSegments:i,openEnded:s,thetaStart:o,thetaLength:l}}static fromJSON(e){return new by(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class nc extends on{constructor(e=[],t=[],n=1,i=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:n,detail:i};const s=[],o=[];l(i),d(n),h(),this.setAttribute("position",new Lt(s,3)),this.setAttribute("normal",new Lt(s.slice(),3)),this.setAttribute("uv",new Lt(o,2)),i===0?this.computeVertexNormals():this.normalizeNormals();function l(A){const E=new $,P=new $,I=new $;for(let k=0;k<t.length;k+=3)v(t[k+0],E),v(t[k+1],P),v(t[k+2],I),c(E,P,I,A)}function c(A,E,P,I){const k=I+1,F=[];for(let V=0;V<=k;V++){F[V]=[];const U=A.clone().lerp(P,V/k),O=E.clone().lerp(P,V/k),Q=k-V;for(let q=0;q<=Q;q++)q===0&&V===k?F[V][q]=U:F[V][q]=U.clone().lerp(O,q/Q)}for(let V=0;V<k;V++)for(let U=0;U<2*(k-V)-1;U++){const O=Math.floor(U/2);U%2===0?(y(F[V][O+1]),y(F[V+1][O]),y(F[V][O])):(y(F[V][O+1]),y(F[V+1][O+1]),y(F[V+1][O]))}}function d(A){const E=new $;for(let P=0;P<s.length;P+=3)E.x=s[P+0],E.y=s[P+1],E.z=s[P+2],E.normalize().multiplyScalar(A),s[P+0]=E.x,s[P+1]=E.y,s[P+2]=E.z}function h(){const A=new $;for(let E=0;E<s.length;E+=3){A.x=s[E+0],A.y=s[E+1],A.z=s[E+2];const P=_(A)/2/Math.PI+.5,I=S(A)/Math.PI+.5;o.push(P,1-I)}C(),m()}function m(){for(let A=0;A<o.length;A+=6){const E=o[A+0],P=o[A+2],I=o[A+4],k=Math.max(E,P,I),F=Math.min(E,P,I);k>.9&&F<.1&&(E<.2&&(o[A+0]+=1),P<.2&&(o[A+2]+=1),I<.2&&(o[A+4]+=1))}}function y(A){s.push(A.x,A.y,A.z)}function v(A,E){const P=A*3;E.x=e[P+0],E.y=e[P+1],E.z=e[P+2]}function C(){const A=new $,E=new $,P=new $,I=new $,k=new qe,F=new qe,V=new qe;for(let U=0,O=0;U<s.length;U+=9,O+=6){A.set(s[U+0],s[U+1],s[U+2]),E.set(s[U+3],s[U+4],s[U+5]),P.set(s[U+6],s[U+7],s[U+8]),k.set(o[O+0],o[O+1]),F.set(o[O+2],o[O+3]),V.set(o[O+4],o[O+5]),I.copy(A).add(E).add(P).divideScalar(3);const Q=_(I);b(k,O+0,A,Q),b(F,O+2,E,Q),b(V,O+4,P,Q)}}function b(A,E,P,I){I<0&&A.x===1&&(o[E]=A.x-1),P.x===0&&P.z===0&&(o[E]=I/2/Math.PI+.5)}function _(A){return Math.atan2(A.z,-A.x)}function S(A){return Math.atan2(-A.y,Math.sqrt(A.x*A.x+A.z*A.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new nc(e.vertices,e.indices,e.radius,e.details)}}class My extends nc{constructor(e=1,t=0){const n=(1+Math.sqrt(5))/2,i=1/n,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-n,0,-i,n,0,i,-n,0,i,n,-i,-n,0,-i,n,0,i,-n,0,i,n,0,-n,0,-i,n,0,-i,-n,0,i,n,0,i],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(s,o,e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new My(e.radius,e.detail)}}const tg=new $,ng=new $,a0=new $,rg=new ls;class IE extends on{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},e!==null){const i=Math.pow(10,4),s=Math.cos(cu*t),o=e.getIndex(),l=e.getAttribute("position"),c=o?o.count:l.count,d=[0,0,0],h=["a","b","c"],m=new Array(3),y={},v=[];for(let C=0;C<c;C+=3){o?(d[0]=o.getX(C),d[1]=o.getX(C+1),d[2]=o.getX(C+2)):(d[0]=C,d[1]=C+1,d[2]=C+2);const{a:b,b:_,c:S}=rg;if(b.fromBufferAttribute(l,d[0]),_.fromBufferAttribute(l,d[1]),S.fromBufferAttribute(l,d[2]),rg.getNormal(a0),m[0]=`${Math.round(b.x*i)},${Math.round(b.y*i)},${Math.round(b.z*i)}`,m[1]=`${Math.round(_.x*i)},${Math.round(_.y*i)},${Math.round(_.z*i)}`,m[2]=`${Math.round(S.x*i)},${Math.round(S.y*i)},${Math.round(S.z*i)}`,!(m[0]===m[1]||m[1]===m[2]||m[2]===m[0]))for(let A=0;A<3;A++){const E=(A+1)%3,P=m[A],I=m[E],k=rg[h[A]],F=rg[h[E]],V=`${P}_${I}`,U=`${I}_${P}`;U in y&&y[U]?(a0.dot(y[U].normal)<=s&&(v.push(k.x,k.y,k.z),v.push(F.x,F.y,F.z)),y[U]=null):V in y||(y[V]={index0:d[A],index1:d[E],normal:a0.clone()})}}for(const C in y)if(y[C]){const{index0:b,index1:_}=y[C];tg.fromBufferAttribute(l,b),ng.fromBufferAttribute(l,_),v.push(tg.x,tg.y,tg.z),v.push(ng.x,ng.y,ng.z)}this.setAttribute("position",new Lt(v,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class du extends ip{constructor(e){super(e),this.uuid=Rs(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let n=0,i=this.holes.length;n<i;n++)t[n]=this.holes[n].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,n=e.holes.length;t<n;t++){const i=e.holes[t];this.holes.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,n=this.holes.length;t<n;t++){const i=this.holes[t];e.holes.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,n=e.holes.length;t<n;t++){const i=e.holes[t];this.holes.push(new ip().fromJSON(i))}return this}}const yF={triangulate:function(r,e,t=2){const n=e&&e.length,i=n?e[0]*t:r.length;let s=UE(r,0,i,t,!0);const o=[];if(!s||s.next===s.prev)return o;let l,c,d,h,m,y,v;if(n&&(s=_F(r,e,s,t)),r.length>80*t){l=d=r[0],c=h=r[1];for(let C=t;C<i;C+=t)m=r[C],y=r[C+1],m<l&&(l=m),y<c&&(c=y),m>d&&(d=m),y>h&&(h=y);v=Math.max(d-l,h-c),v=v!==0?32767/v:0}return sp(s,o,t,l,c,v,0),o}};function UE(r,e,t,n,i){let s,o;if(i===IF(r,e,t,n)>0)for(s=e;s<t;s+=n)o=s_(s,r[s],r[s+1],o);else for(s=t-n;s>=e;s-=n)o=s_(s,r[s],r[s+1],o);return o&&Ey(o,o.next)&&(ap(o),o=o.next),o}function gu(r,e){if(!r)return r;e||(e=r);let t=r,n;do if(n=!1,!t.steiner&&(Ey(t,t.next)||er(t.prev,t,t.next)===0)){if(ap(t),t=e=t.prev,t===t.next)break;n=!0}else t=t.next;while(n||t!==e);return e}function sp(r,e,t,n,i,s,o){if(!r)return;!o&&s&&AF(r,n,i,s);let l=r,c,d;for(;r.prev!==r.next;){if(c=r.prev,d=r.next,s?xF(r,n,i,s):vF(r)){e.push(c.i/t|0),e.push(r.i/t|0),e.push(d.i/t|0),ap(r),r=d.next,l=d.next;continue}if(r=d,r===l){o?o===1?(r=CF(gu(r),e,t),sp(r,e,t,n,i,s,2)):o===2&&wF(r,e,t,n,i,s):sp(gu(r),e,t,n,i,s,1);break}}}function vF(r){const e=r.prev,t=r,n=r.next;if(er(e,t,n)>=0)return!1;const i=e.x,s=t.x,o=n.x,l=e.y,c=t.y,d=n.y,h=i<s?i<o?i:o:s<o?s:o,m=l<c?l<d?l:d:c<d?c:d,y=i>s?i>o?i:o:s>o?s:o,v=l>c?l>d?l:d:c>d?c:d;let C=n.next;for(;C!==e;){if(C.x>=h&&C.x<=y&&C.y>=m&&C.y<=v&&Jd(i,l,s,c,o,d,C.x,C.y)&&er(C.prev,C,C.next)>=0)return!1;C=C.next}return!0}function xF(r,e,t,n){const i=r.prev,s=r,o=r.next;if(er(i,s,o)>=0)return!1;const l=i.x,c=s.x,d=o.x,h=i.y,m=s.y,y=o.y,v=l<c?l<d?l:d:c<d?c:d,C=h<m?h<y?h:y:m<y?m:y,b=l>c?l>d?l:d:c>d?c:d,_=h>m?h>y?h:y:m>y?m:y,S=P2(v,C,e,t,n),A=P2(b,_,e,t,n);let E=r.prevZ,P=r.nextZ;for(;E&&E.z>=S&&P&&P.z<=A;){if(E.x>=v&&E.x<=b&&E.y>=C&&E.y<=_&&E!==i&&E!==o&&Jd(l,h,c,m,d,y,E.x,E.y)&&er(E.prev,E,E.next)>=0||(E=E.prevZ,P.x>=v&&P.x<=b&&P.y>=C&&P.y<=_&&P!==i&&P!==o&&Jd(l,h,c,m,d,y,P.x,P.y)&&er(P.prev,P,P.next)>=0))return!1;P=P.nextZ}for(;E&&E.z>=S;){if(E.x>=v&&E.x<=b&&E.y>=C&&E.y<=_&&E!==i&&E!==o&&Jd(l,h,c,m,d,y,E.x,E.y)&&er(E.prev,E,E.next)>=0)return!1;E=E.prevZ}for(;P&&P.z<=A;){if(P.x>=v&&P.x<=b&&P.y>=C&&P.y<=_&&P!==i&&P!==o&&Jd(l,h,c,m,d,y,P.x,P.y)&&er(P.prev,P,P.next)>=0)return!1;P=P.nextZ}return!0}function CF(r,e,t){let n=r;do{const i=n.prev,s=n.next.next;!Ey(i,s)&&kE(i,n,n.next,s)&&op(i,s)&&op(s,i)&&(e.push(i.i/t|0),e.push(n.i/t|0),e.push(s.i/t|0),ap(n),ap(n.next),n=r=s),n=n.next}while(n!==r);return gu(n)}function wF(r,e,t,n,i,s){let o=r;do{let l=o.next.next;for(;l!==o.prev;){if(o.i!==l.i&&RF(o,l)){let c=NE(o,l);o=gu(o,o.next),c=gu(c,c.next),sp(o,e,t,n,i,s,0),sp(c,e,t,n,i,s,0);return}l=l.next}o=o.next}while(o!==r)}function _F(r,e,t,n){const i=[];let s,o,l,c,d;for(s=0,o=e.length;s<o;s++)l=e[s]*n,c=s<o-1?e[s+1]*n:r.length,d=UE(r,l,c,n,!1),d===d.next&&(d.steiner=!0),i.push(PF(d));for(i.sort(SF),s=0;s<i.length;s++)t=bF(i[s],t);return t}function SF(r,e){return r.x-e.x}function bF(r,e){const t=MF(r,e);if(!t)return e;const n=NE(t,r);return gu(n,n.next),gu(t,t.next)}function MF(r,e){let t=e,n=-1/0,i;const s=r.x,o=r.y;do{if(o<=t.y&&o>=t.next.y&&t.next.y!==t.y){const y=t.x+(o-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(y<=s&&y>n&&(n=y,i=t.x<t.next.x?t:t.next,y===s))return i}t=t.next}while(t!==e);if(!i)return null;const l=i,c=i.x,d=i.y;let h=1/0,m;t=i;do s>=t.x&&t.x>=c&&s!==t.x&&Jd(o<d?s:n,o,c,d,o<d?n:s,o,t.x,t.y)&&(m=Math.abs(o-t.y)/(s-t.x),op(t,r)&&(m<h||m===h&&(t.x>i.x||t.x===i.x&&EF(i,t)))&&(i=t,h=m)),t=t.next;while(t!==l);return i}function EF(r,e){return er(r.prev,r,e.prev)<0&&er(e.next,r,r.next)<0}function AF(r,e,t,n){let i=r;do i.z===0&&(i.z=P2(i.x,i.y,e,t,n)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==r);i.prevZ.nextZ=null,i.prevZ=null,TF(i)}function TF(r){let e,t,n,i,s,o,l,c,d=1;do{for(t=r,r=null,s=null,o=0;t;){for(o++,n=t,l=0,e=0;e<d&&(l++,n=n.nextZ,!!n);e++);for(c=d;l>0||c>0&&n;)l!==0&&(c===0||!n||t.z<=n.z)?(i=t,t=t.nextZ,l--):(i=n,n=n.nextZ,c--),s?s.nextZ=i:r=i,i.prevZ=s,s=i;t=n}s.nextZ=null,d*=2}while(o>1);return r}function P2(r,e,t,n,i){return r=(r-t)*i|0,e=(e-n)*i|0,r=(r|r<<8)&16711935,r=(r|r<<4)&252645135,r=(r|r<<2)&858993459,r=(r|r<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,r|e<<1}function PF(r){let e=r,t=r;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==r);return t}function Jd(r,e,t,n,i,s,o,l){return(i-o)*(e-l)>=(r-o)*(s-l)&&(r-o)*(n-l)>=(t-o)*(e-l)&&(t-o)*(s-l)>=(i-o)*(n-l)}function RF(r,e){return r.next.i!==e.i&&r.prev.i!==e.i&&!DF(r,e)&&(op(r,e)&&op(e,r)&&LF(r,e)&&(er(r.prev,r,e.prev)||er(r,e.prev,e))||Ey(r,e)&&er(r.prev,r,r.next)>0&&er(e.prev,e,e.next)>0)}function er(r,e,t){return(e.y-r.y)*(t.x-e.x)-(e.x-r.x)*(t.y-e.y)}function Ey(r,e){return r.x===e.x&&r.y===e.y}function kE(r,e,t,n){const i=sg(er(r,e,t)),s=sg(er(r,e,n)),o=sg(er(t,n,r)),l=sg(er(t,n,e));return!!(i!==s&&o!==l||i===0&&ig(r,t,e)||s===0&&ig(r,n,e)||o===0&&ig(t,r,n)||l===0&&ig(t,e,n))}function ig(r,e,t){return e.x<=Math.max(r.x,t.x)&&e.x>=Math.min(r.x,t.x)&&e.y<=Math.max(r.y,t.y)&&e.y>=Math.min(r.y,t.y)}function sg(r){return r>0?1:r<0?-1:0}function DF(r,e){let t=r;do{if(t.i!==r.i&&t.next.i!==r.i&&t.i!==e.i&&t.next.i!==e.i&&kE(t,t.next,r,e))return!0;t=t.next}while(t!==r);return!1}function op(r,e){return er(r.prev,r,r.next)<0?er(r,e,r.next)>=0&&er(r,r.prev,e)>=0:er(r,e,r.prev)<0||er(r,r.next,e)<0}function LF(r,e){let t=r,n=!1;const i=(r.x+e.x)/2,s=(r.y+e.y)/2;do t.y>s!=t.next.y>s&&t.next.y!==t.y&&i<(t.next.x-t.x)*(s-t.y)/(t.next.y-t.y)+t.x&&(n=!n),t=t.next;while(t!==r);return n}function NE(r,e){const t=new R2(r.i,r.x,r.y),n=new R2(e.i,e.x,e.y),i=r.next,s=e.prev;return r.next=e,e.prev=r,t.next=i,i.prev=t,n.next=t,t.prev=n,s.next=n,n.prev=s,n}function s_(r,e,t,n){const i=new R2(r,e,t);return n?(i.next=n.next,i.prev=n,n.next.prev=i,n.next=i):(i.prev=i,i.next=i),i}function ap(r){r.next.prev=r.prev,r.prev.next=r.next,r.prevZ&&(r.prevZ.nextZ=r.nextZ),r.nextZ&&(r.nextZ.prevZ=r.prevZ)}function R2(r,e,t){this.i=r,this.x=e,this.y=t,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function IF(r,e,t,n){let i=0;for(let s=e,o=t-n;s<t;s+=n)i+=(r[o]-r[s])*(r[s+1]+r[o+1]),o=s;return i}class ta{static area(e){const t=e.length;let n=0;for(let i=t-1,s=0;s<t;i=s++)n+=e[i].x*e[s].y-e[s].x*e[i].y;return n*.5}static isClockWise(e){return ta.area(e)<0}static triangulateShape(e,t){const n=[],i=[],s=[];o_(e),a_(n,e);let o=e.length;t.forEach(o_);for(let c=0;c<t.length;c++)i.push(o),o+=t[c].length,a_(n,t[c]);const l=yF.triangulate(n,i);for(let c=0;c<l.length;c+=3)s.push(l.slice(c,c+3));return s}}function o_(r){const e=r.length;e>2&&r[e-1].equals(r[0])&&r.pop()}function a_(r,e){for(let t=0;t<e.length;t++)r.push(e[t].x),r.push(e[t].y)}class Ay extends on{constructor(e=new du([new qe(.5,.5),new qe(-.5,.5),new qe(-.5,-.5),new qe(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const n=this,i=[],s=[];for(let l=0,c=e.length;l<c;l++){const d=e[l];o(d)}this.setAttribute("position",new Lt(i,3)),this.setAttribute("uv",new Lt(s,2)),this.computeVertexNormals();function o(l){const c=[],d=t.curveSegments!==void 0?t.curveSegments:12,h=t.steps!==void 0?t.steps:1,m=t.depth!==void 0?t.depth:1;let y=t.bevelEnabled!==void 0?t.bevelEnabled:!0,v=t.bevelThickness!==void 0?t.bevelThickness:.2,C=t.bevelSize!==void 0?t.bevelSize:v-.1,b=t.bevelOffset!==void 0?t.bevelOffset:0,_=t.bevelSegments!==void 0?t.bevelSegments:3;const S=t.extrudePath,A=t.UVGenerator!==void 0?t.UVGenerator:UF;let E,P=!1,I,k,F,V;S&&(E=S.getSpacedPoints(h),P=!0,y=!1,I=S.computeFrenetFrames(h,!1),k=new $,F=new $,V=new $),y||(_=0,v=0,C=0,b=0);const U=l.extractPoints(d);let O=U.shape;const Q=U.holes;if(!ta.isClockWise(O)){O=O.reverse();for(let Z=0,Oe=Q.length;Z<Oe;Z++){const Ce=Q[Z];ta.isClockWise(Ce)&&(Q[Z]=Ce.reverse())}}const te=ta.triangulateShape(O,Q),X=O;for(let Z=0,Oe=Q.length;Z<Oe;Z++){const Ce=Q[Z];O=O.concat(Ce)}function le(Z,Oe,Ce){return Oe||console.error("THREE.ExtrudeGeometry: vec does not exist"),Z.clone().addScaledVector(Oe,Ce)}const re=O.length,de=te.length;function j(Z,Oe,Ce){let Ne,Ee,rt;const Ae=Z.x-Oe.x,We=Z.y-Oe.y,Ke=Ce.x-Z.x,Me=Ce.y-Z.y,ht=Ae*Ae+We*We,K=Ae*Me-We*Ke;if(Math.abs(K)>Number.EPSILON){const H=Math.sqrt(ht),fe=Math.sqrt(Ke*Ke+Me*Me),Ye=Oe.x-We/H,Se=Oe.y+Ae/H,Le=Ce.x-Me/fe,tt=Ce.y+Ke/fe,Xe=((Le-Ye)*Me-(tt-Se)*Ke)/(Ae*Me-We*Ke);Ne=Ye+Ae*Xe-Z.x,Ee=Se+We*Xe-Z.y;const et=Ne*Ne+Ee*Ee;if(et<=2)return new qe(Ne,Ee);rt=Math.sqrt(et/2)}else{let H=!1;Ae>Number.EPSILON?Ke>Number.EPSILON&&(H=!0):Ae<-Number.EPSILON?Ke<-Number.EPSILON&&(H=!0):Math.sign(We)===Math.sign(Me)&&(H=!0),H?(Ne=-We,Ee=Ae,rt=Math.sqrt(ht)):(Ne=Ae,Ee=We,rt=Math.sqrt(ht/2))}return new qe(Ne/rt,Ee/rt)}const Y=[];for(let Z=0,Oe=X.length,Ce=Oe-1,Ne=Z+1;Z<Oe;Z++,Ce++,Ne++)Ce===Oe&&(Ce=0),Ne===Oe&&(Ne=0),Y[Z]=j(X[Z],X[Ce],X[Ne]);const G=[];let D,B=Y.concat();for(let Z=0,Oe=Q.length;Z<Oe;Z++){const Ce=Q[Z];D=[];for(let Ne=0,Ee=Ce.length,rt=Ee-1,Ae=Ne+1;Ne<Ee;Ne++,rt++,Ae++)rt===Ee&&(rt=0),Ae===Ee&&(Ae=0),D[Ne]=j(Ce[Ne],Ce[rt],Ce[Ae]);G.push(D),B=B.concat(D)}for(let Z=0;Z<_;Z++){const Oe=Z/_,Ce=v*Math.cos(Oe*Math.PI/2),Ne=C*Math.sin(Oe*Math.PI/2)+b;for(let Ee=0,rt=X.length;Ee<rt;Ee++){const Ae=le(X[Ee],Y[Ee],Ne);me(Ae.x,Ae.y,-Ce)}for(let Ee=0,rt=Q.length;Ee<rt;Ee++){const Ae=Q[Ee];D=G[Ee];for(let We=0,Ke=Ae.length;We<Ke;We++){const Me=le(Ae[We],D[We],Ne);me(Me.x,Me.y,-Ce)}}}const ee=C+b;for(let Z=0;Z<re;Z++){const Oe=y?le(O[Z],B[Z],ee):O[Z];P?(F.copy(I.normals[0]).multiplyScalar(Oe.x),k.copy(I.binormals[0]).multiplyScalar(Oe.y),V.copy(E[0]).add(F).add(k),me(V.x,V.y,V.z)):me(Oe.x,Oe.y,0)}for(let Z=1;Z<=h;Z++)for(let Oe=0;Oe<re;Oe++){const Ce=y?le(O[Oe],B[Oe],ee):O[Oe];P?(F.copy(I.normals[Z]).multiplyScalar(Ce.x),k.copy(I.binormals[Z]).multiplyScalar(Ce.y),V.copy(E[Z]).add(F).add(k),me(V.x,V.y,V.z)):me(Ce.x,Ce.y,m/h*Z)}for(let Z=_-1;Z>=0;Z--){const Oe=Z/_,Ce=v*Math.cos(Oe*Math.PI/2),Ne=C*Math.sin(Oe*Math.PI/2)+b;for(let Ee=0,rt=X.length;Ee<rt;Ee++){const Ae=le(X[Ee],Y[Ee],Ne);me(Ae.x,Ae.y,m+Ce)}for(let Ee=0,rt=Q.length;Ee<rt;Ee++){const Ae=Q[Ee];D=G[Ee];for(let We=0,Ke=Ae.length;We<Ke;We++){const Me=le(Ae[We],D[We],Ne);P?me(Me.x,Me.y+E[h-1].y,E[h-1].x+Ce):me(Me.x,Me.y,m+Ce)}}}ie(),se();function ie(){const Z=i.length/3;if(y){let Oe=0,Ce=re*Oe;for(let Ne=0;Ne<de;Ne++){const Ee=te[Ne];ve(Ee[2]+Ce,Ee[1]+Ce,Ee[0]+Ce)}Oe=h+_*2,Ce=re*Oe;for(let Ne=0;Ne<de;Ne++){const Ee=te[Ne];ve(Ee[0]+Ce,Ee[1]+Ce,Ee[2]+Ce)}}else{for(let Oe=0;Oe<de;Oe++){const Ce=te[Oe];ve(Ce[2],Ce[1],Ce[0])}for(let Oe=0;Oe<de;Oe++){const Ce=te[Oe];ve(Ce[0]+re*h,Ce[1]+re*h,Ce[2]+re*h)}}n.addGroup(Z,i.length/3-Z,0)}function se(){const Z=i.length/3;let Oe=0;pe(X,Oe),Oe+=X.length;for(let Ce=0,Ne=Q.length;Ce<Ne;Ce++){const Ee=Q[Ce];pe(Ee,Oe),Oe+=Ee.length}n.addGroup(Z,i.length/3-Z,1)}function pe(Z,Oe){let Ce=Z.length;for(;--Ce>=0;){const Ne=Ce;let Ee=Ce-1;Ee<0&&(Ee=Z.length-1);for(let rt=0,Ae=h+_*2;rt<Ae;rt++){const We=re*rt,Ke=re*(rt+1),Me=Oe+Ne+We,ht=Oe+Ee+We,K=Oe+Ee+Ke,H=Oe+Ne+Ke;ke(Me,ht,K,H)}}}function me(Z,Oe,Ce){c.push(Z),c.push(Oe),c.push(Ce)}function ve(Z,Oe,Ce){$e(Z),$e(Oe),$e(Ce);const Ne=i.length/3,Ee=A.generateTopUV(n,i,Ne-3,Ne-2,Ne-1);Re(Ee[0]),Re(Ee[1]),Re(Ee[2])}function ke(Z,Oe,Ce,Ne){$e(Z),$e(Oe),$e(Ne),$e(Oe),$e(Ce),$e(Ne);const Ee=i.length/3,rt=A.generateSideWallUV(n,i,Ee-6,Ee-3,Ee-2,Ee-1);Re(rt[0]),Re(rt[1]),Re(rt[3]),Re(rt[1]),Re(rt[2]),Re(rt[3])}function $e(Z){i.push(c[Z*3+0]),i.push(c[Z*3+1]),i.push(c[Z*3+2])}function Re(Z){s.push(Z.x),s.push(Z.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes,n=this.parameters.options;return kF(t,n,e)}static fromJSON(e,t){const n=[];for(let s=0,o=e.shapes.length;s<o;s++){const l=t[e.shapes[s]];n.push(l)}const i=e.options.extrudePath;return i!==void 0&&(e.options.extrudePath=new Xg[i.type]().fromJSON(i)),new Ay(n,e.options)}}const UF={generateTopUV:function(r,e,t,n,i){const s=e[t*3],o=e[t*3+1],l=e[n*3],c=e[n*3+1],d=e[i*3],h=e[i*3+1];return[new qe(s,o),new qe(l,c),new qe(d,h)]},generateSideWallUV:function(r,e,t,n,i,s){const o=e[t*3],l=e[t*3+1],c=e[t*3+2],d=e[n*3],h=e[n*3+1],m=e[n*3+2],y=e[i*3],v=e[i*3+1],C=e[i*3+2],b=e[s*3],_=e[s*3+1],S=e[s*3+2];return Math.abs(l-h)<Math.abs(o-d)?[new qe(o,1-c),new qe(d,1-m),new qe(y,1-C),new qe(b,1-S)]:[new qe(l,1-c),new qe(h,1-m),new qe(v,1-C),new qe(_,1-S)]}};function kF(r,e,t){if(t.shapes=[],Array.isArray(r))for(let n=0,i=r.length;n<i;n++){const s=r[n];t.shapes.push(s.uuid)}else t.shapes.push(r.uuid);return t.options=Object.assign({},e),e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}class Ty extends nc{constructor(e=1,t=0){const n=(1+Math.sqrt(5))/2,i=[-1,n,0,1,n,0,-1,-n,0,1,-n,0,0,-1,n,0,1,n,0,-1,-n,0,1,-n,n,0,-1,n,0,1,-n,0,-1,-n,0,1],s=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(i,s,e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Ty(e.radius,e.detail)}}class bp extends nc{constructor(e=1,t=0){const n=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],i=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(n,i,e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new bp(e.radius,e.detail)}}class Py extends on{constructor(e=.5,t=1,n=32,i=1,s=0,o=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:n,phiSegments:i,thetaStart:s,thetaLength:o},n=Math.max(3,n),i=Math.max(1,i);const l=[],c=[],d=[],h=[];let m=e;const y=(t-e)/i,v=new $,C=new qe;for(let b=0;b<=i;b++){for(let _=0;_<=n;_++){const S=s+_/n*o;v.x=m*Math.cos(S),v.y=m*Math.sin(S),c.push(v.x,v.y,v.z),d.push(0,0,1),C.x=(v.x/t+1)/2,C.y=(v.y/t+1)/2,h.push(C.x,C.y)}m+=y}for(let b=0;b<i;b++){const _=b*(n+1);for(let S=0;S<n;S++){const A=S+_,E=A,P=A+n+1,I=A+n+2,k=A+1;l.push(E,P,k),l.push(P,I,k)}}this.setIndex(l),this.setAttribute("position",new Lt(c,3)),this.setAttribute("normal",new Lt(d,3)),this.setAttribute("uv",new Lt(h,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Py(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class Ry extends on{constructor(e=new du([new qe(0,.5),new qe(-.5,-.5),new qe(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const n=[],i=[],s=[],o=[];let l=0,c=0;if(Array.isArray(e)===!1)d(e);else for(let h=0;h<e.length;h++)d(e[h]),this.addGroup(l,c,h),l+=c,c=0;this.setIndex(n),this.setAttribute("position",new Lt(i,3)),this.setAttribute("normal",new Lt(s,3)),this.setAttribute("uv",new Lt(o,2));function d(h){const m=i.length/3,y=h.extractPoints(t);let v=y.shape;const C=y.holes;ta.isClockWise(v)===!1&&(v=v.reverse());for(let _=0,S=C.length;_<S;_++){const A=C[_];ta.isClockWise(A)===!0&&(C[_]=A.reverse())}const b=ta.triangulateShape(v,C);for(let _=0,S=C.length;_<S;_++){const A=C[_];v=v.concat(A)}for(let _=0,S=v.length;_<S;_++){const A=v[_];i.push(A.x,A.y,0),s.push(0,0,1),o.push(A.x,A.y)}for(let _=0,S=b.length;_<S;_++){const A=b[_],E=A[0]+m,P=A[1]+m,I=A[2]+m;n.push(E,P,I),c+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes;return NF(t,e)}static fromJSON(e,t){const n=[];for(let i=0,s=e.shapes.length;i<s;i++){const o=t[e.shapes[i]];n.push(o)}return new Ry(n,e.curveSegments)}}function NF(r,e){if(e.shapes=[],Array.isArray(r))for(let t=0,n=r.length;t<n;t++){const i=r[t];e.shapes.push(i.uuid)}else e.shapes.push(r.uuid);return e}class Mp extends on{constructor(e=1,t=32,n=16,i=0,s=Math.PI*2,o=0,l=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:n,phiStart:i,phiLength:s,thetaStart:o,thetaLength:l},t=Math.max(3,Math.floor(t)),n=Math.max(2,Math.floor(n));const c=Math.min(o+l,Math.PI);let d=0;const h=[],m=new $,y=new $,v=[],C=[],b=[],_=[];for(let S=0;S<=n;S++){const A=[],E=S/n;let P=0;S===0&&o===0?P=.5/t:S===n&&c===Math.PI&&(P=-.5/t);for(let I=0;I<=t;I++){const k=I/t;m.x=-e*Math.cos(i+k*s)*Math.sin(o+E*l),m.y=e*Math.cos(o+E*l),m.z=e*Math.sin(i+k*s)*Math.sin(o+E*l),C.push(m.x,m.y,m.z),y.copy(m).normalize(),b.push(y.x,y.y,y.z),_.push(k+P,1-E),A.push(d++)}h.push(A)}for(let S=0;S<n;S++)for(let A=0;A<t;A++){const E=h[S][A+1],P=h[S][A],I=h[S+1][A],k=h[S+1][A+1];(S!==0||o>0)&&v.push(E,P,k),(S!==n-1||c<Math.PI)&&v.push(P,I,k)}this.setIndex(v),this.setAttribute("position",new Lt(C,3)),this.setAttribute("normal",new Lt(b,3)),this.setAttribute("uv",new Lt(_,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Mp(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class Dy extends nc{constructor(e=1,t=0){const n=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],i=[2,1,0,0,3,2,1,3,0,2,3,1];super(n,i,e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Dy(e.radius,e.detail)}}class Ly extends on{constructor(e=1,t=.4,n=12,i=48,s=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:n,tubularSegments:i,arc:s},n=Math.floor(n),i=Math.floor(i);const o=[],l=[],c=[],d=[],h=new $,m=new $,y=new $;for(let v=0;v<=n;v++)for(let C=0;C<=i;C++){const b=C/i*s,_=v/n*Math.PI*2;m.x=(e+t*Math.cos(_))*Math.cos(b),m.y=(e+t*Math.cos(_))*Math.sin(b),m.z=t*Math.sin(_),l.push(m.x,m.y,m.z),h.x=e*Math.cos(b),h.y=e*Math.sin(b),y.subVectors(m,h).normalize(),c.push(y.x,y.y,y.z),d.push(C/i),d.push(v/n)}for(let v=1;v<=n;v++)for(let C=1;C<=i;C++){const b=(i+1)*v+C-1,_=(i+1)*(v-1)+C-1,S=(i+1)*(v-1)+C,A=(i+1)*v+C;o.push(b,_,A),o.push(_,S,A)}this.setIndex(o),this.setAttribute("position",new Lt(l,3)),this.setAttribute("normal",new Lt(c,3)),this.setAttribute("uv",new Lt(d,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Ly(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class Iy extends on{constructor(e=1,t=.4,n=64,i=8,s=2,o=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:n,radialSegments:i,p:s,q:o},n=Math.floor(n),i=Math.floor(i);const l=[],c=[],d=[],h=[],m=new $,y=new $,v=new $,C=new $,b=new $,_=new $,S=new $;for(let E=0;E<=n;++E){const P=E/n*s*Math.PI*2;A(P,s,o,e,v),A(P+.01,s,o,e,C),_.subVectors(C,v),S.addVectors(C,v),b.crossVectors(_,S),S.crossVectors(b,_),b.normalize(),S.normalize();for(let I=0;I<=i;++I){const k=I/i*Math.PI*2,F=-t*Math.cos(k),V=t*Math.sin(k);m.x=v.x+(F*S.x+V*b.x),m.y=v.y+(F*S.y+V*b.y),m.z=v.z+(F*S.z+V*b.z),c.push(m.x,m.y,m.z),y.subVectors(m,v).normalize(),d.push(y.x,y.y,y.z),h.push(E/n),h.push(I/i)}}for(let E=1;E<=n;E++)for(let P=1;P<=i;P++){const I=(i+1)*(E-1)+(P-1),k=(i+1)*E+(P-1),F=(i+1)*E+P,V=(i+1)*(E-1)+P;l.push(I,k,V),l.push(k,F,V)}this.setIndex(l),this.setAttribute("position",new Lt(c,3)),this.setAttribute("normal",new Lt(d,3)),this.setAttribute("uv",new Lt(h,2));function A(E,P,I,k,F){const V=Math.cos(E),U=Math.sin(E),O=I/P*E,Q=Math.cos(O);F.x=k*(2+Q)*.5*V,F.y=k*(2+Q)*U*.5,F.z=k*Math.sin(O)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Iy(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class Uy extends on{constructor(e=new Vx(new $(-1,-1,0),new $(-1,1,0),new $(1,1,0)),t=64,n=1,i=8,s=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:n,radialSegments:i,closed:s};const o=e.computeFrenetFrames(t,s);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const l=new $,c=new $,d=new qe;let h=new $;const m=[],y=[],v=[],C=[];b(),this.setIndex(C),this.setAttribute("position",new Lt(m,3)),this.setAttribute("normal",new Lt(y,3)),this.setAttribute("uv",new Lt(v,2));function b(){for(let E=0;E<t;E++)_(E);_(s===!1?t:0),A(),S()}function _(E){h=e.getPointAt(E/t,h);const P=o.normals[E],I=o.binormals[E];for(let k=0;k<=i;k++){const F=k/i*Math.PI*2,V=Math.sin(F),U=-Math.cos(F);c.x=U*P.x+V*I.x,c.y=U*P.y+V*I.y,c.z=U*P.z+V*I.z,c.normalize(),y.push(c.x,c.y,c.z),l.x=h.x+n*c.x,l.y=h.y+n*c.y,l.z=h.z+n*c.z,m.push(l.x,l.y,l.z)}}function S(){for(let E=1;E<=t;E++)for(let P=1;P<=i;P++){const I=(i+1)*(E-1)+(P-1),k=(i+1)*E+(P-1),F=(i+1)*E+P,V=(i+1)*(E-1)+P;C.push(I,k,V),C.push(k,F,V)}}function A(){for(let E=0;E<=t;E++)for(let P=0;P<=i;P++)d.x=E/t,d.y=P/i,v.push(d.x,d.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new Uy(new Xg[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class OE extends on{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const t=[],n=new Set,i=new $,s=new $;if(e.index!==null){const o=e.attributes.position,l=e.index;let c=e.groups;c.length===0&&(c=[{start:0,count:l.count,materialIndex:0}]);for(let d=0,h=c.length;d<h;++d){const m=c[d],y=m.start,v=m.count;for(let C=y,b=y+v;C<b;C+=3)for(let _=0;_<3;_++){const S=l.getX(C+_),A=l.getX(C+(_+1)%3);i.fromBufferAttribute(o,S),s.fromBufferAttribute(o,A),l_(i,s,n)===!0&&(t.push(i.x,i.y,i.z),t.push(s.x,s.y,s.z))}}}else{const o=e.attributes.position;for(let l=0,c=o.count/3;l<c;l++)for(let d=0;d<3;d++){const h=3*l+d,m=3*l+(d+1)%3;i.fromBufferAttribute(o,h),s.fromBufferAttribute(o,m),l_(i,s,n)===!0&&(t.push(i.x,i.y,i.z),t.push(s.x,s.y,s.z))}}this.setAttribute("position",new Lt(t,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function l_(r,e,t){const n=`${r.x},${r.y},${r.z}-${e.x},${e.y},${e.z}`,i=`${e.x},${e.y},${e.z}-${r.x},${r.y},${r.z}`;return t.has(n)===!0||t.has(i)===!0?!1:(t.add(n),t.add(i),!0)}var c_=Object.freeze({__proto__:null,BoxGeometry:Su,CapsuleGeometry:_y,CircleGeometry:Sy,ConeGeometry:by,CylinderGeometry:ff,DodecahedronGeometry:My,EdgesGeometry:IE,ExtrudeGeometry:Ay,IcosahedronGeometry:Ty,LatheGeometry:Sp,OctahedronGeometry:bp,PlaneGeometry:tc,PolyhedronGeometry:nc,RingGeometry:Py,ShapeGeometry:Ry,SphereGeometry:Mp,TetrahedronGeometry:Dy,TorusGeometry:Ly,TorusKnotGeometry:Iy,TubeGeometry:Uy,WireframeGeometry:OE});class FE extends Ai{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new wt(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class BE extends ra{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class Gx extends Ai{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new wt(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new wt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ec,this.normalScale=new qe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class zE extends Gx{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new qe(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return lr(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new wt(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new wt(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new wt(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class VE extends Ai{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new wt(16777215),this.specular=new wt(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new wt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ec,this.normalScale=new qe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=vp,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class HE extends Ai{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new wt(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new wt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ec,this.normalScale=new qe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class GE extends Ai{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ec,this.normalScale=new qe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class WE extends Ai{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new wt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new wt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ec,this.normalScale=new qe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=vp,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class jE extends Ai{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new wt(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ec,this.normalScale=new qe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class XE extends Xi{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function ou(r,e,t){return!r||!t&&r.constructor===e?r:typeof e.BYTES_PER_ELEMENT=="number"?new e(r):Array.prototype.slice.call(r)}function YE(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}function qE(r){function e(i,s){return r[i]-r[s]}const t=r.length,n=new Array(t);for(let i=0;i!==t;++i)n[i]=i;return n.sort(e),n}function D2(r,e,t){const n=r.length,i=new r.constructor(n);for(let s=0,o=0;o!==n;++s){const l=t[s]*e;for(let c=0;c!==e;++c)i[o++]=r[l+c]}return i}function Wx(r,e,t,n){let i=1,s=r[0];for(;s!==void 0&&s[n]===void 0;)s=r[i++];if(s===void 0)return;let o=s[n];if(o!==void 0)if(Array.isArray(o))do o=s[n],o!==void 0&&(e.push(s.time),t.push.apply(t,o)),s=r[i++];while(s!==void 0);else if(o.toArray!==void 0)do o=s[n],o!==void 0&&(e.push(s.time),o.toArray(t,t.length)),s=r[i++];while(s!==void 0);else do o=s[n],o!==void 0&&(e.push(s.time),t.push(o)),s=r[i++];while(s!==void 0)}function OF(r,e,t,n,i=30){const s=r.clone();s.name=e;const o=[];for(let c=0;c<s.tracks.length;++c){const d=s.tracks[c],h=d.getValueSize(),m=[],y=[];for(let v=0;v<d.times.length;++v){const C=d.times[v]*i;if(!(C<t||C>=n)){m.push(d.times[v]);for(let b=0;b<h;++b)y.push(d.values[v*h+b])}}m.length!==0&&(d.times=ou(m,d.times.constructor),d.values=ou(y,d.values.constructor),o.push(d))}s.tracks=o;let l=1/0;for(let c=0;c<s.tracks.length;++c)l>s.tracks[c].times[0]&&(l=s.tracks[c].times[0]);for(let c=0;c<s.tracks.length;++c)s.tracks[c].shift(-1*l);return s.resetDuration(),s}function FF(r,e=0,t=r,n=30){n<=0&&(n=30);const i=t.tracks.length,s=e/n;for(let o=0;o<i;++o){const l=t.tracks[o],c=l.ValueTypeName;if(c==="bool"||c==="string")continue;const d=r.tracks.find(function(S){return S.name===l.name&&S.ValueTypeName===c});if(d===void 0)continue;let h=0;const m=l.getValueSize();l.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(h=m/3);let y=0;const v=d.getValueSize();d.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(y=v/3);const C=l.times.length-1;let b;if(s<=l.times[0]){const S=h,A=m-h;b=l.values.slice(S,A)}else if(s>=l.times[C]){const S=C*m+h,A=S+m-h;b=l.values.slice(S,A)}else{const S=l.createInterpolant(),A=h,E=m-h;S.evaluate(s),b=S.resultBuffer.slice(A,E)}c==="quaternion"&&new Ei().fromArray(b).normalize().conjugate().toArray(b);const _=d.times.length;for(let S=0;S<_;++S){const A=S*v+y;if(c==="quaternion")Ei.multiplyQuaternionsFlat(d.values,A,b,0,d.values,A);else{const E=v-y*2;for(let P=0;P<E;++P)d.values[A+P]-=b[P]}}}return r.blendMode=_x,r}const BF={convertArray:ou,isTypedArray:YE,getKeyframeOrder:qE,sortedArray:D2,flattenJSON:Wx,subclip:OF,makeClipAdditive:FF};class Ep{constructor(e,t,n,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=i!==void 0?i:new t.constructor(n),this.sampleValues=t,this.valueSize=n,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let n=this._cachedIndex,i=t[n],s=t[n-1];e:{t:{let o;n:{r:if(!(e<i)){for(let l=n+2;;){if(i===void 0){if(e<s)break r;return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}if(n===l)break;if(s=i,i=t[++n],e<i)break t}o=t.length;break n}if(!(e>=s)){const l=t[1];e<l&&(n=2,s=l);for(let c=n-2;;){if(s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(n===c)break;if(i=s,s=t[--n-1],e>=s)break t}o=n,n=0;break n}break e}for(;n<o;){const l=n+o>>>1;e<t[l]?o=l:n=l+1}if(i=t[n],s=t[n-1],s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===void 0)return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}this._cachedIndex=n,this.intervalChanged_(n,s,i)}return this.interpolate_(n,s,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,n=this.sampleValues,i=this.valueSize,s=e*i;for(let o=0;o!==i;++o)t[o]=n[s+o];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class KE extends Ep{constructor(e,t,n,i){super(e,t,n,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:ru,endingEnd:ru}}intervalChanged_(e,t,n){const i=this.parameterPositions;let s=e-2,o=e+1,l=i[s],c=i[o];if(l===void 0)switch(this.getSettings_().endingStart){case iu:s=e,l=2*t-n;break;case Jh:s=i.length-2,l=t+i[s]-i[s+1];break;default:s=e,l=n}if(c===void 0)switch(this.getSettings_().endingEnd){case iu:o=e,c=2*n-t;break;case Jh:o=1,c=n+i[1]-i[0];break;default:o=e-1,c=t}const d=(n-t)*.5,h=this.valueSize;this._weightPrev=d/(t-l),this._weightNext=d/(c-n),this._offsetPrev=s*h,this._offsetNext=o*h}interpolate_(e,t,n,i){const s=this.resultBuffer,o=this.sampleValues,l=this.valueSize,c=e*l,d=c-l,h=this._offsetPrev,m=this._offsetNext,y=this._weightPrev,v=this._weightNext,C=(n-t)/(i-t),b=C*C,_=b*C,S=-y*_+2*y*b-y*C,A=(1+y)*_+(-1.5-2*y)*b+(-.5+y)*C+1,E=(-1-v)*_+(1.5+v)*b+.5*C,P=v*_-v*b;for(let I=0;I!==l;++I)s[I]=S*o[h+I]+A*o[d+I]+E*o[c+I]+P*o[m+I];return s}}class jx extends Ep{constructor(e,t,n,i){super(e,t,n,i)}interpolate_(e,t,n,i){const s=this.resultBuffer,o=this.sampleValues,l=this.valueSize,c=e*l,d=c-l,h=(n-t)/(i-t),m=1-h;for(let y=0;y!==l;++y)s[y]=o[d+y]*m+o[c+y]*h;return s}}class ZE extends Ep{constructor(e,t,n,i){super(e,t,n,i)}interpolate_(e){return this.copySampleValue_(e-1)}}class Do{constructor(e,t,n,i){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=ou(t,this.TimeBufferType),this.values=ou(n,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let n;if(t.toJSON!==this.toJSON)n=t.toJSON(e);else{n={name:e.name,times:ou(e.times,Array),values:ou(e.values,Array)};const i=e.getInterpolation();i!==e.DefaultInterpolation&&(n.interpolation=i)}return n.type=e.ValueTypeName,n}InterpolantFactoryMethodDiscrete(e){return new ZE(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new jx(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new KE(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case Kh:t=this.InterpolantFactoryMethodDiscrete;break;case Zh:t=this.InterpolantFactoryMethodLinear;break;case Ag:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const n="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(n);return console.warn("THREE.KeyframeTrack:",n),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Kh;case this.InterpolantFactoryMethodLinear:return Zh;case this.InterpolantFactoryMethodSmooth:return Ag}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let n=0,i=t.length;n!==i;++n)t[n]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let n=0,i=t.length;n!==i;++n)t[n]*=e}return this}trim(e,t){const n=this.times,i=n.length;let s=0,o=i-1;for(;s!==i&&n[s]<e;)++s;for(;o!==-1&&n[o]>t;)--o;if(++o,s!==0||o!==i){s>=o&&(o=Math.max(o,1),s=o-1);const l=this.getValueSize();this.times=n.slice(s,o),this.values=this.values.slice(s*l,o*l)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const n=this.times,i=this.values,s=n.length;s===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let l=0;l!==s;l++){const c=n[l];if(typeof c=="number"&&isNaN(c)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,l,c),e=!1;break}if(o!==null&&o>c){console.error("THREE.KeyframeTrack: Out of order keys.",this,l,c,o),e=!1;break}o=c}if(i!==void 0&&YE(i))for(let l=0,c=i.length;l!==c;++l){const d=i[l];if(isNaN(d)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,l,d),e=!1;break}}return e}optimize(){const e=this.times.slice(),t=this.values.slice(),n=this.getValueSize(),i=this.getInterpolation()===Ag,s=e.length-1;let o=1;for(let l=1;l<s;++l){let c=!1;const d=e[l],h=e[l+1];if(d!==h&&(l!==1||d!==e[0]))if(i)c=!0;else{const m=l*n,y=m-n,v=m+n;for(let C=0;C!==n;++C){const b=t[m+C];if(b!==t[y+C]||b!==t[v+C]){c=!0;break}}}if(c){if(l!==o){e[o]=e[l];const m=l*n,y=o*n;for(let v=0;v!==n;++v)t[y+v]=t[m+v]}++o}}if(s>0){e[o]=e[s];for(let l=s*n,c=o*n,d=0;d!==n;++d)t[c+d]=t[l+d];++o}return o!==e.length?(this.times=e.slice(0,o),this.values=t.slice(0,o*n)):(this.times=e,this.values=t),this}clone(){const e=this.times.slice(),t=this.values.slice(),n=this.constructor,i=new n(this.name,e,t);return i.createInterpolant=this.createInterpolant,i}}Do.prototype.TimeBufferType=Float32Array;Do.prototype.ValueBufferType=Float32Array;Do.prototype.DefaultInterpolation=Zh;class bu extends Do{}bu.prototype.ValueTypeName="bool";bu.prototype.ValueBufferType=Array;bu.prototype.DefaultInterpolation=Kh;bu.prototype.InterpolantFactoryMethodLinear=void 0;bu.prototype.InterpolantFactoryMethodSmooth=void 0;class Xx extends Do{}Xx.prototype.ValueTypeName="color";class lp extends Do{}lp.prototype.ValueTypeName="number";class JE extends Ep{constructor(e,t,n,i){super(e,t,n,i)}interpolate_(e,t,n,i){const s=this.resultBuffer,o=this.sampleValues,l=this.valueSize,c=(n-t)/(i-t);let d=e*l;for(let h=d+l;d!==h;d+=4)Ei.slerpFlat(s,0,o,d-l,o,d,c);return s}}class hf extends Do{InterpolantFactoryMethodLinear(e){return new JE(this.times,this.values,this.getValueSize(),e)}}hf.prototype.ValueTypeName="quaternion";hf.prototype.DefaultInterpolation=Zh;hf.prototype.InterpolantFactoryMethodSmooth=void 0;class Mu extends Do{}Mu.prototype.ValueTypeName="string";Mu.prototype.ValueBufferType=Array;Mu.prototype.DefaultInterpolation=Kh;Mu.prototype.InterpolantFactoryMethodLinear=void 0;Mu.prototype.InterpolantFactoryMethodSmooth=void 0;class cp extends Do{}cp.prototype.ValueTypeName="vector";class up{constructor(e,t=-1,n,i=cy){this.name=e,this.tracks=n,this.duration=t,this.blendMode=i,this.uuid=Rs(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],n=e.tracks,i=1/(e.fps||1);for(let o=0,l=n.length;o!==l;++o)t.push(VF(n[o]).scale(i));const s=new this(e.name,e.duration,t,e.blendMode);return s.uuid=e.uuid,s}static toJSON(e){const t=[],n=e.tracks,i={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let s=0,o=n.length;s!==o;++s)t.push(Do.toJSON(n[s]));return i}static CreateFromMorphTargetSequence(e,t,n,i){const s=t.length,o=[];for(let l=0;l<s;l++){let c=[],d=[];c.push((l+s-1)%s,l,(l+1)%s),d.push(0,1,0);const h=qE(c);c=D2(c,1,h),d=D2(d,1,h),!i&&c[0]===0&&(c.push(s),d.push(d[0])),o.push(new lp(".morphTargetInfluences["+t[l].name+"]",c,d).scale(1/n))}return new this(e,-1,o)}static findByName(e,t){let n=e;if(!Array.isArray(e)){const i=e;n=i.geometry&&i.geometry.animations||i.animations}for(let i=0;i<n.length;i++)if(n[i].name===t)return n[i];return null}static CreateClipsFromMorphTargetSequences(e,t,n){const i={},s=/^([\w-]*?)([\d]+)$/;for(let l=0,c=e.length;l<c;l++){const d=e[l],h=d.name.match(s);if(h&&h.length>1){const m=h[1];let y=i[m];y||(i[m]=y=[]),y.push(d)}}const o=[];for(const l in i)o.push(this.CreateFromMorphTargetSequence(l,i[l],t,n));return o}static parseAnimation(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const n=function(m,y,v,C,b){if(v.length!==0){const _=[],S=[];Wx(v,_,S,C),_.length!==0&&b.push(new m(y,_,S))}},i=[],s=e.name||"default",o=e.fps||30,l=e.blendMode;let c=e.length||-1;const d=e.hierarchy||[];for(let m=0;m<d.length;m++){const y=d[m].keys;if(!(!y||y.length===0))if(y[0].morphTargets){const v={};let C;for(C=0;C<y.length;C++)if(y[C].morphTargets)for(let b=0;b<y[C].morphTargets.length;b++)v[y[C].morphTargets[b]]=-1;for(const b in v){const _=[],S=[];for(let A=0;A!==y[C].morphTargets.length;++A){const E=y[C];_.push(E.time),S.push(E.morphTarget===b?1:0)}i.push(new lp(".morphTargetInfluence["+b+"]",_,S))}c=v.length*o}else{const v=".bones["+t[m].name+"]";n(cp,v+".position",y,"pos",i),n(hf,v+".quaternion",y,"rot",i),n(cp,v+".scale",y,"scl",i)}}return i.length===0?null:new this(s,c,i,l)}resetDuration(){const e=this.tracks;let t=0;for(let n=0,i=e.length;n!==i;++n){const s=this.tracks[n];t=Math.max(t,s.times[s.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function zF(r){switch(r.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return lp;case"vector":case"vector2":case"vector3":case"vector4":return cp;case"color":return Xx;case"quaternion":return hf;case"bool":case"boolean":return bu;case"string":return Mu}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+r)}function VF(r){if(r.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=zF(r.type);if(r.times===void 0){const t=[],n=[];Wx(r.keys,t,n,"value"),r.times=t,r.values=n}return e.parse!==void 0?e.parse(r):new e(r.name,r.times,r.values,r.interpolation)}const yu={enabled:!1,files:{},add:function(r,e){this.enabled!==!1&&(this.files[r]=e)},get:function(r){if(this.enabled!==!1)return this.files[r]},remove:function(r){delete this.files[r]},clear:function(){this.files={}}};class Yx{constructor(e,t,n){const i=this;let s=!1,o=0,l=0,c;const d=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=n,this.itemStart=function(h){l++,s===!1&&i.onStart!==void 0&&i.onStart(h,o,l),s=!0},this.itemEnd=function(h){o++,i.onProgress!==void 0&&i.onProgress(h,o,l),o===l&&(s=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(h){i.onError!==void 0&&i.onError(h)},this.resolveURL=function(h){return c?c(h):h},this.setURLModifier=function(h){return c=h,this},this.addHandler=function(h,m){return d.push(h,m),this},this.removeHandler=function(h){const m=d.indexOf(h);return m!==-1&&d.splice(m,2),this},this.getHandler=function(h){for(let m=0,y=d.length;m<y;m+=2){const v=d[m],C=d[m+1];if(v.global&&(v.lastIndex=0),v.test(h))return C}return null}}}const QE=new Yx;class fs{constructor(e){this.manager=e!==void 0?e:QE,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const n=this;return new Promise(function(i,s){n.load(e,i,t,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}fs.DEFAULT_MATERIAL_NAME="__DEFAULT";const Fa={};class HF extends Error{constructor(e,t){super(e),this.response=t}}class Za extends fs{constructor(e){super(e)}load(e,t,n,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=yu.get(e);if(s!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(s),this.manager.itemEnd(e)},0),s;if(Fa[e]!==void 0){Fa[e].push({onLoad:t,onProgress:n,onError:i});return}Fa[e]=[],Fa[e].push({onLoad:t,onProgress:n,onError:i});const o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),l=this.mimeType,c=this.responseType;fetch(o).then(d=>{if(d.status===200||d.status===0){if(d.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||d.body===void 0||d.body.getReader===void 0)return d;const h=Fa[e],m=d.body.getReader(),y=d.headers.get("Content-Length")||d.headers.get("X-File-Size"),v=y?parseInt(y):0,C=v!==0;let b=0;const _=new ReadableStream({start(S){A();function A(){m.read().then(({done:E,value:P})=>{if(E)S.close();else{b+=P.byteLength;const I=new ProgressEvent("progress",{lengthComputable:C,loaded:b,total:v});for(let k=0,F=h.length;k<F;k++){const V=h[k];V.onProgress&&V.onProgress(I)}S.enqueue(P),A()}})}}});return new Response(_)}else throw new HF(`fetch for "${d.url}" responded with ${d.status}: ${d.statusText}`,d)}).then(d=>{switch(c){case"arraybuffer":return d.arrayBuffer();case"blob":return d.blob();case"document":return d.text().then(h=>new DOMParser().parseFromString(h,l));case"json":return d.json();default:if(l===void 0)return d.text();{const m=/charset="?([^;"\s]*)"?/i.exec(l),y=m&&m[1]?m[1].toLowerCase():void 0,v=new TextDecoder(y);return d.arrayBuffer().then(C=>v.decode(C))}}}).then(d=>{yu.add(e,d);const h=Fa[e];delete Fa[e];for(let m=0,y=h.length;m<y;m++){const v=h[m];v.onLoad&&v.onLoad(d)}}).catch(d=>{const h=Fa[e];if(h===void 0)throw this.manager.itemError(e),d;delete Fa[e];for(let m=0,y=h.length;m<y;m++){const v=h[m];v.onError&&v.onError(d)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class GF extends fs{constructor(e){super(e)}load(e,t,n,i){const s=this,o=new Za(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(l){try{t(s.parse(JSON.parse(l)))}catch(c){i?i(c):console.error(c),s.manager.itemError(e)}},n,i)}parse(e){const t=[];for(let n=0;n<e.length;n++){const i=up.parse(e[n]);t.push(i)}return t}}class WF extends fs{constructor(e){super(e)}load(e,t,n,i){const s=this,o=[],l=new Cy,c=new Za(this.manager);c.setPath(this.path),c.setResponseType("arraybuffer"),c.setRequestHeader(this.requestHeader),c.setWithCredentials(s.withCredentials);let d=0;function h(m){c.load(e[m],function(y){const v=s.parse(y,!0);o[m]={width:v.width,height:v.height,format:v.format,mipmaps:v.mipmaps},d+=1,d===6&&(v.mipmapCount===1&&(l.minFilter=Qn),l.image=o,l.format=v.format,l.needsUpdate=!0,t&&t(l))},n,i)}if(Array.isArray(e))for(let m=0,y=e.length;m<y;++m)h(m);else c.load(e,function(m){const y=s.parse(m,!0);if(y.isCubemap){const v=y.mipmaps.length/y.mipmapCount;for(let C=0;C<v;C++){o[C]={mipmaps:[]};for(let b=0;b<y.mipmapCount;b++)o[C].mipmaps.push(y.mipmaps[C*y.mipmapCount+b]),o[C].format=y.format,o[C].width=y.width,o[C].height=y.height}l.image=o}else l.image.width=y.width,l.image.height=y.height,l.mipmaps=y.mipmaps;y.mipmapCount===1&&(l.minFilter=Qn),l.format=y.format,l.needsUpdate=!0,t&&t(l)},n,i);return l}}class dp extends fs{constructor(e){super(e)}load(e,t,n,i){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=yu.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o;const l=rp("img");function c(){h(),yu.add(e,this),t&&t(this),s.manager.itemEnd(e)}function d(m){h(),i&&i(m),s.manager.itemError(e),s.manager.itemEnd(e)}function h(){l.removeEventListener("load",c,!1),l.removeEventListener("error",d,!1)}return l.addEventListener("load",c,!1),l.addEventListener("error",d,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(l.crossOrigin=this.crossOrigin),s.manager.itemStart(e),l.src=e,l}}class jF extends fs{constructor(e){super(e)}load(e,t,n,i){const s=new _p;s.colorSpace=Xr;const o=new dp(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let l=0;function c(d){o.load(e[d],function(h){s.images[d]=h,l++,l===6&&(s.needsUpdate=!0,t&&t(s))},void 0,i)}for(let d=0;d<e.length;++d)c(d);return s}}class XF extends fs{constructor(e){super(e)}load(e,t,n,i){const s=this,o=new ef,l=new Za(this.manager);return l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setPath(this.path),l.setWithCredentials(s.withCredentials),l.load(e,function(c){let d;try{d=s.parse(c)}catch(h){if(i!==void 0)i(h);else{console.error(h);return}}d.image!==void 0?o.image=d.image:d.data!==void 0&&(o.image.width=d.width,o.image.height=d.height,o.image.data=d.data),o.wrapS=d.wrapS!==void 0?d.wrapS:Mi,o.wrapT=d.wrapT!==void 0?d.wrapT:Mi,o.magFilter=d.magFilter!==void 0?d.magFilter:Qn,o.minFilter=d.minFilter!==void 0?d.minFilter:Qn,o.anisotropy=d.anisotropy!==void 0?d.anisotropy:1,d.colorSpace!==void 0?o.colorSpace=d.colorSpace:d.encoding!==void 0&&(o.encoding=d.encoding),d.flipY!==void 0&&(o.flipY=d.flipY),d.format!==void 0&&(o.format=d.format),d.type!==void 0&&(o.type=d.type),d.mipmaps!==void 0&&(o.mipmaps=d.mipmaps,o.minFilter=Jl),d.mipmapCount===1&&(o.minFilter=Qn),d.generateMipmaps!==void 0&&(o.generateMipmaps=d.generateMipmaps),o.needsUpdate=!0,t&&t(o,d)},n,i),o}}class YF extends fs{constructor(e){super(e)}load(e,t,n,i){const s=new cr,o=new dp(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(l){s.image=l,s.needsUpdate=!0,t!==void 0&&t(s)},n,i),s}}class rc extends vn{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new wt(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),t}}class $E extends rc{constructor(e,t,n){super(e,n),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(vn.DEFAULT_UP),this.updateMatrix(),this.groundColor=new wt(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}}const l0=new Zt,u_=new $,d_=new $;class qx{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new qe(512,512),this.map=null,this.mapPass=null,this.matrix=new Zt,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new fy,this._frameExtents=new qe(1,1),this._viewportCount=1,this._viewports=[new xn(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,n=this.matrix;u_.setFromMatrixPosition(e.matrixWorld),t.position.copy(u_),d_.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(d_),t.updateMatrixWorld(),l0.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(l0),n.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),n.multiply(l0)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class qF extends qx{constructor(){super(new xr(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const t=this.camera,n=of*2*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height,s=e.distance||t.far;(n!==t.fov||i!==t.aspect||s!==t.far)&&(t.fov=n,t.aspect=i,t.far=s,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class eA extends rc{constructor(e,t,n=0,i=Math.PI/3,s=0,o=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(vn.DEFAULT_UP),this.updateMatrix(),this.target=new vn,this.distance=n,this.angle=i,this.penumbra=s,this.decay=o,this.map=null,this.shadow=new qF}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const f_=new Zt,vh=new $,c0=new $;class KF extends qx{constructor(){super(new xr(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new qe(4,2),this._viewportCount=6,this._viewports=[new xn(2,1,1,1),new xn(0,1,1,1),new xn(3,1,1,1),new xn(1,1,1,1),new xn(3,0,1,1),new xn(1,0,1,1)],this._cubeDirections=[new $(1,0,0),new $(-1,0,0),new $(0,0,1),new $(0,0,-1),new $(0,1,0),new $(0,-1,0)],this._cubeUps=[new $(0,1,0),new $(0,1,0),new $(0,1,0),new $(0,1,0),new $(0,0,1),new $(0,0,-1)]}updateMatrices(e,t=0){const n=this.camera,i=this.matrix,s=e.distance||n.far;s!==n.far&&(n.far=s,n.updateProjectionMatrix()),vh.setFromMatrixPosition(e.matrixWorld),n.position.copy(vh),c0.copy(n.position),c0.add(this._cubeDirections[t]),n.up.copy(this._cubeUps[t]),n.lookAt(c0),n.updateMatrixWorld(),i.makeTranslation(-vh.x,-vh.y,-vh.z),f_.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(f_)}}class tA extends rc{constructor(e,t,n=0,i=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=n,this.decay=i,this.shadow=new KF}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class ZF extends qx{constructor(){super(new Yl(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class nA extends rc{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(vn.DEFAULT_UP),this.updateMatrix(),this.target=new vn,this.shadow=new ZF}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class rA extends rc{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class iA extends rc{constructor(e,t,n=10,i=10){super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=n,this.height=i}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class sA{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new $)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const n=e.x,i=e.y,s=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.282095),t.addScaledVector(o[1],.488603*i),t.addScaledVector(o[2],.488603*s),t.addScaledVector(o[3],.488603*n),t.addScaledVector(o[4],1.092548*(n*i)),t.addScaledVector(o[5],1.092548*(i*s)),t.addScaledVector(o[6],.315392*(3*s*s-1)),t.addScaledVector(o[7],1.092548*(n*s)),t.addScaledVector(o[8],.546274*(n*n-i*i)),t}getIrradianceAt(e,t){const n=e.x,i=e.y,s=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.886227),t.addScaledVector(o[1],2*.511664*i),t.addScaledVector(o[2],2*.511664*s),t.addScaledVector(o[3],2*.511664*n),t.addScaledVector(o[4],2*.429043*n*i),t.addScaledVector(o[5],2*.429043*i*s),t.addScaledVector(o[6],.743125*s*s-.247708),t.addScaledVector(o[7],2*.429043*n*s),t.addScaledVector(o[8],.429043*(n*n-i*i)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let n=0;n<9;n++)this.coefficients[n].addScaledVector(e.coefficients[n],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let n=0;n<9;n++)this.coefficients[n].lerp(e.coefficients[n],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){const n=this.coefficients;for(let i=0;i<9;i++)n[i].fromArray(e,t+i*3);return this}toArray(e=[],t=0){const n=this.coefficients;for(let i=0;i<9;i++)n[i].toArray(e,t+i*3);return e}static getBasisAt(e,t){const n=e.x,i=e.y,s=e.z;t[0]=.282095,t[1]=.488603*i,t[2]=.488603*s,t[3]=.488603*n,t[4]=1.092548*n*i,t[5]=1.092548*i*s,t[6]=.315392*(3*s*s-1),t[7]=1.092548*n*s,t[8]=.546274*(n*n-i*i)}}class oA extends rc{constructor(e=new sA,t=1){super(void 0,t),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}class ky extends fs{constructor(e){super(e),this.textures={}}load(e,t,n,i){const s=this,o=new Za(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(l){try{t(s.parse(JSON.parse(l)))}catch(c){i?i(c):console.error(c),s.manager.itemError(e)}},n,i)}parse(e){const t=this.textures;function n(s){return t[s]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",s),t[s]}const i=ky.createMaterialFromType(e.type);if(e.uuid!==void 0&&(i.uuid=e.uuid),e.name!==void 0&&(i.name=e.name),e.color!==void 0&&i.color!==void 0&&i.color.setHex(e.color),e.roughness!==void 0&&(i.roughness=e.roughness),e.metalness!==void 0&&(i.metalness=e.metalness),e.sheen!==void 0&&(i.sheen=e.sheen),e.sheenColor!==void 0&&(i.sheenColor=new wt().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(i.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&i.emissive!==void 0&&i.emissive.setHex(e.emissive),e.specular!==void 0&&i.specular!==void 0&&i.specular.setHex(e.specular),e.specularIntensity!==void 0&&(i.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&i.specularColor!==void 0&&i.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(i.shininess=e.shininess),e.clearcoat!==void 0&&(i.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=e.clearcoatRoughness),e.iridescence!==void 0&&(i.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(i.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(i.transmission=e.transmission),e.thickness!==void 0&&(i.thickness=e.thickness),e.attenuationDistance!==void 0&&(i.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&i.attenuationColor!==void 0&&i.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(i.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(i.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(i.fog=e.fog),e.flatShading!==void 0&&(i.flatShading=e.flatShading),e.blending!==void 0&&(i.blending=e.blending),e.combine!==void 0&&(i.combine=e.combine),e.side!==void 0&&(i.side=e.side),e.shadowSide!==void 0&&(i.shadowSide=e.shadowSide),e.opacity!==void 0&&(i.opacity=e.opacity),e.transparent!==void 0&&(i.transparent=e.transparent),e.alphaTest!==void 0&&(i.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(i.alphaHash=e.alphaHash),e.depthFunc!==void 0&&(i.depthFunc=e.depthFunc),e.depthTest!==void 0&&(i.depthTest=e.depthTest),e.depthWrite!==void 0&&(i.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(i.colorWrite=e.colorWrite),e.blendSrc!==void 0&&(i.blendSrc=e.blendSrc),e.blendDst!==void 0&&(i.blendDst=e.blendDst),e.blendEquation!==void 0&&(i.blendEquation=e.blendEquation),e.blendSrcAlpha!==void 0&&(i.blendSrcAlpha=e.blendSrcAlpha),e.blendDstAlpha!==void 0&&(i.blendDstAlpha=e.blendDstAlpha),e.blendEquationAlpha!==void 0&&(i.blendEquationAlpha=e.blendEquationAlpha),e.blendColor!==void 0&&i.blendColor!==void 0&&i.blendColor.setHex(e.blendColor),e.blendAlpha!==void 0&&(i.blendAlpha=e.blendAlpha),e.stencilWriteMask!==void 0&&(i.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(i.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(i.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(i.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(i.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(i.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(i.stencilZPass=e.stencilZPass),e.stencilWrite!==void 0&&(i.stencilWrite=e.stencilWrite),e.wireframe!==void 0&&(i.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(i.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(i.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(i.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(i.rotation=e.rotation),e.linewidth!==void 0&&(i.linewidth=e.linewidth),e.dashSize!==void 0&&(i.dashSize=e.dashSize),e.gapSize!==void 0&&(i.gapSize=e.gapSize),e.scale!==void 0&&(i.scale=e.scale),e.polygonOffset!==void 0&&(i.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(i.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(i.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(i.dithering=e.dithering),e.alphaToCoverage!==void 0&&(i.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(i.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(i.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(i.visible=e.visible),e.toneMapped!==void 0&&(i.toneMapped=e.toneMapped),e.userData!==void 0&&(i.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?i.vertexColors=e.vertexColors>0:i.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const s in e.uniforms){const o=e.uniforms[s];switch(i.uniforms[s]={},o.type){case"t":i.uniforms[s].value=n(o.value);break;case"c":i.uniforms[s].value=new wt().setHex(o.value);break;case"v2":i.uniforms[s].value=new qe().fromArray(o.value);break;case"v3":i.uniforms[s].value=new $().fromArray(o.value);break;case"v4":i.uniforms[s].value=new xn().fromArray(o.value);break;case"m3":i.uniforms[s].value=new nn().fromArray(o.value);break;case"m4":i.uniforms[s].value=new Zt().fromArray(o.value);break;default:i.uniforms[s].value=o.value}}if(e.defines!==void 0&&(i.defines=e.defines),e.vertexShader!==void 0&&(i.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(i.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(i.glslVersion=e.glslVersion),e.extensions!==void 0)for(const s in e.extensions)i.extensions[s]=e.extensions[s];if(e.lights!==void 0&&(i.lights=e.lights),e.clipping!==void 0&&(i.clipping=e.clipping),e.size!==void 0&&(i.size=e.size),e.sizeAttenuation!==void 0&&(i.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(i.map=n(e.map)),e.matcap!==void 0&&(i.matcap=n(e.matcap)),e.alphaMap!==void 0&&(i.alphaMap=n(e.alphaMap)),e.bumpMap!==void 0&&(i.bumpMap=n(e.bumpMap)),e.bumpScale!==void 0&&(i.bumpScale=e.bumpScale),e.normalMap!==void 0&&(i.normalMap=n(e.normalMap)),e.normalMapType!==void 0&&(i.normalMapType=e.normalMapType),e.normalScale!==void 0){let s=e.normalScale;Array.isArray(s)===!1&&(s=[s,s]),i.normalScale=new qe().fromArray(s)}return e.displacementMap!==void 0&&(i.displacementMap=n(e.displacementMap)),e.displacementScale!==void 0&&(i.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(i.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(i.roughnessMap=n(e.roughnessMap)),e.metalnessMap!==void 0&&(i.metalnessMap=n(e.metalnessMap)),e.emissiveMap!==void 0&&(i.emissiveMap=n(e.emissiveMap)),e.emissiveIntensity!==void 0&&(i.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(i.specularMap=n(e.specularMap)),e.specularIntensityMap!==void 0&&(i.specularIntensityMap=n(e.specularIntensityMap)),e.specularColorMap!==void 0&&(i.specularColorMap=n(e.specularColorMap)),e.envMap!==void 0&&(i.envMap=n(e.envMap)),e.envMapIntensity!==void 0&&(i.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(i.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(i.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(i.lightMap=n(e.lightMap)),e.lightMapIntensity!==void 0&&(i.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(i.aoMap=n(e.aoMap)),e.aoMapIntensity!==void 0&&(i.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(i.gradientMap=n(e.gradientMap)),e.clearcoatMap!==void 0&&(i.clearcoatMap=n(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(i.clearcoatRoughnessMap=n(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(i.clearcoatNormalMap=n(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(i.clearcoatNormalScale=new qe().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(i.iridescenceMap=n(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(i.iridescenceThicknessMap=n(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(i.transmissionMap=n(e.transmissionMap)),e.thicknessMap!==void 0&&(i.thicknessMap=n(e.thicknessMap)),e.anisotropyMap!==void 0&&(i.anisotropyMap=n(e.anisotropyMap)),e.sheenColorMap!==void 0&&(i.sheenColorMap=n(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(i.sheenRoughnessMap=n(e.sheenRoughnessMap)),i}setTextures(e){return this.textures=e,this}static createMaterialFromType(e){const t={ShadowMaterial:FE,SpriteMaterial:Ux,RawShaderMaterial:BE,ShaderMaterial:ra,PointsMaterial:Nx,MeshPhysicalMaterial:zE,MeshStandardMaterial:Gx,MeshPhongMaterial:VE,MeshToonMaterial:HE,MeshNormalMaterial:GE,MeshLambertMaterial:WE,MeshDepthMaterial:py,MeshDistanceMaterial:my,MeshBasicMaterial:Qa,MeshMatcapMaterial:jE,LineDashedMaterial:XE,LineBasicMaterial:Xi,Material:Ai};return new t[e]}}class L2{static decodeText(e){if(typeof TextDecoder<"u")return new TextDecoder().decode(e);let t="";for(let n=0,i=e.length;n<i;n++)t+=String.fromCharCode(e[n]);try{return decodeURIComponent(escape(t))}catch{return t}}static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.slice(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class Kx extends on{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class aA extends fs{constructor(e){super(e)}load(e,t,n,i){const s=this,o=new Za(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(l){try{t(s.parse(JSON.parse(l)))}catch(c){i?i(c):console.error(c),s.manager.itemError(e)}},n,i)}parse(e){const t={},n={};function i(v,C){if(t[C]!==void 0)return t[C];const _=v.interleavedBuffers[C],S=s(v,_.buffer),A=qd(_.type,S),E=new vy(A,_.stride);return E.uuid=_.uuid,t[C]=E,E}function s(v,C){if(n[C]!==void 0)return n[C];const _=v.arrayBuffers[C],S=new Uint32Array(_).buffer;return n[C]=S,S}const o=e.isInstancedBufferGeometry?new Kx:new on,l=e.data.index;if(l!==void 0){const v=qd(l.type,l.array);o.setIndex(new Dn(v,1))}const c=e.data.attributes;for(const v in c){const C=c[v];let b;if(C.isInterleavedBufferAttribute){const _=i(e.data,C.data);b=new pu(_,C.itemSize,C.offset,C.normalized)}else{const _=qd(C.type,C.array),S=C.isInstancedBufferAttribute?mu:Dn;b=new S(_,C.itemSize,C.normalized)}C.name!==void 0&&(b.name=C.name),C.usage!==void 0&&b.setUsage(C.usage),C.updateRange!==void 0&&(b.updateRange.offset=C.updateRange.offset,b.updateRange.count=C.updateRange.count),o.setAttribute(v,b)}const d=e.data.morphAttributes;if(d)for(const v in d){const C=d[v],b=[];for(let _=0,S=C.length;_<S;_++){const A=C[_];let E;if(A.isInterleavedBufferAttribute){const P=i(e.data,A.data);E=new pu(P,A.itemSize,A.offset,A.normalized)}else{const P=qd(A.type,A.array);E=new Dn(P,A.itemSize,A.normalized)}A.name!==void 0&&(E.name=A.name),b.push(E)}o.morphAttributes[v]=b}e.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);const m=e.data.groups||e.data.drawcalls||e.data.offsets;if(m!==void 0)for(let v=0,C=m.length;v!==C;++v){const b=m[v];o.addGroup(b.start,b.count,b.materialIndex)}const y=e.data.boundingSphere;if(y!==void 0){const v=new $;y.center!==void 0&&v.fromArray(y.center),o.boundingSphere=new Ks(v,y.radius)}return e.name&&(o.name=e.name),e.userData&&(o.userData=e.userData),o}}class JF extends fs{constructor(e){super(e)}load(e,t,n,i){const s=this,o=this.path===""?L2.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;const l=new Za(this.manager);l.setPath(this.path),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(c){let d=null;try{d=JSON.parse(c)}catch(m){i!==void 0&&i(m),console.error("THREE:ObjectLoader: Can't parse "+e+".",m.message);return}const h=d.metadata;if(h===void 0||h.type===void 0||h.type.toLowerCase()==="geometry"){i!==void 0&&i(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}s.parse(d,t)},n,i)}async loadAsync(e,t){const n=this,i=this.path===""?L2.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||i;const s=new Za(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials);const o=await s.loadAsync(e,t),l=JSON.parse(o),c=l.metadata;if(c===void 0||c.type===void 0||c.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await n.parseAsync(l)}parse(e,t){const n=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),s=this.parseGeometries(e.geometries,i),o=this.parseImages(e.images,function(){t!==void 0&&t(d)}),l=this.parseTextures(e.textures,o),c=this.parseMaterials(e.materials,l),d=this.parseObject(e.object,s,c,l,n),h=this.parseSkeletons(e.skeletons,d);if(this.bindSkeletons(d,h),t!==void 0){let m=!1;for(const y in o)if(o[y].data instanceof HTMLImageElement){m=!0;break}m===!1&&t(d)}return d}async parseAsync(e){const t=this.parseAnimations(e.animations),n=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,n),s=await this.parseImagesAsync(e.images),o=this.parseTextures(e.textures,s),l=this.parseMaterials(e.materials,o),c=this.parseObject(e.object,i,l,o,t),d=this.parseSkeletons(e.skeletons,c);return this.bindSkeletons(c,d),c}parseShapes(e){const t={};if(e!==void 0)for(let n=0,i=e.length;n<i;n++){const s=new du().fromJSON(e[n]);t[s.uuid]=s}return t}parseSkeletons(e,t){const n={},i={};if(t.traverse(function(s){s.isBone&&(i[s.uuid]=s)}),e!==void 0)for(let s=0,o=e.length;s<o;s++){const l=new xy().fromJSON(e[s],i);n[l.uuid]=l}return n}parseGeometries(e,t){const n={};if(e!==void 0){const i=new aA;for(let s=0,o=e.length;s<o;s++){let l;const c=e[s];switch(c.type){case"BufferGeometry":case"InstancedBufferGeometry":l=i.parse(c);break;default:c.type in c_?l=c_[c.type].fromJSON(c,t):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${c.type}"`)}l.uuid=c.uuid,c.name!==void 0&&(l.name=c.name),c.userData!==void 0&&(l.userData=c.userData),n[c.uuid]=l}}return n}parseMaterials(e,t){const n={},i={};if(e!==void 0){const s=new ky;s.setTextures(t);for(let o=0,l=e.length;o<l;o++){const c=e[o];n[c.uuid]===void 0&&(n[c.uuid]=s.parse(c)),i[c.uuid]=n[c.uuid]}}return i}parseAnimations(e){const t={};if(e!==void 0)for(let n=0;n<e.length;n++){const i=e[n],s=up.parse(i);t[s.uuid]=s}return t}parseImages(e,t){const n=this,i={};let s;function o(c){return n.manager.itemStart(c),s.load(c,function(){n.manager.itemEnd(c)},void 0,function(){n.manager.itemError(c),n.manager.itemEnd(c)})}function l(c){if(typeof c=="string"){const d=c,h=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(d)?d:n.resourcePath+d;return o(h)}else return c.data?{data:qd(c.type,c.data),width:c.width,height:c.height}:null}if(e!==void 0&&e.length>0){const c=new Yx(t);s=new dp(c),s.setCrossOrigin(this.crossOrigin);for(let d=0,h=e.length;d<h;d++){const m=e[d],y=m.url;if(Array.isArray(y)){const v=[];for(let C=0,b=y.length;C<b;C++){const _=y[C],S=l(_);S!==null&&(S instanceof HTMLImageElement?v.push(S):v.push(new ef(S.data,S.width,S.height)))}i[m.uuid]=new su(v)}else{const v=l(m.url);i[m.uuid]=new su(v)}}}return i}async parseImagesAsync(e){const t=this,n={};let i;async function s(o){if(typeof o=="string"){const l=o,c=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(l)?l:t.resourcePath+l;return await i.loadAsync(c)}else return o.data?{data:qd(o.type,o.data),width:o.width,height:o.height}:null}if(e!==void 0&&e.length>0){i=new dp(this.manager),i.setCrossOrigin(this.crossOrigin);for(let o=0,l=e.length;o<l;o++){const c=e[o],d=c.url;if(Array.isArray(d)){const h=[];for(let m=0,y=d.length;m<y;m++){const v=d[m],C=await s(v);C!==null&&(C instanceof HTMLImageElement?h.push(C):h.push(new ef(C.data,C.width,C.height)))}n[c.uuid]=new su(h)}else{const h=await s(c.url);n[c.uuid]=new su(h)}}}return n}parseTextures(e,t){function n(s,o){return typeof s=="number"?s:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",s),o[s])}const i={};if(e!==void 0)for(let s=0,o=e.length;s<o;s++){const l=e[s];l.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',l.uuid),t[l.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",l.image);const c=t[l.image],d=c.data;let h;Array.isArray(d)?(h=new _p,d.length===6&&(h.needsUpdate=!0)):(d&&d.data?h=new ef:h=new cr,d&&(h.needsUpdate=!0)),h.source=c,h.uuid=l.uuid,l.name!==void 0&&(h.name=l.name),l.mapping!==void 0&&(h.mapping=n(l.mapping,QF)),l.channel!==void 0&&(h.channel=l.channel),l.offset!==void 0&&h.offset.fromArray(l.offset),l.repeat!==void 0&&h.repeat.fromArray(l.repeat),l.center!==void 0&&h.center.fromArray(l.center),l.rotation!==void 0&&(h.rotation=l.rotation),l.wrap!==void 0&&(h.wrapS=n(l.wrap[0],h_),h.wrapT=n(l.wrap[1],h_)),l.format!==void 0&&(h.format=l.format),l.internalFormat!==void 0&&(h.internalFormat=l.internalFormat),l.type!==void 0&&(h.type=l.type),l.colorSpace!==void 0&&(h.colorSpace=l.colorSpace),l.encoding!==void 0&&(h.encoding=l.encoding),l.minFilter!==void 0&&(h.minFilter=n(l.minFilter,p_)),l.magFilter!==void 0&&(h.magFilter=n(l.magFilter,p_)),l.anisotropy!==void 0&&(h.anisotropy=l.anisotropy),l.flipY!==void 0&&(h.flipY=l.flipY),l.generateMipmaps!==void 0&&(h.generateMipmaps=l.generateMipmaps),l.premultiplyAlpha!==void 0&&(h.premultiplyAlpha=l.premultiplyAlpha),l.unpackAlignment!==void 0&&(h.unpackAlignment=l.unpackAlignment),l.compareFunction!==void 0&&(h.compareFunction=l.compareFunction),l.userData!==void 0&&(h.userData=l.userData),i[l.uuid]=h}return i}parseObject(e,t,n,i,s){let o;function l(y){return t[y]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",y),t[y]}function c(y){if(y!==void 0){if(Array.isArray(y)){const v=[];for(let C=0,b=y.length;C<b;C++){const _=y[C];n[_]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",_),v.push(n[_])}return v}return n[y]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",y),n[y]}}function d(y){return i[y]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",y),i[y]}let h,m;switch(e.type){case"Scene":o=new Ix,e.background!==void 0&&(Number.isInteger(e.background)?o.background=new wt(e.background):o.background=d(e.background)),e.environment!==void 0&&(o.environment=d(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?o.fog=new yy(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(o.fog=new gy(e.fog.color,e.fog.density)),e.fog.name!==""&&(o.fog.name=e.fog.name)),e.backgroundBlurriness!==void 0&&(o.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(o.backgroundIntensity=e.backgroundIntensity);break;case"PerspectiveCamera":o=new xr(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(o.focus=e.focus),e.zoom!==void 0&&(o.zoom=e.zoom),e.filmGauge!==void 0&&(o.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(o.filmOffset=e.filmOffset),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"OrthographicCamera":o=new Yl(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(o.zoom=e.zoom),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"AmbientLight":o=new rA(e.color,e.intensity);break;case"DirectionalLight":o=new nA(e.color,e.intensity);break;case"PointLight":o=new tA(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":o=new iA(e.color,e.intensity,e.width,e.height);break;case"SpotLight":o=new eA(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":o=new $E(e.color,e.groundColor,e.intensity);break;case"LightProbe":o=new oA().fromJSON(e);break;case"SkinnedMesh":h=l(e.geometry),m=c(e.material),o=new bE(h,m),e.bindMode!==void 0&&(o.bindMode=e.bindMode),e.bindMatrix!==void 0&&o.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(o.skeleton=e.skeleton);break;case"Mesh":h=l(e.geometry),m=c(e.material),o=new kr(h,m);break;case"InstancedMesh":h=l(e.geometry),m=c(e.material);const y=e.count,v=e.instanceMatrix,C=e.instanceColor;o=new ME(h,m,y),o.instanceMatrix=new mu(new Float32Array(v.array),16),C!==void 0&&(o.instanceColor=new mu(new Float32Array(C.array),C.itemSize));break;case"LOD":o=new SE;break;case"Line":o=new Ql(l(e.geometry),c(e.material));break;case"LineLoop":o=new EE(l(e.geometry),c(e.material));break;case"LineSegments":o=new ia(l(e.geometry),c(e.material));break;case"PointCloud":case"Points":o=new AE(l(e.geometry),c(e.material));break;case"Sprite":o=new _E(c(e.material));break;case"Group":o=new Zd;break;case"Bone":o=new kx;break;default:o=new vn}if(o.uuid=e.uuid,e.name!==void 0&&(o.name=e.name),e.matrix!==void 0?(o.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(o.matrixAutoUpdate=e.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(e.position!==void 0&&o.position.fromArray(e.position),e.rotation!==void 0&&o.rotation.fromArray(e.rotation),e.quaternion!==void 0&&o.quaternion.fromArray(e.quaternion),e.scale!==void 0&&o.scale.fromArray(e.scale)),e.up!==void 0&&o.up.fromArray(e.up),e.castShadow!==void 0&&(o.castShadow=e.castShadow),e.receiveShadow!==void 0&&(o.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.bias!==void 0&&(o.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(o.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(o.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&o.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(o.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(o.visible=e.visible),e.frustumCulled!==void 0&&(o.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(o.renderOrder=e.renderOrder),e.userData!==void 0&&(o.userData=e.userData),e.layers!==void 0&&(o.layers.mask=e.layers),e.children!==void 0){const y=e.children;for(let v=0;v<y.length;v++)o.add(this.parseObject(y[v],t,n,i,s))}if(e.animations!==void 0){const y=e.animations;for(let v=0;v<y.length;v++){const C=y[v];o.animations.push(s[C])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(o.autoUpdate=e.autoUpdate);const y=e.levels;for(let v=0;v<y.length;v++){const C=y[v],b=o.getObjectByProperty("uuid",C.object);b!==void 0&&o.addLevel(b,C.distance,C.hysteresis)}}return o}bindSkeletons(e,t){Object.keys(t).length!==0&&e.traverse(function(n){if(n.isSkinnedMesh===!0&&n.skeleton!==void 0){const i=t[n.skeleton];i===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",n.skeleton):n.bind(i,n.bindMatrix)}})}}const QF={UVMapping:ay,CubeReflectionMapping:Ka,CubeRefractionMapping:Zl,EquirectangularReflectionMapping:jh,EquirectangularRefractionMapping:Xh,CubeUVReflectionMapping:uf},h_={RepeatWrapping:Yh,ClampToEdgeWrapping:Mi,MirroredRepeatWrapping:qh},p_={NearestFilter:vr,NearestMipmapNearestFilter:Gg,NearestMipmapLinearFilter:Dh,LinearFilter:Qn,LinearMipmapNearestFilter:mx,LinearMipmapLinearFilter:Jl};class $F extends fs{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,n,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=yu.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o;const l={};l.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",l.headers=this.requestHeader,fetch(e,l).then(function(c){return c.blob()}).then(function(c){return createImageBitmap(c,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(c){yu.add(e,c),t&&t(c),s.manager.itemEnd(e)}).catch(function(c){i&&i(c),s.manager.itemError(e),s.manager.itemEnd(e)}),s.manager.itemStart(e)}}let og;class Zx{static getContext(){return og===void 0&&(og=new(window.AudioContext||window.webkitAudioContext)),og}static setContext(e){og=e}}class e4 extends fs{constructor(e){super(e)}load(e,t,n,i){const s=this,o=new Za(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(c){try{const d=c.slice(0);Zx.getContext().decodeAudioData(d,function(m){t(m)},l)}catch(d){l(d)}},n,i);function l(c){i?i(c):console.error(c),s.manager.itemError(e)}}}const m_=new Zt,g_=new Zt,Hc=new Zt;class t4{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new xr,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new xr,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,Hc.copy(e.projectionMatrix);const i=t.eyeSep/2,s=i*t.near/t.focus,o=t.near*Math.tan(cu*t.fov*.5)/t.zoom;let l,c;g_.elements[12]=-i,m_.elements[12]=i,l=-o*t.aspect+s,c=o*t.aspect+s,Hc.elements[0]=2*t.near/(c-l),Hc.elements[8]=(c+l)/(c-l),this.cameraL.projectionMatrix.copy(Hc),l=-o*t.aspect-s,c=o*t.aspect-s,Hc.elements[0]=2*t.near/(c-l),Hc.elements[8]=(c+l)/(c-l),this.cameraR.projectionMatrix.copy(Hc)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(g_),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(m_)}}class Jx{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=y_(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=y_();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}function y_(){return(typeof performance>"u"?Date:performance).now()}const Gc=new $,v_=new Ei,n4=new $,Wc=new $;class r4 extends vn{constructor(){super(),this.type="AudioListener",this.context=Zx.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new Jx}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener,n=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(Gc,v_,n4),Wc.set(0,0,-1).applyQuaternion(v_),t.positionX){const i=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(Gc.x,i),t.positionY.linearRampToValueAtTime(Gc.y,i),t.positionZ.linearRampToValueAtTime(Gc.z,i),t.forwardX.linearRampToValueAtTime(Wc.x,i),t.forwardY.linearRampToValueAtTime(Wc.y,i),t.forwardZ.linearRampToValueAtTime(Wc.z,i),t.upX.linearRampToValueAtTime(n.x,i),t.upY.linearRampToValueAtTime(n.y,i),t.upZ.linearRampToValueAtTime(n.z,i)}else t.setPosition(Gc.x,Gc.y,Gc.z),t.setOrientation(Wc.x,Wc.y,Wc.z,n.x,n.y,n.z)}}class lA extends vn{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){if(this.detune=e,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}const jc=new $,x_=new Ei,i4=new $,Xc=new $;class s4 extends lA{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){super.connect(),this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,n){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=n,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(jc,x_,i4),Xc.set(0,0,1).applyQuaternion(x_);const t=this.panner;if(t.positionX){const n=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(jc.x,n),t.positionY.linearRampToValueAtTime(jc.y,n),t.positionZ.linearRampToValueAtTime(jc.z,n),t.orientationX.linearRampToValueAtTime(Xc.x,n),t.orientationY.linearRampToValueAtTime(Xc.y,n),t.orientationZ.linearRampToValueAtTime(Xc.z,n)}else t.setPosition(jc.x,jc.y,jc.z),t.setOrientation(Xc.x,Xc.y,Xc.z)}}class o4{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let n=0;n<t.length;n++)e+=t[n];return e/t.length}}class cA{constructor(e,t,n){this.binding=e,this.valueSize=n;let i,s,o;switch(t){case"quaternion":i=this._slerp,s=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(n*6),this._workIndex=5;break;case"string":case"bool":i=this._select,s=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(n*5);break;default:i=this._lerp,s=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(n*5)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=s,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const n=this.buffer,i=this.valueSize,s=e*i+i;let o=this.cumulativeWeight;if(o===0){for(let l=0;l!==i;++l)n[s+l]=n[l];o=t}else{o+=t;const l=t/o;this._mixBufferRegion(n,s,0,l,i)}this.cumulativeWeight=o}accumulateAdditive(e){const t=this.buffer,n=this.valueSize,i=n*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,i,0,e,n),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,n=this.buffer,i=e*t+t,s=this.cumulativeWeight,o=this.cumulativeWeightAdditive,l=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1){const c=t*this._origIndex;this._mixBufferRegion(n,i,c,1-s,t)}o>0&&this._mixBufferRegionAdditive(n,i,this._addIndex*t,1,t);for(let c=t,d=t+t;c!==d;++c)if(n[c]!==n[c+t]){l.setValue(n,i);break}}saveOriginalState(){const e=this.binding,t=this.buffer,n=this.valueSize,i=n*this._origIndex;e.getValue(t,i);for(let s=n,o=i;s!==o;++s)t[s]=t[i+s%n];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let n=e;n<t;n++)this.buffer[n]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let n=0;n<this.valueSize;n++)this.buffer[t+n]=this.buffer[e+n]}_select(e,t,n,i,s){if(i>=.5)for(let o=0;o!==s;++o)e[t+o]=e[n+o]}_slerp(e,t,n,i){Ei.slerpFlat(e,t,e,t,e,n,i)}_slerpAdditive(e,t,n,i,s){const o=this._workIndex*s;Ei.multiplyQuaternionsFlat(e,o,e,t,e,n),Ei.slerpFlat(e,t,e,t,e,o,i)}_lerp(e,t,n,i,s){const o=1-i;for(let l=0;l!==s;++l){const c=t+l;e[c]=e[c]*o+e[n+l]*i}}_lerpAdditive(e,t,n,i,s){for(let o=0;o!==s;++o){const l=t+o;e[l]=e[l]+e[n+o]*i}}}const Qx="\\[\\]\\.:\\/",a4=new RegExp("["+Qx+"]","g"),$x="[^"+Qx+"]",l4="[^"+Qx.replace("\\.","")+"]",c4=/((?:WC+[\/:])*)/.source.replace("WC",$x),u4=/(WCOD+)?/.source.replace("WCOD",l4),d4=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",$x),f4=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",$x),h4=new RegExp("^"+c4+u4+d4+f4+"$"),p4=["material","materials","bones","map"];class m4{constructor(e,t,n){const i=n||mn.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,i)}getValue(e,t){this.bind();const n=this._targetGroup.nCachedObjects_,i=this._bindings[n];i!==void 0&&i.getValue(e,t)}setValue(e,t){const n=this._bindings;for(let i=this._targetGroup.nCachedObjects_,s=n.length;i!==s;++i)n[i].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].unbind()}}class mn{constructor(e,t,n){this.path=t,this.parsedPath=n||mn.parseTrackName(t),this.node=mn.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,n){return e&&e.isAnimationObjectGroup?new mn.Composite(e,t,n):new mn(e,t,n)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(a4,"")}static parseTrackName(e){const t=h4.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const n={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},i=n.nodeName&&n.nodeName.lastIndexOf(".");if(i!==void 0&&i!==-1){const s=n.nodeName.substring(i+1);p4.indexOf(s)!==-1&&(n.nodeName=n.nodeName.substring(0,i),n.objectName=s)}if(n.propertyName===null||n.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return n}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const n=e.skeleton.getBoneByName(t);if(n!==void 0)return n}if(e.children){const n=function(s){for(let o=0;o<s.length;o++){const l=s[o];if(l.name===t||l.uuid===t)return l;const c=n(l.children);if(c)return c}return null},i=n(e.children);if(i)return i}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const n=this.resolvedProperty;for(let i=0,s=n.length;i!==s;++i)e[t++]=n[i]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const n=this.resolvedProperty;for(let i=0,s=n.length;i!==s;++i)n[i]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const n=this.resolvedProperty;for(let i=0,s=n.length;i!==s;++i)n[i]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const n=this.resolvedProperty;for(let i=0,s=n.length;i!==s;++i)n[i]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,n=t.objectName,i=t.propertyName;let s=t.propertyIndex;if(e||(e=mn.findNode(this.rootNode,t.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(n){let d=t.objectIndex;switch(n){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let h=0;h<e.length;h++)if(e[h].name===d){d=h;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[n]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[n]}if(d!==void 0){if(e[d]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[d]}}const o=e[i];if(o===void 0){const d=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+d+"."+i+" but it wasn't found.",e);return}let l=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?l=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(l=this.Versioning.MatrixWorldNeedsUpdate);let c=this.BindingType.Direct;if(s!==void 0){if(i==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[s]!==void 0&&(s=e.morphTargetDictionary[s])}c=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=s}else o.fromArray!==void 0&&o.toArray!==void 0?(c=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(c=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=i;this.getValue=this.GetterByBindingType[c],this.setValue=this.SetterByBindingTypeAndVersioning[c][l]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}mn.Composite=m4;mn.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};mn.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};mn.prototype.GetterByBindingType=[mn.prototype._getValue_direct,mn.prototype._getValue_array,mn.prototype._getValue_arrayElement,mn.prototype._getValue_toArray];mn.prototype.SetterByBindingTypeAndVersioning=[[mn.prototype._setValue_direct,mn.prototype._setValue_direct_setNeedsUpdate,mn.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[mn.prototype._setValue_array,mn.prototype._setValue_array_setNeedsUpdate,mn.prototype._setValue_array_setMatrixWorldNeedsUpdate],[mn.prototype._setValue_arrayElement,mn.prototype._setValue_arrayElement_setNeedsUpdate,mn.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[mn.prototype._setValue_fromArray,mn.prototype._setValue_fromArray_setNeedsUpdate,mn.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class g4{constructor(){this.isAnimationObjectGroup=!0,this.uuid=Rs(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let n=0,i=arguments.length;n!==i;++n)e[arguments[n].uuid]=n;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,n=this._paths,i=this._parsedPaths,s=this._bindings,o=s.length;let l,c=e.length,d=this.nCachedObjects_;for(let h=0,m=arguments.length;h!==m;++h){const y=arguments[h],v=y.uuid;let C=t[v];if(C===void 0){C=c++,t[v]=C,e.push(y);for(let b=0,_=o;b!==_;++b)s[b].push(new mn(y,n[b],i[b]))}else if(C<d){l=e[C];const b=--d,_=e[b];t[_.uuid]=C,e[C]=_,t[v]=b,e[b]=y;for(let S=0,A=o;S!==A;++S){const E=s[S],P=E[b];let I=E[C];E[C]=P,I===void 0&&(I=new mn(y,n[S],i[S])),E[b]=I}}else e[C]!==l&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=d}remove(){const e=this._objects,t=this._indicesByUUID,n=this._bindings,i=n.length;let s=this.nCachedObjects_;for(let o=0,l=arguments.length;o!==l;++o){const c=arguments[o],d=c.uuid,h=t[d];if(h!==void 0&&h>=s){const m=s++,y=e[m];t[y.uuid]=h,e[h]=y,t[d]=m,e[m]=c;for(let v=0,C=i;v!==C;++v){const b=n[v],_=b[m],S=b[h];b[h]=_,b[m]=S}}}this.nCachedObjects_=s}uncache(){const e=this._objects,t=this._indicesByUUID,n=this._bindings,i=n.length;let s=this.nCachedObjects_,o=e.length;for(let l=0,c=arguments.length;l!==c;++l){const d=arguments[l],h=d.uuid,m=t[h];if(m!==void 0)if(delete t[h],m<s){const y=--s,v=e[y],C=--o,b=e[C];t[v.uuid]=m,e[m]=v,t[b.uuid]=y,e[y]=b,e.pop();for(let _=0,S=i;_!==S;++_){const A=n[_],E=A[y],P=A[C];A[m]=E,A[y]=P,A.pop()}}else{const y=--o,v=e[y];y>0&&(t[v.uuid]=m),e[m]=v,e.pop();for(let C=0,b=i;C!==b;++C){const _=n[C];_[m]=_[y],_.pop()}}}this.nCachedObjects_=s}subscribe_(e,t){const n=this._bindingsIndicesByPath;let i=n[e];const s=this._bindings;if(i!==void 0)return s[i];const o=this._paths,l=this._parsedPaths,c=this._objects,d=c.length,h=this.nCachedObjects_,m=new Array(d);i=s.length,n[e]=i,o.push(e),l.push(t),s.push(m);for(let y=h,v=c.length;y!==v;++y){const C=c[y];m[y]=new mn(C,e,t)}return m}unsubscribe_(e){const t=this._bindingsIndicesByPath,n=t[e];if(n!==void 0){const i=this._paths,s=this._parsedPaths,o=this._bindings,l=o.length-1,c=o[l],d=e[l];t[d]=n,o[n]=c,o.pop(),s[n]=s[l],s.pop(),i[n]=i[l],i.pop()}}}class uA{constructor(e,t,n=null,i=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=n,this.blendMode=i;const s=t.tracks,o=s.length,l=new Array(o),c={endingStart:ru,endingEnd:ru};for(let d=0;d!==o;++d){const h=s[d].createInterpolant(null);l[d]=h,h.settings=c}this._interpolantSettings=c,this._interpolants=l,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=XM,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,n){if(e.fadeOut(t),this.fadeIn(t),n){const i=this._clip.duration,s=e._clip.duration,o=s/i,l=i/s;e.warp(1,o,t),this.warp(l,1,t)}return this}crossFadeTo(e,t,n){return e.crossFadeFrom(this,t,n)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,n){const i=this._mixer,s=i.time,o=this.timeScale;let l=this._timeScaleInterpolant;l===null&&(l=i._lendControlInterpolant(),this._timeScaleInterpolant=l);const c=l.parameterPositions,d=l.sampleValues;return c[0]=s,c[1]=s+n,d[0]=e/o,d[1]=t/o,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,n,i){if(!this.enabled){this._updateWeight(e);return}const s=this._startTime;if(s!==null){const c=(e-s)*n;c<0||n===0?t=0:(this._startTime=null,t=n*c)}t*=this._updateTimeScale(e);const o=this._updateTime(t),l=this._updateWeight(e);if(l>0){const c=this._interpolants,d=this._propertyBindings;switch(this.blendMode){case _x:for(let h=0,m=c.length;h!==m;++h)c[h].evaluate(o),d[h].accumulateAdditive(l);break;case cy:default:for(let h=0,m=c.length;h!==m;++h)c[h].evaluate(o),d[h].accumulate(i,l)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const n=this._weightInterpolant;if(n!==null){const i=n.evaluate(e)[0];t*=i,e>n.parameterPositions[1]&&(this.stopFading(),i===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const n=this._timeScaleInterpolant;if(n!==null){const i=n.evaluate(e)[0];t*=i,e>n.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,n=this.loop;let i=this.time+e,s=this._loopCount;const o=n===YM;if(e===0)return s===-1?i:o&&(s&1)===1?t-i:i;if(n===jM){s===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(i>=t)i=t;else if(i<0)i=0;else{this.time=i;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(s===-1&&(e>=0?(s=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),i>=t||i<0){const l=Math.floor(i/t);i-=t*l,s+=Math.abs(l);const c=this.repetitions-s;if(c<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=e>0?t:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(c===1){const d=e<0;this._setEndings(d,!d,o)}else this._setEndings(!1,!1,o);this._loopCount=s,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:l})}}else this.time=i;if(o&&(s&1)===1)return t-i}return i}_setEndings(e,t,n){const i=this._interpolantSettings;n?(i.endingStart=iu,i.endingEnd=iu):(e?i.endingStart=this.zeroSlopeAtStart?iu:ru:i.endingStart=Jh,t?i.endingEnd=this.zeroSlopeAtEnd?iu:ru:i.endingEnd=Jh)}_scheduleFading(e,t,n){const i=this._mixer,s=i.time;let o=this._weightInterpolant;o===null&&(o=i._lendControlInterpolant(),this._weightInterpolant=o);const l=o.parameterPositions,c=o.sampleValues;return l[0]=s,c[0]=t,l[1]=s+e,c[1]=n,this}}const y4=new Float32Array(1);class v4 extends Ja{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const n=e._localRoot||this._root,i=e._clip.tracks,s=i.length,o=e._propertyBindings,l=e._interpolants,c=n.uuid,d=this._bindingsByRootAndName;let h=d[c];h===void 0&&(h={},d[c]=h);for(let m=0;m!==s;++m){const y=i[m],v=y.name;let C=h[v];if(C!==void 0)++C.referenceCount,o[m]=C;else{if(C=o[m],C!==void 0){C._cacheIndex===null&&(++C.referenceCount,this._addInactiveBinding(C,c,v));continue}const b=t&&t._propertyBindings[m].binding.parsedPath;C=new cA(mn.create(n,v,b),y.ValueTypeName,y.getValueSize()),++C.referenceCount,this._addInactiveBinding(C,c,v),o[m]=C}l[m].resultBuffer=C.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const n=(e._localRoot||this._root).uuid,i=e._clip.uuid,s=this._actionsByClip[i];this._bindAction(e,s&&s.knownActions[0]),this._addInactiveAction(e,i,n)}const t=e._propertyBindings;for(let n=0,i=t.length;n!==i;++n){const s=t[n];s.useCount++===0&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let n=0,i=t.length;n!==i;++n){const s=t[n];--s.useCount===0&&(s.restoreOriginalState(),this._takeBackBinding(s))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,n){const i=this._actions,s=this._actionsByClip;let o=s[t];if(o===void 0)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,s[t]=o;else{const l=o.knownActions;e._byClipCacheIndex=l.length,l.push(e)}e._cacheIndex=i.length,i.push(e),o.actionByRoot[n]=e}_removeInactiveAction(e){const t=this._actions,n=t[t.length-1],i=e._cacheIndex;n._cacheIndex=i,t[i]=n,t.pop(),e._cacheIndex=null;const s=e._clip.uuid,o=this._actionsByClip,l=o[s],c=l.knownActions,d=c[c.length-1],h=e._byClipCacheIndex;d._byClipCacheIndex=h,c[h]=d,c.pop(),e._byClipCacheIndex=null;const m=l.actionByRoot,y=(e._localRoot||this._root).uuid;delete m[y],c.length===0&&delete o[s],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let n=0,i=t.length;n!==i;++n){const s=t[n];--s.referenceCount===0&&this._removeInactiveBinding(s)}}_lendAction(e){const t=this._actions,n=e._cacheIndex,i=this._nActiveActions++,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=n,t[n]=s}_takeBackAction(e){const t=this._actions,n=e._cacheIndex,i=--this._nActiveActions,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=n,t[n]=s}_addInactiveBinding(e,t,n){const i=this._bindingsByRootAndName,s=this._bindings;let o=i[t];o===void 0&&(o={},i[t]=o),o[n]=e,e._cacheIndex=s.length,s.push(e)}_removeInactiveBinding(e){const t=this._bindings,n=e.binding,i=n.rootNode.uuid,s=n.path,o=this._bindingsByRootAndName,l=o[i],c=t[t.length-1],d=e._cacheIndex;c._cacheIndex=d,t[d]=c,t.pop(),delete l[s],Object.keys(l).length===0&&delete o[i]}_lendBinding(e){const t=this._bindings,n=e._cacheIndex,i=this._nActiveBindings++,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=n,t[n]=s}_takeBackBinding(e){const t=this._bindings,n=e._cacheIndex,i=--this._nActiveBindings,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=n,t[n]=s}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let n=e[t];return n===void 0&&(n=new jx(new Float32Array(2),new Float32Array(2),1,y4),n.__cacheIndex=t,e[t]=n),n}_takeBackControlInterpolant(e){const t=this._controlInterpolants,n=e.__cacheIndex,i=--this._nActiveControlInterpolants,s=t[i];e.__cacheIndex=i,t[i]=e,s.__cacheIndex=n,t[n]=s}clipAction(e,t,n){const i=t||this._root,s=i.uuid;let o=typeof e=="string"?up.findByName(i,e):e;const l=o!==null?o.uuid:e,c=this._actionsByClip[l];let d=null;if(n===void 0&&(o!==null?n=o.blendMode:n=cy),c!==void 0){const m=c.actionByRoot[s];if(m!==void 0&&m.blendMode===n)return m;d=c.knownActions[0],o===null&&(o=d._clip)}if(o===null)return null;const h=new uA(this,o,t,n);return this._bindAction(h,d),this._addInactiveAction(h,l,s),h}existingAction(e,t){const n=t||this._root,i=n.uuid,s=typeof e=="string"?up.findByName(n,e):e,o=s?s.uuid:e,l=this._actionsByClip[o];return l!==void 0&&l.actionByRoot[i]||null}stopAllAction(){const e=this._actions,t=this._nActiveActions;for(let n=t-1;n>=0;--n)e[n].stop();return this}update(e){e*=this.timeScale;const t=this._actions,n=this._nActiveActions,i=this.time+=e,s=Math.sign(e),o=this._accuIndex^=1;for(let d=0;d!==n;++d)t[d]._update(i,e,s,o);const l=this._bindings,c=this._nActiveBindings;for(let d=0;d!==c;++d)l[d].apply(o);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,n=e.uuid,i=this._actionsByClip,s=i[n];if(s!==void 0){const o=s.knownActions;for(let l=0,c=o.length;l!==c;++l){const d=o[l];this._deactivateAction(d);const h=d._cacheIndex,m=t[t.length-1];d._cacheIndex=null,d._byClipCacheIndex=null,m._cacheIndex=h,t[h]=m,t.pop(),this._removeInactiveBindingsForAction(d)}delete i[n]}}uncacheRoot(e){const t=e.uuid,n=this._actionsByClip;for(const o in n){const l=n[o].actionByRoot,c=l[t];c!==void 0&&(this._deactivateAction(c),this._removeInactiveAction(c))}const i=this._bindingsByRootAndName,s=i[t];if(s!==void 0)for(const o in s){const l=s[o];l.restoreOriginalState(),this._removeInactiveBinding(l)}}uncacheAction(e,t){const n=this.existingAction(e,t);n!==null&&(this._deactivateAction(n),this._removeInactiveAction(n))}}class e1{constructor(e){this.value=e}clone(){return new e1(this.value.clone===void 0?this.value:this.value.clone())}}let x4=0;class C4 extends Ja{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:x4++}),this.name="",this.usage=tp,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const t=this.uniforms.indexOf(e);return t!==-1&&this.uniforms.splice(t,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const t=e.uniforms;this.uniforms.length=0;for(let n=0,i=t.length;n<i;n++)this.uniforms.push(t[n].clone());return this}clone(){return new this.constructor().copy(this)}}class w4 extends vy{constructor(e,t,n=1){super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=n}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}class _4{constructor(e,t,n,i,s){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=t,this.itemSize=n,this.elementSize=i,this.count=s,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}class dA{constructor(e,t,n=0,i=1/0){this.ray=new _u(e,t),this.near=n,this.far=i,this.camera=null,this.layers=new uu,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}intersectObject(e,t=!0,n=[]){return I2(e,this,n,t),n.sort(C_),n}intersectObjects(e,t=!0,n=[]){for(let i=0,s=e.length;i<s;i++)I2(e[i],this,n,t);return n.sort(C_),n}}function C_(r,e){return r.distance-e.distance}function I2(r,e,t,n){if(r.layers.test(e.layers)&&r.raycast(e,t),n===!0){const i=r.children;for(let s=0,o=i.length;s<o;s++)I2(i[s],e,t,!0)}}class U2{constructor(e=1,t=0,n=0){return this.radius=e,this.phi=t,this.theta=n,this}set(e,t,n){return this.radius=e,this.phi=t,this.theta=n,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,n){return this.radius=Math.sqrt(e*e+t*t+n*n),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,n),this.phi=Math.acos(lr(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class S4{constructor(e=1,t=0,n=0){return this.radius=e,this.theta=t,this.y=n,this}set(e,t,n){return this.radius=e,this.theta=t,this.y=n,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,n){return this.radius=Math.sqrt(e*e+n*n),this.theta=Math.atan2(e,n),this.y=t,this}clone(){return new this.constructor().copy(this)}}const w_=new qe;class b4{constructor(e=new qe(1/0,1/0),t=new qe(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const n=w_.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,w_).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const __=new $,ag=new $;class M4{constructor(e=new $,t=new $){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){__.subVectors(e,this.start),ag.subVectors(this.end,this.start);const n=ag.dot(ag);let s=ag.dot(__)/n;return t&&(s=lr(s,0,1)),s}closestPointToPoint(e,t,n){const i=this.closestPointToPointParameter(e,t);return this.delta(n).multiplyScalar(i).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const S_=new $;class E4 extends vn{constructor(e,t){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=t,this.type="SpotLightHelper";const n=new on,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,l=1,c=32;o<c;o++,l++){const d=o/c*Math.PI*2,h=l/c*Math.PI*2;i.push(Math.cos(d),Math.sin(d),1,Math.cos(h),Math.sin(h),1)}n.setAttribute("position",new Lt(i,3));const s=new Xi({fog:!1,toneMapped:!1});this.cone=new ia(n,s),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1);const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),S_.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(S_),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const Nl=new $,lg=new Zt,u0=new Zt;class A4 extends ia{constructor(e){const t=fA(e),n=new on,i=[],s=[],o=new wt(0,0,1),l=new wt(0,1,0);for(let d=0;d<t.length;d++){const h=t[d];h.parent&&h.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),s.push(o.r,o.g,o.b),s.push(l.r,l.g,l.b))}n.setAttribute("position",new Lt(i,3)),n.setAttribute("color",new Lt(s,3));const c=new Xi({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(n,c),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const t=this.bones,n=this.geometry,i=n.getAttribute("position");u0.copy(this.root.matrixWorld).invert();for(let s=0,o=0;s<t.length;s++){const l=t[s];l.parent&&l.parent.isBone&&(lg.multiplyMatrices(u0,l.matrixWorld),Nl.setFromMatrixPosition(lg),i.setXYZ(o,Nl.x,Nl.y,Nl.z),lg.multiplyMatrices(u0,l.parent.matrixWorld),Nl.setFromMatrixPosition(lg),i.setXYZ(o+1,Nl.x,Nl.y,Nl.z),o+=2)}n.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function fA(r){const e=[];r.isBone===!0&&e.push(r);for(let t=0;t<r.children.length;t++)e.push.apply(e,fA(r.children[t]));return e}class T4 extends kr{constructor(e,t,n){const i=new Mp(t,4,2),s=new Qa({wireframe:!0,fog:!1,toneMapped:!1});super(i,s),this.light=e,this.color=n,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const P4=new $,b_=new wt,M_=new wt;class R4 extends vn{constructor(e,t,n){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,this.type="HemisphereLightHelper";const i=new bp(t);i.rotateY(Math.PI*.5),this.material=new Qa({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const s=i.getAttribute("position"),o=new Float32Array(s.count*3);i.setAttribute("color",new Dn(o,3)),this.add(new kr(i,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");b_.copy(this.light.color),M_.copy(this.light.groundColor);for(let n=0,i=t.count;n<i;n++){const s=n<i/2?b_:M_;t.setXYZ(n,s.r,s.g,s.b)}t.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(P4.setFromMatrixPosition(this.light.matrixWorld).negate())}}class D4 extends ia{constructor(e=10,t=10,n=4473924,i=8947848){n=new wt(n),i=new wt(i);const s=t/2,o=e/t,l=e/2,c=[],d=[];for(let y=0,v=0,C=-l;y<=t;y++,C+=o){c.push(-l,0,C,l,0,C),c.push(C,0,-l,C,0,l);const b=y===s?n:i;b.toArray(d,v),v+=3,b.toArray(d,v),v+=3,b.toArray(d,v),v+=3,b.toArray(d,v),v+=3}const h=new on;h.setAttribute("position",new Lt(c,3)),h.setAttribute("color",new Lt(d,3));const m=new Xi({vertexColors:!0,toneMapped:!1});super(h,m),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class L4 extends ia{constructor(e=10,t=16,n=8,i=64,s=4473924,o=8947848){s=new wt(s),o=new wt(o);const l=[],c=[];if(t>1)for(let m=0;m<t;m++){const y=m/t*(Math.PI*2),v=Math.sin(y)*e,C=Math.cos(y)*e;l.push(0,0,0),l.push(v,0,C);const b=m&1?s:o;c.push(b.r,b.g,b.b),c.push(b.r,b.g,b.b)}for(let m=0;m<n;m++){const y=m&1?s:o,v=e-e/n*m;for(let C=0;C<i;C++){let b=C/i*(Math.PI*2),_=Math.sin(b)*v,S=Math.cos(b)*v;l.push(_,0,S),c.push(y.r,y.g,y.b),b=(C+1)/i*(Math.PI*2),_=Math.sin(b)*v,S=Math.cos(b)*v,l.push(_,0,S),c.push(y.r,y.g,y.b)}}const d=new on;d.setAttribute("position",new Lt(l,3)),d.setAttribute("color",new Lt(c,3));const h=new Xi({vertexColors:!0,toneMapped:!1});super(d,h),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const E_=new $,cg=new $,A_=new $;class I4 extends vn{constructor(e,t,n){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,this.type="DirectionalLightHelper",t===void 0&&(t=1);let i=new on;i.setAttribute("position",new Lt([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const s=new Xi({fog:!1,toneMapped:!1});this.lightPlane=new Ql(i,s),this.add(this.lightPlane),i=new on,i.setAttribute("position",new Lt([0,0,0,0,0,1],3)),this.targetLine=new Ql(i,s),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),E_.setFromMatrixPosition(this.light.matrixWorld),cg.setFromMatrixPosition(this.light.target.matrixWorld),A_.subVectors(cg,E_),this.lightPlane.lookAt(cg),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(cg),this.targetLine.scale.z=A_.length()}}const ug=new $,ar=new wp;class U4 extends ia{constructor(e){const t=new on,n=new Xi({color:16777215,vertexColors:!0,toneMapped:!1}),i=[],s=[],o={};l("n1","n2"),l("n2","n4"),l("n4","n3"),l("n3","n1"),l("f1","f2"),l("f2","f4"),l("f4","f3"),l("f3","f1"),l("n1","f1"),l("n2","f2"),l("n3","f3"),l("n4","f4"),l("p","n1"),l("p","n2"),l("p","n3"),l("p","n4"),l("u1","u2"),l("u2","u3"),l("u3","u1"),l("c","t"),l("p","c"),l("cn1","cn2"),l("cn3","cn4"),l("cf1","cf2"),l("cf3","cf4");function l(C,b){c(C),c(b)}function c(C){i.push(0,0,0),s.push(0,0,0),o[C]===void 0&&(o[C]=[]),o[C].push(i.length/3-1)}t.setAttribute("position",new Lt(i,3)),t.setAttribute("color",new Lt(s,3)),super(t,n),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update();const d=new wt(16755200),h=new wt(16711680),m=new wt(43775),y=new wt(16777215),v=new wt(3355443);this.setColors(d,h,m,y,v)}setColors(e,t,n,i,s){const l=this.geometry.getAttribute("color");l.setXYZ(0,e.r,e.g,e.b),l.setXYZ(1,e.r,e.g,e.b),l.setXYZ(2,e.r,e.g,e.b),l.setXYZ(3,e.r,e.g,e.b),l.setXYZ(4,e.r,e.g,e.b),l.setXYZ(5,e.r,e.g,e.b),l.setXYZ(6,e.r,e.g,e.b),l.setXYZ(7,e.r,e.g,e.b),l.setXYZ(8,e.r,e.g,e.b),l.setXYZ(9,e.r,e.g,e.b),l.setXYZ(10,e.r,e.g,e.b),l.setXYZ(11,e.r,e.g,e.b),l.setXYZ(12,e.r,e.g,e.b),l.setXYZ(13,e.r,e.g,e.b),l.setXYZ(14,e.r,e.g,e.b),l.setXYZ(15,e.r,e.g,e.b),l.setXYZ(16,e.r,e.g,e.b),l.setXYZ(17,e.r,e.g,e.b),l.setXYZ(18,e.r,e.g,e.b),l.setXYZ(19,e.r,e.g,e.b),l.setXYZ(20,e.r,e.g,e.b),l.setXYZ(21,e.r,e.g,e.b),l.setXYZ(22,e.r,e.g,e.b),l.setXYZ(23,e.r,e.g,e.b),l.setXYZ(24,t.r,t.g,t.b),l.setXYZ(25,t.r,t.g,t.b),l.setXYZ(26,t.r,t.g,t.b),l.setXYZ(27,t.r,t.g,t.b),l.setXYZ(28,t.r,t.g,t.b),l.setXYZ(29,t.r,t.g,t.b),l.setXYZ(30,t.r,t.g,t.b),l.setXYZ(31,t.r,t.g,t.b),l.setXYZ(32,n.r,n.g,n.b),l.setXYZ(33,n.r,n.g,n.b),l.setXYZ(34,n.r,n.g,n.b),l.setXYZ(35,n.r,n.g,n.b),l.setXYZ(36,n.r,n.g,n.b),l.setXYZ(37,n.r,n.g,n.b),l.setXYZ(38,i.r,i.g,i.b),l.setXYZ(39,i.r,i.g,i.b),l.setXYZ(40,s.r,s.g,s.b),l.setXYZ(41,s.r,s.g,s.b),l.setXYZ(42,s.r,s.g,s.b),l.setXYZ(43,s.r,s.g,s.b),l.setXYZ(44,s.r,s.g,s.b),l.setXYZ(45,s.r,s.g,s.b),l.setXYZ(46,s.r,s.g,s.b),l.setXYZ(47,s.r,s.g,s.b),l.setXYZ(48,s.r,s.g,s.b),l.setXYZ(49,s.r,s.g,s.b),l.needsUpdate=!0}update(){const e=this.geometry,t=this.pointMap,n=1,i=1;ar.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),yr("c",t,e,ar,0,0,-1),yr("t",t,e,ar,0,0,1),yr("n1",t,e,ar,-n,-i,-1),yr("n2",t,e,ar,n,-i,-1),yr("n3",t,e,ar,-n,i,-1),yr("n4",t,e,ar,n,i,-1),yr("f1",t,e,ar,-n,-i,1),yr("f2",t,e,ar,n,-i,1),yr("f3",t,e,ar,-n,i,1),yr("f4",t,e,ar,n,i,1),yr("u1",t,e,ar,n*.7,i*1.1,-1),yr("u2",t,e,ar,-n*.7,i*1.1,-1),yr("u3",t,e,ar,0,i*2,-1),yr("cf1",t,e,ar,-n,0,1),yr("cf2",t,e,ar,n,0,1),yr("cf3",t,e,ar,0,-i,1),yr("cf4",t,e,ar,0,i,1),yr("cn1",t,e,ar,-n,0,-1),yr("cn2",t,e,ar,n,0,-1),yr("cn3",t,e,ar,0,-i,-1),yr("cn4",t,e,ar,0,i,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function yr(r,e,t,n,i,s,o){ug.set(i,s,o).unproject(n);const l=e[r];if(l!==void 0){const c=t.getAttribute("position");for(let d=0,h=l.length;d<h;d++)c.setXYZ(l[d],ug.x,ug.y,ug.z)}}const dg=new qs;class k4 extends ia{constructor(e,t=16776960){const n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(24),s=new on;s.setIndex(new Dn(n,1)),s.setAttribute("position",new Dn(i,3)),super(s,new Xi({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&dg.setFromObject(this.object),dg.isEmpty())return;const t=dg.min,n=dg.max,i=this.geometry.attributes.position,s=i.array;s[0]=n.x,s[1]=n.y,s[2]=n.z,s[3]=t.x,s[4]=n.y,s[5]=n.z,s[6]=t.x,s[7]=t.y,s[8]=n.z,s[9]=n.x,s[10]=t.y,s[11]=n.z,s[12]=n.x,s[13]=n.y,s[14]=t.z,s[15]=t.x,s[16]=n.y,s[17]=t.z,s[18]=t.x,s[19]=t.y,s[20]=t.z,s[21]=n.x,s[22]=t.y,s[23]=t.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,t){return super.copy(e,t),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class N4 extends ia{constructor(e,t=16776960){const n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],s=new on;s.setIndex(new Dn(n,1)),s.setAttribute("position",new Lt(i,3)),super(s,new Xi({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class O4 extends Ql{constructor(e,t=1,n=16776960){const i=n,s=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],o=new on;o.setAttribute("position",new Lt(s,3)),o.computeBoundingSphere(),super(o,new Xi({color:i,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const l=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],c=new on;c.setAttribute("position",new Lt(l,3)),c.computeBoundingSphere(),this.add(new kr(c,new Qa({color:i,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const T_=new $;let fg,d0;class F4 extends vn{constructor(e=new $(0,0,1),t=new $(0,0,0),n=1,i=16776960,s=n*.2,o=s*.2){super(),this.type="ArrowHelper",fg===void 0&&(fg=new on,fg.setAttribute("position",new Lt([0,0,0,0,1,0],3)),d0=new ff(0,.5,1,5,1),d0.translate(0,-.5,0)),this.position.copy(t),this.line=new Ql(fg,new Xi({color:i,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new kr(d0,new Qa({color:i,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(n,s,o)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{T_.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(T_,t)}}setLength(e,t=e*.2,n=t*.2){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(n,t,n),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class B4 extends ia{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],n=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],i=new on;i.setAttribute("position",new Lt(t,3)),i.setAttribute("color",new Lt(n,3));const s=new Xi({vertexColors:!0,toneMapped:!1});super(i,s),this.type="AxesHelper"}setColors(e,t,n){const i=new wt,s=this.geometry.attributes.color.array;return i.set(e),i.toArray(s,0),i.toArray(s,3),i.set(t),i.toArray(s,6),i.toArray(s,9),i.set(n),i.toArray(s,12),i.toArray(s,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class z4{constructor(){this.type="ShapePath",this.color=new wt,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new ip,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,n,i){return this.currentPath.quadraticCurveTo(e,t,n,i),this}bezierCurveTo(e,t,n,i,s,o){return this.currentPath.bezierCurveTo(e,t,n,i,s,o),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function t(S){const A=[];for(let E=0,P=S.length;E<P;E++){const I=S[E],k=new du;k.curves=I.curves,A.push(k)}return A}function n(S,A){const E=A.length;let P=!1;for(let I=E-1,k=0;k<E;I=k++){let F=A[I],V=A[k],U=V.x-F.x,O=V.y-F.y;if(Math.abs(O)>Number.EPSILON){if(O<0&&(F=A[k],U=-U,V=A[I],O=-O),S.y<F.y||S.y>V.y)continue;if(S.y===F.y){if(S.x===F.x)return!0}else{const Q=O*(S.x-F.x)-U*(S.y-F.y);if(Q===0)return!0;if(Q<0)continue;P=!P}}else{if(S.y!==F.y)continue;if(V.x<=S.x&&S.x<=F.x||F.x<=S.x&&S.x<=V.x)return!0}}return P}const i=ta.isClockWise,s=this.subPaths;if(s.length===0)return[];let o,l,c;const d=[];if(s.length===1)return l=s[0],c=new du,c.curves=l.curves,d.push(c),d;let h=!i(s[0].getPoints());h=e?!h:h;const m=[],y=[];let v=[],C=0,b;y[C]=void 0,v[C]=[];for(let S=0,A=s.length;S<A;S++)l=s[S],b=l.getPoints(),o=i(b),o=e?!o:o,o?(!h&&y[C]&&C++,y[C]={s:new du,p:b},y[C].s.curves=l.curves,h&&C++,v[C]=[]):v[C].push({h:l,p:b[0]});if(!y[0])return t(s);if(y.length>1){let S=!1,A=0;for(let E=0,P=y.length;E<P;E++)m[E]=[];for(let E=0,P=y.length;E<P;E++){const I=v[E];for(let k=0;k<I.length;k++){const F=I[k];let V=!0;for(let U=0;U<y.length;U++)n(F.p,y[U].p)&&(E!==U&&A++,V?(V=!1,m[U].push(F)):S=!0);V&&m[E].push(F)}}A>0&&S===!1&&(v=m)}let _;for(let S=0,A=y.length;S<A;S++){c=y[S].s,d.push(c),_=v[S];for(let E=0,P=_.length;E<P;E++)c.holes.push(_[E].h)}return d}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:sy}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=sy);const V4=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:px,AddEquation:zl,AddOperation:RM,AdditiveAnimationBlendMode:_x,AdditiveBlending:Gh,AlphaFormat:FM,AlwaysCompare:rE,AlwaysDepth:SM,AlwaysStencilFunc:S2,AmbientLight:rA,AnimationAction:uA,AnimationClip:up,AnimationLoader:GF,AnimationMixer:v4,AnimationObjectGroup:g4,AnimationUtils:BF,ArcCurve:TE,ArrayCamera:vE,ArrowHelper:F4,AttachedBindMode:J0,Audio:lA,AudioAnalyser:o4,AudioContext:Zx,AudioListener:r4,AudioLoader:e4,AxesHelper:B4,BackSide:ji,BasicDepthPacking:qM,BasicShadowMap:sM,Bone:kx,BooleanKeyframeTrack:bu,Box2:b4,Box3:qs,Box3Helper:N4,BoxGeometry:Su,BoxHelper:k4,BufferAttribute:Dn,BufferGeometry:on,BufferGeometryLoader:aA,ByteType:NM,Cache:yu,Camera:wp,CameraHelper:U4,CanvasTexture:cF,CapsuleGeometry:_y,CatmullRomCurve3:PE,CineonToneMapping:IM,CircleGeometry:Sy,ClampToEdgeWrapping:Mi,Clock:Jx,Color:wt,ColorKeyframeTrack:Xx,ColorManagement:Mn,CompressedArrayTexture:aF,CompressedCubeTexture:lF,CompressedTexture:Cy,CompressedTextureLoader:WF,ConeGeometry:by,ConstantAlphaFactor:CM,ConstantColorFactor:vM,CubeCamera:uE,CubeReflectionMapping:Ka,CubeRefractionMapping:Zl,CubeTexture:_p,CubeTextureLoader:jF,CubeUVReflectionMapping:uf,CubicBezierCurve:Fx,CubicBezierCurve3:RE,CubicInterpolant:KE,CullFaceBack:X0,CullFaceFront:iM,CullFaceFrontBack:sL,CullFaceNone:rM,Curve:Ro,CurvePath:LE,CustomBlending:oM,CustomToneMapping:UM,CylinderGeometry:ff,Cylindrical:S4,Data3DTexture:Ax,DataArrayTexture:dy,DataTexture:ef,DataTextureLoader:XF,DataUtils:pI,DecrementStencilOp:yL,DecrementWrapStencilOp:xL,DefaultLoadingManager:QE,DepthFormat:jl,DepthStencilFormat:hu,DepthTexture:xE,DetachedBindMode:kM,DirectionalLight:nA,DirectionalLightHelper:I4,DiscreteInterpolant:ZE,DisplayP3ColorSpace:uy,DodecahedronGeometry:My,DoubleSide:To,DstAlphaFactor:hM,DstColorFactor:mM,DynamicCopyUsage:UL,DynamicDrawUsage:TL,DynamicReadUsage:DL,EdgesGeometry:IE,EllipseCurve:wy,EqualCompare:QM,EqualDepth:MM,EqualStencilFunc:SL,EquirectangularReflectionMapping:jh,EquirectangularRefractionMapping:Xh,Euler:Cp,EventDispatcher:Ja,ExtrudeGeometry:Ay,FileLoader:Za,Float16BufferAttribute:CI,Float32BufferAttribute:Lt,Float64BufferAttribute:wI,FloatType:Zo,Fog:yy,FogExp2:gy,FramebufferTexture:oF,FrontSide:qa,Frustum:fy,GLBufferAttribute:_4,GLSL1:NL,GLSL3:b2,GreaterCompare:eE,GreaterDepth:AM,GreaterEqualCompare:nE,GreaterEqualDepth:EM,GreaterEqualStencilFunc:AL,GreaterStencilFunc:ML,GridHelper:D4,Group:Zd,HalfFloatType:sf,HemisphereLight:$E,HemisphereLightHelper:R4,IcosahedronGeometry:Ty,ImageBitmapLoader:$F,ImageLoader:dp,ImageUtils:Ex,IncrementStencilOp:gL,IncrementWrapStencilOp:vL,InstancedBufferAttribute:mu,InstancedBufferGeometry:Kx,InstancedInterleavedBuffer:w4,InstancedMesh:ME,Int16BufferAttribute:vI,Int32BufferAttribute:xI,Int8BufferAttribute:mI,IntType:gx,InterleavedBuffer:vy,InterleavedBufferAttribute:pu,Interpolant:Ep,InterpolateDiscrete:Kh,InterpolateLinear:Zh,InterpolateSmooth:Ag,InvertStencilOp:CL,KeepStencilOp:$c,KeyframeTrack:Do,LOD:SE,LatheGeometry:Sp,Layers:uu,LessCompare:JM,LessDepth:bM,LessEqualCompare:$M,LessEqualDepth:Wh,LessEqualStencilFunc:bL,LessStencilFunc:_L,Light:rc,LightProbe:oA,Line:Ql,Line3:M4,LineBasicMaterial:Xi,LineCurve:Bx,LineCurve3:DE,LineDashedMaterial:XE,LineLoop:EE,LineSegments:ia,LinearDisplayP3ColorSpace:xp,LinearEncoding:Sx,LinearFilter:Qn,LinearInterpolant:jx,LinearMipMapLinearFilter:uL,LinearMipMapNearestFilter:cL,LinearMipmapLinearFilter:Jl,LinearMipmapNearestFilter:mx,LinearSRGBColorSpace:na,LinearToneMapping:DM,LinearTransfer:Qh,Loader:fs,LoaderUtils:L2,LoadingManager:Yx,LoopOnce:jM,LoopPingPong:YM,LoopRepeat:XM,LuminanceAlphaFormat:zM,LuminanceFormat:BM,MOUSE:Jc,Material:Ai,MaterialLoader:ky,MathUtils:ZL,Matrix3:nn,Matrix4:Zt,MaxEquation:Z0,Mesh:kr,MeshBasicMaterial:Qa,MeshDepthMaterial:py,MeshDistanceMaterial:my,MeshLambertMaterial:WE,MeshMatcapMaterial:jE,MeshNormalMaterial:GE,MeshPhongMaterial:VE,MeshPhysicalMaterial:zE,MeshStandardMaterial:Gx,MeshToonMaterial:HE,MinEquation:K0,MirroredRepeatWrapping:qh,MixOperation:PM,MultiplyBlending:q0,MultiplyOperation:vp,NearestFilter:vr,NearestMipMapLinearFilter:lL,NearestMipMapNearestFilter:aL,NearestMipmapLinearFilter:Dh,NearestMipmapNearestFilter:Gg,NeverCompare:ZM,NeverDepth:_M,NeverStencilFunc:wL,NoBlending:Xa,NoColorSpace:Ps,NoToneMapping:$o,NormalAnimationBlendMode:cy,NormalBlending:lu,NotEqualCompare:tE,NotEqualDepth:TM,NotEqualStencilFunc:EL,NumberKeyframeTrack:lp,Object3D:vn,ObjectLoader:JF,ObjectSpaceNormalMap:KM,OctahedronGeometry:bp,OneFactor:uM,OneMinusConstantAlphaFactor:wM,OneMinusConstantColorFactor:xM,OneMinusDstAlphaFactor:pM,OneMinusDstColorFactor:gM,OneMinusSrcAlphaFactor:Hg,OneMinusSrcColorFactor:fM,OrthographicCamera:Yl,P3Primaries:ep,PCFShadowMap:oy,PCFSoftShadowMap:Rh,PMREMGenerator:E2,Path:ip,PerspectiveCamera:xr,Plane:za,PlaneGeometry:tc,PlaneHelper:O4,PointLight:tA,PointLightHelper:T4,Points:AE,PointsMaterial:Nx,PolarGridHelper:L4,PolyhedronGeometry:nc,PositionalAudio:s4,PropertyBinding:mn,PropertyMixer:cA,QuadraticBezierCurve:zx,QuadraticBezierCurve3:Vx,Quaternion:Ei,QuaternionKeyframeTrack:hf,QuaternionLinearInterpolant:JE,RED_GREEN_RGTC2_Format:w2,RED_RGTC1_Format:WM,REVISION:sy,RGBADepthPacking:bx,RGBAFormat:cs,RGBAIntegerFormat:wx,RGBA_ASTC_10x10_Format:m2,RGBA_ASTC_10x5_Format:f2,RGBA_ASTC_10x6_Format:h2,RGBA_ASTC_10x8_Format:p2,RGBA_ASTC_12x10_Format:g2,RGBA_ASTC_12x12_Format:y2,RGBA_ASTC_4x4_Format:i2,RGBA_ASTC_5x4_Format:s2,RGBA_ASTC_5x5_Format:o2,RGBA_ASTC_6x5_Format:a2,RGBA_ASTC_6x6_Format:l2,RGBA_ASTC_8x5_Format:c2,RGBA_ASTC_8x6_Format:u2,RGBA_ASTC_8x8_Format:d2,RGBA_BPTC_Format:Eg,RGBA_ETC2_EAC_Format:r2,RGBA_PVRTC_2BPPV1_Format:t2,RGBA_PVRTC_4BPPV1_Format:e2,RGBA_S3TC_DXT1_Format:Sg,RGBA_S3TC_DXT3_Format:bg,RGBA_S3TC_DXT5_Format:Mg,RGB_BPTC_SIGNED_Format:v2,RGB_BPTC_UNSIGNED_Format:x2,RGB_ETC1_Format:GM,RGB_ETC2_Format:n2,RGB_PVRTC_2BPPV1_Format:$0,RGB_PVRTC_4BPPV1_Format:Q0,RGB_S3TC_DXT1_Format:_g,RGFormat:HM,RGIntegerFormat:Cx,RawShaderMaterial:BE,Ray:_u,Raycaster:dA,Rec709Primaries:$h,RectAreaLight:iA,RedFormat:VM,RedIntegerFormat:xx,ReinhardToneMapping:LM,RenderTarget:aE,RepeatWrapping:Yh,ReplaceStencilOp:mL,ReverseSubtractEquation:lM,RingGeometry:Py,SIGNED_RED_GREEN_RGTC2_Format:_2,SIGNED_RED_RGTC1_Format:C2,SRGBColorSpace:Xr,SRGBTransfer:Fn,Scene:Ix,ShaderChunk:en,ShaderLib:Ao,ShaderMaterial:ra,ShadowMaterial:FE,Shape:du,ShapeGeometry:Ry,ShapePath:z4,ShapeUtils:ta,ShortType:OM,Skeleton:xy,SkeletonHelper:A4,SkinnedMesh:bE,Source:su,Sphere:Ks,SphereGeometry:Mp,Spherical:U2,SphericalHarmonics3:sA,SplineCurve:Hx,SpotLight:eA,SpotLightHelper:E4,Sprite:_E,SpriteMaterial:Ux,SrcAlphaFactor:Vg,SrcAlphaSaturateFactor:yM,SrcColorFactor:dM,StaticCopyUsage:IL,StaticDrawUsage:tp,StaticReadUsage:RL,StereoCamera:t4,StreamCopyUsage:kL,StreamDrawUsage:PL,StreamReadUsage:LL,StringKeyframeTrack:Mu,SubtractEquation:aM,SubtractiveBlending:Y0,TOUCH:Qc,TangentSpaceNormalMap:ec,TetrahedronGeometry:Dy,Texture:cr,TextureLoader:YF,TorusGeometry:Ly,TorusKnotGeometry:Iy,Triangle:ls,TriangleFanDrawMode:hL,TriangleStripDrawMode:fL,TrianglesDrawMode:dL,TubeGeometry:Uy,TwoPassDoubleSide:oL,UVMapping:ay,Uint16BufferAttribute:Tx,Uint32BufferAttribute:Px,Uint8BufferAttribute:gI,Uint8ClampedBufferAttribute:yI,Uniform:e1,UniformsGroup:C4,UniformsLib:vt,UniformsUtils:Rx,UnsignedByteType:ea,UnsignedInt248Type:Wl,UnsignedIntType:Ga,UnsignedShort4444Type:yx,UnsignedShort5551Type:vx,UnsignedShortType:ly,VSMShadowMap:Eo,Vector2:qe,Vector3:$,Vector4:xn,VectorKeyframeTrack:cp,VideoTexture:sF,WebGL1Renderer:CE,WebGL3DRenderTarget:nI,WebGLArrayRenderTarget:tI,WebGLCoordinateSystem:Jo,WebGLCubeRenderTarget:dE,WebGLMultipleRenderTargets:rI,WebGLRenderTarget:Po,WebGLRenderer:Lx,WebGLUtils:yE,WebGPUCoordinateSystem:np,WireframeGeometry:OE,WrapAroundEnding:Jh,ZeroCurvatureEnding:ru,ZeroFactor:cM,ZeroSlopeEnding:iu,ZeroStencilOp:pL,_SRGBAFormat:Wg,createCanvasElement:oE,sRGBEncoding:Xl},Symbol.toStringTag,{value:"Module"}));var f0={exports:{}},Ol={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var P_;function H4(){return P_||(P_=1,Ol.ConcurrentRoot=1,Ol.ContinuousEventPriority=4,Ol.DefaultEventPriority=16,Ol.DiscreteEventPriority=1,Ol.IdleEventPriority=536870912,Ol.LegacyRoot=0),Ol}var R_;function G4(){return R_||(R_=1,f0.exports=H4()),f0.exports}var Qd=G4();function W4(r){let e;const t=new Set,n=(d,h)=>{const m=typeof d=="function"?d(e):d;if(m!==e){const y=e;e=h?m:Object.assign({},e,m),t.forEach(v=>v(e,y))}},i=()=>e,s=(d,h=i,m=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let y=h(e);function v(){const C=h(e);if(!m(y,C)){const b=y;d(y=C,b)}}return t.add(v),()=>t.delete(v)},c={setState:n,getState:i,subscribe:(d,h,m)=>h||m?s(d,h,m):(t.add(d),()=>t.delete(d)),destroy:()=>t.clear()};return e=r(n,i,c),c}const j4=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),D_=j4?ue.useEffect:ue.useLayoutEffect;function X4(r){const e=typeof r=="function"?W4(r):r,t=(n=e.getState,i=Object.is)=>{const[,s]=ue.useReducer(_=>_+1,0),o=e.getState(),l=ue.useRef(o),c=ue.useRef(n),d=ue.useRef(i),h=ue.useRef(!1),m=ue.useRef();m.current===void 0&&(m.current=n(o));let y,v=!1;(l.current!==o||c.current!==n||d.current!==i||h.current)&&(y=n(o),v=!i(m.current,y)),D_(()=>{v&&(m.current=y),l.current=o,c.current=n,d.current=i,h.current=!1});const C=ue.useRef(o);D_(()=>{const _=()=>{try{const A=e.getState(),E=c.current(A);d.current(m.current,E)||(l.current=A,m.current=E,s())}catch{h.current=!0,s()}},S=e.subscribe(_);return e.getState()!==C.current&&_(),S},[]);const b=v?y:m.current;return ue.useDebugValue(b),b};return Object.assign(t,e),t[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const n=[t,e];return{next(){const i=n.length<=0;return{value:n.shift(),done:i}}}},t}const Y4=r=>typeof r=="object"&&typeof r.then=="function",hg=[];function q4(r,e,t=(n,i)=>n===i){if(r===e)return!0;if(!r||!e)return!1;const n=r.length;if(e.length!==n)return!1;for(let i=0;i<n;i++)if(!t(r[i],e[i]))return!1;return!0}function K4(r,e=null,t=!1,n={}){e===null&&(e=[r]);for(const s of hg)if(q4(e,s.keys,s.equal)){if(t)return;if(Object.prototype.hasOwnProperty.call(s,"error"))throw s.error;if(Object.prototype.hasOwnProperty.call(s,"response"))return n.lifespan&&n.lifespan>0&&(s.timeout&&clearTimeout(s.timeout),s.timeout=setTimeout(s.remove,n.lifespan)),s.response;if(!t)throw s.promise}const i={keys:e,equal:n.equal,remove:()=>{const s=hg.indexOf(i);s!==-1&&hg.splice(s,1)},promise:(Y4(r)?r:r(...e)).then(s=>{i.response=s,n.lifespan&&n.lifespan>0&&(i.timeout=setTimeout(i.remove,n.lifespan))}).catch(s=>i.error=s)};if(hg.push(i),!t)throw i.promise}const Z4=(r,e,t)=>K4(r,e,!1,t);var h0={exports:{}},p0={exports:{}},m0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var L_;function J4(){return L_||(L_=1,(function(r){function e(j,Y){var G=j.length;j.push(Y);e:for(;0<G;){var D=G-1>>>1,B=j[D];if(0<i(B,Y))j[D]=Y,j[G]=B,G=D;else break e}}function t(j){return j.length===0?null:j[0]}function n(j){if(j.length===0)return null;var Y=j[0],G=j.pop();if(G!==Y){j[0]=G;e:for(var D=0,B=j.length,ee=B>>>1;D<ee;){var ie=2*(D+1)-1,se=j[ie],pe=ie+1,me=j[pe];if(0>i(se,G))pe<B&&0>i(me,se)?(j[D]=me,j[pe]=G,D=pe):(j[D]=se,j[ie]=G,D=ie);else if(pe<B&&0>i(me,G))j[D]=me,j[pe]=G,D=pe;else break e}}return Y}function i(j,Y){var G=j.sortIndex-Y.sortIndex;return G!==0?G:j.id-Y.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;r.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();r.unstable_now=function(){return o.now()-l}}var c=[],d=[],h=1,m=null,y=3,v=!1,C=!1,b=!1,_=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(j){for(var Y=t(d);Y!==null;){if(Y.callback===null)n(d);else if(Y.startTime<=j)n(d),Y.sortIndex=Y.expirationTime,e(c,Y);else break;Y=t(d)}}function P(j){if(b=!1,E(j),!C)if(t(c)!==null)C=!0,re(I);else{var Y=t(d);Y!==null&&de(P,Y.startTime-j)}}function I(j,Y){C=!1,b&&(b=!1,S(V),V=-1),v=!0;var G=y;try{for(E(Y),m=t(c);m!==null&&(!(m.expirationTime>Y)||j&&!Q());){var D=m.callback;if(typeof D=="function"){m.callback=null,y=m.priorityLevel;var B=D(m.expirationTime<=Y);Y=r.unstable_now(),typeof B=="function"?m.callback=B:m===t(c)&&n(c),E(Y)}else n(c);m=t(c)}if(m!==null)var ee=!0;else{var ie=t(d);ie!==null&&de(P,ie.startTime-Y),ee=!1}return ee}finally{m=null,y=G,v=!1}}var k=!1,F=null,V=-1,U=5,O=-1;function Q(){return!(r.unstable_now()-O<U)}function q(){if(F!==null){var j=r.unstable_now();O=j;var Y=!0;try{Y=F(!0,j)}finally{Y?te():(k=!1,F=null)}}else k=!1}var te;if(typeof A=="function")te=function(){A(q)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,le=X.port2;X.port1.onmessage=q,te=function(){le.postMessage(null)}}else te=function(){_(q,0)};function re(j){F=j,k||(k=!0,te())}function de(j,Y){V=_(function(){j(r.unstable_now())},Y)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(j){j.callback=null},r.unstable_continueExecution=function(){C||v||(C=!0,re(I))},r.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<j?Math.floor(1e3/j):5},r.unstable_getCurrentPriorityLevel=function(){return y},r.unstable_getFirstCallbackNode=function(){return t(c)},r.unstable_next=function(j){switch(y){case 1:case 2:case 3:var Y=3;break;default:Y=y}var G=y;y=Y;try{return j()}finally{y=G}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(j,Y){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var G=y;y=j;try{return Y()}finally{y=G}},r.unstable_scheduleCallback=function(j,Y,G){var D=r.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?D+G:D):G=D,j){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=G+B,j={id:h++,callback:Y,priorityLevel:j,startTime:G,expirationTime:B,sortIndex:-1},G>D?(j.sortIndex=G,e(d,j),t(c)===null&&j===t(d)&&(b?(S(V),V=-1):b=!0,de(P,G-D))):(j.sortIndex=B,e(c,j),C||v||(C=!0,re(I))),j},r.unstable_shouldYield=Q,r.unstable_wrapCallback=function(j){var Y=y;return function(){var G=y;y=Y;try{return j.apply(this,arguments)}finally{y=G}}}})(m0)),m0}var I_;function Q4(){return I_||(I_=1,p0.exports=J4()),p0.exports}/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g0,U_;function $4(){return U_||(U_=1,g0=function(e){var t={},n=Kg(),i=Q4(),s=Object.assign;function o(f){for(var p="https://reactjs.org/docs/error-decoder.html?invariant="+f,x=1;x<arguments.length;x++)p+="&args[]="+encodeURIComponent(arguments[x]);return"Minified React error #"+f+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var l=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,c=Symbol.for("react.element"),d=Symbol.for("react.portal"),h=Symbol.for("react.fragment"),m=Symbol.for("react.strict_mode"),y=Symbol.for("react.profiler"),v=Symbol.for("react.provider"),C=Symbol.for("react.context"),b=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),S=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),P=Symbol.for("react.offscreen"),I=Symbol.iterator;function k(f){return f===null||typeof f!="object"?null:(f=I&&f[I]||f["@@iterator"],typeof f=="function"?f:null)}function F(f){if(f==null)return null;if(typeof f=="function")return f.displayName||f.name||null;if(typeof f=="string")return f;switch(f){case h:return"Fragment";case d:return"Portal";case y:return"Profiler";case m:return"StrictMode";case _:return"Suspense";case S:return"SuspenseList"}if(typeof f=="object")switch(f.$$typeof){case C:return(f.displayName||"Context")+".Consumer";case v:return(f._context.displayName||"Context")+".Provider";case b:var p=f.render;return f=f.displayName,f||(f=p.displayName||p.name||"",f=f!==""?"ForwardRef("+f+")":"ForwardRef"),f;case A:return p=f.displayName||null,p!==null?p:F(f.type)||"Memo";case E:p=f._payload,f=f._init;try{return F(f(p))}catch{}}return null}function V(f){var p=f.type;switch(f.tag){case 24:return"Cache";case 9:return(p.displayName||"Context")+".Consumer";case 10:return(p._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return f=p.render,f=f.displayName||f.name||"",p.displayName||(f!==""?"ForwardRef("+f+")":"ForwardRef");case 7:return"Fragment";case 5:return p;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return F(p);case 8:return p===m?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof p=="function")return p.displayName||p.name||null;if(typeof p=="string")return p}return null}function U(f){var p=f,x=f;if(f.alternate)for(;p.return;)p=p.return;else{f=p;do p=f,(p.flags&4098)!==0&&(x=p.return),f=p.return;while(f)}return p.tag===3?x:null}function O(f){if(U(f)!==f)throw Error(o(188))}function Q(f){var p=f.alternate;if(!p){if(p=U(f),p===null)throw Error(o(188));return p!==f?null:f}for(var x=f,M=p;;){var R=x.return;if(R===null)break;var N=R.alternate;if(N===null){if(M=R.return,M!==null){x=M;continue}break}if(R.child===N.child){for(N=R.child;N;){if(N===x)return O(R),f;if(N===M)return O(R),p;N=N.sibling}throw Error(o(188))}if(x.return!==M.return)x=R,M=N;else{for(var ne=!1,ye=R.child;ye;){if(ye===x){ne=!0,x=R,M=N;break}if(ye===M){ne=!0,M=R,x=N;break}ye=ye.sibling}if(!ne){for(ye=N.child;ye;){if(ye===x){ne=!0,x=N,M=R;break}if(ye===M){ne=!0,M=N,x=R;break}ye=ye.sibling}if(!ne)throw Error(o(189))}}if(x.alternate!==M)throw Error(o(190))}if(x.tag!==3)throw Error(o(188));return x.stateNode.current===x?f:p}function q(f){return f=Q(f),f!==null?te(f):null}function te(f){if(f.tag===5||f.tag===6)return f;for(f=f.child;f!==null;){var p=te(f);if(p!==null)return p;f=f.sibling}return null}function X(f){if(f.tag===5||f.tag===6)return f;for(f=f.child;f!==null;){if(f.tag!==4){var p=X(f);if(p!==null)return p}f=f.sibling}return null}var le=Array.isArray,re=e.getPublicInstance,de=e.getRootHostContext,j=e.getChildHostContext,Y=e.prepareForCommit,G=e.resetAfterCommit,D=e.createInstance,B=e.appendInitialChild,ee=e.finalizeInitialChildren,ie=e.prepareUpdate,se=e.shouldSetTextContent,pe=e.createTextInstance,me=e.scheduleTimeout,ve=e.cancelTimeout,ke=e.noTimeout,$e=e.isPrimaryRenderer,Re=e.supportsMutation,Z=e.supportsPersistence,Oe=e.supportsHydration,Ce=e.getInstanceFromNode,Ne=e.preparePortalMount,Ee=e.getCurrentEventPriority,rt=e.detachDeletedInstance,Ae=e.supportsMicrotasks,We=e.scheduleMicrotask,Ke=e.supportsTestSelectors,Me=e.findFiberRoot,ht=e.getBoundingRect,K=e.getTextContent,H=e.isHiddenSubtree,fe=e.matchAccessibilityRole,Ye=e.setFocusIfFocusable,Se=e.setupIntersectionObserver,Le=e.appendChild,tt=e.appendChildToContainer,Xe=e.commitTextUpdate,et=e.commitMount,gt=e.commitUpdate,yt=e.insertBefore,Ve=e.insertInContainerBefore,lt=e.removeChild,oe=e.removeChildFromContainer,Te=e.resetTextContent,Je=e.hideInstance,Ge=e.hideTextInstance,nt=e.unhideInstance,ce=e.unhideTextInstance,ot=e.clearContainer,Ze=e.cloneInstance,be=e.createContainerChildSet,Qe=e.appendChildToContainerChildSet,ft=e.finalizeContainerChildren,pt=e.replaceContainerChildren,Ut=e.cloneHiddenInstance,sn=e.cloneHiddenTextInstance,kt=e.canHydrateInstance,tn=e.canHydrateTextInstance,Cn=e.canHydrateSuspenseInstance,pi=e.isSuspenseInstancePending,ur=e.isSuspenseInstanceFallback,wr=e.registerSuspenseInstanceRetry,dr=e.getNextHydratableSibling,_r=e.getFirstHydratableChild,tr=e.getFirstHydratableChildWithinContainer,Yi=e.getFirstHydratableChildWithinSuspenseInstance,$a=e.hydrateInstance,Ti=e.hydrateTextInstance,el=e.hydrateSuspenseInstance,J=e.getNextHydratableInstanceAfterSuspenseInstance,we=e.commitHydratedContainer,Ie=e.commitHydratedSuspenseInstance,Fe=e.clearSuspenseBoundary,Be=e.clearSuspenseBoundaryFromContainer,xt=e.shouldDeleteUnhydratedTailInstances,Pt=e.didNotMatchHydratedContainerTextInstance,Nt=e.didNotMatchHydratedTextInstance,je;function Bt(f){if(je===void 0)try{throw Error()}catch(x){var p=x.stack.trim().match(/\n( *(at )?)/);je=p&&p[1]||""}return`
`+je+f}var zt=!1;function Ot(f,p){if(!f||zt)return"";zt=!0;var x=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(p)if(p=function(){throw Error()},Object.defineProperty(p.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(p,[])}catch(ct){var M=ct}Reflect.construct(f,[],p)}else{try{p.call()}catch(ct){M=ct}f.call(p.prototype)}else{try{throw Error()}catch(ct){M=ct}f()}}catch(ct){if(ct&&M&&typeof ct.stack=="string"){for(var R=ct.stack.split(`
`),N=M.stack.split(`
`),ne=R.length-1,ye=N.length-1;1<=ne&&0<=ye&&R[ne]!==N[ye];)ye--;for(;1<=ne&&0<=ye;ne--,ye--)if(R[ne]!==N[ye]){if(ne!==1||ye!==1)do if(ne--,ye--,0>ye||R[ne]!==N[ye]){var He=`
`+R[ne].replace(" at new "," at ");return f.displayName&&He.includes("<anonymous>")&&(He=He.replace("<anonymous>",f.displayName)),He}while(1<=ne&&0<=ye);break}}}finally{zt=!1,Error.prepareStackTrace=x}return(f=f?f.displayName||f.name:"")?Bt(f):""}var fn=Object.prototype.hasOwnProperty,nr=[],gn=-1;function En(f){return{current:f}}function At(f){0>gn||(f.current=nr[gn],nr[gn]=null,gn--)}function bt(f,p){gn++,nr[gn]=f.current,f.current=p}var Sn={},Qt=En(Sn),An=En(!1),Pi=Sn;function qn(f,p){var x=f.type.contextTypes;if(!x)return Sn;var M=f.stateNode;if(M&&M.__reactInternalMemoizedUnmaskedChildContext===p)return M.__reactInternalMemoizedMaskedChildContext;var R={},N;for(N in x)R[N]=p[N];return M&&(f=f.stateNode,f.__reactInternalMemoizedUnmaskedChildContext=p,f.__reactInternalMemoizedMaskedChildContext=R),R}function Ln(f){return f=f.childContextTypes,f!=null}function hn(){At(An),At(Qt)}function Or(f,p,x){if(Qt.current!==Sn)throw Error(o(168));bt(Qt,p),bt(An,x)}function Ls(f,p,x){var M=f.stateNode;if(p=p.childContextTypes,typeof M.getChildContext!="function")return x;M=M.getChildContext();for(var R in M)if(!(R in p))throw Error(o(108,V(f)||"Unknown",R));return s({},x,M)}function Wn(f){return f=(f=f.stateNode)&&f.__reactInternalMemoizedMergedChildContext||Sn,Pi=Qt.current,bt(Qt,f),bt(An,An.current),!0}function fr(f,p,x){var M=f.stateNode;if(!M)throw Error(o(169));x?(f=Ls(f,p,Pi),M.__reactInternalMemoizedMergedChildContext=f,At(An),At(Qt),bt(Qt,f)):At(An),bt(An,x)}var Kr=Math.clz32?Math.clz32:Au,hs=Math.log,ps=Math.LN2;function Au(f){return f>>>=0,f===0?32:31-(hs(f)/ps|0)|0}var ms=64,an=4194304;function Is(f){switch(f&-f){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return f&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return f}}function Lo(f,p){var x=f.pendingLanes;if(x===0)return 0;var M=0,R=f.suspendedLanes,N=f.pingedLanes,ne=x&268435455;if(ne!==0){var ye=ne&~R;ye!==0?M=Is(ye):(N&=ne,N!==0&&(M=Is(N)))}else ne=x&~R,ne!==0?M=Is(ne):N!==0&&(M=Is(N));if(M===0)return 0;if(p!==0&&p!==M&&(p&R)===0&&(R=M&-M,N=p&-p,R>=N||R===16&&(N&4194240)!==0))return p;if((M&4)!==0&&(M|=x&16),p=f.entangledLanes,p!==0)for(f=f.entanglements,p&=M;0<p;)x=31-Kr(p),R=1<<x,M|=f[x],p&=~R;return M}function tl(f,p){switch(f){case 1:case 2:case 4:return p+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return p+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function nl(f,p){for(var x=f.suspendedLanes,M=f.pingedLanes,R=f.expirationTimes,N=f.pendingLanes;0<N;){var ne=31-Kr(N),ye=1<<ne,He=R[ne];He===-1?((ye&x)===0||(ye&M)!==0)&&(R[ne]=tl(ye,p)):He<=p&&(f.expiredLanes|=ye),N&=~ye}}function Us(f){return f=f.pendingLanes&-1073741825,f!==0?f:f&1073741824?1073741824:0}function sa(f){for(var p=[],x=0;31>x;x++)p.push(f);return p}function qi(f,p,x){f.pendingLanes|=p,p!==536870912&&(f.suspendedLanes=0,f.pingedLanes=0),f=f.eventTimes,p=31-Kr(p),f[p]=x}function gs(f,p){var x=f.pendingLanes&~p;f.pendingLanes=p,f.suspendedLanes=0,f.pingedLanes=0,f.expiredLanes&=p,f.mutableReadLanes&=p,f.entangledLanes&=p,p=f.entanglements;var M=f.eventTimes;for(f=f.expirationTimes;0<x;){var R=31-Kr(x),N=1<<R;p[R]=0,M[R]=-1,f[R]=-1,x&=~N}}function Fr(f,p){var x=f.entangledLanes|=p;for(f=f.entanglements;x;){var M=31-Kr(x),R=1<<M;R&p|f[M]&p&&(f[M]|=p),x&=~R}}var jt=0;function Ki(f){return f&=-f,1<f?4<f?(f&268435455)!==0?16:536870912:4:1}var Ri=i.unstable_scheduleCallback,ks=i.unstable_cancelCallback,Zi=i.unstable_shouldYield,Tu=i.unstable_requestPaint,kn=i.unstable_now,ys=i.unstable_ImmediatePriority,Pu=i.unstable_UserBlockingPriority,Zr=i.unstable_NormalPriority,Io=i.unstable_IdlePriority,Uo=null,Di=null;function Zs(f){if(Di&&typeof Di.onCommitFiberRoot=="function")try{Di.onCommitFiberRoot(Uo,f,void 0,(f.current.flags&128)===128)}catch{}}function ko(f,p){return f===p&&(f!==0||1/f===1/p)||f!==f&&p!==p}var Sr=typeof Object.is=="function"?Object.is:ko,br=null,Ns=!1,Ji=!1;function oa(f){br===null?br=[f]:br.push(f)}function No(f){Ns=!0,oa(f)}function Jr(){if(!Ji&&br!==null){Ji=!0;var f=0,p=jt;try{var x=br;for(jt=1;f<x.length;f++){var M=x[f];do M=M(!0);while(M!==null)}br=null,Ns=!1}catch(R){throw br!==null&&(br=br.slice(f+1)),Ri(ys,Jr),R}finally{jt=p,Ji=!1}}return null}var Oo=l.ReactCurrentBatchConfig;function mi(f,p){if(Sr(f,p))return!0;if(typeof f!="object"||f===null||typeof p!="object"||p===null)return!1;var x=Object.keys(f),M=Object.keys(p);if(x.length!==M.length)return!1;for(M=0;M<x.length;M++){var R=x[M];if(!fn.call(p,R)||!Sr(f[R],p[R]))return!1}return!0}function Js(f){switch(f.tag){case 5:return Bt(f.type);case 16:return Bt("Lazy");case 13:return Bt("Suspense");case 19:return Bt("SuspenseList");case 0:case 2:case 15:return f=Ot(f.type,!1),f;case 11:return f=Ot(f.type.render,!1),f;case 1:return f=Ot(f.type,!0),f;default:return""}}function Mr(f,p){if(f&&f.defaultProps){p=s({},p),f=f.defaultProps;for(var x in f)p[x]===void 0&&(p[x]=f[x]);return p}return p}var hr=En(null),Qs=null,gi=null,$s=null;function Er(){$s=gi=Qs=null}function eo(f,p,x){$e?(bt(hr,p._currentValue),p._currentValue=x):(bt(hr,p._currentValue2),p._currentValue2=x)}function rr(f){var p=hr.current;At(hr),$e?f._currentValue=p:f._currentValue2=p}function pr(f,p,x){for(;f!==null;){var M=f.alternate;if((f.childLanes&p)!==p?(f.childLanes|=p,M!==null&&(M.childLanes|=p)):M!==null&&(M.childLanes&p)!==p&&(M.childLanes|=p),f===x)break;f=f.return}}function Kn(f,p){Qs=f,$s=gi=null,f=f.dependencies,f!==null&&f.firstContext!==null&&((f.lanes&p)!==0&&(Rr=!0),f.firstContext=null)}function zn(f){var p=$e?f._currentValue:f._currentValue2;if($s!==f)if(f={context:f,memoizedValue:p,next:null},gi===null){if(Qs===null)throw Error(o(308));gi=f,Qs.dependencies={lanes:0,firstContext:f}}else gi=gi.next=f;return p}var si=null,Qi=!1;function rl(f){f.updateQueue={baseState:f.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function mf(f,p){f=f.updateQueue,p.updateQueue===f&&(p.updateQueue={baseState:f.baseState,firstBaseUpdate:f.firstBaseUpdate,lastBaseUpdate:f.lastBaseUpdate,shared:f.shared,effects:f.effects})}function to(f,p){return{eventTime:f,lane:p,tag:0,payload:null,callback:null,next:null}}function Fo(f,p){var x=f.updateQueue;x!==null&&(x=x.shared,Jn!==null&&(f.mode&1)!==0&&(Jt&2)===0?(f=x.interleaved,f===null?(p.next=p,si===null?si=[x]:si.push(x)):(p.next=f.next,f.next=p),x.interleaved=p):(f=x.pending,f===null?p.next=p:(p.next=f.next,f.next=p),x.pending=p))}function Ru(f,p,x){if(p=p.updateQueue,p!==null&&(p=p.shared,(x&4194240)!==0)){var M=p.lanes;M&=f.pendingLanes,x|=M,p.lanes=x,Fr(f,x)}}function Du(f,p){var x=f.updateQueue,M=f.alternate;if(M!==null&&(M=M.updateQueue,x===M)){var R=null,N=null;if(x=x.firstBaseUpdate,x!==null){do{var ne={eventTime:x.eventTime,lane:x.lane,tag:x.tag,payload:x.payload,callback:x.callback,next:null};N===null?R=N=ne:N=N.next=ne,x=x.next}while(x!==null);N===null?R=N=p:N=N.next=p}else R=N=p;x={baseState:M.baseState,firstBaseUpdate:R,lastBaseUpdate:N,shared:M.shared,effects:M.effects},f.updateQueue=x;return}f=x.lastBaseUpdate,f===null?x.firstBaseUpdate=p:f.next=p,x.lastBaseUpdate=p}function Lu(f,p,x,M){var R=f.updateQueue;Qi=!1;var N=R.firstBaseUpdate,ne=R.lastBaseUpdate,ye=R.shared.pending;if(ye!==null){R.shared.pending=null;var He=ye,ct=He.next;He.next=null,ne===null?N=ct:ne.next=ct,ne=He;var Mt=f.alternate;Mt!==null&&(Mt=Mt.updateQueue,ye=Mt.lastBaseUpdate,ye!==ne&&(ye===null?Mt.firstBaseUpdate=ct:ye.next=ct,Mt.lastBaseUpdate=He))}if(N!==null){var Yt=R.baseState;ne=0,Mt=ct=He=null,ye=N;do{var Ft=ye.lane,$t=ye.eventTime;if((M&Ft)===Ft){Mt!==null&&(Mt=Mt.next={eventTime:$t,lane:0,tag:ye.tag,payload:ye.payload,callback:ye.callback,next:null});e:{var _t=f,Wr=ye;switch(Ft=p,$t=x,Wr.tag){case 1:if(_t=Wr.payload,typeof _t=="function"){Yt=_t.call($t,Yt,Ft);break e}Yt=_t;break e;case 3:_t.flags=_t.flags&-65537|128;case 0:if(_t=Wr.payload,Ft=typeof _t=="function"?_t.call($t,Yt,Ft):_t,Ft==null)break e;Yt=s({},Yt,Ft);break e;case 2:Qi=!0}}ye.callback!==null&&ye.lane!==0&&(f.flags|=64,Ft=R.effects,Ft===null?R.effects=[ye]:Ft.push(ye))}else $t={eventTime:$t,lane:Ft,tag:ye.tag,payload:ye.payload,callback:ye.callback,next:null},Mt===null?(ct=Mt=$t,He=Yt):Mt=Mt.next=$t,ne|=Ft;if(ye=ye.next,ye===null){if(ye=R.shared.pending,ye===null)break;Ft=ye,ye=Ft.next,Ft.next=null,R.lastBaseUpdate=Ft,R.shared.pending=null}}while(!0);if(Mt===null&&(He=Yt),R.baseState=He,R.firstBaseUpdate=ct,R.lastBaseUpdate=Mt,p=R.shared.interleaved,p!==null){R=p;do ne|=R.lane,R=R.next;while(R!==p)}else N===null&&(R.shared.lanes=0);zs|=ne,f.lanes=ne,f.memoizedState=Yt}}function Tp(f,p,x){if(f=p.effects,p.effects=null,f!==null)for(p=0;p<f.length;p++){var M=f[p],R=M.callback;if(R!==null){if(M.callback=null,M=x,typeof R!="function")throw Error(o(191,R));R.call(M)}}}var Pp=new n.Component().refs;function gf(f,p,x,M){p=f.memoizedState,x=x(M,p),x=x==null?p:s({},p,x),f.memoizedState=x,f.lanes===0&&(f.updateQueue.baseState=x)}var Iu={isMounted:function(f){return(f=f._reactInternals)?U(f)===f:!1},enqueueSetState:function(f,p,x){f=f._reactInternals;var M=dn(),R=bs(f),N=to(M,R);N.payload=p,x!=null&&(N.callback=x),Fo(f,N),p=ei(f,R,M),p!==null&&Ru(p,f,R)},enqueueReplaceState:function(f,p,x){f=f._reactInternals;var M=dn(),R=bs(f),N=to(M,R);N.tag=1,N.payload=p,x!=null&&(N.callback=x),Fo(f,N),p=ei(f,R,M),p!==null&&Ru(p,f,R)},enqueueForceUpdate:function(f,p){f=f._reactInternals;var x=dn(),M=bs(f),R=to(x,M);R.tag=2,p!=null&&(R.callback=p),Fo(f,R),p=ei(f,M,x),p!==null&&Ru(p,f,M)}};function yf(f,p,x,M,R,N,ne){return f=f.stateNode,typeof f.shouldComponentUpdate=="function"?f.shouldComponentUpdate(M,N,ne):p.prototype&&p.prototype.isPureReactComponent?!mi(x,M)||!mi(R,N):!0}function Rp(f,p,x){var M=!1,R=Sn,N=p.contextType;return typeof N=="object"&&N!==null?N=zn(N):(R=Ln(p)?Pi:Qt.current,M=p.contextTypes,N=(M=M!=null)?qn(f,R):Sn),p=new p(x,N),f.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=Iu,f.stateNode=p,p._reactInternals=f,M&&(f=f.stateNode,f.__reactInternalMemoizedUnmaskedChildContext=R,f.__reactInternalMemoizedMaskedChildContext=N),p}function Dp(f,p,x,M){f=p.state,typeof p.componentWillReceiveProps=="function"&&p.componentWillReceiveProps(x,M),typeof p.UNSAFE_componentWillReceiveProps=="function"&&p.UNSAFE_componentWillReceiveProps(x,M),p.state!==f&&Iu.enqueueReplaceState(p,p.state,null)}function vf(f,p,x,M){var R=f.stateNode;R.props=x,R.state=f.memoizedState,R.refs=Pp,rl(f);var N=p.contextType;typeof N=="object"&&N!==null?R.context=zn(N):(N=Ln(p)?Pi:Qt.current,R.context=qn(f,N)),R.state=f.memoizedState,N=p.getDerivedStateFromProps,typeof N=="function"&&(gf(f,p,N,x),R.state=f.memoizedState),typeof p.getDerivedStateFromProps=="function"||typeof R.getSnapshotBeforeUpdate=="function"||typeof R.UNSAFE_componentWillMount!="function"&&typeof R.componentWillMount!="function"||(p=R.state,typeof R.componentWillMount=="function"&&R.componentWillMount(),typeof R.UNSAFE_componentWillMount=="function"&&R.UNSAFE_componentWillMount(),p!==R.state&&Iu.enqueueReplaceState(R,R.state,null),Lu(f,x,R,M),R.state=f.memoizedState),typeof R.componentDidMount=="function"&&(f.flags|=4194308)}var il=[],Bo=0,Uu=null,ku=0,$i=[],Li=0,aa=null,no=1,ro="";function la(f,p){il[Bo++]=ku,il[Bo++]=Uu,Uu=f,ku=p}function Lp(f,p,x){$i[Li++]=no,$i[Li++]=ro,$i[Li++]=aa,aa=f;var M=no;f=ro;var R=32-Kr(M)-1;M&=~(1<<R),x+=1;var N=32-Kr(p)+R;if(30<N){var ne=R-R%5;N=(M&(1<<ne)-1).toString(32),M>>=ne,R-=ne,no=1<<32-Kr(p)+R|x<<R|M,ro=N+f}else no=1<<N|x<<R|M,ro=f}function xf(f){f.return!==null&&(la(f,1),Lp(f,1,0))}function Cf(f){for(;f===Uu;)Uu=il[--Bo],il[Bo]=null,ku=il[--Bo],il[Bo]=null;for(;f===aa;)aa=$i[--Li],$i[Li]=null,ro=$i[--Li],$i[Li]=null,no=$i[--Li],$i[Li]=null}var oi=null,Br=null,Nn=!1,sl=!1,es=null;function wf(f,p){var x=Bi(5,null,null,0);x.elementType="DELETED",x.stateNode=p,x.return=f,p=f.deletions,p===null?(f.deletions=[x],f.flags|=16):p.push(x)}function _f(f,p){switch(f.tag){case 5:return p=kt(p,f.type,f.pendingProps),p!==null?(f.stateNode=p,oi=f,Br=_r(p),!0):!1;case 6:return p=tn(p,f.pendingProps),p!==null?(f.stateNode=p,oi=f,Br=null,!0):!1;case 13:if(p=Cn(p),p!==null){var x=aa!==null?{id:no,overflow:ro}:null;return f.memoizedState={dehydrated:p,treeContext:x,retryLane:1073741824},x=Bi(18,null,null,0),x.stateNode=p,x.return=f,f.child=x,oi=f,Br=null,!0}return!1;default:return!1}}function Nu(f){return(f.mode&1)!==0&&(f.flags&128)===0}function zo(f){if(Nn){var p=Br;if(p){var x=p;if(!_f(f,p)){if(Nu(f))throw Error(o(418));p=dr(x);var M=oi;p&&_f(f,p)?wf(M,x):(f.flags=f.flags&-4097|2,Nn=!1,oi=f)}}else{if(Nu(f))throw Error(o(418));f.flags=f.flags&-4097|2,Nn=!1,oi=f}}}function Ip(f){for(f=f.return;f!==null&&f.tag!==5&&f.tag!==3&&f.tag!==13;)f=f.return;oi=f}function ic(f){if(!Oe||f!==oi)return!1;if(!Nn)return Ip(f),Nn=!0,!1;if(f.tag!==3&&(f.tag!==5||xt(f.type)&&!se(f.type,f.memoizedProps))){var p=Br;if(p){if(Nu(f)){for(f=Br;f;)f=dr(f);throw Error(o(418))}for(;p;)wf(f,p),p=dr(p)}}if(Ip(f),f.tag===13){if(!Oe)throw Error(o(316));if(f=f.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(o(317));Br=J(f)}else Br=oi?dr(f.stateNode):null;return!0}function ol(){Oe&&(Br=oi=null,sl=Nn=!1)}function Ou(f){es===null?es=[f]:es.push(f)}function al(f,p,x){if(f=x.ref,f!==null&&typeof f!="function"&&typeof f!="object"){if(x._owner){if(x=x._owner,x){if(x.tag!==1)throw Error(o(309));var M=x.stateNode}if(!M)throw Error(o(147,f));var R=M,N=""+f;return p!==null&&p.ref!==null&&typeof p.ref=="function"&&p.ref._stringRef===N?p.ref:(p=function(ne){var ye=R.refs;ye===Pp&&(ye=R.refs={}),ne===null?delete ye[N]:ye[N]=ne},p._stringRef=N,p)}if(typeof f!="string")throw Error(o(284));if(!x._owner)throw Error(o(290,f))}return f}function Vo(f,p){throw f=Object.prototype.toString.call(p),Error(o(31,f==="[object Object]"?"object with keys {"+Object.keys(p).join(", ")+"}":f))}function ll(f){var p=f._init;return p(f._payload)}function Up(f){function p(De,xe){if(f){var ze=De.deletions;ze===null?(De.deletions=[xe],De.flags|=16):ze.push(xe)}}function x(De,xe){if(!f)return null;for(;xe!==null;)p(De,xe),xe=xe.sibling;return null}function M(De,xe){for(De=new Map;xe!==null;)xe.key!==null?De.set(xe.key,xe):De.set(xe.index,xe),xe=xe.sibling;return De}function R(De,xe){return De=vo(De,xe),De.index=0,De.sibling=null,De}function N(De,xe,ze){return De.index=ze,f?(ze=De.alternate,ze!==null?(ze=ze.index,ze<xe?(De.flags|=2,xe):ze):(De.flags|=2,xe)):(De.flags|=1048576,xe)}function ne(De){return f&&De.alternate===null&&(De.flags|=2),De}function ye(De,xe,ze,Ct){return xe===null||xe.tag!==6?(xe=ud(ze,De.mode,Ct),xe.return=De,xe):(xe=R(xe,ze),xe.return=De,xe)}function He(De,xe,ze,Ct){var Dt=ze.type;return Dt===h?Mt(De,xe,ze.props.children,Ct,ze.key):xe!==null&&(xe.elementType===Dt||typeof Dt=="object"&&Dt!==null&&Dt.$$typeof===E&&ll(Dt)===xe.type)?(Ct=R(xe,ze.props),Ct.ref=al(De,xe,ze),Ct.return=De,Ct):(Ct=cd(ze.type,ze.key,ze.props,null,De.mode,Ct),Ct.ref=al(De,xe,ze),Ct.return=De,Ct)}function ct(De,xe,ze,Ct){return xe===null||xe.tag!==4||xe.stateNode.containerInfo!==ze.containerInfo||xe.stateNode.implementation!==ze.implementation?(xe=dd(ze,De.mode,Ct),xe.return=De,xe):(xe=R(xe,ze.children||[]),xe.return=De,xe)}function Mt(De,xe,ze,Ct,Dt){return xe===null||xe.tag!==7?(xe=Ra(ze,De.mode,Ct,Dt),xe.return=De,xe):(xe=R(xe,ze),xe.return=De,xe)}function Yt(De,xe,ze){if(typeof xe=="string"&&xe!==""||typeof xe=="number")return xe=ud(""+xe,De.mode,ze),xe.return=De,xe;if(typeof xe=="object"&&xe!==null){switch(xe.$$typeof){case c:return ze=cd(xe.type,xe.key,xe.props,null,De.mode,ze),ze.ref=al(De,null,xe),ze.return=De,ze;case d:return xe=dd(xe,De.mode,ze),xe.return=De,xe;case E:var Ct=xe._init;return Yt(De,Ct(xe._payload),ze)}if(le(xe)||k(xe))return xe=Ra(xe,De.mode,ze,null),xe.return=De,xe;Vo(De,xe)}return null}function Ft(De,xe,ze,Ct){var Dt=xe!==null?xe.key:null;if(typeof ze=="string"&&ze!==""||typeof ze=="number")return Dt!==null?null:ye(De,xe,""+ze,Ct);if(typeof ze=="object"&&ze!==null){switch(ze.$$typeof){case c:return ze.key===Dt?He(De,xe,ze,Ct):null;case d:return ze.key===Dt?ct(De,xe,ze,Ct):null;case E:return Dt=ze._init,Ft(De,xe,Dt(ze._payload),Ct)}if(le(ze)||k(ze))return Dt!==null?null:Mt(De,xe,ze,Ct,null);Vo(De,ze)}return null}function $t(De,xe,ze,Ct,Dt){if(typeof Ct=="string"&&Ct!==""||typeof Ct=="number")return De=De.get(ze)||null,ye(xe,De,""+Ct,Dt);if(typeof Ct=="object"&&Ct!==null){switch(Ct.$$typeof){case c:return De=De.get(Ct.key===null?ze:Ct.key)||null,He(xe,De,Ct,Dt);case d:return De=De.get(Ct.key===null?ze:Ct.key)||null,ct(xe,De,Ct,Dt);case E:var Kt=Ct._init;return $t(De,xe,ze,Kt(Ct._payload),Dt)}if(le(Ct)||k(Ct))return De=De.get(ze)||null,Mt(xe,De,Ct,Dt,null);Vo(xe,Ct)}return null}function _t(De,xe,ze,Ct){for(var Dt=null,Kt=null,qt=xe,un=xe=0,sr=null;qt!==null&&un<ze.length;un++){qt.index>un?(sr=qt,qt=null):sr=qt.sibling;var cn=Ft(De,qt,ze[un],Ct);if(cn===null){qt===null&&(qt=sr);break}f&&qt&&cn.alternate===null&&p(De,qt),xe=N(cn,xe,un),Kt===null?Dt=cn:Kt.sibling=cn,Kt=cn,qt=sr}if(un===ze.length)return x(De,qt),Nn&&la(De,un),Dt;if(qt===null){for(;un<ze.length;un++)qt=Yt(De,ze[un],Ct),qt!==null&&(xe=N(qt,xe,un),Kt===null?Dt=qt:Kt.sibling=qt,Kt=qt);return Nn&&la(De,un),Dt}for(qt=M(De,qt);un<ze.length;un++)sr=$t(qt,De,un,ze[un],Ct),sr!==null&&(f&&sr.alternate!==null&&qt.delete(sr.key===null?un:sr.key),xe=N(sr,xe,un),Kt===null?Dt=sr:Kt.sibling=sr,Kt=sr);return f&&qt.forEach(function(xo){return p(De,xo)}),Nn&&la(De,un),Dt}function Wr(De,xe,ze,Ct){var Dt=k(ze);if(typeof Dt!="function")throw Error(o(150));if(ze=Dt.call(ze),ze==null)throw Error(o(151));for(var Kt=Dt=null,qt=xe,un=xe=0,sr=null,cn=ze.next();qt!==null&&!cn.done;un++,cn=ze.next()){qt.index>un?(sr=qt,qt=null):sr=qt.sibling;var xo=Ft(De,qt,cn.value,Ct);if(xo===null){qt===null&&(qt=sr);break}f&&qt&&xo.alternate===null&&p(De,qt),xe=N(xo,xe,un),Kt===null?Dt=xo:Kt.sibling=xo,Kt=xo,qt=sr}if(cn.done)return x(De,qt),Nn&&la(De,un),Dt;if(qt===null){for(;!cn.done;un++,cn=ze.next())cn=Yt(De,cn.value,Ct),cn!==null&&(xe=N(cn,xe,un),Kt===null?Dt=cn:Kt.sibling=cn,Kt=cn);return Nn&&la(De,un),Dt}for(qt=M(De,qt);!cn.done;un++,cn=ze.next())cn=$t(qt,De,un,cn.value,Ct),cn!==null&&(f&&cn.alternate!==null&&qt.delete(cn.key===null?un:cn.key),xe=N(cn,xe,un),Kt===null?Dt=cn:Kt.sibling=cn,Kt=cn);return f&&qt.forEach(function($f){return p(De,$f)}),Nn&&la(De,un),Dt}function zi(De,xe,ze,Ct){if(typeof ze=="object"&&ze!==null&&ze.type===h&&ze.key===null&&(ze=ze.props.children),typeof ze=="object"&&ze!==null){switch(ze.$$typeof){case c:e:{for(var Dt=ze.key,Kt=xe;Kt!==null;){if(Kt.key===Dt){if(Dt=ze.type,Dt===h){if(Kt.tag===7){x(De,Kt.sibling),xe=R(Kt,ze.props.children),xe.return=De,De=xe;break e}}else if(Kt.elementType===Dt||typeof Dt=="object"&&Dt!==null&&Dt.$$typeof===E&&ll(Dt)===Kt.type){x(De,Kt.sibling),xe=R(Kt,ze.props),xe.ref=al(De,Kt,ze),xe.return=De,De=xe;break e}x(De,Kt);break}else p(De,Kt);Kt=Kt.sibling}ze.type===h?(xe=Ra(ze.props.children,De.mode,Ct,ze.key),xe.return=De,De=xe):(Ct=cd(ze.type,ze.key,ze.props,null,De.mode,Ct),Ct.ref=al(De,xe,ze),Ct.return=De,De=Ct)}return ne(De);case d:e:{for(Kt=ze.key;xe!==null;){if(xe.key===Kt)if(xe.tag===4&&xe.stateNode.containerInfo===ze.containerInfo&&xe.stateNode.implementation===ze.implementation){x(De,xe.sibling),xe=R(xe,ze.children||[]),xe.return=De,De=xe;break e}else{x(De,xe);break}else p(De,xe);xe=xe.sibling}xe=dd(ze,De.mode,Ct),xe.return=De,De=xe}return ne(De);case E:return Kt=ze._init,zi(De,xe,Kt(ze._payload),Ct)}if(le(ze))return _t(De,xe,ze,Ct);if(k(ze))return Wr(De,xe,ze,Ct);Vo(De,ze)}return typeof ze=="string"&&ze!==""||typeof ze=="number"?(ze=""+ze,xe!==null&&xe.tag===6?(x(De,xe.sibling),xe=R(xe,ze),xe.return=De,De=xe):(x(De,xe),xe=ud(ze,De.mode,Ct),xe.return=De,De=xe),ne(De)):x(De,xe)}return zi}var io=Up(!0),kp=Up(!1),cl={},yi=En(cl),ca=En(cl),ua=En(cl);function vs(f){if(f===cl)throw Error(o(174));return f}function Fu(f,p){bt(ua,p),bt(ca,f),bt(yi,cl),f=de(p),At(yi),bt(yi,f)}function ul(){At(yi),At(ca),At(ua)}function Np(f){var p=vs(ua.current),x=vs(yi.current);p=j(x,f.type,p),x!==p&&(bt(ca,f),bt(yi,p))}function Sf(f){ca.current===f&&(At(yi),At(ca))}var Vn=En(0);function Bu(f){for(var p=f;p!==null;){if(p.tag===13){var x=p.memoizedState;if(x!==null&&(x=x.dehydrated,x===null||pi(x)||ur(x)))return p}else if(p.tag===19&&p.memoizedProps.revealOrder!==void 0){if((p.flags&128)!==0)return p}else if(p.child!==null){p.child.return=p,p=p.child;continue}if(p===f)break;for(;p.sibling===null;){if(p.return===null||p.return===f)return null;p=p.return}p.sibling.return=p.return,p=p.sibling}return null}var Ii=[];function da(){for(var f=0;f<Ii.length;f++){var p=Ii[f];$e?p._workInProgressVersionPrimary=null:p._workInProgressVersionSecondary=null}Ii.length=0}var sc=l.ReactCurrentDispatcher,Ui=l.ReactCurrentBatchConfig,fa=0,Hn=null,Ar=null,Tr=null,zu=!1,Os=!1,ha=0,oc=0;function Pr(){throw Error(o(321))}function Vu(f,p){if(p===null)return!1;for(var x=0;x<p.length&&x<f.length;x++)if(!Sr(f[x],p[x]))return!1;return!0}function dl(f,p,x,M,R,N){if(fa=N,Hn=p,p.memoizedState=null,p.updateQueue=null,p.lanes=0,sc.current=f===null||f.memoizedState===null?Pf:Rf,f=x(M,R),Os){N=0;do{if(Os=!1,ha=0,25<=N)throw Error(o(301));N+=1,Tr=Ar=null,p.updateQueue=null,sc.current=Df,f=x(M,R)}while(Os)}if(sc.current=ml,p=Ar!==null&&Ar.next!==null,fa=0,Tr=Ar=Hn=null,zu=!1,p)throw Error(o(300));return f}function Ho(){var f=ha!==0;return ha=0,f}function xs(){var f={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tr===null?Hn.memoizedState=Tr=f:Tr=Tr.next=f,Tr}function Cs(){if(Ar===null){var f=Hn.alternate;f=f!==null?f.memoizedState:null}else f=Ar.next;var p=Tr===null?Hn.memoizedState:Tr.next;if(p!==null)Tr=p,Ar=f;else{if(f===null)throw Error(o(310));Ar=f,f={memoizedState:Ar.memoizedState,baseState:Ar.baseState,baseQueue:Ar.baseQueue,queue:Ar.queue,next:null},Tr===null?Hn.memoizedState=Tr=f:Tr=Tr.next=f}return Tr}function Fs(f,p){return typeof p=="function"?p(f):p}function ac(f){var p=Cs(),x=p.queue;if(x===null)throw Error(o(311));x.lastRenderedReducer=f;var M=Ar,R=M.baseQueue,N=x.pending;if(N!==null){if(R!==null){var ne=R.next;R.next=N.next,N.next=ne}M.baseQueue=R=N,x.pending=null}if(R!==null){N=R.next,M=M.baseState;var ye=ne=null,He=null,ct=N;do{var Mt=ct.lane;if((fa&Mt)===Mt)He!==null&&(He=He.next={lane:0,action:ct.action,hasEagerState:ct.hasEagerState,eagerState:ct.eagerState,next:null}),M=ct.hasEagerState?ct.eagerState:f(M,ct.action);else{var Yt={lane:Mt,action:ct.action,hasEagerState:ct.hasEagerState,eagerState:ct.eagerState,next:null};He===null?(ye=He=Yt,ne=M):He=He.next=Yt,Hn.lanes|=Mt,zs|=Mt}ct=ct.next}while(ct!==null&&ct!==N);He===null?ne=M:He.next=ye,Sr(M,p.memoizedState)||(Rr=!0),p.memoizedState=M,p.baseState=ne,p.baseQueue=He,x.lastRenderedState=M}if(f=x.interleaved,f!==null){R=f;do N=R.lane,Hn.lanes|=N,zs|=N,R=R.next;while(R!==f)}else R===null&&(x.lanes=0);return[p.memoizedState,x.dispatch]}function lc(f){var p=Cs(),x=p.queue;if(x===null)throw Error(o(311));x.lastRenderedReducer=f;var M=x.dispatch,R=x.pending,N=p.memoizedState;if(R!==null){x.pending=null;var ne=R=R.next;do N=f(N,ne.action),ne=ne.next;while(ne!==R);Sr(N,p.memoizedState)||(Rr=!0),p.memoizedState=N,p.baseQueue===null&&(p.baseState=N),x.lastRenderedState=N}return[N,M]}function bf(){}function Mf(f,p){var x=Hn,M=Cs(),R=p(),N=!Sr(M.memoizedState,R);if(N&&(M.memoizedState=R,Rr=!0),M=M.queue,fl(so.bind(null,x,M,f),[f]),M.getSnapshot!==p||N||Tr!==null&&Tr.memoizedState.tag&1){if(x.flags|=2048,uc(9,Af.bind(null,x,M,R,p),void 0,null),Jn===null)throw Error(o(349));(fa&30)!==0||Ef(x,p,R)}return R}function Ef(f,p,x){f.flags|=16384,f={getSnapshot:p,value:x},p=Hn.updateQueue,p===null?(p={lastEffect:null,stores:null},Hn.updateQueue=p,p.stores=[f]):(x=p.stores,x===null?p.stores=[f]:x.push(f))}function Af(f,p,x,M){p.value=x,p.getSnapshot=M,Hu(p)&&ei(f,1,-1)}function so(f,p,x){return x(function(){Hu(p)&&ei(f,1,-1)})}function Hu(f){var p=f.getSnapshot;f=f.value;try{var x=p();return!Sr(f,x)}catch{return!0}}function cc(f){var p=xs();return typeof f=="function"&&(f=f()),p.memoizedState=p.baseState=f,f={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Fs,lastRenderedState:f},p.queue=f,f=f.dispatch=Oy.bind(null,Hn,f),[p.memoizedState,f]}function uc(f,p,x,M){return f={tag:f,create:p,destroy:x,deps:M,next:null},p=Hn.updateQueue,p===null?(p={lastEffect:null,stores:null},Hn.updateQueue=p,p.lastEffect=f.next=f):(x=p.lastEffect,x===null?p.lastEffect=f.next=f:(M=x.next,x.next=f,f.next=M,p.lastEffect=f)),f}function Op(){return Cs().memoizedState}function Go(f,p,x,M){var R=xs();Hn.flags|=f,R.memoizedState=uc(1|p,x,void 0,M===void 0?null:M)}function Gu(f,p,x,M){var R=Cs();M=M===void 0?null:M;var N=void 0;if(Ar!==null){var ne=Ar.memoizedState;if(N=ne.destroy,M!==null&&Vu(M,ne.deps)){R.memoizedState=uc(p,x,N,M);return}}Hn.flags|=f,R.memoizedState=uc(1|p,x,N,M)}function Wu(f,p){return Go(8390656,8,f,p)}function fl(f,p){return Gu(2048,8,f,p)}function Tn(f,p){return Gu(4,2,f,p)}function ju(f,p){return Gu(4,4,f,p)}function dc(f,p){if(typeof p=="function")return f=f(),p(f),function(){p(null)};if(p!=null)return f=f(),p.current=f,function(){p.current=null}}function hl(f,p,x){return x=x!=null?x.concat([f]):null,Gu(4,4,dc.bind(null,p,f),x)}function Xu(){}function Yu(f,p){var x=Cs();p=p===void 0?null:p;var M=x.memoizedState;return M!==null&&p!==null&&Vu(p,M[1])?M[0]:(x.memoizedState=[f,p],f)}function pl(f,p){var x=Cs();p=p===void 0?null:p;var M=x.memoizedState;return M!==null&&p!==null&&Vu(p,M[1])?M[0]:(f=f(),x.memoizedState=[f,p],f)}function qu(f,p){var x=jt;jt=x!==0&&4>x?x:4,f(!0);var M=Ui.transition;Ui.transition={};try{f(!1),p()}finally{jt=x,Ui.transition=M}}function pa(){return Cs().memoizedState}function Fp(f,p,x){var M=bs(f);x={lane:M,action:x,hasEagerState:!1,eagerState:null,next:null},Bp(f)?Tf(p,x):(fc(f,p,x),x=dn(),f=ei(f,M,x),f!==null&&hc(f,p,M))}function Oy(f,p,x){var M=bs(f),R={lane:M,action:x,hasEagerState:!1,eagerState:null,next:null};if(Bp(f))Tf(p,R);else{fc(f,p,R);var N=f.alternate;if(f.lanes===0&&(N===null||N.lanes===0)&&(N=p.lastRenderedReducer,N!==null))try{var ne=p.lastRenderedState,ye=N(ne,x);if(R.hasEagerState=!0,R.eagerState=ye,Sr(ye,ne))return}catch{}finally{}x=dn(),f=ei(f,M,x),f!==null&&hc(f,p,M)}}function Bp(f){var p=f.alternate;return f===Hn||p!==null&&p===Hn}function Tf(f,p){Os=zu=!0;var x=f.pending;x===null?p.next=p:(p.next=x.next,x.next=p),f.pending=p}function fc(f,p,x){Jn!==null&&(f.mode&1)!==0&&(Jt&2)===0?(f=p.interleaved,f===null?(x.next=x,si===null?si=[p]:si.push(p)):(x.next=f.next,f.next=x),p.interleaved=x):(f=p.pending,f===null?x.next=x:(x.next=f.next,f.next=x),p.pending=x)}function hc(f,p,x){if((x&4194240)!==0){var M=p.lanes;M&=f.pendingLanes,x|=M,p.lanes=x,Fr(f,x)}}var ml={readContext:zn,useCallback:Pr,useContext:Pr,useEffect:Pr,useImperativeHandle:Pr,useInsertionEffect:Pr,useLayoutEffect:Pr,useMemo:Pr,useReducer:Pr,useRef:Pr,useState:Pr,useDebugValue:Pr,useDeferredValue:Pr,useTransition:Pr,useMutableSource:Pr,useSyncExternalStore:Pr,useId:Pr,unstable_isNewReconciler:!1},Pf={readContext:zn,useCallback:function(f,p){return xs().memoizedState=[f,p===void 0?null:p],f},useContext:zn,useEffect:Wu,useImperativeHandle:function(f,p,x){return x=x!=null?x.concat([f]):null,Go(4194308,4,dc.bind(null,p,f),x)},useLayoutEffect:function(f,p){return Go(4194308,4,f,p)},useInsertionEffect:function(f,p){return Go(4,2,f,p)},useMemo:function(f,p){var x=xs();return p=p===void 0?null:p,f=f(),x.memoizedState=[f,p],f},useReducer:function(f,p,x){var M=xs();return p=x!==void 0?x(p):p,M.memoizedState=M.baseState=p,f={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:f,lastRenderedState:p},M.queue=f,f=f.dispatch=Fp.bind(null,Hn,f),[M.memoizedState,f]},useRef:function(f){var p=xs();return f={current:f},p.memoizedState=f},useState:cc,useDebugValue:Xu,useDeferredValue:function(f){var p=cc(f),x=p[0],M=p[1];return Wu(function(){var R=Ui.transition;Ui.transition={};try{M(f)}finally{Ui.transition=R}},[f]),x},useTransition:function(){var f=cc(!1),p=f[0];return f=qu.bind(null,f[1]),xs().memoizedState=f,[p,f]},useMutableSource:function(){},useSyncExternalStore:function(f,p,x){var M=Hn,R=xs();if(Nn){if(x===void 0)throw Error(o(407));x=x()}else{if(x=p(),Jn===null)throw Error(o(349));(fa&30)!==0||Ef(M,p,x)}R.memoizedState=x;var N={value:x,getSnapshot:p};return R.queue=N,Wu(so.bind(null,M,N,f),[f]),M.flags|=2048,uc(9,Af.bind(null,M,N,x,p),void 0,null),x},useId:function(){var f=xs(),p=Jn.identifierPrefix;if(Nn){var x=ro,M=no;x=(M&~(1<<32-Kr(M)-1)).toString(32)+x,p=":"+p+"R"+x,x=ha++,0<x&&(p+="H"+x.toString(32)),p+=":"}else x=oc++,p=":"+p+"r"+x.toString(32)+":";return f.memoizedState=p},unstable_isNewReconciler:!1},Rf={readContext:zn,useCallback:Yu,useContext:zn,useEffect:fl,useImperativeHandle:hl,useInsertionEffect:Tn,useLayoutEffect:ju,useMemo:pl,useReducer:ac,useRef:Op,useState:function(){return ac(Fs)},useDebugValue:Xu,useDeferredValue:function(f){var p=ac(Fs),x=p[0],M=p[1];return fl(function(){var R=Ui.transition;Ui.transition={};try{M(f)}finally{Ui.transition=R}},[f]),x},useTransition:function(){var f=ac(Fs)[0],p=Cs().memoizedState;return[f,p]},useMutableSource:bf,useSyncExternalStore:Mf,useId:pa,unstable_isNewReconciler:!1},Df={readContext:zn,useCallback:Yu,useContext:zn,useEffect:fl,useImperativeHandle:hl,useInsertionEffect:Tn,useLayoutEffect:ju,useMemo:pl,useReducer:lc,useRef:Op,useState:function(){return lc(Fs)},useDebugValue:Xu,useDeferredValue:function(f){var p=lc(Fs),x=p[0],M=p[1];return fl(function(){var R=Ui.transition;Ui.transition={};try{M(f)}finally{Ui.transition=R}},[f]),x},useTransition:function(){var f=lc(Fs)[0],p=Cs().memoizedState;return[f,p]},useMutableSource:bf,useSyncExternalStore:Mf,useId:pa,unstable_isNewReconciler:!1};function Lf(f,p){try{var x="",M=p;do x+=Js(M),M=M.return;while(M);var R=x}catch(N){R=`
Error generating stack: `+N.message+`
`+N.stack}return{value:f,source:p,stack:R}}function Ku(f,p){try{console.error(p.value)}catch(x){setTimeout(function(){throw x})}}var Fy=typeof WeakMap=="function"?WeakMap:Map;function zp(f,p,x){x=to(-1,x),x.tag=3,x.payload={element:null};var M=p.value;return x.callback=function(){wl||(wl=!0,Un=M),Ku(f,p)},x}function Zu(f,p,x){x=to(-1,x),x.tag=3;var M=f.type.getDerivedStateFromError;if(typeof M=="function"){var R=p.value;x.payload=function(){return M(R)},x.callback=function(){Ku(f,p)}}var N=f.stateNode;return N!==null&&typeof N.componentDidCatch=="function"&&(x.callback=function(){Ku(f,p),typeof M!="function"&&(Ss===null?Ss=new Set([this]):Ss.add(this));var ne=p.stack;this.componentDidCatch(p.value,{componentStack:ne!==null?ne:""})}),x}function oo(f,p,x){var M=f.pingCache;if(M===null){M=f.pingCache=new Fy;var R=new Set;M.set(p,R)}else R=M.get(p),R===void 0&&(R=new Set,M.set(p,R));R.has(x)||(R.add(x),f=Zf.bind(null,f,p,x),p.then(f,f))}function If(f){do{var p;if((p=f.tag===13)&&(p=f.memoizedState,p=p!==null?p.dehydrated!==null:!0),p)return f;f=f.return}while(f!==null);return null}function ma(f,p,x,M,R){return(f.mode&1)===0?(f===p?f.flags|=65536:(f.flags|=128,x.flags|=131072,x.flags&=-52805,x.tag===1&&(x.alternate===null?x.tag=17:(p=to(-1,1),p.tag=2,Fo(x,p))),x.lanes|=1),f):(f.flags|=65536,f.lanes=R,f)}function mr(f){f.flags|=4}function gl(f,p){if(f!==null&&f.child===p.child)return!0;if((p.flags&16)!==0)return!1;for(f=p.child;f!==null;){if((f.flags&12854)!==0||(f.subtreeFlags&12854)!==0)return!1;f=f.sibling}return!0}var ki,ga,Ju,Qu;if(Re)ki=function(f,p){for(var x=p.child;x!==null;){if(x.tag===5||x.tag===6)B(f,x.stateNode);else if(x.tag!==4&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===p)break;for(;x.sibling===null;){if(x.return===null||x.return===p)return;x=x.return}x.sibling.return=x.return,x=x.sibling}},ga=function(){},Ju=function(f,p,x,M,R){if(f=f.memoizedProps,f!==M){var N=p.stateNode,ne=vs(yi.current);x=ie(N,x,f,M,R,ne),(p.updateQueue=x)&&mr(p)}},Qu=function(f,p,x,M){x!==M&&mr(p)};else if(Z){ki=function(f,p,x,M){for(var R=p.child;R!==null;){if(R.tag===5){var N=R.stateNode;x&&M&&(N=Ut(N,R.type,R.memoizedProps,R)),B(f,N)}else if(R.tag===6)N=R.stateNode,x&&M&&(N=sn(N,R.memoizedProps,R)),B(f,N);else if(R.tag!==4){if(R.tag===22&&R.memoizedState!==null)N=R.child,N!==null&&(N.return=R),ki(f,R,!0,!0);else if(R.child!==null){R.child.return=R,R=R.child;continue}}if(R===p)break;for(;R.sibling===null;){if(R.return===null||R.return===p)return;R=R.return}R.sibling.return=R.return,R=R.sibling}};var Wo=function(f,p,x,M){for(var R=p.child;R!==null;){if(R.tag===5){var N=R.stateNode;x&&M&&(N=Ut(N,R.type,R.memoizedProps,R)),Qe(f,N)}else if(R.tag===6)N=R.stateNode,x&&M&&(N=sn(N,R.memoizedProps,R)),Qe(f,N);else if(R.tag!==4){if(R.tag===22&&R.memoizedState!==null)N=R.child,N!==null&&(N.return=R),Wo(f,R,!0,!0);else if(R.child!==null){R.child.return=R,R=R.child;continue}}if(R===p)break;for(;R.sibling===null;){if(R.return===null||R.return===p)return;R=R.return}R.sibling.return=R.return,R=R.sibling}};ga=function(f,p){var x=p.stateNode;if(!gl(f,p)){f=x.containerInfo;var M=be(f);Wo(M,p,!1,!1),x.pendingChildren=M,mr(p),ft(f,M)}},Ju=function(f,p,x,M,R){var N=f.stateNode,ne=f.memoizedProps;if((f=gl(f,p))&&ne===M)p.stateNode=N;else{var ye=p.stateNode,He=vs(yi.current),ct=null;ne!==M&&(ct=ie(ye,x,ne,M,R,He)),f&&ct===null?p.stateNode=N:(N=Ze(N,ct,x,ne,M,p,f,ye),ee(N,x,M,R,He)&&mr(p),p.stateNode=N,f?mr(p):ki(N,p,!1,!1))}},Qu=function(f,p,x,M){x!==M?(f=vs(ua.current),x=vs(yi.current),p.stateNode=pe(M,f,x,p),mr(p)):p.stateNode=f.stateNode}}else ga=function(){},Ju=function(){},Qu=function(){};function ao(f,p){if(!Nn)switch(f.tailMode){case"hidden":p=f.tail;for(var x=null;p!==null;)p.alternate!==null&&(x=p),p=p.sibling;x===null?f.tail=null:x.sibling=null;break;case"collapsed":x=f.tail;for(var M=null;x!==null;)x.alternate!==null&&(M=x),x=x.sibling;M===null?p||f.tail===null?f.tail=null:f.tail.sibling=null:M.sibling=null}}function Zn(f){var p=f.alternate!==null&&f.alternate.child===f.child,x=0,M=0;if(p)for(var R=f.child;R!==null;)x|=R.lanes|R.childLanes,M|=R.subtreeFlags&14680064,M|=R.flags&14680064,R.return=f,R=R.sibling;else for(R=f.child;R!==null;)x|=R.lanes|R.childLanes,M|=R.subtreeFlags,M|=R.flags,R.return=f,R=R.sibling;return f.subtreeFlags|=M,f.childLanes=x,p}function $u(f,p,x){var M=p.pendingProps;switch(Cf(p),p.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Zn(p),null;case 1:return Ln(p.type)&&hn(),Zn(p),null;case 3:return M=p.stateNode,ul(),At(An),At(Qt),da(),M.pendingContext&&(M.context=M.pendingContext,M.pendingContext=null),(f===null||f.child===null)&&(ic(p)?mr(p):f===null||f.memoizedState.isDehydrated&&(p.flags&256)===0||(p.flags|=1024,es!==null&&(Ec(es),es=null))),ga(f,p),Zn(p),null;case 5:Sf(p),x=vs(ua.current);var R=p.type;if(f!==null&&p.stateNode!=null)Ju(f,p,R,M,x),f.ref!==p.ref&&(p.flags|=512,p.flags|=2097152);else{if(!M){if(p.stateNode===null)throw Error(o(166));return Zn(p),null}if(f=vs(yi.current),ic(p)){if(!Oe)throw Error(o(175));f=$a(p.stateNode,p.type,p.memoizedProps,x,f,p,!sl),p.updateQueue=f,f!==null&&mr(p)}else{var N=D(R,M,x,f,p);ki(N,p,!1,!1),p.stateNode=N,ee(N,R,M,x,f)&&mr(p)}p.ref!==null&&(p.flags|=512,p.flags|=2097152)}return Zn(p),null;case 6:if(f&&p.stateNode!=null)Qu(f,p,f.memoizedProps,M);else{if(typeof M!="string"&&p.stateNode===null)throw Error(o(166));if(f=vs(ua.current),x=vs(yi.current),ic(p)){if(!Oe)throw Error(o(176));if(f=p.stateNode,M=p.memoizedProps,(x=Ti(f,M,p,!sl))&&(R=oi,R!==null))switch(N=(R.mode&1)!==0,R.tag){case 3:Pt(R.stateNode.containerInfo,f,M,N);break;case 5:Nt(R.type,R.memoizedProps,R.stateNode,f,M,N)}x&&mr(p)}else p.stateNode=pe(M,f,x,p)}return Zn(p),null;case 13:if(At(Vn),M=p.memoizedState,Nn&&Br!==null&&(p.mode&1)!==0&&(p.flags&128)===0){for(f=Br;f;)f=dr(f);return ol(),p.flags|=98560,p}if(M!==null&&M.dehydrated!==null){if(M=ic(p),f===null){if(!M)throw Error(o(318));if(!Oe)throw Error(o(344));if(f=p.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(o(317));el(f,p)}else ol(),(p.flags&128)===0&&(p.memoizedState=null),p.flags|=4;return Zn(p),null}return es!==null&&(Ec(es),es=null),(p.flags&128)!==0?(p.lanes=x,p):(M=M!==null,x=!1,f===null?ic(p):x=f.memoizedState!==null,M&&!x&&(p.child.flags|=8192,(p.mode&1)!==0&&(f===null||(Vn.current&1)!==0?Xn===0&&(Xn=3):od())),p.updateQueue!==null&&(p.flags|=4),Zn(p),null);case 4:return ul(),ga(f,p),f===null&&Ne(p.stateNode.containerInfo),Zn(p),null;case 10:return rr(p.type._context),Zn(p),null;case 17:return Ln(p.type)&&hn(),Zn(p),null;case 19:if(At(Vn),R=p.memoizedState,R===null)return Zn(p),null;if(M=(p.flags&128)!==0,N=R.rendering,N===null)if(M)ao(R,!1);else{if(Xn!==0||f!==null&&(f.flags&128)!==0)for(f=p.child;f!==null;){if(N=Bu(f),N!==null){for(p.flags|=128,ao(R,!1),f=N.updateQueue,f!==null&&(p.updateQueue=f,p.flags|=4),p.subtreeFlags=0,f=x,M=p.child;M!==null;)x=M,R=f,x.flags&=14680066,N=x.alternate,N===null?(x.childLanes=0,x.lanes=R,x.child=null,x.subtreeFlags=0,x.memoizedProps=null,x.memoizedState=null,x.updateQueue=null,x.dependencies=null,x.stateNode=null):(x.childLanes=N.childLanes,x.lanes=N.lanes,x.child=N.child,x.subtreeFlags=0,x.deletions=null,x.memoizedProps=N.memoizedProps,x.memoizedState=N.memoizedState,x.updateQueue=N.updateQueue,x.type=N.type,R=N.dependencies,x.dependencies=R===null?null:{lanes:R.lanes,firstContext:R.firstContext}),M=M.sibling;return bt(Vn,Vn.current&1|2),p.child}f=f.sibling}R.tail!==null&&kn()>Yo&&(p.flags|=128,M=!0,ao(R,!1),p.lanes=4194304)}else{if(!M)if(f=Bu(N),f!==null){if(p.flags|=128,M=!0,f=f.updateQueue,f!==null&&(p.updateQueue=f,p.flags|=4),ao(R,!0),R.tail===null&&R.tailMode==="hidden"&&!N.alternate&&!Nn)return Zn(p),null}else 2*kn()-R.renderingStartTime>Yo&&x!==1073741824&&(p.flags|=128,M=!0,ao(R,!1),p.lanes=4194304);R.isBackwards?(N.sibling=p.child,p.child=N):(f=R.last,f!==null?f.sibling=N:p.child=N,R.last=N)}return R.tail!==null?(p=R.tail,R.rendering=p,R.tail=p.sibling,R.renderingStartTime=kn(),p.sibling=null,f=Vn.current,bt(Vn,M?f&1|2:f&1),p):(Zn(p),null);case 22:case 23:return Ac(),M=p.memoizedState!==null,f!==null&&f.memoizedState!==null!==M&&(p.flags|=8192),M&&(p.mode&1)!==0?($r&1073741824)!==0&&(Zn(p),Re&&p.subtreeFlags&6&&(p.flags|=8192)):Zn(p),null;case 24:return null;case 25:return null}throw Error(o(156,p.tag))}var Uf=l.ReactCurrentOwner,Rr=!1;function jn(f,p,x,M){p.child=f===null?kp(p,null,x,M):io(p,f.child,x,M)}function Pn(f,p,x,M,R){x=x.render;var N=p.ref;return Kn(p,R),M=dl(f,p,x,M,N,R),x=Ho(),f!==null&&!Rr?(p.updateQueue=f.updateQueue,p.flags&=-2053,f.lanes&=~R,vi(f,p,R)):(Nn&&x&&xf(p),p.flags|=1,jn(f,p,M,R),p.child)}function bn(f,p,x,M,R){if(f===null){var N=x.type;return typeof N=="function"&&!ld(N)&&N.defaultProps===void 0&&x.compare===null&&x.defaultProps===void 0?(p.tag=15,p.type=N,lo(f,p,N,M,R)):(f=cd(x.type,null,M,p,p.mode,R),f.ref=p.ref,f.return=p,p.child=f)}if(N=f.child,(f.lanes&R)===0){var ne=N.memoizedProps;if(x=x.compare,x=x!==null?x:mi,x(ne,M)&&f.ref===p.ref)return vi(f,p,R)}return p.flags|=1,f=vo(N,M),f.ref=p.ref,f.return=p,p.child=f}function lo(f,p,x,M,R){if(f!==null&&mi(f.memoizedProps,M)&&f.ref===p.ref)if(Rr=!1,(f.lanes&R)!==0)(f.flags&131072)!==0&&(Rr=!0);else return p.lanes=f.lanes,vi(f,p,R);return co(f,p,x,M,R)}function zr(f,p,x){var M=p.pendingProps,R=M.children,N=f!==null?f.memoizedState:null;if(M.mode==="hidden")if((p.mode&1)===0)p.memoizedState={baseLanes:0,cachePool:null},bt(Ma,$r),$r|=x;else if((x&1073741824)!==0)p.memoizedState={baseLanes:0,cachePool:null},M=N!==null?N.baseLanes:x,bt(Ma,$r),$r|=M;else return f=N!==null?N.baseLanes|x:x,p.lanes=p.childLanes=1073741824,p.memoizedState={baseLanes:f,cachePool:null},p.updateQueue=null,bt(Ma,$r),$r|=f,null;else N!==null?(M=N.baseLanes|x,p.memoizedState=null):M=x,bt(Ma,$r),$r|=M;return jn(f,p,R,x),p.child}function ai(f,p){var x=p.ref;(f===null&&x!==null||f!==null&&f.ref!==x)&&(p.flags|=512,p.flags|=2097152)}function co(f,p,x,M,R){var N=Ln(x)?Pi:Qt.current;return N=qn(p,N),Kn(p,R),x=dl(f,p,x,M,N,R),M=Ho(),f!==null&&!Rr?(p.updateQueue=f.updateQueue,p.flags&=-2053,f.lanes&=~R,vi(f,p,R)):(Nn&&M&&xf(p),p.flags|=1,jn(f,p,x,R),p.child)}function ya(f,p,x,M,R){if(Ln(x)){var N=!0;Wn(p)}else N=!1;if(Kn(p,R),p.stateNode===null)f!==null&&(f.alternate=null,p.alternate=null,p.flags|=2),Rp(p,x,M),vf(p,x,M,R),M=!0;else if(f===null){var ne=p.stateNode,ye=p.memoizedProps;ne.props=ye;var He=ne.context,ct=x.contextType;typeof ct=="object"&&ct!==null?ct=zn(ct):(ct=Ln(x)?Pi:Qt.current,ct=qn(p,ct));var Mt=x.getDerivedStateFromProps,Yt=typeof Mt=="function"||typeof ne.getSnapshotBeforeUpdate=="function";Yt||typeof ne.UNSAFE_componentWillReceiveProps!="function"&&typeof ne.componentWillReceiveProps!="function"||(ye!==M||He!==ct)&&Dp(p,ne,M,ct),Qi=!1;var Ft=p.memoizedState;ne.state=Ft,Lu(p,M,ne,R),He=p.memoizedState,ye!==M||Ft!==He||An.current||Qi?(typeof Mt=="function"&&(gf(p,x,Mt,M),He=p.memoizedState),(ye=Qi||yf(p,x,ye,M,Ft,He,ct))?(Yt||typeof ne.UNSAFE_componentWillMount!="function"&&typeof ne.componentWillMount!="function"||(typeof ne.componentWillMount=="function"&&ne.componentWillMount(),typeof ne.UNSAFE_componentWillMount=="function"&&ne.UNSAFE_componentWillMount()),typeof ne.componentDidMount=="function"&&(p.flags|=4194308)):(typeof ne.componentDidMount=="function"&&(p.flags|=4194308),p.memoizedProps=M,p.memoizedState=He),ne.props=M,ne.state=He,ne.context=ct,M=ye):(typeof ne.componentDidMount=="function"&&(p.flags|=4194308),M=!1)}else{ne=p.stateNode,mf(f,p),ye=p.memoizedProps,ct=p.type===p.elementType?ye:Mr(p.type,ye),ne.props=ct,Yt=p.pendingProps,Ft=ne.context,He=x.contextType,typeof He=="object"&&He!==null?He=zn(He):(He=Ln(x)?Pi:Qt.current,He=qn(p,He));var $t=x.getDerivedStateFromProps;(Mt=typeof $t=="function"||typeof ne.getSnapshotBeforeUpdate=="function")||typeof ne.UNSAFE_componentWillReceiveProps!="function"&&typeof ne.componentWillReceiveProps!="function"||(ye!==Yt||Ft!==He)&&Dp(p,ne,M,He),Qi=!1,Ft=p.memoizedState,ne.state=Ft,Lu(p,M,ne,R);var _t=p.memoizedState;ye!==Yt||Ft!==_t||An.current||Qi?(typeof $t=="function"&&(gf(p,x,$t,M),_t=p.memoizedState),(ct=Qi||yf(p,x,ct,M,Ft,_t,He)||!1)?(Mt||typeof ne.UNSAFE_componentWillUpdate!="function"&&typeof ne.componentWillUpdate!="function"||(typeof ne.componentWillUpdate=="function"&&ne.componentWillUpdate(M,_t,He),typeof ne.UNSAFE_componentWillUpdate=="function"&&ne.UNSAFE_componentWillUpdate(M,_t,He)),typeof ne.componentDidUpdate=="function"&&(p.flags|=4),typeof ne.getSnapshotBeforeUpdate=="function"&&(p.flags|=1024)):(typeof ne.componentDidUpdate!="function"||ye===f.memoizedProps&&Ft===f.memoizedState||(p.flags|=4),typeof ne.getSnapshotBeforeUpdate!="function"||ye===f.memoizedProps&&Ft===f.memoizedState||(p.flags|=1024),p.memoizedProps=M,p.memoizedState=_t),ne.props=M,ne.state=_t,ne.context=He,M=ct):(typeof ne.componentDidUpdate!="function"||ye===f.memoizedProps&&Ft===f.memoizedState||(p.flags|=4),typeof ne.getSnapshotBeforeUpdate!="function"||ye===f.memoizedProps&&Ft===f.memoizedState||(p.flags|=1024),M=!1)}return Qr(f,p,x,M,N,R)}function Qr(f,p,x,M,R,N){ai(f,p);var ne=(p.flags&128)!==0;if(!M&&!ne)return R&&fr(p,x,!1),vi(f,p,N);M=p.stateNode,Uf.current=p;var ye=ne&&typeof x.getDerivedStateFromError!="function"?null:M.render();return p.flags|=1,f!==null&&ne?(p.child=io(p,f.child,null,N),p.child=io(p,null,ye,N)):jn(f,p,ye,N),p.memoizedState=M.state,R&&fr(p,x,!0),p.child}function pc(f){var p=f.stateNode;p.pendingContext?Or(f,p.pendingContext,p.pendingContext!==p.context):p.context&&Or(f,p.context,!1),Fu(f,p.containerInfo)}function kf(f,p,x,M,R){return ol(),Ou(R),p.flags|=256,jn(f,p,x,M),p.child}var mc={dehydrated:null,treeContext:null,retryLane:0};function va(f){return{baseLanes:f,cachePool:null}}function Nf(f,p,x){var M=p.pendingProps,R=Vn.current,N=!1,ne=(p.flags&128)!==0,ye;if((ye=ne)||(ye=f!==null&&f.memoizedState===null?!1:(R&2)!==0),ye?(N=!0,p.flags&=-129):(f===null||f.memoizedState!==null)&&(R|=1),bt(Vn,R&1),f===null)return zo(p),f=p.memoizedState,f!==null&&(f=f.dehydrated,f!==null)?((p.mode&1)===0?p.lanes=1:ur(f)?p.lanes=8:p.lanes=1073741824,null):(R=M.children,f=M.fallback,N?(M=p.mode,N=p.child,R={mode:"hidden",children:R},(M&1)===0&&N!==null?(N.childLanes=0,N.pendingProps=R):N=Rc(R,M,0,null),f=Ra(f,M,x,null),N.return=p,f.return=p,N.sibling=f,p.child=N,p.child.memoizedState=va(x),p.memoizedState=mc,f):ws(p,R));if(R=f.memoizedState,R!==null){if(ye=R.dehydrated,ye!==null){if(ne)return p.flags&256?(p.flags&=-257,yc(f,p,x,Error(o(422)))):p.memoizedState!==null?(p.child=f.child,p.flags|=128,null):(N=M.fallback,R=p.mode,M=Rc({mode:"visible",children:M.children},R,0,null),N=Ra(N,R,x,null),N.flags|=2,M.return=p,N.return=p,M.sibling=N,p.child=M,(p.mode&1)!==0&&io(p,f.child,null,x),p.child.memoizedState=va(x),p.memoizedState=mc,N);if((p.mode&1)===0)p=yc(f,p,x,null);else if(ur(ye))p=yc(f,p,x,Error(o(419)));else if(M=(x&f.childLanes)!==0,Rr||M){if(M=Jn,M!==null){switch(x&-x){case 4:N=2;break;case 16:N=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:N=32;break;case 536870912:N=268435456;break;default:N=0}M=(N&(M.suspendedLanes|x))!==0?0:N,M!==0&&M!==R.retryLane&&(R.retryLane=M,ei(f,M,-1))}od(),p=yc(f,p,x,Error(o(421)))}else pi(ye)?(p.flags|=128,p.child=f.child,p=jp.bind(null,f),wr(ye,p),p=null):(x=R.treeContext,Oe&&(Br=Yi(ye),oi=p,Nn=!0,es=null,sl=!1,x!==null&&($i[Li++]=no,$i[Li++]=ro,$i[Li++]=aa,no=x.id,ro=x.overflow,aa=p)),p=ws(p,p.pendingProps.children),p.flags|=4096);return p}return N?(M=ed(f,p,M.children,M.fallback,x),N=p.child,R=f.child.memoizedState,N.memoizedState=R===null?va(x):{baseLanes:R.baseLanes|x,cachePool:null},N.childLanes=f.childLanes&~x,p.memoizedState=mc,M):(x=gc(f,p,M.children,x),p.memoizedState=null,x)}return N?(M=ed(f,p,M.children,M.fallback,x),N=p.child,R=f.child.memoizedState,N.memoizedState=R===null?va(x):{baseLanes:R.baseLanes|x,cachePool:null},N.childLanes=f.childLanes&~x,p.memoizedState=mc,M):(x=gc(f,p,M.children,x),p.memoizedState=null,x)}function ws(f,p){return p=Rc({mode:"visible",children:p},f.mode,0,null),p.return=f,f.child=p}function gc(f,p,x,M){var R=f.child;return f=R.sibling,x=vo(R,{mode:"visible",children:x}),(p.mode&1)===0&&(x.lanes=M),x.return=p,x.sibling=null,f!==null&&(M=p.deletions,M===null?(p.deletions=[f],p.flags|=16):M.push(f)),p.child=x}function ed(f,p,x,M,R){var N=p.mode;f=f.child;var ne=f.sibling,ye={mode:"hidden",children:x};return(N&1)===0&&p.child!==f?(x=p.child,x.childLanes=0,x.pendingProps=ye,p.deletions=null):(x=vo(f,ye),x.subtreeFlags=f.subtreeFlags&14680064),ne!==null?M=vo(ne,M):(M=Ra(M,N,R,null),M.flags|=2),M.return=p,x.return=p,x.sibling=M,p.child=x,M}function yc(f,p,x,M){return M!==null&&Ou(M),io(p,f.child,null,x),f=ws(p,p.pendingProps.children),f.flags|=2,p.memoizedState=null,f}function Vp(f,p,x){f.lanes|=p;var M=f.alternate;M!==null&&(M.lanes|=p),pr(f.return,p,x)}function Bs(f,p,x,M,R){var N=f.memoizedState;N===null?f.memoizedState={isBackwards:p,rendering:null,renderingStartTime:0,last:M,tail:x,tailMode:R}:(N.isBackwards=p,N.rendering=null,N.renderingStartTime=0,N.last=M,N.tail=x,N.tailMode=R)}function xa(f,p,x){var M=p.pendingProps,R=M.revealOrder,N=M.tail;if(jn(f,p,M.children,x),M=Vn.current,(M&2)!==0)M=M&1|2,p.flags|=128;else{if(f!==null&&(f.flags&128)!==0)e:for(f=p.child;f!==null;){if(f.tag===13)f.memoizedState!==null&&Vp(f,x,p);else if(f.tag===19)Vp(f,x,p);else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===p)break e;for(;f.sibling===null;){if(f.return===null||f.return===p)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}M&=1}if(bt(Vn,M),(p.mode&1)===0)p.memoizedState=null;else switch(R){case"forwards":for(x=p.child,R=null;x!==null;)f=x.alternate,f!==null&&Bu(f)===null&&(R=x),x=x.sibling;x=R,x===null?(R=p.child,p.child=null):(R=x.sibling,x.sibling=null),Bs(p,!1,R,x,N);break;case"backwards":for(x=null,R=p.child,p.child=null;R!==null;){if(f=R.alternate,f!==null&&Bu(f)===null){p.child=R;break}f=R.sibling,R.sibling=x,x=R,R=f}Bs(p,!0,x,null,N);break;case"together":Bs(p,!1,null,null,void 0);break;default:p.memoizedState=null}return p.child}function vi(f,p,x){if(f!==null&&(p.dependencies=f.dependencies),zs|=p.lanes,(x&p.childLanes)===0)return null;if(f!==null&&p.child!==f.child)throw Error(o(153));if(p.child!==null){for(f=p.child,x=vo(f,f.pendingProps),p.child=x,x.return=p;f.sibling!==null;)f=f.sibling,x=x.sibling=vo(f,f.pendingProps),x.return=p;x.sibling=null}return p.child}function td(f,p,x){switch(p.tag){case 3:pc(p),ol();break;case 5:Np(p);break;case 1:Ln(p.type)&&Wn(p);break;case 4:Fu(p,p.stateNode.containerInfo);break;case 10:eo(p,p.type._context,p.memoizedProps.value);break;case 13:var M=p.memoizedState;if(M!==null)return M.dehydrated!==null?(bt(Vn,Vn.current&1),p.flags|=128,null):(x&p.child.childLanes)!==0?Nf(f,p,x):(bt(Vn,Vn.current&1),f=vi(f,p,x),f!==null?f.sibling:null);bt(Vn,Vn.current&1);break;case 19:if(M=(x&p.childLanes)!==0,(f.flags&128)!==0){if(M)return xa(f,p,x);p.flags|=128}var R=p.memoizedState;if(R!==null&&(R.rendering=null,R.tail=null,R.lastEffect=null),bt(Vn,Vn.current),M)break;return null;case 22:case 23:return p.lanes=0,zr(f,p,x)}return vi(f,p,x)}function nd(f,p){switch(Cf(p),p.tag){case 1:return Ln(p.type)&&hn(),f=p.flags,f&65536?(p.flags=f&-65537|128,p):null;case 3:return ul(),At(An),At(Qt),da(),f=p.flags,(f&65536)!==0&&(f&128)===0?(p.flags=f&-65537|128,p):null;case 5:return Sf(p),null;case 13:if(At(Vn),f=p.memoizedState,f!==null&&f.dehydrated!==null){if(p.alternate===null)throw Error(o(340));ol()}return f=p.flags,f&65536?(p.flags=f&-65537|128,p):null;case 19:return At(Vn),null;case 4:return ul(),null;case 10:return rr(p.type._context),null;case 22:case 23:return Ac(),null;case 24:return null;default:return null}}var li=!1,Dr=!1,Ca=typeof WeakSet=="function"?WeakSet:Set,mt=null;function ts(f,p){var x=f.ref;if(x!==null)if(typeof x=="function")try{x(null)}catch(M){ui(f,p,M)}else x.current=null}function uo(f,p,x){try{x()}catch(M){ui(f,p,M)}}var Of=!1;function Ff(f,p){for(Y(f.containerInfo),mt=p;mt!==null;)if(f=mt,p=f.child,(f.subtreeFlags&1028)!==0&&p!==null)p.return=f,mt=p;else for(;mt!==null;){f=mt;try{var x=f.alternate;if((f.flags&1024)!==0)switch(f.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var M=x.memoizedProps,R=x.memoizedState,N=f.stateNode,ne=N.getSnapshotBeforeUpdate(f.elementType===f.type?M:Mr(f.type,M),R);N.__reactInternalSnapshotBeforeUpdate=ne}break;case 3:Re&&ot(f.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(ye){ui(f,f.return,ye)}if(p=f.sibling,p!==null){p.return=f.return,mt=p;break}mt=f.return}return x=Of,Of=!1,x}function fo(f,p,x){var M=p.updateQueue;if(M=M!==null?M.lastEffect:null,M!==null){var R=M=M.next;do{if((R.tag&f)===f){var N=R.destroy;R.destroy=void 0,N!==void 0&&uo(p,x,N)}R=R.next}while(R!==M)}}function Vr(f,p){if(p=p.updateQueue,p=p!==null?p.lastEffect:null,p!==null){var x=p=p.next;do{if((x.tag&f)===f){var M=x.create;x.destroy=M()}x=x.next}while(x!==p)}}function ci(f){var p=f.ref;if(p!==null){var x=f.stateNode;switch(f.tag){case 5:f=re(x);break;default:f=x}typeof p=="function"?p(f):p.current=f}}function In(f,p,x){if(Di&&typeof Di.onCommitFiberUnmount=="function")try{Di.onCommitFiberUnmount(Uo,p)}catch{}switch(p.tag){case 0:case 11:case 14:case 15:if(f=p.updateQueue,f!==null&&(f=f.lastEffect,f!==null)){var M=f=f.next;do{var R=M,N=R.destroy;R=R.tag,N!==void 0&&((R&2)!==0||(R&4)!==0)&&uo(p,x,N),M=M.next}while(M!==f)}break;case 1:if(ts(p,x),f=p.stateNode,typeof f.componentWillUnmount=="function")try{f.props=p.memoizedProps,f.state=p.memoizedState,f.componentWillUnmount()}catch(ne){ui(p,x,ne)}break;case 5:ts(p,x);break;case 4:Re?Vf(f,p,x):Z&&Z&&(p=p.stateNode.containerInfo,x=be(p),pt(p,x))}}function ns(f,p,x){for(var M=p;;)if(In(f,M,x),M.child===null||Re&&M.tag===4){if(M===p)break;for(;M.sibling===null;){if(M.return===null||M.return===p)return;M=M.return}M.sibling.return=M.return,M=M.sibling}else M.child.return=M,M=M.child}function Bf(f){var p=f.alternate;p!==null&&(f.alternate=null,Bf(p)),f.child=null,f.deletions=null,f.sibling=null,f.tag===5&&(p=f.stateNode,p!==null&&rt(p)),f.stateNode=null,f.return=null,f.dependencies=null,f.memoizedProps=null,f.memoizedState=null,f.pendingProps=null,f.stateNode=null,f.updateQueue=null}function zf(f){return f.tag===5||f.tag===3||f.tag===4}function rd(f){e:for(;;){for(;f.sibling===null;){if(f.return===null||zf(f.return))return null;f=f.return}for(f.sibling.return=f.return,f=f.sibling;f.tag!==5&&f.tag!==6&&f.tag!==18;){if(f.flags&2||f.child===null||f.tag===4)continue e;f.child.return=f,f=f.child}if(!(f.flags&2))return f.stateNode}}function id(f){if(Re){e:{for(var p=f.return;p!==null;){if(zf(p))break e;p=p.return}throw Error(o(160))}var x=p;switch(x.tag){case 5:p=x.stateNode,x.flags&32&&(Te(p),x.flags&=-33),x=rd(f),yl(f,x,p);break;case 3:case 4:p=x.stateNode.containerInfo,x=rd(f),sd(f,x,p);break;default:throw Error(o(161))}}}function sd(f,p,x){var M=f.tag;if(M===5||M===6)f=f.stateNode,p?Ve(x,f,p):tt(x,f);else if(M!==4&&(f=f.child,f!==null))for(sd(f,p,x),f=f.sibling;f!==null;)sd(f,p,x),f=f.sibling}function yl(f,p,x){var M=f.tag;if(M===5||M===6)f=f.stateNode,p?yt(x,f,p):Le(x,f);else if(M!==4&&(f=f.child,f!==null))for(yl(f,p,x),f=f.sibling;f!==null;)yl(f,p,x),f=f.sibling}function Vf(f,p,x){for(var M=p,R=!1,N,ne;;){if(!R){R=M.return;e:for(;;){if(R===null)throw Error(o(160));switch(N=R.stateNode,R.tag){case 5:ne=!1;break e;case 3:N=N.containerInfo,ne=!0;break e;case 4:N=N.containerInfo,ne=!0;break e}R=R.return}R=!0}if(M.tag===5||M.tag===6)ns(f,M,x),ne?oe(N,M.stateNode):lt(N,M.stateNode);else if(M.tag===18)ne?Be(N,M.stateNode):Fe(N,M.stateNode);else if(M.tag===4){if(M.child!==null){N=M.stateNode.containerInfo,ne=!0,M.child.return=M,M=M.child;continue}}else if(In(f,M,x),M.child!==null){M.child.return=M,M=M.child;continue}if(M===p)break;for(;M.sibling===null;){if(M.return===null||M.return===p)return;M=M.return,M.tag===4&&(R=!1)}M.sibling.return=M.return,M=M.sibling}}function jo(f,p){if(Re){switch(p.tag){case 0:case 11:case 14:case 15:fo(3,p,p.return),Vr(3,p),fo(5,p,p.return);return;case 1:return;case 5:var x=p.stateNode;if(x!=null){var M=p.memoizedProps;f=f!==null?f.memoizedProps:M;var R=p.type,N=p.updateQueue;p.updateQueue=null,N!==null&&gt(x,N,R,f,M,p)}return;case 6:if(p.stateNode===null)throw Error(o(162));x=p.memoizedProps,Xe(p.stateNode,f!==null?f.memoizedProps:x,x);return;case 3:Oe&&f!==null&&f.memoizedState.isDehydrated&&we(p.stateNode.containerInfo);return;case 12:return;case 13:vl(p);return;case 19:vl(p);return;case 17:return}throw Error(o(163))}switch(p.tag){case 0:case 11:case 14:case 15:fo(3,p,p.return),Vr(3,p),fo(5,p,p.return);return;case 12:return;case 13:vl(p);return;case 19:vl(p);return;case 3:Oe&&f!==null&&f.memoizedState.isDehydrated&&we(p.stateNode.containerInfo);break;case 22:case 23:return}e:if(Z){switch(p.tag){case 1:case 5:case 6:break e;case 3:case 4:p=p.stateNode,pt(p.containerInfo,p.pendingChildren);break e}throw Error(o(163))}}function vl(f){var p=f.updateQueue;if(p!==null){f.updateQueue=null;var x=f.stateNode;x===null&&(x=f.stateNode=new Ca),p.forEach(function(M){var R=Xp.bind(null,f,M);x.has(M)||(x.add(M),M.then(R,R))})}}function By(f,p){for(mt=p;mt!==null;){p=mt;var x=p.deletions;if(x!==null)for(var M=0;M<x.length;M++){var R=x[M];try{var N=f;Re?Vf(N,R,p):ns(N,R,p);var ne=R.alternate;ne!==null&&(ne.return=null),R.return=null}catch(Dt){ui(R,p,Dt)}}if(x=p.child,(p.subtreeFlags&12854)!==0&&x!==null)x.return=p,mt=x;else for(;mt!==null;){p=mt;try{var ye=p.flags;if(ye&32&&Re&&Te(p.stateNode),ye&512){var He=p.alternate;if(He!==null){var ct=He.ref;ct!==null&&(typeof ct=="function"?ct(null):ct.current=null)}}if(ye&8192)switch(p.tag){case 13:if(p.memoizedState!==null){var Mt=p.alternate;(Mt===null||Mt.memoizedState===null)&&(bc=kn())}break;case 22:var Yt=p.memoizedState!==null,Ft=p.alternate,$t=Ft!==null&&Ft.memoizedState!==null;if(x=p,Re){e:if(M=x,R=Yt,N=null,Re)for(var _t=M;;){if(_t.tag===5){if(N===null){N=_t;var Wr=_t.stateNode;R?Je(Wr):nt(_t.stateNode,_t.memoizedProps)}}else if(_t.tag===6){if(N===null){var zi=_t.stateNode;R?Ge(zi):ce(zi,_t.memoizedProps)}}else if((_t.tag!==22&&_t.tag!==23||_t.memoizedState===null||_t===M)&&_t.child!==null){_t.child.return=_t,_t=_t.child;continue}if(_t===M)break;for(;_t.sibling===null;){if(_t.return===null||_t.return===M)break e;N===_t&&(N=null),_t=_t.return}N===_t&&(N=null),_t.sibling.return=_t.return,_t=_t.sibling}}if(Yt&&!$t&&(x.mode&1)!==0){mt=x;for(var De=x.child;De!==null;){for(x=mt=De;mt!==null;){M=mt;var xe=M.child;switch(M.tag){case 0:case 11:case 14:case 15:fo(4,M,M.return);break;case 1:ts(M,M.return);var ze=M.stateNode;if(typeof ze.componentWillUnmount=="function"){var Ct=M.return;try{ze.props=M.memoizedProps,ze.state=M.memoizedState,ze.componentWillUnmount()}catch(Dt){ui(M,Ct,Dt)}}break;case 5:ts(M,M.return);break;case 22:if(M.memoizedState!==null){Gf(x);continue}}xe!==null?(xe.return=M,mt=xe):Gf(x)}De=De.sibling}}}switch(ye&4102){case 2:id(p),p.flags&=-3;break;case 6:id(p),p.flags&=-3,jo(p.alternate,p);break;case 4096:p.flags&=-4097;break;case 4100:p.flags&=-4097,jo(p.alternate,p);break;case 4:jo(p.alternate,p)}}catch(Dt){ui(p,p.return,Dt)}if(x=p.sibling,x!==null){x.return=p.return,mt=x;break}mt=p.return}}}function vc(f,p,x){mt=f,xc(f)}function xc(f,p,x){for(var M=(f.mode&1)!==0;mt!==null;){var R=mt,N=R.child;if(R.tag===22&&M){var ne=R.memoizedState!==null||li;if(!ne){var ye=R.alternate,He=ye!==null&&ye.memoizedState!==null||Dr;ye=li;var ct=Dr;if(li=ne,(Dr=He)&&!ct)for(mt=R;mt!==null;)ne=mt,He=ne.child,ne.tag===22&&ne.memoizedState!==null?wa(R):He!==null?(He.return=ne,mt=He):wa(R);for(;N!==null;)mt=N,xc(N),N=N.sibling;mt=R,li=ye,Dr=ct}Hf(f)}else(R.subtreeFlags&8772)!==0&&N!==null?(N.return=R,mt=N):Hf(f)}}function Hf(f){for(;mt!==null;){var p=mt;if((p.flags&8772)!==0){var x=p.alternate;try{if((p.flags&8772)!==0)switch(p.tag){case 0:case 11:case 15:Dr||Vr(5,p);break;case 1:var M=p.stateNode;if(p.flags&4&&!Dr)if(x===null)M.componentDidMount();else{var R=p.elementType===p.type?x.memoizedProps:Mr(p.type,x.memoizedProps);M.componentDidUpdate(R,x.memoizedState,M.__reactInternalSnapshotBeforeUpdate)}var N=p.updateQueue;N!==null&&Tp(p,N,M);break;case 3:var ne=p.updateQueue;if(ne!==null){if(x=null,p.child!==null)switch(p.child.tag){case 5:x=re(p.child.stateNode);break;case 1:x=p.child.stateNode}Tp(p,ne,x)}break;case 5:var ye=p.stateNode;x===null&&p.flags&4&&et(ye,p.type,p.memoizedProps,p);break;case 6:break;case 4:break;case 12:break;case 13:if(Oe&&p.memoizedState===null){var He=p.alternate;if(He!==null){var ct=He.memoizedState;if(ct!==null){var Mt=ct.dehydrated;Mt!==null&&Ie(Mt)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(o(163))}Dr||p.flags&512&&ci(p)}catch(Yt){ui(p,p.return,Yt)}}if(p===f){mt=null;break}if(x=p.sibling,x!==null){x.return=p.return,mt=x;break}mt=p.return}}function Gf(f){for(;mt!==null;){var p=mt;if(p===f){mt=null;break}var x=p.sibling;if(x!==null){x.return=p.return,mt=x;break}mt=p.return}}function wa(f){for(;mt!==null;){var p=mt;try{switch(p.tag){case 0:case 11:case 15:var x=p.return;try{Vr(4,p)}catch(He){ui(p,x,He)}break;case 1:var M=p.stateNode;if(typeof M.componentDidMount=="function"){var R=p.return;try{M.componentDidMount()}catch(He){ui(p,R,He)}}var N=p.return;try{ci(p)}catch(He){ui(p,N,He)}break;case 5:var ne=p.return;try{ci(p)}catch(He){ui(p,ne,He)}}}catch(He){ui(p,p.return,He)}if(p===f){mt=null;break}var ye=p.sibling;if(ye!==null){ye.return=p.return,mt=ye;break}mt=p.return}}var Cc=0,_a=1,Sa=2,ho=3,xl=4;if(typeof Symbol=="function"&&Symbol.for){var ba=Symbol.for;Cc=ba("selector.component"),_a=ba("selector.has_pseudo_class"),Sa=ba("selector.role"),ho=ba("selector.test_id"),xl=ba("selector.text")}function wc(f){var p=Ce(f);if(p!=null){if(typeof p.memoizedProps["data-testname"]!="string")throw Error(o(364));return p}if(f=Me(f),f===null)throw Error(o(362));return f.stateNode.current}function _c(f,p){switch(p.$$typeof){case Cc:if(f.type===p.value)return!0;break;case _a:e:{p=p.value,f=[f,0];for(var x=0;x<f.length;){var M=f[x++],R=f[x++],N=p[R];if(M.tag!==5||!H(M)){for(;N!=null&&_c(M,N);)R++,N=p[R];if(R===p.length){p=!0;break e}else for(M=M.child;M!==null;)f.push(M,R),M=M.sibling}}p=!1}return p;case Sa:if(f.tag===5&&fe(f.stateNode,p.value))return!0;break;case xl:if((f.tag===5||f.tag===6)&&(f=K(f),f!==null&&0<=f.indexOf(p.value)))return!0;break;case ho:if(f.tag===5&&(f=f.memoizedProps["data-testname"],typeof f=="string"&&f.toLowerCase()===p.value.toLowerCase()))return!0;break;default:throw Error(o(365))}return!1}function Xo(f){switch(f.$$typeof){case Cc:return"<"+(F(f.value)||"Unknown")+">";case _a:return":has("+(Xo(f)||"")+")";case Sa:return'[role="'+f.value+'"]';case xl:return'"'+f.value+'"';case ho:return'[data-testname="'+f.value+'"]';default:throw Error(o(365))}}function Ni(f,p){var x=[];f=[f,0];for(var M=0;M<f.length;){var R=f[M++],N=f[M++],ne=p[N];if(R.tag!==5||!H(R)){for(;ne!=null&&_c(R,ne);)N++,ne=p[N];if(N===p.length)x.push(R);else for(R=R.child;R!==null;)f.push(R,N),R=R.sibling}}return x}function po(f,p){if(!Ke)throw Error(o(363));f=wc(f),f=Ni(f,p),p=[],f=Array.from(f);for(var x=0;x<f.length;){var M=f[x++];if(M.tag===5)H(M)||p.push(M.stateNode);else for(M=M.child;M!==null;)f.push(M),M=M.sibling}return p}var Wf=Math.ceil,Sc=l.ReactCurrentDispatcher,_s=l.ReactCurrentOwner,wn=l.ReactCurrentBatchConfig,Jt=0,Jn=null,_n=null,On=0,$r=0,Ma=En(0),Xn=0,Cl=null,zs=0,Oi=0,Ea=0,mo=null,ir=null,bc=0,Yo=1/0;function Aa(){Yo=kn()+500}var wl=!1,Un=null,Ss=null,_l=!1,Vs=null,Ta=0,Pa=0,go=null,Rn=-1,Yn=0;function dn(){return(Jt&6)!==0?kn():Rn!==-1?Rn:Rn=kn()}function bs(f){return(f.mode&1)===0?1:(Jt&2)!==0&&On!==0?On&-On:Oo.transition!==null?(Yn===0&&(f=ms,ms<<=1,(ms&4194240)===0&&(ms=64),Yn=f),Yn):(f=jt,f!==0?f:Ee())}function ei(f,p,x){if(50<Pa)throw Pa=0,go=null,Error(o(185));var M=qo(f,p);return M===null?null:(qi(M,p,x),((Jt&2)===0||M!==Jn)&&(M===Jn&&((Jt&2)===0&&(Oi|=p),Xn===4&&Gr(M,On)),xi(M,x),p===1&&Jt===0&&(f.mode&1)===0&&(Aa(),Ns&&Jr())),M)}function qo(f,p){f.lanes|=p;var x=f.alternate;for(x!==null&&(x.lanes|=p),x=f,f=f.return;f!==null;)f.childLanes|=p,x=f.alternate,x!==null&&(x.childLanes|=p),x=f,f=f.return;return x.tag===3?x.stateNode:null}function xi(f,p){var x=f.callbackNode;nl(f,p);var M=Lo(f,f===Jn?On:0);if(M===0)x!==null&&ks(x),f.callbackNode=null,f.callbackPriority=0;else if(p=M&-M,f.callbackPriority!==p){if(x!=null&&ks(x),p===1)f.tag===0?No(Fi.bind(null,f)):oa(Fi.bind(null,f)),Ae?We(function(){Jt===0&&Jr()}):Ri(ys,Jr),x=null;else{switch(Ki(M)){case 1:x=ys;break;case 4:x=Pu;break;case 16:x=Zr;break;case 536870912:x=Io;break;default:x=Zr}x=ad(x,Hr.bind(null,f))}f.callbackPriority=p,f.callbackNode=x}}function Hr(f,p){if(Rn=-1,Yn=0,(Jt&6)!==0)throw Error(o(327));var x=f.callbackNode;if(Hs()&&f.callbackNode!==x)return null;var M=Lo(f,f===Jn?On:0);if(M===0)return null;if((M&30)!==0||(M&f.expiredLanes)!==0||p)p=Tc(f,M);else{p=M;var R=Jt;Jt|=2;var N=Yf();(Jn!==f||On!==p)&&(Aa(),yo(f,p));do try{Gp();break}catch(ye){Xf(f,ye)}while(!0);Er(),Sc.current=N,Jt=R,_n!==null?p=0:(Jn=null,On=0,p=Xn)}if(p!==0){if(p===2&&(R=Us(f),R!==0&&(M=R,p=Mc(f,R))),p===1)throw x=Cl,yo(f,0),Gr(f,M),xi(f,kn()),x;if(p===6)Gr(f,M);else{if(R=f.current.alternate,(M&30)===0&&!jf(R)&&(p=Tc(f,M),p===2&&(N=Us(f),N!==0&&(M=N,p=Mc(f,N))),p===1))throw x=Cl,yo(f,0),Gr(f,M),xi(f,kn()),x;switch(f.finishedWork=R,f.finishedLanes=M,p){case 0:case 1:throw Error(o(345));case 2:Ms(f,ir);break;case 3:if(Gr(f,M),(M&130023424)===M&&(p=bc+500-kn(),10<p)){if(Lo(f,0)!==0)break;if(R=f.suspendedLanes,(R&M)!==M){dn(),f.pingedLanes|=f.suspendedLanes&R;break}f.timeoutHandle=me(Ms.bind(null,f,ir),p);break}Ms(f,ir);break;case 4:if(Gr(f,M),(M&4194240)===M)break;for(p=f.eventTimes,R=-1;0<M;){var ne=31-Kr(M);N=1<<ne,ne=p[ne],ne>R&&(R=ne),M&=~N}if(M=R,M=kn()-M,M=(120>M?120:480>M?480:1080>M?1080:1920>M?1920:3e3>M?3e3:4320>M?4320:1960*Wf(M/1960))-M,10<M){f.timeoutHandle=me(Ms.bind(null,f,ir),M);break}Ms(f,ir);break;case 5:Ms(f,ir);break;default:throw Error(o(329))}}}return xi(f,kn()),f.callbackNode===x?Hr.bind(null,f):null}function Mc(f,p){var x=mo;return f.current.memoizedState.isDehydrated&&(yo(f,p).flags|=256),f=Tc(f,p),f!==2&&(p=ir,ir=x,p!==null&&Ec(p)),f}function Ec(f){ir===null?ir=f:ir.push.apply(ir,f)}function jf(f){for(var p=f;;){if(p.flags&16384){var x=p.updateQueue;if(x!==null&&(x=x.stores,x!==null))for(var M=0;M<x.length;M++){var R=x[M],N=R.getSnapshot;R=R.value;try{if(!Sr(N(),R))return!1}catch{return!1}}}if(x=p.child,p.subtreeFlags&16384&&x!==null)x.return=p,p=x;else{if(p===f)break;for(;p.sibling===null;){if(p.return===null||p.return===f)return!0;p=p.return}p.sibling.return=p.return,p=p.sibling}}return!0}function Gr(f,p){for(p&=~Ea,p&=~Oi,f.suspendedLanes|=p,f.pingedLanes&=~p,f=f.expirationTimes;0<p;){var x=31-Kr(p),M=1<<x;f[x]=-1,p&=~M}}function Fi(f){if((Jt&6)!==0)throw Error(o(327));Hs();var p=Lo(f,0);if((p&1)===0)return xi(f,kn()),null;var x=Tc(f,p);if(f.tag!==0&&x===2){var M=Us(f);M!==0&&(p=M,x=Mc(f,M))}if(x===1)throw x=Cl,yo(f,0),Gr(f,p),xi(f,kn()),x;if(x===6)throw Error(o(345));return f.finishedWork=f.current.alternate,f.finishedLanes=p,Ms(f,ir),xi(f,kn()),null}function Sl(f){Vs!==null&&Vs.tag===0&&(Jt&6)===0&&Hs();var p=Jt;Jt|=1;var x=wn.transition,M=jt;try{if(wn.transition=null,jt=1,f)return f()}finally{jt=M,wn.transition=x,Jt=p,(Jt&6)===0&&Jr()}}function Ac(){$r=Ma.current,At(Ma)}function yo(f,p){f.finishedWork=null,f.finishedLanes=0;var x=f.timeoutHandle;if(x!==ke&&(f.timeoutHandle=ke,ve(x)),_n!==null)for(x=_n.return;x!==null;){var M=x;switch(Cf(M),M.tag){case 1:M=M.type.childContextTypes,M!=null&&hn();break;case 3:ul(),At(An),At(Qt),da();break;case 5:Sf(M);break;case 4:ul();break;case 13:At(Vn);break;case 19:At(Vn);break;case 10:rr(M.type._context);break;case 22:case 23:Ac()}x=x.return}if(Jn=f,_n=f=vo(f.current,null),On=$r=p,Xn=0,Cl=null,Ea=Oi=zs=0,ir=mo=null,si!==null){for(p=0;p<si.length;p++)if(x=si[p],M=x.interleaved,M!==null){x.interleaved=null;var R=M.next,N=x.pending;if(N!==null){var ne=N.next;N.next=R,M.next=ne}x.pending=M}si=null}return f}function Xf(f,p){do{var x=_n;try{if(Er(),sc.current=ml,zu){for(var M=Hn.memoizedState;M!==null;){var R=M.queue;R!==null&&(R.pending=null),M=M.next}zu=!1}if(fa=0,Tr=Ar=Hn=null,Os=!1,ha=0,_s.current=null,x===null||x.return===null){Xn=1,Cl=p,_n=null;break}e:{var N=f,ne=x.return,ye=x,He=p;if(p=On,ye.flags|=32768,He!==null&&typeof He=="object"&&typeof He.then=="function"){var ct=He,Mt=ye,Yt=Mt.tag;if((Mt.mode&1)===0&&(Yt===0||Yt===11||Yt===15)){var Ft=Mt.alternate;Ft?(Mt.updateQueue=Ft.updateQueue,Mt.memoizedState=Ft.memoizedState,Mt.lanes=Ft.lanes):(Mt.updateQueue=null,Mt.memoizedState=null)}var $t=If(ne);if($t!==null){$t.flags&=-257,ma($t,ne,ye,N,p),$t.mode&1&&oo(N,ct,p),p=$t,He=ct;var _t=p.updateQueue;if(_t===null){var Wr=new Set;Wr.add(He),p.updateQueue=Wr}else _t.add(He);break e}else{if((p&1)===0){oo(N,ct,p),od();break e}He=Error(o(426))}}else if(Nn&&ye.mode&1){var zi=If(ne);if(zi!==null){(zi.flags&65536)===0&&(zi.flags|=256),ma(zi,ne,ye,N,p),Ou(He);break e}}N=He,Xn!==4&&(Xn=2),mo===null?mo=[N]:mo.push(N),He=Lf(He,ye),ye=ne;do{switch(ye.tag){case 3:ye.flags|=65536,p&=-p,ye.lanes|=p;var De=zp(ye,He,p);Du(ye,De);break e;case 1:N=He;var xe=ye.type,ze=ye.stateNode;if((ye.flags&128)===0&&(typeof xe.getDerivedStateFromError=="function"||ze!==null&&typeof ze.componentDidCatch=="function"&&(Ss===null||!Ss.has(ze)))){ye.flags|=65536,p&=-p,ye.lanes|=p;var Ct=Zu(ye,N,p);Du(ye,Ct);break e}}ye=ye.return}while(ye!==null)}Kf(x)}catch(Dt){p=Dt,_n===x&&x!==null&&(_n=x=x.return);continue}break}while(!0)}function Yf(){var f=Sc.current;return Sc.current=ml,f===null?ml:f}function od(){(Xn===0||Xn===3||Xn===2)&&(Xn=4),Jn===null||(zs&268435455)===0&&(Oi&268435455)===0||Gr(Jn,On)}function Tc(f,p){var x=Jt;Jt|=2;var M=Yf();Jn===f&&On===p||yo(f,p);do try{Hp();break}catch(R){Xf(f,R)}while(!0);if(Er(),Jt=x,Sc.current=M,_n!==null)throw Error(o(261));return Jn=null,On=0,Xn}function Hp(){for(;_n!==null;)qf(_n)}function Gp(){for(;_n!==null&&!Zi();)qf(_n)}function qf(f){var p=Qf(f.alternate,f,$r);f.memoizedProps=f.pendingProps,p===null?Kf(f):_n=p,_s.current=null}function Kf(f){var p=f;do{var x=p.alternate;if(f=p.return,(p.flags&32768)===0){if(x=$u(x,p,$r),x!==null){_n=x;return}}else{if(x=nd(x,p),x!==null){x.flags&=32767,_n=x;return}if(f!==null)f.flags|=32768,f.subtreeFlags=0,f.deletions=null;else{Xn=6,_n=null;return}}if(p=p.sibling,p!==null){_n=p;return}_n=p=f}while(p!==null);Xn===0&&(Xn=5)}function Ms(f,p){var x=jt,M=wn.transition;try{wn.transition=null,jt=1,Wp(f,p,x)}finally{wn.transition=M,jt=x}return null}function Wp(f,p,x){do Hs();while(Vs!==null);if((Jt&6)!==0)throw Error(o(327));var M=f.finishedWork,R=f.finishedLanes;if(M===null)return null;if(f.finishedWork=null,f.finishedLanes=0,M===f.current)throw Error(o(177));f.callbackNode=null,f.callbackPriority=0;var N=M.lanes|M.childLanes;if(gs(f,N),f===Jn&&(_n=Jn=null,On=0),(M.subtreeFlags&2064)===0&&(M.flags&2064)===0||_l||(_l=!0,ad(Zr,function(){return Hs(),null})),N=(M.flags&15990)!==0,(M.subtreeFlags&15990)!==0||N){N=wn.transition,wn.transition=null;var ne=jt;jt=1;var ye=Jt;Jt|=4,_s.current=null,Ff(f,M),By(f,M),G(f.containerInfo),f.current=M,vc(M),Tu(),Jt=ye,jt=ne,wn.transition=N}else f.current=M;if(_l&&(_l=!1,Vs=f,Ta=R),N=f.pendingLanes,N===0&&(Ss=null),Zs(M.stateNode),xi(f,kn()),p!==null)for(x=f.onRecoverableError,M=0;M<p.length;M++)x(p[M]);if(wl)throw wl=!1,f=Un,Un=null,f;return(Ta&1)!==0&&f.tag!==0&&Hs(),N=f.pendingLanes,(N&1)!==0?f===go?Pa++:(Pa=0,go=f):Pa=0,Jr(),null}function Hs(){if(Vs!==null){var f=Ki(Ta),p=wn.transition,x=jt;try{if(wn.transition=null,jt=16>f?16:f,Vs===null)var M=!1;else{if(f=Vs,Vs=null,Ta=0,(Jt&6)!==0)throw Error(o(331));var R=Jt;for(Jt|=4,mt=f.current;mt!==null;){var N=mt,ne=N.child;if((mt.flags&16)!==0){var ye=N.deletions;if(ye!==null){for(var He=0;He<ye.length;He++){var ct=ye[He];for(mt=ct;mt!==null;){var Mt=mt;switch(Mt.tag){case 0:case 11:case 15:fo(8,Mt,N)}var Yt=Mt.child;if(Yt!==null)Yt.return=Mt,mt=Yt;else for(;mt!==null;){Mt=mt;var Ft=Mt.sibling,$t=Mt.return;if(Bf(Mt),Mt===ct){mt=null;break}if(Ft!==null){Ft.return=$t,mt=Ft;break}mt=$t}}}var _t=N.alternate;if(_t!==null){var Wr=_t.child;if(Wr!==null){_t.child=null;do{var zi=Wr.sibling;Wr.sibling=null,Wr=zi}while(Wr!==null)}}mt=N}}if((N.subtreeFlags&2064)!==0&&ne!==null)ne.return=N,mt=ne;else e:for(;mt!==null;){if(N=mt,(N.flags&2048)!==0)switch(N.tag){case 0:case 11:case 15:fo(9,N,N.return)}var De=N.sibling;if(De!==null){De.return=N.return,mt=De;break e}mt=N.return}}var xe=f.current;for(mt=xe;mt!==null;){ne=mt;var ze=ne.child;if((ne.subtreeFlags&2064)!==0&&ze!==null)ze.return=ne,mt=ze;else e:for(ne=xe;mt!==null;){if(ye=mt,(ye.flags&2048)!==0)try{switch(ye.tag){case 0:case 11:case 15:Vr(9,ye)}}catch(Dt){ui(ye,ye.return,Dt)}if(ye===ne){mt=null;break e}var Ct=ye.sibling;if(Ct!==null){Ct.return=ye.return,mt=Ct;break e}mt=ye.return}}if(Jt=R,Jr(),Di&&typeof Di.onPostCommitFiberRoot=="function")try{Di.onPostCommitFiberRoot(Uo,f)}catch{}M=!0}return M}finally{jt=x,wn.transition=p}}return!1}function Pc(f,p,x){p=Lf(x,p),p=zp(f,p,1),Fo(f,p),p=dn(),f=qo(f,1),f!==null&&(qi(f,1,p),xi(f,p))}function ui(f,p,x){if(f.tag===3)Pc(f,f,x);else for(;p!==null;){if(p.tag===3){Pc(p,f,x);break}else if(p.tag===1){var M=p.stateNode;if(typeof p.type.getDerivedStateFromError=="function"||typeof M.componentDidCatch=="function"&&(Ss===null||!Ss.has(M))){f=Lf(x,f),f=Zu(p,f,1),Fo(p,f),f=dn(),p=qo(p,1),p!==null&&(qi(p,1,f),xi(p,f));break}}p=p.return}}function Zf(f,p,x){var M=f.pingCache;M!==null&&M.delete(p),p=dn(),f.pingedLanes|=f.suspendedLanes&x,Jn===f&&(On&x)===x&&(Xn===4||Xn===3&&(On&130023424)===On&&500>kn()-bc?yo(f,0):Ea|=x),xi(f,p)}function Jf(f,p){p===0&&((f.mode&1)===0?p=1:(p=an,an<<=1,(an&130023424)===0&&(an=4194304)));var x=dn();f=qo(f,p),f!==null&&(qi(f,p,x),xi(f,x))}function jp(f){var p=f.memoizedState,x=0;p!==null&&(x=p.retryLane),Jf(f,x)}function Xp(f,p){var x=0;switch(f.tag){case 13:var M=f.stateNode,R=f.memoizedState;R!==null&&(x=R.retryLane);break;case 19:M=f.stateNode;break;default:throw Error(o(314))}M!==null&&M.delete(p),Jf(f,x)}var Qf;Qf=function(f,p,x){if(f!==null)if(f.memoizedProps!==p.pendingProps||An.current)Rr=!0;else{if((f.lanes&x)===0&&(p.flags&128)===0)return Rr=!1,td(f,p,x);Rr=(f.flags&131072)!==0}else Rr=!1,Nn&&(p.flags&1048576)!==0&&Lp(p,ku,p.index);switch(p.lanes=0,p.tag){case 2:var M=p.type;f!==null&&(f.alternate=null,p.alternate=null,p.flags|=2),f=p.pendingProps;var R=qn(p,Qt.current);Kn(p,x),R=dl(null,p,M,f,R,x);var N=Ho();return p.flags|=1,typeof R=="object"&&R!==null&&typeof R.render=="function"&&R.$$typeof===void 0?(p.tag=1,p.memoizedState=null,p.updateQueue=null,Ln(M)?(N=!0,Wn(p)):N=!1,p.memoizedState=R.state!==null&&R.state!==void 0?R.state:null,rl(p),R.updater=Iu,p.stateNode=R,R._reactInternals=p,vf(p,M,f,x),p=Qr(null,p,M,!0,N,x)):(p.tag=0,Nn&&N&&xf(p),jn(null,p,R,x),p=p.child),p;case 16:M=p.elementType;e:{switch(f!==null&&(f.alternate=null,p.alternate=null,p.flags|=2),f=p.pendingProps,R=M._init,M=R(M._payload),p.type=M,R=p.tag=zy(M),f=Mr(M,f),R){case 0:p=co(null,p,M,f,x);break e;case 1:p=ya(null,p,M,f,x);break e;case 11:p=Pn(null,p,M,f,x);break e;case 14:p=bn(null,p,M,Mr(M.type,f),x);break e}throw Error(o(306,M,""))}return p;case 0:return M=p.type,R=p.pendingProps,R=p.elementType===M?R:Mr(M,R),co(f,p,M,R,x);case 1:return M=p.type,R=p.pendingProps,R=p.elementType===M?R:Mr(M,R),ya(f,p,M,R,x);case 3:e:{if(pc(p),f===null)throw Error(o(387));M=p.pendingProps,N=p.memoizedState,R=N.element,mf(f,p),Lu(p,M,null,x);var ne=p.memoizedState;if(M=ne.element,Oe&&N.isDehydrated)if(N={element:M,isDehydrated:!1,cache:ne.cache,transitions:ne.transitions},p.updateQueue.baseState=N,p.memoizedState=N,p.flags&256){R=Error(o(423)),p=kf(f,p,M,x,R);break e}else if(M!==R){R=Error(o(424)),p=kf(f,p,M,x,R);break e}else for(Oe&&(Br=tr(p.stateNode.containerInfo),oi=p,Nn=!0,es=null,sl=!1),x=kp(p,null,M,x),p.child=x;x;)x.flags=x.flags&-3|4096,x=x.sibling;else{if(ol(),M===R){p=vi(f,p,x);break e}jn(f,p,M,x)}p=p.child}return p;case 5:return Np(p),f===null&&zo(p),M=p.type,R=p.pendingProps,N=f!==null?f.memoizedProps:null,ne=R.children,se(M,R)?ne=null:N!==null&&se(M,N)&&(p.flags|=32),ai(f,p),jn(f,p,ne,x),p.child;case 6:return f===null&&zo(p),null;case 13:return Nf(f,p,x);case 4:return Fu(p,p.stateNode.containerInfo),M=p.pendingProps,f===null?p.child=io(p,null,M,x):jn(f,p,M,x),p.child;case 11:return M=p.type,R=p.pendingProps,R=p.elementType===M?R:Mr(M,R),Pn(f,p,M,R,x);case 7:return jn(f,p,p.pendingProps,x),p.child;case 8:return jn(f,p,p.pendingProps.children,x),p.child;case 12:return jn(f,p,p.pendingProps.children,x),p.child;case 10:e:{if(M=p.type._context,R=p.pendingProps,N=p.memoizedProps,ne=R.value,eo(p,M,ne),N!==null)if(Sr(N.value,ne)){if(N.children===R.children&&!An.current){p=vi(f,p,x);break e}}else for(N=p.child,N!==null&&(N.return=p);N!==null;){var ye=N.dependencies;if(ye!==null){ne=N.child;for(var He=ye.firstContext;He!==null;){if(He.context===M){if(N.tag===1){He=to(-1,x&-x),He.tag=2;var ct=N.updateQueue;if(ct!==null){ct=ct.shared;var Mt=ct.pending;Mt===null?He.next=He:(He.next=Mt.next,Mt.next=He),ct.pending=He}}N.lanes|=x,He=N.alternate,He!==null&&(He.lanes|=x),pr(N.return,x,p),ye.lanes|=x;break}He=He.next}}else if(N.tag===10)ne=N.type===p.type?null:N.child;else if(N.tag===18){if(ne=N.return,ne===null)throw Error(o(341));ne.lanes|=x,ye=ne.alternate,ye!==null&&(ye.lanes|=x),pr(ne,x,p),ne=N.sibling}else ne=N.child;if(ne!==null)ne.return=N;else for(ne=N;ne!==null;){if(ne===p){ne=null;break}if(N=ne.sibling,N!==null){N.return=ne.return,ne=N;break}ne=ne.return}N=ne}jn(f,p,R.children,x),p=p.child}return p;case 9:return R=p.type,M=p.pendingProps.children,Kn(p,x),R=zn(R),M=M(R),p.flags|=1,jn(f,p,M,x),p.child;case 14:return M=p.type,R=Mr(M,p.pendingProps),R=Mr(M.type,R),bn(f,p,M,R,x);case 15:return lo(f,p,p.type,p.pendingProps,x);case 17:return M=p.type,R=p.pendingProps,R=p.elementType===M?R:Mr(M,R),f!==null&&(f.alternate=null,p.alternate=null,p.flags|=2),p.tag=1,Ln(M)?(f=!0,Wn(p)):f=!1,Kn(p,x),Rp(p,M,R),vf(p,M,R,x),Qr(null,p,M,!0,f,x);case 19:return xa(f,p,x);case 22:return zr(f,p,x)}throw Error(o(156,p.tag))};function ad(f,p){return Ri(f,p)}function Yp(f,p,x,M){this.tag=f,this.key=x,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=p,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=M,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bi(f,p,x,M){return new Yp(f,p,x,M)}function ld(f){return f=f.prototype,!(!f||!f.isReactComponent)}function zy(f){if(typeof f=="function")return ld(f)?1:0;if(f!=null){if(f=f.$$typeof,f===b)return 11;if(f===A)return 14}return 2}function vo(f,p){var x=f.alternate;return x===null?(x=Bi(f.tag,p,f.key,f.mode),x.elementType=f.elementType,x.type=f.type,x.stateNode=f.stateNode,x.alternate=f,f.alternate=x):(x.pendingProps=p,x.type=f.type,x.flags=0,x.subtreeFlags=0,x.deletions=null),x.flags=f.flags&14680064,x.childLanes=f.childLanes,x.lanes=f.lanes,x.child=f.child,x.memoizedProps=f.memoizedProps,x.memoizedState=f.memoizedState,x.updateQueue=f.updateQueue,p=f.dependencies,x.dependencies=p===null?null:{lanes:p.lanes,firstContext:p.firstContext},x.sibling=f.sibling,x.index=f.index,x.ref=f.ref,x}function cd(f,p,x,M,R,N){var ne=2;if(M=f,typeof f=="function")ld(f)&&(ne=1);else if(typeof f=="string")ne=5;else e:switch(f){case h:return Ra(x.children,R,N,p);case m:ne=8,R|=8;break;case y:return f=Bi(12,x,p,R|2),f.elementType=y,f.lanes=N,f;case _:return f=Bi(13,x,p,R),f.elementType=_,f.lanes=N,f;case S:return f=Bi(19,x,p,R),f.elementType=S,f.lanes=N,f;case P:return Rc(x,R,N,p);default:if(typeof f=="object"&&f!==null)switch(f.$$typeof){case v:ne=10;break e;case C:ne=9;break e;case b:ne=11;break e;case A:ne=14;break e;case E:ne=16,M=null;break e}throw Error(o(130,f==null?f:typeof f,""))}return p=Bi(ne,x,p,R),p.elementType=f,p.type=M,p.lanes=N,p}function Ra(f,p,x,M){return f=Bi(7,f,M,p),f.lanes=x,f}function Rc(f,p,x,M){return f=Bi(22,f,M,p),f.elementType=P,f.lanes=x,f.stateNode={},f}function ud(f,p,x){return f=Bi(6,f,null,p),f.lanes=x,f}function dd(f,p,x){return p=Bi(4,f.children!==null?f.children:[],f.key,p),p.lanes=x,p.stateNode={containerInfo:f.containerInfo,pendingChildren:null,implementation:f.implementation},p}function fd(f,p,x,M,R){this.tag=p,this.containerInfo=f,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=ke,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=sa(0),this.expirationTimes=sa(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=sa(0),this.identifierPrefix=M,this.onRecoverableError=R,Oe&&(this.mutableSourceEagerHydrationData=null)}function qp(f,p,x,M,R,N,ne,ye,He){return f=new fd(f,p,x,ye,He),p===1?(p=1,N===!0&&(p|=8)):p=0,N=Bi(3,null,null,p),f.current=N,N.stateNode=f,N.memoizedState={element:M,isDehydrated:x,cache:null,transitions:null},rl(N),f}function Kp(f){if(!f)return Sn;f=f._reactInternals;e:{if(U(f)!==f||f.tag!==1)throw Error(o(170));var p=f;do{switch(p.tag){case 3:p=p.stateNode.context;break e;case 1:if(Ln(p.type)){p=p.stateNode.__reactInternalMemoizedMergedChildContext;break e}}p=p.return}while(p!==null);throw Error(o(171))}if(f.tag===1){var x=f.type;if(Ln(x))return Ls(f,x,p)}return p}function Zp(f){var p=f._reactInternals;if(p===void 0)throw typeof f.render=="function"?Error(o(188)):(f=Object.keys(f).join(","),Error(o(268,f)));return f=q(p),f===null?null:f.stateNode}function rs(f,p){if(f=f.memoizedState,f!==null&&f.dehydrated!==null){var x=f.retryLane;f.retryLane=x!==0&&x<p?x:p}}function Dc(f,p){rs(f,p),(f=f.alternate)&&rs(f,p)}function hd(f){return f=q(f),f===null?null:f.stateNode}function Jp(){return null}return t.attemptContinuousHydration=function(f){if(f.tag===13){var p=dn();ei(f,134217728,p),Dc(f,134217728)}},t.attemptHydrationAtCurrentPriority=function(f){if(f.tag===13){var p=dn(),x=bs(f);ei(f,x,p),Dc(f,x)}},t.attemptSynchronousHydration=function(f){switch(f.tag){case 3:var p=f.stateNode;if(p.current.memoizedState.isDehydrated){var x=Is(p.pendingLanes);x!==0&&(Fr(p,x|1),xi(p,kn()),(Jt&6)===0&&(Aa(),Jr()))}break;case 13:var M=dn();Sl(function(){return ei(f,1,M)}),Dc(f,1)}},t.batchedUpdates=function(f,p){var x=Jt;Jt|=1;try{return f(p)}finally{Jt=x,Jt===0&&(Aa(),Ns&&Jr())}},t.createComponentSelector=function(f){return{$$typeof:Cc,value:f}},t.createContainer=function(f,p,x,M,R,N,ne){return qp(f,p,!1,null,x,M,R,N,ne)},t.createHasPseudoClassSelector=function(f){return{$$typeof:_a,value:f}},t.createHydrationContainer=function(f,p,x,M,R,N,ne,ye,He){return f=qp(x,M,!0,f,R,N,ne,ye,He),f.context=Kp(null),x=f.current,M=dn(),R=bs(x),N=to(M,R),N.callback=p??null,Fo(x,N),f.current.lanes=R,qi(f,R,M),xi(f,M),f},t.createPortal=function(f,p,x){var M=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:d,key:M==null?null:""+M,children:f,containerInfo:p,implementation:x}},t.createRoleSelector=function(f){return{$$typeof:Sa,value:f}},t.createTestNameSelector=function(f){return{$$typeof:ho,value:f}},t.createTextSelector=function(f){return{$$typeof:xl,value:f}},t.deferredUpdates=function(f){var p=jt,x=wn.transition;try{return wn.transition=null,jt=16,f()}finally{jt=p,wn.transition=x}},t.discreteUpdates=function(f,p,x,M,R){var N=jt,ne=wn.transition;try{return wn.transition=null,jt=1,f(p,x,M,R)}finally{jt=N,wn.transition=ne,Jt===0&&Aa()}},t.findAllNodes=po,t.findBoundingRects=function(f,p){if(!Ke)throw Error(o(363));p=po(f,p),f=[];for(var x=0;x<p.length;x++)f.push(ht(p[x]));for(p=f.length-1;0<p;p--){x=f[p];for(var M=x.x,R=M+x.width,N=x.y,ne=N+x.height,ye=p-1;0<=ye;ye--)if(p!==ye){var He=f[ye],ct=He.x,Mt=ct+He.width,Yt=He.y,Ft=Yt+He.height;if(M>=ct&&N>=Yt&&R<=Mt&&ne<=Ft){f.splice(p,1);break}else if(M!==ct||x.width!==He.width||Ft<N||Yt>ne){if(!(N!==Yt||x.height!==He.height||Mt<M||ct>R)){ct>M&&(He.width+=ct-M,He.x=M),Mt<R&&(He.width=R-ct),f.splice(p,1);break}}else{Yt>N&&(He.height+=Yt-N,He.y=N),Ft<ne&&(He.height=ne-Yt),f.splice(p,1);break}}}return f},t.findHostInstance=Zp,t.findHostInstanceWithNoPortals=function(f){return f=Q(f),f=f!==null?X(f):null,f===null?null:f.stateNode},t.findHostInstanceWithWarning=function(f){return Zp(f)},t.flushControlled=function(f){var p=Jt;Jt|=1;var x=wn.transition,M=jt;try{wn.transition=null,jt=1,f()}finally{jt=M,wn.transition=x,Jt=p,Jt===0&&(Aa(),Jr())}},t.flushPassiveEffects=Hs,t.flushSync=Sl,t.focusWithin=function(f,p){if(!Ke)throw Error(o(363));for(f=wc(f),p=Ni(f,p),p=Array.from(p),f=0;f<p.length;){var x=p[f++];if(!H(x)){if(x.tag===5&&Ye(x.stateNode))return!0;for(x=x.child;x!==null;)p.push(x),x=x.sibling}}return!1},t.getCurrentUpdatePriority=function(){return jt},t.getFindAllNodesFailureDescription=function(f,p){if(!Ke)throw Error(o(363));var x=0,M=[];f=[wc(f),0];for(var R=0;R<f.length;){var N=f[R++],ne=f[R++],ye=p[ne];if((N.tag!==5||!H(N))&&(_c(N,ye)&&(M.push(Xo(ye)),ne++,ne>x&&(x=ne)),ne<p.length))for(N=N.child;N!==null;)f.push(N,ne),N=N.sibling}if(x<p.length){for(f=[];x<p.length;x++)f.push(Xo(p[x]));return`findAllNodes was able to match part of the selector:
  `+(M.join(" > ")+`

No matching component was found for:
  `)+f.join(" > ")}return null},t.getPublicRootInstance=function(f){if(f=f.current,!f.child)return null;switch(f.child.tag){case 5:return re(f.child.stateNode);default:return f.child.stateNode}},t.injectIntoDevTools=function(f){if(f={bundleType:f.bundleType,version:f.version,rendererPackageName:f.rendererPackageName,rendererConfig:f.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:l.ReactCurrentDispatcher,findHostInstanceByFiber:hd,findFiberByHostInstance:f.findFiberByHostInstance||Jp,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")f=!1;else{var p=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(p.isDisabled||!p.supportsFiber)f=!0;else{try{Uo=p.inject(f),Di=p}catch{}f=!!p.checkDCE}}return f},t.isAlreadyRendering=function(){return!1},t.observeVisibleRects=function(f,p,x,M){if(!Ke)throw Error(o(363));f=po(f,p);var R=Se(f,x,M).disconnect;return{disconnect:function(){R()}}},t.registerMutableSourceForHydration=function(f,p){var x=p._getVersion;x=x(p._source),f.mutableSourceEagerHydrationData==null?f.mutableSourceEagerHydrationData=[p,x]:f.mutableSourceEagerHydrationData.push(p,x)},t.runWithPriority=function(f,p){var x=jt;try{return jt=f,p()}finally{jt=x}},t.shouldError=function(){return null},t.shouldSuspend=function(){return!1},t.updateContainer=function(f,p,x,M){var R=p.current,N=dn(),ne=bs(R);return x=Kp(x),p.context===null?p.context=x:p.pendingContext=x,p=to(N,ne),p.payload={element:f},M=M===void 0?null:M,M!==null&&(p.callback=M),Fo(R,p),f=ei(R,ne,N),f!==null&&Ru(f,R,ne),ne},t}),g0}var k_;function eB(){return k_||(k_=1,h0.exports=$4()),h0.exports}var tB=eB();const nB=yS(tB);var y0={exports:{}},v0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var N_;function rB(){return N_||(N_=1,(function(r){function e(j,Y){var G=j.length;j.push(Y);e:for(;0<G;){var D=G-1>>>1,B=j[D];if(0<i(B,Y))j[D]=Y,j[G]=B,G=D;else break e}}function t(j){return j.length===0?null:j[0]}function n(j){if(j.length===0)return null;var Y=j[0],G=j.pop();if(G!==Y){j[0]=G;e:for(var D=0,B=j.length,ee=B>>>1;D<ee;){var ie=2*(D+1)-1,se=j[ie],pe=ie+1,me=j[pe];if(0>i(se,G))pe<B&&0>i(me,se)?(j[D]=me,j[pe]=G,D=pe):(j[D]=se,j[ie]=G,D=ie);else if(pe<B&&0>i(me,G))j[D]=me,j[pe]=G,D=pe;else break e}}return Y}function i(j,Y){var G=j.sortIndex-Y.sortIndex;return G!==0?G:j.id-Y.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;r.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();r.unstable_now=function(){return o.now()-l}}var c=[],d=[],h=1,m=null,y=3,v=!1,C=!1,b=!1,_=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(j){for(var Y=t(d);Y!==null;){if(Y.callback===null)n(d);else if(Y.startTime<=j)n(d),Y.sortIndex=Y.expirationTime,e(c,Y);else break;Y=t(d)}}function P(j){if(b=!1,E(j),!C)if(t(c)!==null)C=!0,re(I);else{var Y=t(d);Y!==null&&de(P,Y.startTime-j)}}function I(j,Y){C=!1,b&&(b=!1,S(V),V=-1),v=!0;var G=y;try{for(E(Y),m=t(c);m!==null&&(!(m.expirationTime>Y)||j&&!Q());){var D=m.callback;if(typeof D=="function"){m.callback=null,y=m.priorityLevel;var B=D(m.expirationTime<=Y);Y=r.unstable_now(),typeof B=="function"?m.callback=B:m===t(c)&&n(c),E(Y)}else n(c);m=t(c)}if(m!==null)var ee=!0;else{var ie=t(d);ie!==null&&de(P,ie.startTime-Y),ee=!1}return ee}finally{m=null,y=G,v=!1}}var k=!1,F=null,V=-1,U=5,O=-1;function Q(){return!(r.unstable_now()-O<U)}function q(){if(F!==null){var j=r.unstable_now();O=j;var Y=!0;try{Y=F(!0,j)}finally{Y?te():(k=!1,F=null)}}else k=!1}var te;if(typeof A=="function")te=function(){A(q)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,le=X.port2;X.port1.onmessage=q,te=function(){le.postMessage(null)}}else te=function(){_(q,0)};function re(j){F=j,k||(k=!0,te())}function de(j,Y){V=_(function(){j(r.unstable_now())},Y)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(j){j.callback=null},r.unstable_continueExecution=function(){C||v||(C=!0,re(I))},r.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<j?Math.floor(1e3/j):5},r.unstable_getCurrentPriorityLevel=function(){return y},r.unstable_getFirstCallbackNode=function(){return t(c)},r.unstable_next=function(j){switch(y){case 1:case 2:case 3:var Y=3;break;default:Y=y}var G=y;y=Y;try{return j()}finally{y=G}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(j,Y){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var G=y;y=j;try{return Y()}finally{y=G}},r.unstable_scheduleCallback=function(j,Y,G){var D=r.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?D+G:D):G=D,j){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=G+B,j={id:h++,callback:Y,priorityLevel:j,startTime:G,expirationTime:B,sortIndex:-1},G>D?(j.sortIndex=G,e(d,j),t(c)===null&&j===t(d)&&(b?(S(V),V=-1):b=!0,de(P,G-D))):(j.sortIndex=B,e(c,j),C||v||(C=!0,re(I))),j},r.unstable_shouldYield=Q,r.unstable_wrapCallback=function(j){var Y=y;return function(){var G=y;y=Y;try{return j.apply(this,arguments)}finally{y=G}}}})(v0)),v0}var O_;function iB(){return O_||(O_=1,y0.exports=rB()),y0.exports}var F_=iB();const t1={},sB=r=>void Object.assign(t1,r);function oB(r,e){function t(h,{args:m=[],attach:y,...v},C){let b=`${h[0].toUpperCase()}${h.slice(1)}`,_;if(h==="primitive"){if(v.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const S=v.object;_=Hd(S,{type:h,root:C,attach:y,primitive:!0})}else{const S=t1[b];if(!S)throw new Error(`R3F: ${b} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(m))throw new Error("R3F: The args prop must be an array!");_=Hd(new S(...m),{type:h,root:C,attach:y,memoizedProps:{args:m}})}return _.__r3f.attach===void 0&&(_.isBufferGeometry?_.__r3f.attach="geometry":_.isMaterial&&(_.__r3f.attach="material")),b!=="inject"&&w0(_,v),_}function n(h,m){let y=!1;if(m){var v,C;(v=m.__r3f)!=null&&v.attach?C0(h,m,m.__r3f.attach):m.isObject3D&&h.isObject3D&&(h.add(m),y=!0),y||(C=h.__r3f)==null||C.objects.push(m),m.__r3f||Hd(m,{}),m.__r3f.parent=h,N2(m),Gd(m)}}function i(h,m,y){let v=!1;if(m){var C,b;if((C=m.__r3f)!=null&&C.attach)C0(h,m,m.__r3f.attach);else if(m.isObject3D&&h.isObject3D){m.parent=h,m.dispatchEvent({type:"added"}),h.dispatchEvent({type:"childadded",child:m});const _=h.children.filter(A=>A!==m),S=_.indexOf(y);h.children=[..._.slice(0,S),m,..._.slice(S)],v=!0}v||(b=h.__r3f)==null||b.objects.push(m),m.__r3f||Hd(m,{}),m.__r3f.parent=h,N2(m),Gd(m)}}function s(h,m,y=!1){h&&[...h].forEach(v=>o(m,v,y))}function o(h,m,y){if(m){var v,C,b;if(m.__r3f&&(m.__r3f.parent=null),(v=h.__r3f)!=null&&v.objects&&(h.__r3f.objects=h.__r3f.objects.filter(P=>P!==m)),(C=m.__r3f)!=null&&C.attach)G_(h,m,m.__r3f.attach);else if(m.isObject3D&&h.isObject3D){var _;h.remove(m),(_=m.__r3f)!=null&&_.root&&hB(Pg(m),m)}const A=(b=m.__r3f)==null?void 0:b.primitive,E=!A&&(y===void 0?m.dispose!==null:y);if(!A){var S;s((S=m.__r3f)==null?void 0:S.objects,m,E),s(m.children,m,E)}if(delete m.__r3f,E&&m.dispose&&m.type!=="Scene"){const P=()=>{try{m.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT>"u"?F_.unstable_scheduleCallback(F_.unstable_IdlePriority,P):P()}Gd(h)}}function l(h,m,y,v){var C;const b=(C=h.__r3f)==null?void 0:C.parent;if(!b)return;const _=t(m,y,h.__r3f.root);if(h.children){for(const S of h.children)S.__r3f&&n(_,S);h.children=h.children.filter(S=>!S.__r3f)}h.__r3f.objects.forEach(S=>n(_,S)),h.__r3f.objects=[],h.__r3f.autoRemovedBeforeAppend||o(b,h),_.parent&&(_.__r3f.autoRemovedBeforeAppend=!0),n(b,_),_.raycast&&_.__r3f.eventCount&&Pg(_).getState().internal.interaction.push(_),[v,v.alternate].forEach(S=>{S!==null&&(S.stateNode=_,S.ref&&(typeof S.ref=="function"?S.ref(_):S.ref.current=_))})}const c=()=>{};return{reconciler:nB({createInstance:t,removeChild:o,appendChild:n,appendInitialChild:n,insertBefore:i,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(h,m)=>{if(!m)return;const y=h.getState().scene;y.__r3f&&(y.__r3f.root=h,n(y,m))},removeChildFromContainer:(h,m)=>{m&&o(h.getState().scene,m)},insertInContainerBefore:(h,m,y)=>{if(!m||!y)return;const v=h.getState().scene;v.__r3f&&i(v,m,y)},getRootHostContext:()=>null,getChildHostContext:h=>h,finalizeInitialChildren(h){var m;return!!((m=h==null?void 0:h.__r3f)!=null?m:{}).handlers},prepareUpdate(h,m,y,v){var C;if(((C=h==null?void 0:h.__r3f)!=null?C:{}).primitive&&v.object&&v.object!==h)return[!0];{const{args:_=[],children:S,...A}=v,{args:E=[],children:P,...I}=y;if(!Array.isArray(_))throw new Error("R3F: the args prop must be an array!");if(_.some((F,V)=>F!==E[V]))return[!0];const k=xA(h,A,I,!0);return k.changes.length?[!1,k]:null}},commitUpdate(h,[m,y],v,C,b,_){m?l(h,v,b,_):w0(h,y)},commitMount(h,m,y,v){var C;const b=(C=h.__r3f)!=null?C:{};h.raycast&&b.handlers&&b.eventCount&&Pg(h).getState().internal.interaction.push(h)},getPublicInstance:h=>h,prepareForCommit:()=>null,preparePortalMount:h=>Hd(h.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(h){var m;const{attach:y,parent:v}=(m=h.__r3f)!=null?m:{};y&&v&&G_(v,h,y),h.isObject3D&&(h.visible=!1),Gd(h)},unhideInstance(h,m){var y;const{attach:v,parent:C}=(y=h.__r3f)!=null?y:{};v&&C&&C0(C,h,v),(h.isObject3D&&m.visible==null||m.visible)&&(h.visible=!0),Gd(h)},createTextInstance:c,hideTextInstance:c,unhideTextInstance:c,getCurrentEventPriority:()=>e?e():Qd.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&Gn.fun(performance.now)?performance.now:Gn.fun(Date.now)?Date.now:()=>0,scheduleTimeout:Gn.fun(setTimeout)?setTimeout:void 0,cancelTimeout:Gn.fun(clearTimeout)?clearTimeout:void 0}),applyProps:w0}}var B_,z_;const x0=r=>"colorSpace"in r||"outputColorSpace"in r,hA=()=>{var r;return(r=t1.ColorManagement)!=null?r:null},pA=r=>r&&r.isOrthographicCamera,aB=r=>r&&r.hasOwnProperty("current"),Ap=typeof window<"u"&&((B_=window.document)!=null&&B_.createElement||((z_=window.navigator)==null?void 0:z_.product)==="ReactNative")?ue.useLayoutEffect:ue.useEffect;function mA(r){const e=ue.useRef(r);return Ap(()=>void(e.current=r),[r]),e}function lB({set:r}){return Ap(()=>(r(new Promise(()=>null)),()=>r(!1)),[r]),null}class gA extends ue.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}gA.getDerivedStateFromError=()=>({error:!0});const yA="__default",V_=new Map,cB=r=>r&&!!r.memoized&&!!r.changes;function vA(r){var e;const t=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(r)?Math.min(Math.max(r[0],t),r[1]):r}const xh=r=>{var e;return(e=r.__r3f)==null?void 0:e.root.getState()};function Pg(r){let e=r.__r3f.root;for(;e.getState().previousRoot;)e=e.getState().previousRoot;return e}const Gn={obj:r=>r===Object(r)&&!Gn.arr(r)&&typeof r!="function",fun:r=>typeof r=="function",str:r=>typeof r=="string",num:r=>typeof r=="number",boo:r=>typeof r=="boolean",und:r=>r===void 0,arr:r=>Array.isArray(r),equ(r,e,{arrays:t="shallow",objects:n="reference",strict:i=!0}={}){if(typeof r!=typeof e||!!r!=!!e)return!1;if(Gn.str(r)||Gn.num(r)||Gn.boo(r))return r===e;const s=Gn.obj(r);if(s&&n==="reference")return r===e;const o=Gn.arr(r);if(o&&t==="reference")return r===e;if((o||s)&&r===e)return!0;let l;for(l in r)if(!(l in e))return!1;if(s&&t==="shallow"&&n==="shallow"){for(l in i?e:r)if(!Gn.equ(r[l],e[l],{strict:i,objects:"reference"}))return!1}else for(l in i?e:r)if(r[l]!==e[l])return!1;if(Gn.und(l)){if(o&&r.length===0&&e.length===0||s&&Object.keys(r).length===0&&Object.keys(e).length===0)return!0;if(r!==e)return!1}return!0}};function uB(r){r.dispose&&r.type!=="Scene"&&r.dispose();for(const e in r)e.dispose==null||e.dispose(),delete r[e]}function Hd(r,e){const t=r;return t.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e},r}function k2(r,e){let t=r;if(e.includes("-")){const n=e.split("-"),i=n.pop();return t=n.reduce((s,o)=>s[o],r),{target:t,key:i}}else return{target:t,key:e}}const H_=/-\d+$/;function C0(r,e,t){if(Gn.str(t)){if(H_.test(t)){const s=t.replace(H_,""),{target:o,key:l}=k2(r,s);Array.isArray(o[l])||(o[l]=[])}const{target:n,key:i}=k2(r,t);e.__r3f.previousAttach=n[i],n[i]=e}else e.__r3f.previousAttach=t(r,e)}function G_(r,e,t){var n,i;if(Gn.str(t)){const{target:s,key:o}=k2(r,t),l=e.__r3f.previousAttach;l===void 0?delete s[o]:s[o]=l}else(n=e.__r3f)==null||n.previousAttach==null||n.previousAttach(r,e);(i=e.__r3f)==null||delete i.previousAttach}function xA(r,{children:e,key:t,ref:n,...i},{children:s,key:o,ref:l,...c}={},d=!1){const h=r.__r3f,m=Object.entries(i),y=[];if(d){const C=Object.keys(c);for(let b=0;b<C.length;b++)i.hasOwnProperty(C[b])||m.unshift([C[b],yA+"remove"])}m.forEach(([C,b])=>{var _;if((_=r.__r3f)!=null&&_.primitive&&C==="object"||Gn.equ(b,c[C]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(C))return y.push([C,b,!0,[]]);let S=[];C.includes("-")&&(S=C.split("-")),y.push([C,b,!1,S]);for(const A in i){const E=i[A];A.startsWith(`${C}-`)&&y.push([A,E,!1,A.split("-")])}});const v={...i};return h!=null&&h.memoizedProps&&h!=null&&h.memoizedProps.args&&(v.args=h.memoizedProps.args),h!=null&&h.memoizedProps&&h!=null&&h.memoizedProps.attach&&(v.attach=h.memoizedProps.attach),{memoized:v,changes:y}}function w0(r,e){var t;const n=r.__r3f,i=n==null?void 0:n.root,s=i==null||i.getState==null?void 0:i.getState(),{memoized:o,changes:l}=cB(e)?e:xA(r,e),c=n==null?void 0:n.eventCount;r.__r3f&&(r.__r3f.memoizedProps=o);for(let y=0;y<l.length;y++){let[v,C,b,_]=l[y];if(x0(r)){const P="srgb",I="srgb-linear";v==="encoding"?(v="colorSpace",C=C===3001?P:I):v==="outputEncoding"&&(v="outputColorSpace",C=C===3001?P:I)}let S=r,A=S[v];if(_.length&&(A=_.reduce((E,P)=>E[P],r),!(A&&A.set))){const[E,...P]=_.reverse();S=P.reverse().reduce((I,k)=>I[k],r),v=E}if(C===yA+"remove")if(S.constructor){let E=V_.get(S.constructor);E||(E=new S.constructor,V_.set(S.constructor,E)),C=E[v]}else C=0;if(b&&n)C?n.handlers[v]=C:delete n.handlers[v],n.eventCount=Object.keys(n.handlers).length;else if(A&&A.set&&(A.copy||A instanceof uu)){if(Array.isArray(C))A.fromArray?A.fromArray(C):A.set(...C);else if(A.copy&&C&&C.constructor&&A.constructor===C.constructor)A.copy(C);else if(C!==void 0){var d;const E=(d=A)==null?void 0:d.isColor;!E&&A.setScalar?A.setScalar(C):A instanceof uu&&C instanceof uu?A.mask=C.mask:A.set(C),!hA()&&s&&!s.linear&&E&&A.convertSRGBToLinear()}}else{var h;if(S[v]=C,(h=S[v])!=null&&h.isTexture&&S[v].format===cs&&S[v].type===ea&&s){const E=S[v];x0(E)&&x0(s.gl)?E.colorSpace=s.gl.outputColorSpace:E.encoding=s.gl.outputEncoding}}Gd(r)}if(n&&n.parent&&r.raycast&&c!==n.eventCount){const y=Pg(r).getState().internal,v=y.interaction.indexOf(r);v>-1&&y.interaction.splice(v,1),n.eventCount&&y.interaction.push(r)}return!(l.length===1&&l[0][0]==="onUpdate")&&l.length&&(t=r.__r3f)!=null&&t.parent&&N2(r),r}function Gd(r){var e,t;const n=(e=r.__r3f)==null||(t=e.root)==null||t.getState==null?void 0:t.getState();n&&n.internal.frames===0&&n.invalidate()}function N2(r){r.onUpdate==null||r.onUpdate(r)}function dB(r,e){r.manual||(pA(r)?(r.left=e.width/-2,r.right=e.width/2,r.top=e.height/2,r.bottom=e.height/-2):r.aspect=e.width/e.height,r.updateProjectionMatrix(),r.updateMatrixWorld())}function pg(r){return(r.eventObject||r.object).uuid+"/"+r.index+r.instanceId}function fB(){var r;const e=typeof self<"u"&&self||typeof window<"u"&&window;if(!e)return Qd.DefaultEventPriority;switch((r=e.event)==null?void 0:r.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return Qd.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return Qd.ContinuousEventPriority;default:return Qd.DefaultEventPriority}}function CA(r,e,t,n){const i=t.get(e);i&&(t.delete(e),t.size===0&&(r.delete(n),i.target.releasePointerCapture(n)))}function hB(r,e){const{internal:t}=r.getState();t.interaction=t.interaction.filter(n=>n!==e),t.initialHits=t.initialHits.filter(n=>n!==e),t.hovered.forEach((n,i)=>{(n.eventObject===e||n.object===e)&&t.hovered.delete(i)}),t.capturedMap.forEach((n,i)=>{CA(t.capturedMap,e,n,i)})}function pB(r){function e(c){const{internal:d}=r.getState(),h=c.offsetX-d.initialClick[0],m=c.offsetY-d.initialClick[1];return Math.round(Math.sqrt(h*h+m*m))}function t(c){return c.filter(d=>["Move","Over","Enter","Out","Leave"].some(h=>{var m;return(m=d.__r3f)==null?void 0:m.handlers["onPointer"+h]}))}function n(c,d){const h=r.getState(),m=new Set,y=[],v=d?d(h.internal.interaction):h.internal.interaction;for(let S=0;S<v.length;S++){const A=xh(v[S]);A&&(A.raycaster.camera=void 0)}h.previousRoot||h.events.compute==null||h.events.compute(c,h);function C(S){const A=xh(S);if(!A||!A.events.enabled||A.raycaster.camera===null)return[];if(A.raycaster.camera===void 0){var E;A.events.compute==null||A.events.compute(c,A,(E=A.previousRoot)==null?void 0:E.getState()),A.raycaster.camera===void 0&&(A.raycaster.camera=null)}return A.raycaster.camera?A.raycaster.intersectObject(S,!0):[]}let b=v.flatMap(C).sort((S,A)=>{const E=xh(S.object),P=xh(A.object);return!E||!P?S.distance-A.distance:P.events.priority-E.events.priority||S.distance-A.distance}).filter(S=>{const A=pg(S);return m.has(A)?!1:(m.add(A),!0)});h.events.filter&&(b=h.events.filter(b,h));for(const S of b){let A=S.object;for(;A;){var _;(_=A.__r3f)!=null&&_.eventCount&&y.push({...S,eventObject:A}),A=A.parent}}if("pointerId"in c&&h.internal.capturedMap.has(c.pointerId))for(let S of h.internal.capturedMap.get(c.pointerId).values())m.has(pg(S.intersection))||y.push(S.intersection);return y}function i(c,d,h,m){const y=r.getState();if(c.length){const v={stopped:!1};for(const C of c){const b=xh(C.object)||y,{raycaster:_,pointer:S,camera:A,internal:E}=b,P=new $(S.x,S.y,0).unproject(A),I=O=>{var Q,q;return(Q=(q=E.capturedMap.get(O))==null?void 0:q.has(C.eventObject))!=null?Q:!1},k=O=>{const Q={intersection:C,target:d.target};E.capturedMap.has(O)?E.capturedMap.get(O).set(C.eventObject,Q):E.capturedMap.set(O,new Map([[C.eventObject,Q]])),d.target.setPointerCapture(O)},F=O=>{const Q=E.capturedMap.get(O);Q&&CA(E.capturedMap,C.eventObject,Q,O)};let V={};for(let O in d){let Q=d[O];typeof Q!="function"&&(V[O]=Q)}let U={...C,...V,pointer:S,intersections:c,stopped:v.stopped,delta:h,unprojectedPoint:P,ray:_.ray,camera:A,stopPropagation(){const O="pointerId"in d&&E.capturedMap.get(d.pointerId);if((!O||O.has(C.eventObject))&&(U.stopped=v.stopped=!0,E.hovered.size&&Array.from(E.hovered.values()).find(Q=>Q.eventObject===C.eventObject))){const Q=c.slice(0,c.indexOf(C));s([...Q,C])}},target:{hasPointerCapture:I,setPointerCapture:k,releasePointerCapture:F},currentTarget:{hasPointerCapture:I,setPointerCapture:k,releasePointerCapture:F},nativeEvent:d};if(m(U),v.stopped===!0)break}}return c}function s(c){const{internal:d}=r.getState();for(const h of d.hovered.values())if(!c.length||!c.find(m=>m.object===h.object&&m.index===h.index&&m.instanceId===h.instanceId)){const y=h.eventObject.__r3f,v=y==null?void 0:y.handlers;if(d.hovered.delete(pg(h)),y!=null&&y.eventCount){const C={...h,intersections:c};v.onPointerOut==null||v.onPointerOut(C),v.onPointerLeave==null||v.onPointerLeave(C)}}}function o(c,d){for(let h=0;h<d.length;h++){const m=d[h].__r3f;m==null||m.handlers.onPointerMissed==null||m.handlers.onPointerMissed(c)}}function l(c){switch(c){case"onPointerLeave":case"onPointerCancel":return()=>s([]);case"onLostPointerCapture":return d=>{const{internal:h}=r.getState();"pointerId"in d&&h.capturedMap.has(d.pointerId)&&requestAnimationFrame(()=>{h.capturedMap.has(d.pointerId)&&(h.capturedMap.delete(d.pointerId),s([]))})}}return function(h){const{onPointerMissed:m,internal:y}=r.getState();y.lastEvent.current=h;const v=c==="onPointerMove",C=c==="onClick"||c==="onContextMenu"||c==="onDoubleClick",_=n(h,v?t:void 0),S=C?e(h):0;c==="onPointerDown"&&(y.initialClick=[h.offsetX,h.offsetY],y.initialHits=_.map(E=>E.eventObject)),C&&!_.length&&S<=2&&(o(h,y.interaction),m&&m(h)),v&&s(_);function A(E){const P=E.eventObject,I=P.__r3f,k=I==null?void 0:I.handlers;if(I!=null&&I.eventCount)if(v){if(k.onPointerOver||k.onPointerEnter||k.onPointerOut||k.onPointerLeave){const F=pg(E),V=y.hovered.get(F);V?V.stopped&&E.stopPropagation():(y.hovered.set(F,E),k.onPointerOver==null||k.onPointerOver(E),k.onPointerEnter==null||k.onPointerEnter(E))}k.onPointerMove==null||k.onPointerMove(E)}else{const F=k[c];F?(!C||y.initialHits.includes(P))&&(o(h,y.interaction.filter(V=>!y.initialHits.includes(V))),F(E)):C&&y.initialHits.includes(P)&&o(h,y.interaction.filter(V=>!y.initialHits.includes(V)))}}i(_,h,S,A)}}return{handlePointer:l}}const wA=r=>!!(r!=null&&r.render),_A=ue.createContext(null),mB=(r,e)=>{const t=X4((l,c)=>{const d=new $,h=new $,m=new $;function y(S=c().camera,A=h,E=c().size){const{width:P,height:I,top:k,left:F}=E,V=P/I;A.isVector3?m.copy(A):m.set(...A);const U=S.getWorldPosition(d).distanceTo(m);if(pA(S))return{width:P/S.zoom,height:I/S.zoom,top:k,left:F,factor:1,distance:U,aspect:V};{const O=S.fov*Math.PI/180,Q=2*Math.tan(O/2)*U,q=Q*(P/I);return{width:q,height:Q,top:k,left:F,factor:P/q,distance:U,aspect:V}}}let v;const C=S=>l(A=>({performance:{...A.performance,current:S}})),b=new qe;return{set:l,get:c,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(S=1)=>r(c(),S),advance:(S,A)=>e(S,A,c()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new Jx,pointer:b,mouse:b,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const S=c();v&&clearTimeout(v),S.performance.current!==S.performance.min&&C(S.performance.min),v=setTimeout(()=>C(c().performance.max),S.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:y},setEvents:S=>l(A=>({...A,events:{...A.events,...S}})),setSize:(S,A,E,P,I)=>{const k=c().camera,F={width:S,height:A,top:P||0,left:I||0,updateStyle:E};l(V=>({size:F,viewport:{...V.viewport,...y(k,h,F)}}))},setDpr:S=>l(A=>{const E=vA(S);return{viewport:{...A.viewport,dpr:E,initialDpr:A.viewport.initialDpr||E}}}),setFrameloop:(S="always")=>{const A=c().clock;A.stop(),A.elapsedTime=0,S!=="never"&&(A.start(),A.elapsedTime=0),l(()=>({frameloop:S}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:ue.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(S,A,E)=>{const P=c().internal;return P.priority=P.priority+(A>0?1:0),P.subscribers.push({ref:S,priority:A,store:E}),P.subscribers=P.subscribers.sort((I,k)=>I.priority-k.priority),()=>{const I=c().internal;I!=null&&I.subscribers&&(I.priority=I.priority-(A>0?1:0),I.subscribers=I.subscribers.filter(k=>k.ref!==S))}}}}}),n=t.getState();let i=n.size,s=n.viewport.dpr,o=n.camera;return t.subscribe(()=>{const{camera:l,size:c,viewport:d,gl:h,set:m}=t.getState();if(c.width!==i.width||c.height!==i.height||d.dpr!==s){var y;i=c,s=d.dpr,dB(l,c),h.setPixelRatio(d.dpr);const v=(y=c.updateStyle)!=null?y:typeof HTMLCanvasElement<"u"&&h.domElement instanceof HTMLCanvasElement;h.setSize(c.width,c.height,v)}l!==o&&(o=l,m(v=>({viewport:{...v.viewport,...v.viewport.getCurrentViewport(l)}})))}),t.subscribe(l=>r(l)),t};let mg,gB=new Set,yB=new Set,vB=new Set;function _0(r,e){if(r.size)for(const{callback:t}of r.values())t(e)}function Ch(r,e){switch(r){case"before":return _0(gB,e);case"after":return _0(yB,e);case"tail":return _0(vB,e)}}let S0,b0;function M0(r,e,t){let n=e.clock.getDelta();for(e.frameloop==="never"&&typeof r=="number"&&(n=r-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=r),S0=e.internal.subscribers,mg=0;mg<S0.length;mg++)b0=S0[mg],b0.ref.current(b0.store.getState(),n,t);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function xB(r){let e=!1,t=!1,n,i,s;function o(d){i=requestAnimationFrame(o),e=!0,n=0,Ch("before",d),t=!0;for(const m of r.values()){var h;s=m.store.getState(),s.internal.active&&(s.frameloop==="always"||s.internal.frames>0)&&!((h=s.gl.xr)!=null&&h.isPresenting)&&(n+=M0(d,s))}if(t=!1,Ch("after",d),n===0)return Ch("tail",d),e=!1,cancelAnimationFrame(i)}function l(d,h=1){var m;if(!d)return r.forEach(y=>l(y.store.getState(),h));(m=d.gl.xr)!=null&&m.isPresenting||!d.internal.active||d.frameloop==="never"||(h>1?d.internal.frames=Math.min(60,d.internal.frames+h):t?d.internal.frames=2:d.internal.frames=1,e||(e=!0,requestAnimationFrame(o)))}function c(d,h=!0,m,y){if(h&&Ch("before",d),m)M0(d,m,y);else for(const v of r.values())M0(d,v.store.getState());h&&Ch("after",d)}return{loop:o,invalidate:l,advance:c}}function SA(){const r=ue.useContext(_A);if(!r)throw new Error("R3F: Hooks can only be used within the Canvas component!");return r}function Ba(r=t=>t,e){return SA()(r,e)}function Eu(r,e=0){const t=SA(),n=t.getState().internal.subscribe,i=mA(r);return Ap(()=>n(i,e,t),[e,n,t]),null}const lf=new Map,{invalidate:W_,advance:j_}=xB(lf),{reconciler:Yg,applyProps:Fd}=oB(lf,fB),Bd={objects:"shallow",strict:!1},CB=(r,e)=>{const t=typeof r=="function"?r(e):r;return wA(t)?t:new Lx({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...r})};function wB(r,e){const t=typeof HTMLCanvasElement<"u"&&r instanceof HTMLCanvasElement;if(e){const{width:n,height:i,top:s,left:o,updateStyle:l=t}=e;return{width:n,height:i,top:s,left:o,updateStyle:l}}else if(typeof HTMLCanvasElement<"u"&&r instanceof HTMLCanvasElement&&r.parentElement){const{width:n,height:i,top:s,left:o}=r.parentElement.getBoundingClientRect();return{width:n,height:i,top:s,left:o,updateStyle:t}}else if(typeof OffscreenCanvas<"u"&&r instanceof OffscreenCanvas)return{width:r.width,height:r.height,top:0,left:0,updateStyle:t};return{width:0,height:0,top:0,left:0}}function _B(r){const e=lf.get(r),t=e==null?void 0:e.fiber,n=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const i=typeof reportError=="function"?reportError:console.error,s=n||mB(W_,j_),o=t||Yg.createContainer(s,Qd.ConcurrentRoot,null,!1,null,"",i,null);e||lf.set(r,{fiber:o,store:s});let l,c=!1,d;return{configure(h={}){let{gl:m,size:y,scene:v,events:C,onCreated:b,shadows:_=!1,linear:S=!1,flat:A=!1,legacy:E=!1,orthographic:P=!1,frameloop:I="always",dpr:k=[1,2],performance:F,raycaster:V,camera:U,onPointerMissed:O}=h,Q=s.getState(),q=Q.gl;Q.gl||Q.set({gl:q=CB(m,r)});let te=Q.raycaster;te||Q.set({raycaster:te=new dA});const{params:X,...le}=V||{};if(Gn.equ(le,te,Bd)||Fd(te,{...le}),Gn.equ(X,te.params,Bd)||Fd(te,{params:{...te.params,...X}}),!Q.camera||Q.camera===d&&!Gn.equ(d,U,Bd)){d=U;const G=U instanceof wp,D=G?U:P?new Yl(0,0,0,0,.1,1e3):new xr(75,0,.1,1e3);G||(D.position.z=5,U&&(Fd(D,U),("aspect"in U||"left"in U||"right"in U||"bottom"in U||"top"in U)&&(D.manual=!0,D.updateProjectionMatrix())),!Q.camera&&!(U!=null&&U.rotation)&&D.lookAt(0,0,0)),Q.set({camera:D}),te.camera=D}if(!Q.scene){let G;v!=null&&v.isScene?G=v:(G=new Ix,v&&Fd(G,v)),Q.set({scene:Hd(G)})}if(!Q.xr){var re;const G=(ee,ie)=>{const se=s.getState();se.frameloop!=="never"&&j_(ee,!0,se,ie)},D=()=>{const ee=s.getState();ee.gl.xr.enabled=ee.gl.xr.isPresenting,ee.gl.xr.setAnimationLoop(ee.gl.xr.isPresenting?G:null),ee.gl.xr.isPresenting||W_(ee)},B={connect(){const ee=s.getState().gl;ee.xr.addEventListener("sessionstart",D),ee.xr.addEventListener("sessionend",D)},disconnect(){const ee=s.getState().gl;ee.xr.removeEventListener("sessionstart",D),ee.xr.removeEventListener("sessionend",D)}};typeof((re=q.xr)==null?void 0:re.addEventListener)=="function"&&B.connect(),Q.set({xr:B})}if(q.shadowMap){const G=q.shadowMap.enabled,D=q.shadowMap.type;if(q.shadowMap.enabled=!!_,Gn.boo(_))q.shadowMap.type=Rh;else if(Gn.str(_)){var de;const B={basic:sM,percentage:oy,soft:Rh,variance:Eo};q.shadowMap.type=(de=B[_])!=null?de:Rh}else Gn.obj(_)&&Object.assign(q.shadowMap,_);(G!==q.shadowMap.enabled||D!==q.shadowMap.type)&&(q.shadowMap.needsUpdate=!0)}const j=hA();j&&("enabled"in j?j.enabled=!E:"legacyMode"in j&&(j.legacyMode=E)),c||Fd(q,{outputEncoding:S?3e3:3001,toneMapping:A?$o:px}),Q.legacy!==E&&Q.set(()=>({legacy:E})),Q.linear!==S&&Q.set(()=>({linear:S})),Q.flat!==A&&Q.set(()=>({flat:A})),m&&!Gn.fun(m)&&!wA(m)&&!Gn.equ(m,q,Bd)&&Fd(q,m),C&&!Q.events.handlers&&Q.set({events:C(s)});const Y=wB(r,y);return Gn.equ(Y,Q.size,Bd)||Q.setSize(Y.width,Y.height,Y.updateStyle,Y.top,Y.left),k&&Q.viewport.dpr!==vA(k)&&Q.setDpr(k),Q.frameloop!==I&&Q.setFrameloop(I),Q.onPointerMissed||Q.set({onPointerMissed:O}),F&&!Gn.equ(F,Q.performance,Bd)&&Q.set(G=>({performance:{...G.performance,...F}})),l=b,c=!0,this},render(h){return c||this.configure(),Yg.updateContainer(z.jsx(SB,{store:s,children:h,onCreated:l,rootElement:r}),o,null,()=>{}),s},unmount(){bA(r)}}}function SB({store:r,children:e,onCreated:t,rootElement:n}){return Ap(()=>{const i=r.getState();i.set(s=>({internal:{...s.internal,active:!0}})),t&&t(i),r.getState().events.connected||i.events.connect==null||i.events.connect(n)},[]),z.jsx(_A.Provider,{value:r,children:e})}function bA(r,e){const t=lf.get(r),n=t==null?void 0:t.fiber;if(n){const i=t==null?void 0:t.store.getState();i&&(i.internal.active=!1),Yg.updateContainer(null,n,null,()=>{i&&setTimeout(()=>{try{var s,o,l,c;i.events.disconnect==null||i.events.disconnect(),(s=i.gl)==null||(o=s.renderLists)==null||o.dispose==null||o.dispose(),(l=i.gl)==null||l.forceContextLoss==null||l.forceContextLoss(),(c=i.gl)!=null&&c.xr&&i.xr.disconnect(),uB(i),lf.delete(r)}catch{}},500)})}}Yg.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:ue.version});const E0={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function bB(r){const{handlePointer:e}=pB(r);return{priority:1,enabled:!0,compute(t,n,i){n.pointer.set(t.offsetX/n.size.width*2-1,-(t.offsetY/n.size.height)*2+1),n.raycaster.setFromCamera(n.pointer,n.camera)},connected:void 0,handlers:Object.keys(E0).reduce((t,n)=>({...t,[n]:e(n)}),{}),update:()=>{var t;const{events:n,internal:i}=r.getState();(t=i.lastEvent)!=null&&t.current&&n.handlers&&n.handlers.onPointerMove(i.lastEvent.current)},connect:t=>{var n;const{set:i,events:s}=r.getState();s.disconnect==null||s.disconnect(),i(o=>({events:{...o.events,connected:t}})),Object.entries((n=s.handlers)!=null?n:[]).forEach(([o,l])=>{const[c,d]=E0[o];t.addEventListener(c,l,{passive:d})})},disconnect:()=>{const{set:t,events:n}=r.getState();if(n.connected){var i;Object.entries((i=n.handlers)!=null?i:[]).forEach(([s,o])=>{if(n&&n.connected instanceof HTMLElement){const[l]=E0[s];n.connected.removeEventListener(l,o)}}),t(s=>({events:{...s.events,connected:void 0}}))}}}}function X_(r,e){let t;return(...n)=>{window.clearTimeout(t),t=window.setTimeout(()=>r(...n),e)}}function MB({debounce:r,scroll:e,polyfill:t,offsetSize:n}={debounce:0,scroll:!1,offsetSize:!1}){const i=t||(typeof window>"u"?class{}:window.ResizeObserver);if(!i)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[s,o]=ue.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),l=ue.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:s,orientationHandler:null}),c=r?typeof r=="number"?r:r.scroll:null,d=r?typeof r=="number"?r:r.resize:null,h=ue.useRef(!1);ue.useEffect(()=>(h.current=!0,()=>void(h.current=!1)));const[m,y,v]=ue.useMemo(()=>{const S=()=>{if(!l.current.element)return;const{left:A,top:E,width:P,height:I,bottom:k,right:F,x:V,y:U}=l.current.element.getBoundingClientRect(),O={left:A,top:E,width:P,height:I,bottom:k,right:F,x:V,y:U};l.current.element instanceof HTMLElement&&n&&(O.height=l.current.element.offsetHeight,O.width=l.current.element.offsetWidth),Object.freeze(O),h.current&&!PB(l.current.lastBounds,O)&&o(l.current.lastBounds=O)};return[S,d?X_(S,d):S,c?X_(S,c):S]},[o,n,c,d]);function C(){l.current.scrollContainers&&(l.current.scrollContainers.forEach(S=>S.removeEventListener("scroll",v,!0)),l.current.scrollContainers=null),l.current.resizeObserver&&(l.current.resizeObserver.disconnect(),l.current.resizeObserver=null),l.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",l.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",l.current.orientationHandler))}function b(){l.current.element&&(l.current.resizeObserver=new i(v),l.current.resizeObserver.observe(l.current.element),e&&l.current.scrollContainers&&l.current.scrollContainers.forEach(S=>S.addEventListener("scroll",v,{capture:!0,passive:!0})),l.current.orientationHandler=()=>{v()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",l.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",l.current.orientationHandler))}const _=S=>{!S||S===l.current.element||(C(),l.current.element=S,l.current.scrollContainers=MA(S),b())};return AB(v,!!e),EB(y),ue.useEffect(()=>{C(),b()},[e,v,y]),ue.useEffect(()=>C,[]),[_,s,m]}function EB(r){ue.useEffect(()=>{const e=r;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[r])}function AB(r,e){ue.useEffect(()=>{if(e){const t=r;return window.addEventListener("scroll",t,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",t,!0)}},[r,e])}function MA(r){const e=[];if(!r||r===document.body)return e;const{overflow:t,overflowX:n,overflowY:i}=window.getComputedStyle(r);return[t,n,i].some(s=>s==="auto"||s==="scroll")&&e.push(r),[...e,...MA(r.parentElement)]}const TB=["x","y","top","bottom","left","right","width","height"],PB=(r,e)=>TB.every(t=>r[t]===e[t]);var RB=Object.defineProperty,DB=Object.defineProperties,LB=Object.getOwnPropertyDescriptors,Y_=Object.getOwnPropertySymbols,IB=Object.prototype.hasOwnProperty,UB=Object.prototype.propertyIsEnumerable,q_=(r,e,t)=>e in r?RB(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,K_=(r,e)=>{for(var t in e||(e={}))IB.call(e,t)&&q_(r,t,e[t]);if(Y_)for(var t of Y_(e))UB.call(e,t)&&q_(r,t,e[t]);return r},kB=(r,e)=>DB(r,LB(e)),Z_,J_;typeof window<"u"&&((Z_=window.document)!=null&&Z_.createElement||((J_=window.navigator)==null?void 0:J_.product)==="ReactNative")?ue.useLayoutEffect:ue.useEffect;function EA(r,e,t){if(!r)return;if(t(r)===!0)return r;let n=r.child;for(;n;){const i=EA(n,e,t);if(i)return i;n=n.sibling}}function AA(r){try{return Object.defineProperties(r,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return r}}const Q_=console.error;console.error=function(){const r=[...arguments].join("");if(r!=null&&r.startsWith("Warning:")&&r.includes("useContext")){console.error=Q_;return}return Q_.apply(this,arguments)};const n1=AA(ue.createContext(null));class TA extends ue.Component{render(){return ue.createElement(n1.Provider,{value:this._reactInternals},this.props.children)}}function NB(){const r=ue.useContext(n1);if(r===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=ue.useId();return ue.useMemo(()=>{for(const n of[r,r==null?void 0:r.alternate]){if(!n)continue;const i=EA(n,!1,s=>{let o=s.memoizedState;for(;o;){if(o.memoizedState===e)return!0;o=o.next}});if(i)return i}},[r,e])}function OB(){const r=NB(),[e]=ue.useState(()=>new Map);e.clear();let t=r;for(;t;){if(t.type&&typeof t.type=="object"){const i=t.type._context===void 0&&t.type.Provider===t.type?t.type:t.type._context;i&&i!==n1&&!e.has(i)&&e.set(i,ue.useContext(AA(i)))}t=t.return}return e}function FB(){const r=OB();return ue.useMemo(()=>Array.from(r.keys()).reduce((e,t)=>n=>ue.createElement(e,null,ue.createElement(t.Provider,kB(K_({},n),{value:r.get(t)}))),e=>ue.createElement(TA,K_({},e))),[r])}const BB=ue.forwardRef(function({children:e,fallback:t,resize:n,style:i,gl:s,events:o=bB,eventSource:l,eventPrefix:c,shadows:d,linear:h,flat:m,legacy:y,orthographic:v,frameloop:C,dpr:b,performance:_,raycaster:S,camera:A,scene:E,onPointerMissed:P,onCreated:I,...k},F){ue.useMemo(()=>sB(V4),[]);const V=FB(),[U,O]=MB({scroll:!0,debounce:{scroll:50,resize:0},...n}),Q=ue.useRef(null),q=ue.useRef(null);ue.useImperativeHandle(F,()=>Q.current);const te=mA(P),[X,le]=ue.useState(!1),[re,de]=ue.useState(!1);if(X)throw X;if(re)throw re;const j=ue.useRef(null);Ap(()=>{const G=Q.current;O.width>0&&O.height>0&&G&&(j.current||(j.current=_B(G)),j.current.configure({gl:s,events:o,shadows:d,linear:h,flat:m,legacy:y,orthographic:v,frameloop:C,dpr:b,performance:_,raycaster:S,camera:A,scene:E,size:O,onPointerMissed:(...D)=>te.current==null?void 0:te.current(...D),onCreated:D=>{D.events.connect==null||D.events.connect(l?aB(l)?l.current:l:q.current),c&&D.setEvents({compute:(B,ee)=>{const ie=B[c+"X"],se=B[c+"Y"];ee.pointer.set(ie/ee.size.width*2-1,-(se/ee.size.height)*2+1),ee.raycaster.setFromCamera(ee.pointer,ee.camera)}}),I==null||I(D)}}),j.current.render(z.jsx(V,{children:z.jsx(gA,{set:de,children:z.jsx(ue.Suspense,{fallback:z.jsx(lB,{set:le}),children:e??null})})})))}),ue.useEffect(()=>{const G=Q.current;if(G)return()=>bA(G)},[]);const Y=l?"none":"auto";return z.jsx("div",{ref:q,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:Y,...i},...k,children:z.jsx("div",{ref:U,style:{width:"100%",height:"100%"},children:z.jsx("canvas",{ref:Q,style:{display:"block"},children:t})})})}),PA=ue.forwardRef(function(e,t){return z.jsx(TA,{children:z.jsx(BB,{...e,ref:t})})});function qg(){return qg=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},qg.apply(null,arguments)}var zB=Object.defineProperty,VB=(r,e,t)=>e in r?zB(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,HB=(r,e,t)=>(VB(r,e+"",t),t);class GB{constructor(){HB(this,"_listeners")}addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const n=this._listeners;n[e]===void 0&&(n[e]=[]),n[e].indexOf(t)===-1&&n[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const n=this._listeners;return n[e]!==void 0&&n[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const s=i.indexOf(t);s!==-1&&i.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const n=this._listeners[e.type];if(n!==void 0){e.target=this;const i=n.slice(0);for(let s=0,o=i.length;s<o;s++)i[s].call(this,e);e.target=null}}}var WB=Object.defineProperty,jB=(r,e,t)=>e in r?WB(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Gt=(r,e,t)=>(jB(r,typeof e!="symbol"?e+"":e,t),t);const gg=new _u,$_=new za,XB=Math.cos(70*(Math.PI/180)),eS=(r,e)=>(r%e+e)%e;let YB=class extends GB{constructor(e,t){super(),Gt(this,"object"),Gt(this,"domElement"),Gt(this,"enabled",!0),Gt(this,"target",new $),Gt(this,"minDistance",0),Gt(this,"maxDistance",1/0),Gt(this,"minZoom",0),Gt(this,"maxZoom",1/0),Gt(this,"minPolarAngle",0),Gt(this,"maxPolarAngle",Math.PI),Gt(this,"minAzimuthAngle",-1/0),Gt(this,"maxAzimuthAngle",1/0),Gt(this,"enableDamping",!1),Gt(this,"dampingFactor",.05),Gt(this,"enableZoom",!0),Gt(this,"zoomSpeed",1),Gt(this,"enableRotate",!0),Gt(this,"rotateSpeed",1),Gt(this,"enablePan",!0),Gt(this,"panSpeed",1),Gt(this,"screenSpacePanning",!0),Gt(this,"keyPanSpeed",7),Gt(this,"zoomToCursor",!1),Gt(this,"autoRotate",!1),Gt(this,"autoRotateSpeed",2),Gt(this,"reverseOrbit",!1),Gt(this,"reverseHorizontalOrbit",!1),Gt(this,"reverseVerticalOrbit",!1),Gt(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),Gt(this,"mouseButtons",{LEFT:Jc.ROTATE,MIDDLE:Jc.DOLLY,RIGHT:Jc.PAN}),Gt(this,"touches",{ONE:Qc.ROTATE,TWO:Qc.DOLLY_PAN}),Gt(this,"target0"),Gt(this,"position0"),Gt(this,"zoom0"),Gt(this,"_domElementKeyEvents",null),Gt(this,"getPolarAngle"),Gt(this,"getAzimuthalAngle"),Gt(this,"setPolarAngle"),Gt(this,"setAzimuthalAngle"),Gt(this,"getDistance"),Gt(this,"getZoomScale"),Gt(this,"listenToKeyEvents"),Gt(this,"stopListenToKeyEvents"),Gt(this,"saveState"),Gt(this,"reset"),Gt(this,"update"),Gt(this,"connect"),Gt(this,"dispose"),Gt(this,"dollyIn"),Gt(this,"dollyOut"),Gt(this,"getScale"),Gt(this,"setScale"),this.object=e,this.domElement=t,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>h.phi,this.getAzimuthalAngle=()=>h.theta,this.setPolarAngle=oe=>{let Te=eS(oe,2*Math.PI),Je=h.phi;Je<0&&(Je+=2*Math.PI),Te<0&&(Te+=2*Math.PI);let Ge=Math.abs(Te-Je);2*Math.PI-Ge<Ge&&(Te<Je?Te+=2*Math.PI:Je+=2*Math.PI),m.phi=Te-Je,n.update()},this.setAzimuthalAngle=oe=>{let Te=eS(oe,2*Math.PI),Je=h.theta;Je<0&&(Je+=2*Math.PI),Te<0&&(Te+=2*Math.PI);let Ge=Math.abs(Te-Je);2*Math.PI-Ge<Ge&&(Te<Je?Te+=2*Math.PI:Je+=2*Math.PI),m.theta=Te-Je,n.update()},this.getDistance=()=>n.object.position.distanceTo(n.target),this.listenToKeyEvents=oe=>{oe.addEventListener("keydown",Le),this._domElementKeyEvents=oe},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",Le),this._domElementKeyEvents=null},this.saveState=()=>{n.target0.copy(n.target),n.position0.copy(n.object.position),n.zoom0=n.object.zoom},this.reset=()=>{n.target.copy(n.target0),n.object.position.copy(n.position0),n.object.zoom=n.zoom0,n.object.updateProjectionMatrix(),n.dispatchEvent(i),n.update(),c=l.NONE},this.update=(()=>{const oe=new $,Te=new $(0,1,0),Je=new Ei().setFromUnitVectors(e.up,Te),Ge=Je.clone().invert(),nt=new $,ce=new Ei,ot=2*Math.PI;return function(){const be=n.object.position;Je.setFromUnitVectors(e.up,Te),Ge.copy(Je).invert(),oe.copy(be).sub(n.target),oe.applyQuaternion(Je),h.setFromVector3(oe),n.autoRotate&&c===l.NONE&&X(q()),n.enableDamping?(h.theta+=m.theta*n.dampingFactor,h.phi+=m.phi*n.dampingFactor):(h.theta+=m.theta,h.phi+=m.phi);let Qe=n.minAzimuthAngle,ft=n.maxAzimuthAngle;isFinite(Qe)&&isFinite(ft)&&(Qe<-Math.PI?Qe+=ot:Qe>Math.PI&&(Qe-=ot),ft<-Math.PI?ft+=ot:ft>Math.PI&&(ft-=ot),Qe<=ft?h.theta=Math.max(Qe,Math.min(ft,h.theta)):h.theta=h.theta>(Qe+ft)/2?Math.max(Qe,h.theta):Math.min(ft,h.theta)),h.phi=Math.max(n.minPolarAngle,Math.min(n.maxPolarAngle,h.phi)),h.makeSafe(),n.enableDamping===!0?n.target.addScaledVector(v,n.dampingFactor):n.target.add(v),n.zoomToCursor&&U||n.object.isOrthographicCamera?h.radius=ee(h.radius):h.radius=ee(h.radius*y),oe.setFromSpherical(h),oe.applyQuaternion(Ge),be.copy(n.target).add(oe),n.object.matrixAutoUpdate||n.object.updateMatrix(),n.object.lookAt(n.target),n.enableDamping===!0?(m.theta*=1-n.dampingFactor,m.phi*=1-n.dampingFactor,v.multiplyScalar(1-n.dampingFactor)):(m.set(0,0,0),v.set(0,0,0));let pt=!1;if(n.zoomToCursor&&U){let Ut=null;if(n.object instanceof xr&&n.object.isPerspectiveCamera){const sn=oe.length();Ut=ee(sn*y);const kt=sn-Ut;n.object.position.addScaledVector(F,kt),n.object.updateMatrixWorld()}else if(n.object.isOrthographicCamera){const sn=new $(V.x,V.y,0);sn.unproject(n.object),n.object.zoom=Math.max(n.minZoom,Math.min(n.maxZoom,n.object.zoom/y)),n.object.updateProjectionMatrix(),pt=!0;const kt=new $(V.x,V.y,0);kt.unproject(n.object),n.object.position.sub(kt).add(sn),n.object.updateMatrixWorld(),Ut=oe.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),n.zoomToCursor=!1;Ut!==null&&(n.screenSpacePanning?n.target.set(0,0,-1).transformDirection(n.object.matrix).multiplyScalar(Ut).add(n.object.position):(gg.origin.copy(n.object.position),gg.direction.set(0,0,-1).transformDirection(n.object.matrix),Math.abs(n.object.up.dot(gg.direction))<XB?e.lookAt(n.target):($_.setFromNormalAndCoplanarPoint(n.object.up,n.target),gg.intersectPlane($_,n.target))))}else n.object instanceof Yl&&n.object.isOrthographicCamera&&(pt=y!==1,pt&&(n.object.zoom=Math.max(n.minZoom,Math.min(n.maxZoom,n.object.zoom/y)),n.object.updateProjectionMatrix()));return y=1,U=!1,pt||nt.distanceToSquared(n.object.position)>d||8*(1-ce.dot(n.object.quaternion))>d?(n.dispatchEvent(i),nt.copy(n.object.position),ce.copy(n.object.quaternion),pt=!1,!0):!1}})(),this.connect=oe=>{n.domElement=oe,n.domElement.style.touchAction="none",n.domElement.addEventListener("contextmenu",et),n.domElement.addEventListener("pointerdown",ht),n.domElement.addEventListener("pointercancel",H),n.domElement.addEventListener("wheel",Se)},this.dispose=()=>{var oe,Te,Je,Ge,nt,ce;n.domElement&&(n.domElement.style.touchAction="auto"),(oe=n.domElement)==null||oe.removeEventListener("contextmenu",et),(Te=n.domElement)==null||Te.removeEventListener("pointerdown",ht),(Je=n.domElement)==null||Je.removeEventListener("pointercancel",H),(Ge=n.domElement)==null||Ge.removeEventListener("wheel",Se),(nt=n.domElement)==null||nt.ownerDocument.removeEventListener("pointermove",K),(ce=n.domElement)==null||ce.ownerDocument.removeEventListener("pointerup",H),n._domElementKeyEvents!==null&&n._domElementKeyEvents.removeEventListener("keydown",Le)};const n=this,i={type:"change"},s={type:"start"},o={type:"end"},l={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let c=l.NONE;const d=1e-6,h=new U2,m=new U2;let y=1;const v=new $,C=new qe,b=new qe,_=new qe,S=new qe,A=new qe,E=new qe,P=new qe,I=new qe,k=new qe,F=new $,V=new qe;let U=!1;const O=[],Q={};function q(){return 2*Math.PI/60/60*n.autoRotateSpeed}function te(){return Math.pow(.95,n.zoomSpeed)}function X(oe){n.reverseOrbit||n.reverseHorizontalOrbit?m.theta+=oe:m.theta-=oe}function le(oe){n.reverseOrbit||n.reverseVerticalOrbit?m.phi+=oe:m.phi-=oe}const re=(()=>{const oe=new $;return function(Je,Ge){oe.setFromMatrixColumn(Ge,0),oe.multiplyScalar(-Je),v.add(oe)}})(),de=(()=>{const oe=new $;return function(Je,Ge){n.screenSpacePanning===!0?oe.setFromMatrixColumn(Ge,1):(oe.setFromMatrixColumn(Ge,0),oe.crossVectors(n.object.up,oe)),oe.multiplyScalar(Je),v.add(oe)}})(),j=(()=>{const oe=new $;return function(Je,Ge){const nt=n.domElement;if(nt&&n.object instanceof xr&&n.object.isPerspectiveCamera){const ce=n.object.position;oe.copy(ce).sub(n.target);let ot=oe.length();ot*=Math.tan(n.object.fov/2*Math.PI/180),re(2*Je*ot/nt.clientHeight,n.object.matrix),de(2*Ge*ot/nt.clientHeight,n.object.matrix)}else nt&&n.object instanceof Yl&&n.object.isOrthographicCamera?(re(Je*(n.object.right-n.object.left)/n.object.zoom/nt.clientWidth,n.object.matrix),de(Ge*(n.object.top-n.object.bottom)/n.object.zoom/nt.clientHeight,n.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),n.enablePan=!1)}})();function Y(oe){n.object instanceof xr&&n.object.isPerspectiveCamera||n.object instanceof Yl&&n.object.isOrthographicCamera?y=oe:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),n.enableZoom=!1)}function G(oe){Y(y/oe)}function D(oe){Y(y*oe)}function B(oe){if(!n.zoomToCursor||!n.domElement)return;U=!0;const Te=n.domElement.getBoundingClientRect(),Je=oe.clientX-Te.left,Ge=oe.clientY-Te.top,nt=Te.width,ce=Te.height;V.x=Je/nt*2-1,V.y=-(Ge/ce)*2+1,F.set(V.x,V.y,1).unproject(n.object).sub(n.object.position).normalize()}function ee(oe){return Math.max(n.minDistance,Math.min(n.maxDistance,oe))}function ie(oe){C.set(oe.clientX,oe.clientY)}function se(oe){B(oe),P.set(oe.clientX,oe.clientY)}function pe(oe){S.set(oe.clientX,oe.clientY)}function me(oe){b.set(oe.clientX,oe.clientY),_.subVectors(b,C).multiplyScalar(n.rotateSpeed);const Te=n.domElement;Te&&(X(2*Math.PI*_.x/Te.clientHeight),le(2*Math.PI*_.y/Te.clientHeight)),C.copy(b),n.update()}function ve(oe){I.set(oe.clientX,oe.clientY),k.subVectors(I,P),k.y>0?G(te()):k.y<0&&D(te()),P.copy(I),n.update()}function ke(oe){A.set(oe.clientX,oe.clientY),E.subVectors(A,S).multiplyScalar(n.panSpeed),j(E.x,E.y),S.copy(A),n.update()}function $e(oe){B(oe),oe.deltaY<0?D(te()):oe.deltaY>0&&G(te()),n.update()}function Re(oe){let Te=!1;switch(oe.code){case n.keys.UP:j(0,n.keyPanSpeed),Te=!0;break;case n.keys.BOTTOM:j(0,-n.keyPanSpeed),Te=!0;break;case n.keys.LEFT:j(n.keyPanSpeed,0),Te=!0;break;case n.keys.RIGHT:j(-n.keyPanSpeed,0),Te=!0;break}Te&&(oe.preventDefault(),n.update())}function Z(){if(O.length==1)C.set(O[0].pageX,O[0].pageY);else{const oe=.5*(O[0].pageX+O[1].pageX),Te=.5*(O[0].pageY+O[1].pageY);C.set(oe,Te)}}function Oe(){if(O.length==1)S.set(O[0].pageX,O[0].pageY);else{const oe=.5*(O[0].pageX+O[1].pageX),Te=.5*(O[0].pageY+O[1].pageY);S.set(oe,Te)}}function Ce(){const oe=O[0].pageX-O[1].pageX,Te=O[0].pageY-O[1].pageY,Je=Math.sqrt(oe*oe+Te*Te);P.set(0,Je)}function Ne(){n.enableZoom&&Ce(),n.enablePan&&Oe()}function Ee(){n.enableZoom&&Ce(),n.enableRotate&&Z()}function rt(oe){if(O.length==1)b.set(oe.pageX,oe.pageY);else{const Je=lt(oe),Ge=.5*(oe.pageX+Je.x),nt=.5*(oe.pageY+Je.y);b.set(Ge,nt)}_.subVectors(b,C).multiplyScalar(n.rotateSpeed);const Te=n.domElement;Te&&(X(2*Math.PI*_.x/Te.clientHeight),le(2*Math.PI*_.y/Te.clientHeight)),C.copy(b)}function Ae(oe){if(O.length==1)A.set(oe.pageX,oe.pageY);else{const Te=lt(oe),Je=.5*(oe.pageX+Te.x),Ge=.5*(oe.pageY+Te.y);A.set(Je,Ge)}E.subVectors(A,S).multiplyScalar(n.panSpeed),j(E.x,E.y),S.copy(A)}function We(oe){const Te=lt(oe),Je=oe.pageX-Te.x,Ge=oe.pageY-Te.y,nt=Math.sqrt(Je*Je+Ge*Ge);I.set(0,nt),k.set(0,Math.pow(I.y/P.y,n.zoomSpeed)),G(k.y),P.copy(I)}function Ke(oe){n.enableZoom&&We(oe),n.enablePan&&Ae(oe)}function Me(oe){n.enableZoom&&We(oe),n.enableRotate&&rt(oe)}function ht(oe){var Te,Je;n.enabled!==!1&&(O.length===0&&((Te=n.domElement)==null||Te.ownerDocument.addEventListener("pointermove",K),(Je=n.domElement)==null||Je.ownerDocument.addEventListener("pointerup",H)),gt(oe),oe.pointerType==="touch"?tt(oe):fe(oe))}function K(oe){n.enabled!==!1&&(oe.pointerType==="touch"?Xe(oe):Ye(oe))}function H(oe){var Te,Je,Ge;yt(oe),O.length===0&&((Te=n.domElement)==null||Te.releasePointerCapture(oe.pointerId),(Je=n.domElement)==null||Je.ownerDocument.removeEventListener("pointermove",K),(Ge=n.domElement)==null||Ge.ownerDocument.removeEventListener("pointerup",H)),n.dispatchEvent(o),c=l.NONE}function fe(oe){let Te;switch(oe.button){case 0:Te=n.mouseButtons.LEFT;break;case 1:Te=n.mouseButtons.MIDDLE;break;case 2:Te=n.mouseButtons.RIGHT;break;default:Te=-1}switch(Te){case Jc.DOLLY:if(n.enableZoom===!1)return;se(oe),c=l.DOLLY;break;case Jc.ROTATE:if(oe.ctrlKey||oe.metaKey||oe.shiftKey){if(n.enablePan===!1)return;pe(oe),c=l.PAN}else{if(n.enableRotate===!1)return;ie(oe),c=l.ROTATE}break;case Jc.PAN:if(oe.ctrlKey||oe.metaKey||oe.shiftKey){if(n.enableRotate===!1)return;ie(oe),c=l.ROTATE}else{if(n.enablePan===!1)return;pe(oe),c=l.PAN}break;default:c=l.NONE}c!==l.NONE&&n.dispatchEvent(s)}function Ye(oe){if(n.enabled!==!1)switch(c){case l.ROTATE:if(n.enableRotate===!1)return;me(oe);break;case l.DOLLY:if(n.enableZoom===!1)return;ve(oe);break;case l.PAN:if(n.enablePan===!1)return;ke(oe);break}}function Se(oe){n.enabled===!1||n.enableZoom===!1||c!==l.NONE&&c!==l.ROTATE||(oe.preventDefault(),n.dispatchEvent(s),$e(oe),n.dispatchEvent(o))}function Le(oe){n.enabled===!1||n.enablePan===!1||Re(oe)}function tt(oe){switch(Ve(oe),O.length){case 1:switch(n.touches.ONE){case Qc.ROTATE:if(n.enableRotate===!1)return;Z(),c=l.TOUCH_ROTATE;break;case Qc.PAN:if(n.enablePan===!1)return;Oe(),c=l.TOUCH_PAN;break;default:c=l.NONE}break;case 2:switch(n.touches.TWO){case Qc.DOLLY_PAN:if(n.enableZoom===!1&&n.enablePan===!1)return;Ne(),c=l.TOUCH_DOLLY_PAN;break;case Qc.DOLLY_ROTATE:if(n.enableZoom===!1&&n.enableRotate===!1)return;Ee(),c=l.TOUCH_DOLLY_ROTATE;break;default:c=l.NONE}break;default:c=l.NONE}c!==l.NONE&&n.dispatchEvent(s)}function Xe(oe){switch(Ve(oe),c){case l.TOUCH_ROTATE:if(n.enableRotate===!1)return;rt(oe),n.update();break;case l.TOUCH_PAN:if(n.enablePan===!1)return;Ae(oe),n.update();break;case l.TOUCH_DOLLY_PAN:if(n.enableZoom===!1&&n.enablePan===!1)return;Ke(oe),n.update();break;case l.TOUCH_DOLLY_ROTATE:if(n.enableZoom===!1&&n.enableRotate===!1)return;Me(oe),n.update();break;default:c=l.NONE}}function et(oe){n.enabled!==!1&&oe.preventDefault()}function gt(oe){O.push(oe)}function yt(oe){delete Q[oe.pointerId];for(let Te=0;Te<O.length;Te++)if(O[Te].pointerId==oe.pointerId){O.splice(Te,1);return}}function Ve(oe){let Te=Q[oe.pointerId];Te===void 0&&(Te=new qe,Q[oe.pointerId]=Te),Te.set(oe.pageX,oe.pageY)}function lt(oe){const Te=oe.pointerId===O[0].pointerId?O[1]:O[0];return Q[Te.pointerId]}this.dollyIn=(oe=te())=>{D(oe),n.update()},this.dollyOut=(oe=te())=>{G(oe),n.update()},this.getScale=()=>y,this.setScale=oe=>{Y(oe),n.update()},this.getZoomScale=()=>te(),t!==void 0&&this.connect(t),this.update()}};function qB(){var r=Object.create(null);function e(i,s){var o=i.id,l=i.name,c=i.dependencies;c===void 0&&(c=[]);var d=i.init;d===void 0&&(d=function(){});var h=i.getTransferables;if(h===void 0&&(h=null),!r[o])try{c=c.map(function(y){return y&&y.isWorkerModule&&(e(y,function(v){if(v instanceof Error)throw v}),y=r[y.id].value),y}),d=n("<"+l+">.init",d),h&&(h=n("<"+l+">.getTransferables",h));var m=null;typeof d=="function"?m=d.apply(void 0,c):console.error("worker module init function failed to rehydrate"),r[o]={id:o,value:m,getTransferables:h},s(m)}catch(y){y&&y.noLog||console.error(y),s(y)}}function t(i,s){var o,l=i.id,c=i.args;(!r[l]||typeof r[l].value!="function")&&s(new Error("Worker module "+l+": not found or its 'init' did not return a function"));try{var d=(o=r[l]).value.apply(o,c);d&&typeof d.then=="function"?d.then(h,function(m){return s(m instanceof Error?m:new Error(""+m))}):h(d)}catch(m){s(m)}function h(m){try{var y=r[l].getTransferables&&r[l].getTransferables(m);(!y||!Array.isArray(y)||!y.length)&&(y=void 0),s(m,y)}catch(v){console.error(v),s(v)}}}function n(i,s){var o=void 0;self.troikaDefine=function(c){return o=c};var l=URL.createObjectURL(new Blob(["/** "+i.replace(/\*/g,"")+` **/

troikaDefine(
`+s+`
)`],{type:"application/javascript"}));try{importScripts(l)}catch(c){console.error(c)}return URL.revokeObjectURL(l),delete self.troikaDefine,o}self.addEventListener("message",function(i){var s=i.data,o=s.messageId,l=s.action,c=s.data;try{l==="registerModule"&&e(c,function(d){d instanceof Error?postMessage({messageId:o,success:!1,error:d.message}):postMessage({messageId:o,success:!0,result:{isCallable:typeof d=="function"}})}),l==="callModule"&&t(c,function(d,h){d instanceof Error?postMessage({messageId:o,success:!1,error:d.message}):postMessage({messageId:o,success:!0,result:d},h||void 0)})}catch(d){postMessage({messageId:o,success:!1,error:d.stack})}})}function KB(r){var e=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];return e._getInitResult().then(function(i){if(typeof i=="function")return i.apply(void 0,t);throw new Error("Worker module function was called but `init` did not return a callable function")})};return e._getInitResult=function(){var t=r.dependencies,n=r.init;t=Array.isArray(t)?t.map(function(s){return s&&(s=s.onMainThread||s,s._getInitResult&&(s=s._getInitResult())),s}):[];var i=Promise.all(t).then(function(s){return n.apply(null,s)});return e._getInitResult=function(){return i},i},e}var RA=function(){var r=!1;if(typeof window<"u"&&typeof window.document<"u")try{var e=new Worker(URL.createObjectURL(new Blob([""],{type:"application/javascript"})));e.terminate(),r=!0}catch(t){console.log("Troika createWorkerModule: web workers not allowed; falling back to main thread execution. Cause: ["+t.message+"]")}return RA=function(){return r},r},ZB=0,JB=0,A0=!1,Nh=Object.create(null),Oh=Object.create(null),O2=Object.create(null);function pf(r){if((!r||typeof r.init!="function")&&!A0)throw new Error("requires `options.init` function");var e=r.dependencies,t=r.init,n=r.getTransferables,i=r.workerId,s=KB(r);i==null&&(i="#default");var o="workerModule"+ ++ZB,l=r.name||o,c=null;e=e&&e.map(function(h){return typeof h=="function"&&!h.workerModuleData&&(A0=!0,h=pf({workerId:i,name:"<"+l+"> function dependency: "+h.name,init:`function(){return (
`+Rg(h)+`
)}`}),A0=!1),h&&h.workerModuleData&&(h=h.workerModuleData),h});function d(){for(var h=[],m=arguments.length;m--;)h[m]=arguments[m];if(!RA())return s.apply(void 0,h);if(!c){c=tS(i,"registerModule",d.workerModuleData);var y=function(){c=null,Oh[i].delete(y)};(Oh[i]||(Oh[i]=new Set)).add(y)}return c.then(function(v){var C=v.isCallable;if(C)return tS(i,"callModule",{id:o,args:h});throw new Error("Worker module function was called but `init` did not return a callable function")})}return d.workerModuleData={isWorkerModule:!0,id:o,name:l,dependencies:e,init:Rg(t),getTransferables:n&&Rg(n)},d.onMainThread=s,d}function QB(r){Oh[r]&&Oh[r].forEach(function(e){e()}),Nh[r]&&(Nh[r].terminate(),delete Nh[r])}function Rg(r){var e=r.toString();return!/^function/.test(e)&&/^\w+\s*\(/.test(e)&&(e="function "+e),e}function $B(r){var e=Nh[r];if(!e){var t=Rg(qB);e=Nh[r]=new Worker(URL.createObjectURL(new Blob(["/** Worker Module Bootstrap: "+r.replace(/\*/g,"")+` **/

;(`+t+")()"],{type:"application/javascript"}))),e.onmessage=function(n){var i=n.data,s=i.messageId,o=O2[s];if(!o)throw new Error("WorkerModule response with empty or unknown messageId");delete O2[s],o(i)}}return e}function tS(r,e,t){return new Promise(function(n,i){var s=++JB;O2[s]=function(o){o.success?n(o.result):i(new Error("Error in worker "+e+" call: "+o.error))},$B(r).postMessage({messageId:s,action:e,data:t})})}function DA(){var r=(function(e){function t(Y,G,D,B,ee,ie,se,pe){var me=1-se;pe.x=me*me*Y+2*me*se*D+se*se*ee,pe.y=me*me*G+2*me*se*B+se*se*ie}function n(Y,G,D,B,ee,ie,se,pe,me,ve){var ke=1-me;ve.x=ke*ke*ke*Y+3*ke*ke*me*D+3*ke*me*me*ee+me*me*me*se,ve.y=ke*ke*ke*G+3*ke*ke*me*B+3*ke*me*me*ie+me*me*me*pe}function i(Y,G){for(var D=/([MLQCZ])([^MLQCZ]*)/g,B,ee,ie,se,pe;B=D.exec(Y);){var me=B[2].replace(/^\s*|\s*$/g,"").split(/[,\s]+/).map(function(ve){return parseFloat(ve)});switch(B[1]){case"M":se=ee=me[0],pe=ie=me[1];break;case"L":(me[0]!==se||me[1]!==pe)&&G("L",se,pe,se=me[0],pe=me[1]);break;case"Q":{G("Q",se,pe,se=me[2],pe=me[3],me[0],me[1]);break}case"C":{G("C",se,pe,se=me[4],pe=me[5],me[0],me[1],me[2],me[3]);break}case"Z":(se!==ee||pe!==ie)&&G("L",se,pe,ee,ie);break}}}function s(Y,G,D){D===void 0&&(D=16);var B={x:0,y:0};i(Y,function(ee,ie,se,pe,me,ve,ke,$e,Re){switch(ee){case"L":G(ie,se,pe,me);break;case"Q":{for(var Z=ie,Oe=se,Ce=1;Ce<D;Ce++)t(ie,se,ve,ke,pe,me,Ce/(D-1),B),G(Z,Oe,B.x,B.y),Z=B.x,Oe=B.y;break}case"C":{for(var Ne=ie,Ee=se,rt=1;rt<D;rt++)n(ie,se,ve,ke,$e,Re,pe,me,rt/(D-1),B),G(Ne,Ee,B.x,B.y),Ne=B.x,Ee=B.y;break}}})}var o="precision highp float;attribute vec2 aUV;varying vec2 vUV;void main(){vUV=aUV;gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}",l="precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){gl_FragColor=texture2D(tex,vUV);}",c=new WeakMap,d={premultipliedAlpha:!1,preserveDrawingBuffer:!0,antialias:!1,depth:!1};function h(Y,G){var D=Y.getContext?Y.getContext("webgl",d):Y,B=c.get(D);if(!B){let Ne=function(Me){var ht=ie[Me];if(!ht&&(ht=ie[Me]=D.getExtension(Me),!ht))throw new Error(Me+" not supported");return ht},Ee=function(Me,ht){var K=D.createShader(ht);return D.shaderSource(K,Me),D.compileShader(K),K},rt=function(Me,ht,K,H){if(!se[Me]){var fe={},Ye={},Se=D.createProgram();D.attachShader(Se,Ee(ht,D.VERTEX_SHADER)),D.attachShader(Se,Ee(K,D.FRAGMENT_SHADER)),D.linkProgram(Se),se[Me]={program:Se,transaction:function(tt){D.useProgram(Se),tt({setUniform:function(et,gt){for(var yt=[],Ve=arguments.length-2;Ve-- >0;)yt[Ve]=arguments[Ve+2];var lt=Ye[gt]||(Ye[gt]=D.getUniformLocation(Se,gt));D["uniform"+et].apply(D,[lt].concat(yt))},setAttribute:function(et,gt,yt,Ve,lt){var oe=fe[et];oe||(oe=fe[et]={buf:D.createBuffer(),loc:D.getAttribLocation(Se,et),data:null}),D.bindBuffer(D.ARRAY_BUFFER,oe.buf),D.vertexAttribPointer(oe.loc,gt,D.FLOAT,!1,0,0),D.enableVertexAttribArray(oe.loc),ee?D.vertexAttribDivisor(oe.loc,Ve):Ne("ANGLE_instanced_arrays").vertexAttribDivisorANGLE(oe.loc,Ve),lt!==oe.data&&(D.bufferData(D.ARRAY_BUFFER,lt,yt),oe.data=lt)}})}}}se[Me].transaction(H)},Ae=function(Me,ht){me++;try{D.activeTexture(D.TEXTURE0+me);var K=pe[Me];K||(K=pe[Me]=D.createTexture(),D.bindTexture(D.TEXTURE_2D,K),D.texParameteri(D.TEXTURE_2D,D.TEXTURE_MIN_FILTER,D.NEAREST),D.texParameteri(D.TEXTURE_2D,D.TEXTURE_MAG_FILTER,D.NEAREST)),D.bindTexture(D.TEXTURE_2D,K),ht(K,me)}finally{me--}},We=function(Me,ht,K){var H=D.createFramebuffer();ve.push(H),D.bindFramebuffer(D.FRAMEBUFFER,H),D.activeTexture(D.TEXTURE0+ht),D.bindTexture(D.TEXTURE_2D,Me),D.framebufferTexture2D(D.FRAMEBUFFER,D.COLOR_ATTACHMENT0,D.TEXTURE_2D,Me,0);try{K(H)}finally{D.deleteFramebuffer(H),D.bindFramebuffer(D.FRAMEBUFFER,ve[--ve.length-1]||null)}},Ke=function(){ie={},se={},pe={},me=-1,ve.length=0};var ke=Ne,$e=Ee,Re=rt,Z=Ae,Oe=We,Ce=Ke,ee=typeof WebGL2RenderingContext<"u"&&D instanceof WebGL2RenderingContext,ie={},se={},pe={},me=-1,ve=[];D.canvas.addEventListener("webglcontextlost",function(Me){Ke(),Me.preventDefault()},!1),c.set(D,B={gl:D,isWebGL2:ee,getExtension:Ne,withProgram:rt,withTexture:Ae,withTextureFramebuffer:We,handleContextLoss:Ke})}G(B)}function m(Y,G,D,B,ee,ie,se,pe){se===void 0&&(se=15),pe===void 0&&(pe=null),h(Y,function(me){var ve=me.gl,ke=me.withProgram,$e=me.withTexture;$e("copy",function(Re,Z){ve.texImage2D(ve.TEXTURE_2D,0,ve.RGBA,ee,ie,0,ve.RGBA,ve.UNSIGNED_BYTE,G),ke("copy",o,l,function(Oe){var Ce=Oe.setUniform,Ne=Oe.setAttribute;Ne("aUV",2,ve.STATIC_DRAW,0,new Float32Array([0,0,2,0,0,2])),Ce("1i","image",Z),ve.bindFramebuffer(ve.FRAMEBUFFER,pe||null),ve.disable(ve.BLEND),ve.colorMask(se&8,se&4,se&2,se&1),ve.viewport(D,B,ee,ie),ve.scissor(D,B,ee,ie),ve.drawArrays(ve.TRIANGLES,0,3)})})})}function y(Y,G,D){var B=Y.width,ee=Y.height;h(Y,function(ie){var se=ie.gl,pe=new Uint8Array(B*ee*4);se.readPixels(0,0,B,ee,se.RGBA,se.UNSIGNED_BYTE,pe),Y.width=G,Y.height=D,m(se,pe,0,0,B,ee)})}var v=Object.freeze({__proto__:null,withWebGLContext:h,renderImageData:m,resizeWebGLCanvasWithoutClearing:y});function C(Y,G,D,B,ee,ie){ie===void 0&&(ie=1);var se=new Uint8Array(Y*G),pe=B[2]-B[0],me=B[3]-B[1],ve=[];s(D,function(Ne,Ee,rt,Ae){ve.push({x1:Ne,y1:Ee,x2:rt,y2:Ae,minX:Math.min(Ne,rt),minY:Math.min(Ee,Ae),maxX:Math.max(Ne,rt),maxY:Math.max(Ee,Ae)})}),ve.sort(function(Ne,Ee){return Ne.maxX-Ee.maxX});for(var ke=0;ke<Y;ke++)for(var $e=0;$e<G;$e++){var Re=Oe(B[0]+pe*(ke+.5)/Y,B[1]+me*($e+.5)/G),Z=Math.pow(1-Math.abs(Re)/ee,ie)/2;Re<0&&(Z=1-Z),Z=Math.max(0,Math.min(255,Math.round(Z*255))),se[$e*Y+ke]=Z}return se;function Oe(Ne,Ee){for(var rt=1/0,Ae=1/0,We=ve.length;We--;){var Ke=ve[We];if(Ke.maxX+Ae<=Ne)break;if(Ne+Ae>Ke.minX&&Ee-Ae<Ke.maxY&&Ee+Ae>Ke.minY){var Me=S(Ne,Ee,Ke.x1,Ke.y1,Ke.x2,Ke.y2);Me<rt&&(rt=Me,Ae=Math.sqrt(rt))}}return Ce(Ne,Ee)&&(Ae=-Ae),Ae}function Ce(Ne,Ee){for(var rt=0,Ae=ve.length;Ae--;){var We=ve[Ae];if(We.maxX<=Ne)break;var Ke=We.y1>Ee!=We.y2>Ee&&Ne<(We.x2-We.x1)*(Ee-We.y1)/(We.y2-We.y1)+We.x1;Ke&&(rt+=We.y1<We.y2?1:-1)}return rt!==0}}function b(Y,G,D,B,ee,ie,se,pe,me,ve){ie===void 0&&(ie=1),pe===void 0&&(pe=0),me===void 0&&(me=0),ve===void 0&&(ve=0),_(Y,G,D,B,ee,ie,se,null,pe,me,ve)}function _(Y,G,D,B,ee,ie,se,pe,me,ve,ke){ie===void 0&&(ie=1),me===void 0&&(me=0),ve===void 0&&(ve=0),ke===void 0&&(ke=0);for(var $e=C(Y,G,D,B,ee,ie),Re=new Uint8Array($e.length*4),Z=0;Z<$e.length;Z++)Re[Z*4+ke]=$e[Z];m(se,Re,me,ve,Y,G,1<<3-ke,pe)}function S(Y,G,D,B,ee,ie){var se=ee-D,pe=ie-B,me=se*se+pe*pe,ve=me?Math.max(0,Math.min(1,((Y-D)*se+(G-B)*pe)/me)):0,ke=Y-(D+ve*se),$e=G-(B+ve*pe);return ke*ke+$e*$e}var A=Object.freeze({__proto__:null,generate:C,generateIntoCanvas:b,generateIntoFramebuffer:_}),E="precision highp float;uniform vec4 uGlyphBounds;attribute vec2 aUV;attribute vec4 aLineSegment;varying vec4 vLineSegment;varying vec2 vGlyphXY;void main(){vLineSegment=aLineSegment;vGlyphXY=mix(uGlyphBounds.xy,uGlyphBounds.zw,aUV);gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}",P="precision highp float;uniform vec4 uGlyphBounds;uniform float uMaxDistance;uniform float uExponent;varying vec4 vLineSegment;varying vec2 vGlyphXY;float absDistToSegment(vec2 point,vec2 lineA,vec2 lineB){vec2 lineDir=lineB-lineA;float lenSq=dot(lineDir,lineDir);float t=lenSq==0.0 ? 0.0 : clamp(dot(point-lineA,lineDir)/lenSq,0.0,1.0);vec2 linePt=lineA+t*lineDir;return distance(point,linePt);}void main(){vec4 seg=vLineSegment;vec2 p=vGlyphXY;float dist=absDistToSegment(p,seg.xy,seg.zw);float val=pow(1.0-clamp(dist/uMaxDistance,0.0,1.0),uExponent)*0.5;bool crossing=(seg.y>p.y!=seg.w>p.y)&&(p.x<(seg.z-seg.x)*(p.y-seg.y)/(seg.w-seg.y)+seg.x);bool crossingUp=crossing&&vLineSegment.y<vLineSegment.w;gl_FragColor=vec4(crossingUp ? 1.0/255.0 : 0.0,crossing&&!crossingUp ? 1.0/255.0 : 0.0,0.0,val);}",I="precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){vec4 color=texture2D(tex,vUV);bool inside=color.r!=color.g;float val=inside ? 1.0-color.a : color.a;gl_FragColor=vec4(val);}",k=new Float32Array([0,0,2,0,0,2]),F=null,V=!1,U={},O=new WeakMap;function Q(Y){if(!V&&!le(Y))throw new Error("WebGL generation not supported")}function q(Y,G,D,B,ee,ie,se){if(ie===void 0&&(ie=1),se===void 0&&(se=null),!se&&(se=F,!se)){var pe=typeof OffscreenCanvas=="function"?new OffscreenCanvas(1,1):typeof document<"u"?document.createElement("canvas"):null;if(!pe)throw new Error("OffscreenCanvas or DOM canvas not supported");se=F=pe.getContext("webgl",{depth:!1})}Q(se);var me=new Uint8Array(Y*G*4);h(se,function(Re){var Z=Re.gl,Oe=Re.withTexture,Ce=Re.withTextureFramebuffer;Oe("readable",function(Ne,Ee){Z.texImage2D(Z.TEXTURE_2D,0,Z.RGBA,Y,G,0,Z.RGBA,Z.UNSIGNED_BYTE,null),Ce(Ne,Ee,function(rt){X(Y,G,D,B,ee,ie,Z,rt,0,0,0),Z.readPixels(0,0,Y,G,Z.RGBA,Z.UNSIGNED_BYTE,me)})})});for(var ve=new Uint8Array(Y*G),ke=0,$e=0;ke<me.length;ke+=4)ve[$e++]=me[ke];return ve}function te(Y,G,D,B,ee,ie,se,pe,me,ve){ie===void 0&&(ie=1),pe===void 0&&(pe=0),me===void 0&&(me=0),ve===void 0&&(ve=0),X(Y,G,D,B,ee,ie,se,null,pe,me,ve)}function X(Y,G,D,B,ee,ie,se,pe,me,ve,ke){ie===void 0&&(ie=1),me===void 0&&(me=0),ve===void 0&&(ve=0),ke===void 0&&(ke=0),Q(se);var $e=[];s(D,function(Re,Z,Oe,Ce){$e.push(Re,Z,Oe,Ce)}),$e=new Float32Array($e),h(se,function(Re){var Z=Re.gl,Oe=Re.isWebGL2,Ce=Re.getExtension,Ne=Re.withProgram,Ee=Re.withTexture,rt=Re.withTextureFramebuffer,Ae=Re.handleContextLoss;if(Ee("rawDistances",function(We,Ke){(Y!==We._lastWidth||G!==We._lastHeight)&&Z.texImage2D(Z.TEXTURE_2D,0,Z.RGBA,We._lastWidth=Y,We._lastHeight=G,0,Z.RGBA,Z.UNSIGNED_BYTE,null),Ne("main",E,P,function(Me){var ht=Me.setAttribute,K=Me.setUniform,H=!Oe&&Ce("ANGLE_instanced_arrays"),fe=!Oe&&Ce("EXT_blend_minmax");ht("aUV",2,Z.STATIC_DRAW,0,k),ht("aLineSegment",4,Z.DYNAMIC_DRAW,1,$e),K.apply(void 0,["4f","uGlyphBounds"].concat(B)),K("1f","uMaxDistance",ee),K("1f","uExponent",ie),rt(We,Ke,function(Ye){Z.enable(Z.BLEND),Z.colorMask(!0,!0,!0,!0),Z.viewport(0,0,Y,G),Z.scissor(0,0,Y,G),Z.blendFunc(Z.ONE,Z.ONE),Z.blendEquationSeparate(Z.FUNC_ADD,Oe?Z.MAX:fe.MAX_EXT),Z.clear(Z.COLOR_BUFFER_BIT),Oe?Z.drawArraysInstanced(Z.TRIANGLES,0,3,$e.length/4):H.drawArraysInstancedANGLE(Z.TRIANGLES,0,3,$e.length/4)})}),Ne("post",o,I,function(Me){Me.setAttribute("aUV",2,Z.STATIC_DRAW,0,k),Me.setUniform("1i","tex",Ke),Z.bindFramebuffer(Z.FRAMEBUFFER,pe),Z.disable(Z.BLEND),Z.colorMask(ke===0,ke===1,ke===2,ke===3),Z.viewport(me,ve,Y,G),Z.scissor(me,ve,Y,G),Z.drawArrays(Z.TRIANGLES,0,3)})}),Z.isContextLost())throw Ae(),new Error("webgl context lost")})}function le(Y){var G=!Y||Y===F?U:Y.canvas||Y,D=O.get(G);if(D===void 0){V=!0;var B=null;try{var ee=[97,106,97,61,99,137,118,80,80,118,137,99,61,97,106,97],ie=q(4,4,"M8,8L16,8L24,24L16,24Z",[0,0,32,32],24,1,Y);D=ie&&ee.length===ie.length&&ie.every(function(se,pe){return se===ee[pe]}),D||(B="bad trial run results",console.info(ee,ie))}catch(se){D=!1,B=se.message}B&&console.warn("WebGL SDF generation not supported:",B),V=!1,O.set(G,D)}return D}var re=Object.freeze({__proto__:null,generate:q,generateIntoCanvas:te,generateIntoFramebuffer:X,isSupported:le});function de(Y,G,D,B,ee,ie){ee===void 0&&(ee=Math.max(B[2]-B[0],B[3]-B[1])/2),ie===void 0&&(ie=1);try{return q.apply(re,arguments)}catch(se){return console.info("WebGL SDF generation failed, falling back to JS",se),C.apply(A,arguments)}}function j(Y,G,D,B,ee,ie,se,pe,me,ve){ee===void 0&&(ee=Math.max(B[2]-B[0],B[3]-B[1])/2),ie===void 0&&(ie=1),pe===void 0&&(pe=0),me===void 0&&(me=0),ve===void 0&&(ve=0);try{return te.apply(re,arguments)}catch(ke){return console.info("WebGL SDF generation failed, falling back to JS",ke),b.apply(A,arguments)}}return e.forEachPathCommand=i,e.generate=de,e.generateIntoCanvas=j,e.javascript=A,e.pathToLineSegments=s,e.webgl=re,e.webglUtils=v,Object.defineProperty(e,"__esModule",{value:!0}),e})({});return r}function ez(){var r=(function(e){var t={R:"13k,1a,2,3,3,2+1j,ch+16,a+1,5+2,2+n,5,a,4,6+16,4+3,h+1b,4mo,179q,2+9,2+11,2i9+7y,2+68,4,3+4,5+13,4+3,2+4k,3+29,8+cf,1t+7z,w+17,3+3m,1t+3z,16o1+5r,8+30,8+mc,29+1r,29+4v,75+73",EN:"1c+9,3d+1,6,187+9,513,4+5,7+9,sf+j,175h+9,qw+q,161f+1d,4xt+a,25i+9",ES:"17,2,6dp+1,f+1,av,16vr,mx+1,4o,2",ET:"z+2,3h+3,b+1,ym,3e+1,2o,p4+1,8,6u,7c,g6,1wc,1n9+4,30+1b,2n,6d,qhx+1,h0m,a+1,49+2,63+1,4+1,6bb+3,12jj",AN:"16o+5,2j+9,2+1,35,ed,1ff2+9,87+u",CS:"18,2+1,b,2u,12k,55v,l,17v0,2,3,53,2+1,b",B:"a,3,f+2,2v,690",S:"9,2,k",WS:"c,k,4f4,1vk+a,u,1j,335",ON:"x+1,4+4,h+5,r+5,r+3,z,5+3,2+1,2+1,5,2+2,3+4,o,w,ci+1,8+d,3+d,6+8,2+g,39+1,9,6+1,2,33,b8,3+1,3c+1,7+1,5r,b,7h+3,sa+5,2,3i+6,jg+3,ur+9,2v,ij+1,9g+9,7+a,8m,4+1,49+x,14u,2+2,c+2,e+2,e+2,e+1,i+n,e+e,2+p,u+2,e+2,36+1,2+3,2+1,b,2+2,6+5,2,2,2,h+1,5+4,6+3,3+f,16+2,5+3l,3+81,1y+p,2+40,q+a,m+13,2r+ch,2+9e,75+hf,3+v,2+2w,6e+5,f+6,75+2a,1a+p,2+2g,d+5x,r+b,6+3,4+o,g,6+1,6+2,2k+1,4,2j,5h+z,1m+1,1e+f,t+2,1f+e,d+3,4o+3,2s+1,w,535+1r,h3l+1i,93+2,2s,b+1,3l+x,2v,4g+3,21+3,kz+1,g5v+1,5a,j+9,n+v,2,3,2+8,2+1,3+2,2,3,46+1,4+4,h+5,r+5,r+a,3h+2,4+6,b+4,78,1r+24,4+c,4,1hb,ey+6,103+j,16j+c,1ux+7,5+g,fsh,jdq+1t,4,57+2e,p1,1m,1m,1m,1m,4kt+1,7j+17,5+2r,d+e,3+e,2+e,2+10,m+4,w,1n+5,1q,4z+5,4b+rb,9+c,4+c,4+37,d+2g,8+b,l+b,5+1j,9+9,7+13,9+t,3+1,27+3c,2+29,2+3q,d+d,3+4,4+2,6+6,a+o,8+6,a+2,e+6,16+42,2+1i",BN:"0+8,6+d,2s+5,2+p,e,4m9,1kt+2,2b+5,5+5,17q9+v,7k,6p+8,6+1,119d+3,440+7,96s+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+75,6p+2rz,1ben+1,1ekf+1,1ekf+1",NSM:"lc+33,7o+6,7c+18,2,2+1,2+1,2,21+a,1d+k,h,2u+6,3+5,3+1,2+3,10,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,g+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+g,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,k1+w,2db+2,3y,2p+v,ff+3,30+1,n9x+3,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,r2,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+5,3+1,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2d+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,f0c+4,1o+6,t5,1s+3,2a,f5l+1,43t+2,i+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,gzhy+6n",AL:"16w,3,2,e+1b,z+2,2+2s,g+1,8+1,b+m,2+t,s+2i,c+e,4h+f,1d+1e,1bwe+dp,3+3z,x+c,2+1,35+3y,2rm+z,5+7,b+5,dt+l,c+u,17nl+27,1t+27,4x+6n,3+d",LRO:"6ct",RLO:"6cu",LRE:"6cq",RLE:"6cr",PDF:"6cs",LRI:"6ee",RLI:"6ef",FSI:"6eg",PDI:"6eh"},n={},i={};n.L=1,i[1]="L",Object.keys(t).forEach(function(Ae,We){n[Ae]=1<<We+1,i[n[Ae]]=Ae}),Object.freeze(n);var s=n.LRI|n.RLI|n.FSI,o=n.L|n.R|n.AL,l=n.B|n.S|n.WS|n.ON|n.FSI|n.LRI|n.RLI|n.PDI,c=n.BN|n.RLE|n.LRE|n.RLO|n.LRO|n.PDF,d=n.S|n.WS|n.B|s|n.PDI|c,h=null;function m(){if(!h){h=new Map;var Ae=function(Ke){if(t.hasOwnProperty(Ke)){var Me=0;t[Ke].split(",").forEach(function(ht){var K=ht.split("+"),H=K[0],fe=K[1];H=parseInt(H,36),fe=fe?parseInt(fe,36):0,h.set(Me+=H,n[Ke]);for(var Ye=0;Ye<fe;Ye++)h.set(++Me,n[Ke])})}};for(var We in t)Ae(We)}}function y(Ae){return m(),h.get(Ae.codePointAt(0))||n.L}function v(Ae){return i[y(Ae)]}var C={pairs:"14>1,1e>2,u>2,2wt>1,1>1,1ge>1,1wp>1,1j>1,f>1,hm>1,1>1,u>1,u6>1,1>1,+5,28>1,w>1,1>1,+3,b8>1,1>1,+3,1>3,-1>-1,3>1,1>1,+2,1s>1,1>1,x>1,th>1,1>1,+2,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,4q>1,1e>2,u>2,2>1,+1",canonical:"6f1>-6dx,6dy>-6dx,6ec>-6ed,6ee>-6ed,6ww>2jj,-2ji>2jj,14r4>-1e7l,1e7m>-1e7l,1e7m>-1e5c,1e5d>-1e5b,1e5c>-14qx,14qy>-14qx,14vn>-1ecg,1ech>-1ecg,1edu>-1ecg,1eci>-1ecg,1eda>-1ecg,1eci>-1ecg,1eci>-168q,168r>-168q,168s>-14ye,14yf>-14ye"};function b(Ae,We){var Ke=36,Me=0,ht=new Map,K=We&&new Map,H;return Ae.split(",").forEach(function fe(Ye){if(Ye.indexOf("+")!==-1)for(var Se=+Ye;Se--;)fe(H);else{H=Ye;var Le=Ye.split(">"),tt=Le[0],Xe=Le[1];tt=String.fromCodePoint(Me+=parseInt(tt,Ke)),Xe=String.fromCodePoint(Me+=parseInt(Xe,Ke)),ht.set(tt,Xe),We&&K.set(Xe,tt)}}),{map:ht,reverseMap:K}}var _,S,A;function E(){if(!_){var Ae=b(C.pairs,!0),We=Ae.map,Ke=Ae.reverseMap;_=We,S=Ke,A=b(C.canonical,!1).map}}function P(Ae){return E(),_.get(Ae)||null}function I(Ae){return E(),S.get(Ae)||null}function k(Ae){return E(),A.get(Ae)||null}var F=n.L,V=n.R,U=n.EN,O=n.ES,Q=n.ET,q=n.AN,te=n.CS,X=n.B,le=n.S,re=n.ON,de=n.BN,j=n.NSM,Y=n.AL,G=n.LRO,D=n.RLO,B=n.LRE,ee=n.RLE,ie=n.PDF,se=n.LRI,pe=n.RLI,me=n.FSI,ve=n.PDI;function ke(Ae,We){for(var Ke=125,Me=new Uint32Array(Ae.length),ht=0;ht<Ae.length;ht++)Me[ht]=y(Ae[ht]);var K=new Map;function H(rr,pr){var Kn=Me[rr];Me[rr]=pr,K.set(Kn,K.get(Kn)-1),Kn&l&&K.set(l,K.get(l)-1),K.set(pr,(K.get(pr)||0)+1),pr&l&&K.set(l,(K.get(l)||0)+1)}for(var fe=new Uint8Array(Ae.length),Ye=new Map,Se=[],Le=null,tt=0;tt<Ae.length;tt++)Le||Se.push(Le={start:tt,end:Ae.length-1,level:We==="rtl"?1:We==="ltr"?0:Er(tt,!1)}),Me[tt]&X&&(Le.end=tt,Le=null);for(var Xe=ee|B|D|G|s|ve|ie|X,et=function(rr){return rr+(rr&1?1:2)},gt=function(rr){return rr+(rr&1?2:1)},yt=0;yt<Se.length;yt++){Le=Se[yt];var Ve=[{_level:Le.level,_override:0,_isolate:0}],lt=void 0,oe=0,Te=0,Je=0;K.clear();for(var Ge=Le.start;Ge<=Le.end;Ge++){var nt=Me[Ge];if(lt=Ve[Ve.length-1],K.set(nt,(K.get(nt)||0)+1),nt&l&&K.set(l,(K.get(l)||0)+1),nt&Xe)if(nt&(ee|B)){fe[Ge]=lt._level;var ce=(nt===ee?gt:et)(lt._level);ce<=Ke&&!oe&&!Te?Ve.push({_level:ce,_override:0,_isolate:0}):oe||Te++}else if(nt&(D|G)){fe[Ge]=lt._level;var ot=(nt===D?gt:et)(lt._level);ot<=Ke&&!oe&&!Te?Ve.push({_level:ot,_override:nt&D?V:F,_isolate:0}):oe||Te++}else if(nt&s){nt&me&&(nt=Er(Ge+1,!0)===1?pe:se),fe[Ge]=lt._level,lt._override&&H(Ge,lt._override);var Ze=(nt===pe?gt:et)(lt._level);Ze<=Ke&&oe===0&&Te===0?(Je++,Ve.push({_level:Ze,_override:0,_isolate:1,_isolInitIndex:Ge})):oe++}else if(nt&ve){if(oe>0)oe--;else if(Je>0){for(Te=0;!Ve[Ve.length-1]._isolate;)Ve.pop();var be=Ve[Ve.length-1]._isolInitIndex;be!=null&&(Ye.set(be,Ge),Ye.set(Ge,be)),Ve.pop(),Je--}lt=Ve[Ve.length-1],fe[Ge]=lt._level,lt._override&&H(Ge,lt._override)}else nt&ie?(oe===0&&(Te>0?Te--:!lt._isolate&&Ve.length>1&&(Ve.pop(),lt=Ve[Ve.length-1])),fe[Ge]=lt._level):nt&X&&(fe[Ge]=Le.level);else fe[Ge]=lt._level,lt._override&&nt!==de&&H(Ge,lt._override)}for(var Qe=[],ft=null,pt=Le.start;pt<=Le.end;pt++){var Ut=Me[pt];if(!(Ut&c)){var sn=fe[pt],kt=Ut&s,tn=Ut===ve;ft&&sn===ft._level?(ft._end=pt,ft._endsWithIsolInit=kt):Qe.push(ft={_start:pt,_end:pt,_level:sn,_startsWithPDI:tn,_endsWithIsolInit:kt})}}for(var Cn=[],pi=0;pi<Qe.length;pi++){var ur=Qe[pi];if(!ur._startsWithPDI||ur._startsWithPDI&&!Ye.has(ur._start)){for(var wr=[ft=ur],dr=void 0;ft&&ft._endsWithIsolInit&&(dr=Ye.get(ft._end))!=null;)for(var _r=pi+1;_r<Qe.length;_r++)if(Qe[_r]._start===dr){wr.push(ft=Qe[_r]);break}for(var tr=[],Yi=0;Yi<wr.length;Yi++)for(var $a=wr[Yi],Ti=$a._start;Ti<=$a._end;Ti++)tr.push(Ti);for(var el=fe[tr[0]],J=Le.level,we=tr[0]-1;we>=0;we--)if(!(Me[we]&c)){J=fe[we];break}var Ie=tr[tr.length-1],Fe=fe[Ie],Be=Le.level;if(!(Me[Ie]&s)){for(var xt=Ie+1;xt<=Le.end;xt++)if(!(Me[xt]&c)){Be=fe[xt];break}}Cn.push({_seqIndices:tr,_sosType:Math.max(J,el)%2?V:F,_eosType:Math.max(Be,Fe)%2?V:F})}}for(var Pt=0;Pt<Cn.length;Pt++){var Nt=Cn[Pt],je=Nt._seqIndices,Bt=Nt._sosType,zt=Nt._eosType,Ot=fe[je[0]]&1?V:F;if(K.get(j))for(var fn=0;fn<je.length;fn++){var nr=je[fn];if(Me[nr]&j){for(var gn=Bt,En=fn-1;En>=0;En--)if(!(Me[je[En]]&c)){gn=Me[je[En]];break}H(nr,gn&(s|ve)?re:gn)}}if(K.get(U))for(var At=0;At<je.length;At++){var bt=je[At];if(Me[bt]&U)for(var Sn=At-1;Sn>=-1;Sn--){var Qt=Sn===-1?Bt:Me[je[Sn]];if(Qt&o){Qt===Y&&H(bt,q);break}}}if(K.get(Y))for(var An=0;An<je.length;An++){var Pi=je[An];Me[Pi]&Y&&H(Pi,V)}if(K.get(O)||K.get(te))for(var qn=1;qn<je.length-1;qn++){var Ln=je[qn];if(Me[Ln]&(O|te)){for(var hn=0,Or=0,Ls=qn-1;Ls>=0&&(hn=Me[je[Ls]],!!(hn&c));Ls--);for(var Wn=qn+1;Wn<je.length&&(Or=Me[je[Wn]],!!(Or&c));Wn++);hn===Or&&(Me[Ln]===O?hn===U:hn&(U|q))&&H(Ln,hn)}}if(K.get(U))for(var fr=0;fr<je.length;fr++){var Kr=je[fr];if(Me[Kr]&U){for(var hs=fr-1;hs>=0&&Me[je[hs]]&(Q|c);hs--)H(je[hs],U);for(fr++;fr<je.length&&Me[je[fr]]&(Q|c|U);fr++)Me[je[fr]]!==U&&H(je[fr],U)}}if(K.get(Q)||K.get(O)||K.get(te))for(var ps=0;ps<je.length;ps++){var Au=je[ps];if(Me[Au]&(Q|O|te)){H(Au,re);for(var ms=ps-1;ms>=0&&Me[je[ms]]&c;ms--)H(je[ms],re);for(var an=ps+1;an<je.length&&Me[je[an]]&c;an++)H(je[an],re)}}if(K.get(U))for(var Is=0,Lo=Bt;Is<je.length;Is++){var tl=je[Is],nl=Me[tl];nl&U?Lo===F&&H(tl,F):nl&o&&(Lo=nl)}if(K.get(l)){var Us=V|U|q,sa=Us|F,qi=[];{for(var gs=[],Fr=0;Fr<je.length;Fr++)if(Me[je[Fr]]&l){var jt=Ae[je[Fr]],Ki=void 0;if(P(jt)!==null)if(gs.length<63)gs.push({char:jt,seqIndex:Fr});else break;else if((Ki=I(jt))!==null)for(var Ri=gs.length-1;Ri>=0;Ri--){var ks=gs[Ri].char;if(ks===Ki||ks===I(k(jt))||P(k(ks))===jt){qi.push([gs[Ri].seqIndex,Fr]),gs.length=Ri;break}}}qi.sort(function(rr,pr){return rr[0]-pr[0]})}for(var Zi=0;Zi<qi.length;Zi++){for(var Tu=qi[Zi],kn=Tu[0],ys=Tu[1],Pu=!1,Zr=0,Io=kn+1;Io<ys;Io++){var Uo=je[Io];if(Me[Uo]&sa){Pu=!0;var Di=Me[Uo]&Us?V:F;if(Di===Ot){Zr=Di;break}}}if(Pu&&!Zr){Zr=Bt;for(var Zs=kn-1;Zs>=0;Zs--){var ko=je[Zs];if(Me[ko]&sa){var Sr=Me[ko]&Us?V:F;Sr!==Ot?Zr=Sr:Zr=Ot;break}}}if(Zr){if(Me[je[kn]]=Me[je[ys]]=Zr,Zr!==Ot){for(var br=kn+1;br<je.length;br++)if(!(Me[je[br]]&c)){y(Ae[je[br]])&j&&(Me[je[br]]=Zr);break}}if(Zr!==Ot){for(var Ns=ys+1;Ns<je.length;Ns++)if(!(Me[je[Ns]]&c)){y(Ae[je[Ns]])&j&&(Me[je[Ns]]=Zr);break}}}}for(var Ji=0;Ji<je.length;Ji++)if(Me[je[Ji]]&l){for(var oa=Ji,No=Ji,Jr=Bt,Oo=Ji-1;Oo>=0;Oo--)if(Me[je[Oo]]&c)oa=Oo;else{Jr=Me[je[Oo]]&Us?V:F;break}for(var mi=zt,Js=Ji+1;Js<je.length;Js++)if(Me[je[Js]]&(l|c))No=Js;else{mi=Me[je[Js]]&Us?V:F;break}for(var Mr=oa;Mr<=No;Mr++)Me[je[Mr]]=Jr===mi?Jr:Ot;Ji=No}}}for(var hr=Le.start;hr<=Le.end;hr++){var Qs=fe[hr],gi=Me[hr];if(Qs&1?gi&(F|U|q)&&fe[hr]++:gi&V?fe[hr]++:gi&(q|U)&&(fe[hr]+=2),gi&c&&(fe[hr]=hr===0?Le.level:fe[hr-1]),hr===Le.end||y(Ae[hr])&(le|X))for(var $s=hr;$s>=0&&y(Ae[$s])&d;$s--)fe[$s]=Le.level}}return{levels:fe,paragraphs:Se};function Er(rr,pr){for(var Kn=rr;Kn<Ae.length;Kn++){var zn=Me[Kn];if(zn&(V|Y))return 1;if(zn&(X|F)||pr&&zn===ve)return 0;if(zn&s){var si=eo(Kn);Kn=si===-1?Ae.length:si}}return 0}function eo(rr){for(var pr=1,Kn=rr+1;Kn<Ae.length;Kn++){var zn=Me[Kn];if(zn&X)break;if(zn&ve){if(--pr===0)return Kn}else zn&s&&pr++}return-1}}var $e="14>1,j>2,t>2,u>2,1a>g,2v3>1,1>1,1ge>1,1wd>1,b>1,1j>1,f>1,ai>3,-2>3,+1,8>1k0,-1jq>1y7,-1y6>1hf,-1he>1h6,-1h5>1ha,-1h8>1qi,-1pu>1,6>3u,-3s>7,6>1,1>1,f>1,1>1,+2,3>1,1>1,+13,4>1,1>1,6>1eo,-1ee>1,3>1mg,-1me>1mk,-1mj>1mi,-1mg>1mi,-1md>1,1>1,+2,1>10k,-103>1,1>1,4>1,5>1,1>1,+10,3>1,1>8,-7>8,+1,-6>7,+1,a>1,1>1,u>1,u6>1,1>1,+5,26>1,1>1,2>1,2>2,8>1,7>1,4>1,1>1,+5,b8>1,1>1,+3,1>3,-2>1,2>1,1>1,+2,c>1,3>1,1>1,+2,h>1,3>1,a>1,1>1,2>1,3>1,1>1,d>1,f>1,3>1,1a>1,1>1,6>1,7>1,13>1,k>1,1>1,+19,4>1,1>1,+2,2>1,1>1,+18,m>1,a>1,1>1,lk>1,1>1,4>1,2>1,f>1,3>1,1>1,+3,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,6>1,4j>1,j>2,t>2,u>2,2>1,+1",Re;function Z(){if(!Re){var Ae=b($e,!0),We=Ae.map,Ke=Ae.reverseMap;Ke.forEach(function(Me,ht){We.set(ht,Me)}),Re=We}}function Oe(Ae){return Z(),Re.get(Ae)||null}function Ce(Ae,We,Ke,Me){var ht=Ae.length;Ke=Math.max(0,Ke==null?0:+Ke),Me=Math.min(ht-1,Me==null?ht-1:+Me);for(var K=new Map,H=Ke;H<=Me;H++)if(We[H]&1){var fe=Oe(Ae[H]);fe!==null&&K.set(H,fe)}return K}function Ne(Ae,We,Ke,Me){var ht=Ae.length;Ke=Math.max(0,Ke==null?0:+Ke),Me=Math.min(ht-1,Me==null?ht-1:+Me);var K=[];return We.paragraphs.forEach(function(H){var fe=Math.max(Ke,H.start),Ye=Math.min(Me,H.end);if(fe<Ye){for(var Se=We.levels.slice(fe,Ye+1),Le=Ye;Le>=fe&&y(Ae[Le])&d;Le--)Se[Le]=H.level;for(var tt=H.level,Xe=1/0,et=0;et<Se.length;et++){var gt=Se[et];gt>tt&&(tt=gt),gt<Xe&&(Xe=gt|1)}for(var yt=tt;yt>=Xe;yt--)for(var Ve=0;Ve<Se.length;Ve++)if(Se[Ve]>=yt){for(var lt=Ve;Ve+1<Se.length&&Se[Ve+1]>=yt;)Ve++;Ve>lt&&K.push([lt+fe,Ve+fe])}}}),K}function Ee(Ae,We,Ke,Me){var ht=rt(Ae,We,Ke,Me),K=[].concat(Ae);return ht.forEach(function(H,fe){K[fe]=(We.levels[H]&1?Oe(Ae[H]):null)||Ae[H]}),K.join("")}function rt(Ae,We,Ke,Me){for(var ht=Ne(Ae,We,Ke,Me),K=[],H=0;H<Ae.length;H++)K[H]=H;return ht.forEach(function(fe){for(var Ye=fe[0],Se=fe[1],Le=K.slice(Ye,Se+1),tt=Le.length;tt--;)K[Se-tt]=Le[tt]}),K}return e.closingToOpeningBracket=I,e.getBidiCharType=y,e.getBidiCharTypeName=v,e.getCanonicalBracket=k,e.getEmbeddingLevels=ke,e.getMirroredCharacter=Oe,e.getMirroredCharactersMap=Ce,e.getReorderSegments=Ne,e.getReorderedIndices=rt,e.getReorderedString=Ee,e.openingToClosingBracket=P,Object.defineProperty(e,"__esModule",{value:!0}),e})({});return r}const LA=/\bvoid\s+main\s*\(\s*\)\s*{/g;function F2(r){const e=/^[ \t]*#include +<([\w\d./]+)>/gm;function t(n,i){let s=en[i];return s?F2(s):n}return r.replace(e,t)}const hi=[];for(let r=0;r<256;r++)hi[r]=(r<16?"0":"")+r.toString(16);function tz(){const r=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,n=Math.random()*4294967295|0;return(hi[r&255]+hi[r>>8&255]+hi[r>>16&255]+hi[r>>24&255]+"-"+hi[e&255]+hi[e>>8&255]+"-"+hi[e>>16&15|64]+hi[e>>24&255]+"-"+hi[t&63|128]+hi[t>>8&255]+"-"+hi[t>>16&255]+hi[t>>24&255]+hi[n&255]+hi[n>>8&255]+hi[n>>16&255]+hi[n>>24&255]).toUpperCase()}const Yc=Object.assign||function(){let r=arguments[0];for(let e=1,t=arguments.length;e<t;e++){let n=arguments[e];if(n)for(let i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])}return r},nz=Date.now(),nS=new WeakMap,rS=new Map;let rz=1e10;function B2(r,e){const t=az(e);let n=nS.get(r);if(n||nS.set(r,n=Object.create(null)),n[t])return new n[t];const i=`_onBeforeCompile${t}`,s=function(d,h){r.onBeforeCompile.call(this,d,h);const m=this.customProgramCacheKey()+"|"+d.vertexShader+"|"+d.fragmentShader;let y=rS[m];if(!y){const v=iz(this,d,e,t);y=rS[m]=v}d.vertexShader=y.vertexShader,d.fragmentShader=y.fragmentShader,Yc(d.uniforms,this.uniforms),e.timeUniform&&(d.uniforms[e.timeUniform]={get value(){return Date.now()-nz}}),this[i]&&this[i](d)},o=function(){return l(e.chained?r:r.clone())},l=function(d){const h=Object.create(d,c);return Object.defineProperty(h,"baseMaterial",{value:r}),Object.defineProperty(h,"id",{value:rz++}),h.uuid=tz(),h.uniforms=Yc({},d.uniforms,e.uniforms),h.defines=Yc({},d.defines,e.defines),h.defines[`TROIKA_DERIVED_MATERIAL_${t}`]="",h.extensions=Yc({},d.extensions,e.extensions),h._listeners=void 0,h},c={constructor:{value:o},isDerivedMaterial:{value:!0},type:{get:()=>r.type,set:d=>{r.type=d}},isDerivedFrom:{writable:!0,configurable:!0,value:function(d){const h=this.baseMaterial;return d===h||h.isDerivedMaterial&&h.isDerivedFrom(d)||!1}},customProgramCacheKey:{writable:!0,configurable:!0,value:function(){return r.customProgramCacheKey()+"|"+t}},onBeforeCompile:{get(){return s},set(d){this[i]=d}},copy:{writable:!0,configurable:!0,value:function(d){return r.copy.call(this,d),!r.isShaderMaterial&&!r.isDerivedMaterial&&(Yc(this.extensions,d.extensions),Yc(this.defines,d.defines),Yc(this.uniforms,Rx.clone(d.uniforms))),this}},clone:{writable:!0,configurable:!0,value:function(){const d=new r.constructor;return l(d).copy(this)}},getDepthMaterial:{writable:!0,configurable:!0,value:function(){let d=this._depthMaterial;return d||(d=this._depthMaterial=B2(r.isDerivedMaterial?r.getDepthMaterial():new py({depthPacking:bx}),e),d.defines.IS_DEPTH_MATERIAL="",d.uniforms=this.uniforms),d}},getDistanceMaterial:{writable:!0,configurable:!0,value:function(){let d=this._distanceMaterial;return d||(d=this._distanceMaterial=B2(r.isDerivedMaterial?r.getDistanceMaterial():new my,e),d.defines.IS_DISTANCE_MATERIAL="",d.uniforms=this.uniforms),d}},dispose:{writable:!0,configurable:!0,value(){const{_depthMaterial:d,_distanceMaterial:h}=this;d&&d.dispose(),h&&h.dispose(),r.dispose.call(this)}}};return n[t]=o,new o}function iz(r,{vertexShader:e,fragmentShader:t},n,i){let{vertexDefs:s,vertexMainIntro:o,vertexMainOutro:l,vertexTransform:c,fragmentDefs:d,fragmentMainIntro:h,fragmentMainOutro:m,fragmentColorTransform:y,customRewriter:v,timeUniform:C}=n;if(s=s||"",o=o||"",l=l||"",d=d||"",h=h||"",m=m||"",(c||v)&&(e=F2(e)),(y||v)&&(t=t.replace(/^[ \t]*#include <((?:tonemapping|encodings|colorspace|fog|premultiplied_alpha|dithering)_fragment)>/gm,`
//!BEGIN_POST_CHUNK $1
$&
//!END_POST_CHUNK
`),t=F2(t)),v){let b=v({vertexShader:e,fragmentShader:t});e=b.vertexShader,t=b.fragmentShader}if(y){let b=[];t=t.replace(/^\/\/!BEGIN_POST_CHUNK[^]+?^\/\/!END_POST_CHUNK/gm,_=>(b.push(_),"")),m=`${y}
${b.join(`
`)}
${m}`}if(C){const b=`
uniform float ${C};
`;s=b+s,d=b+d}return c&&(e=`vec3 troika_position_${i};
vec3 troika_normal_${i};
vec2 troika_uv_${i};
${e}
`,s=`${s}
void troikaVertexTransform${i}(inout vec3 position, inout vec3 normal, inout vec2 uv) {
  ${c}
}
`,o=`
troika_position_${i} = vec3(position);
troika_normal_${i} = vec3(normal);
troika_uv_${i} = vec2(uv);
troikaVertexTransform${i}(troika_position_${i}, troika_normal_${i}, troika_uv_${i});
${o}
`,e=e.replace(/\b(position|normal|uv)\b/g,(b,_,S,A)=>/\battribute\s+vec[23]\s+$/.test(A.substr(0,S))?_:`troika_${_}_${i}`),r.map&&r.map.channel>0||(e=e.replace(/\bMAP_UV\b/g,`troika_uv_${i}`))),e=iS(e,i,s,o,l),t=iS(t,i,d,h,m),{vertexShader:e,fragmentShader:t}}function iS(r,e,t,n,i){return(n||i||t)&&(r=r.replace(LA,`
${t}
void troikaOrigMain${e}() {`),r+=`
void main() {
  ${n}
  troikaOrigMain${e}();
  ${i}
}`),r}function sz(r,e){return r==="uniforms"?void 0:typeof e=="function"?e.toString():e}let oz=0;const sS=new Map;function az(r){const e=JSON.stringify(r,sz);let t=sS.get(e);return t==null&&sS.set(e,t=++oz),t}/*!
Custom build of Typr.ts (https://github.com/fredli74/Typr.ts) for use in Troika text rendering.
Original MIT license applies: https://github.com/fredli74/Typr.ts/blob/master/LICENSE
*/function lz(){return typeof window>"u"&&(self.window=self),(function(r){var e={parse:function(i){var s=e._bin,o=new Uint8Array(i);if(s.readASCII(o,0,4)=="ttcf"){var l=4;s.readUshort(o,l),l+=2,s.readUshort(o,l),l+=2;var c=s.readUint(o,l);l+=4;for(var d=[],h=0;h<c;h++){var m=s.readUint(o,l);l+=4,d.push(e._readFont(o,m))}return d}return[e._readFont(o,0)]},_readFont:function(i,s){var o=e._bin,l=s;o.readFixed(i,s),s+=4;var c=o.readUshort(i,s);s+=2,o.readUshort(i,s),s+=2,o.readUshort(i,s),s+=2,o.readUshort(i,s),s+=2;for(var d=["cmap","head","hhea","maxp","hmtx","name","OS/2","post","loca","glyf","kern","CFF ","GDEF","GPOS","GSUB","SVG "],h={_data:i,_offset:l},m={},y=0;y<c;y++){var v=o.readASCII(i,s,4);s+=4,o.readUint(i,s),s+=4;var C=o.readUint(i,s);s+=4;var b=o.readUint(i,s);s+=4,m[v]={offset:C,length:b}}for(y=0;y<d.length;y++){var _=d[y];m[_]&&(h[_.trim()]=e[_.trim()].parse(i,m[_].offset,m[_].length,h))}return h},_tabOffset:function(i,s,o){for(var l=e._bin,c=l.readUshort(i,o+4),d=o+12,h=0;h<c;h++){var m=l.readASCII(i,d,4);d+=4,l.readUint(i,d),d+=4;var y=l.readUint(i,d);if(d+=4,l.readUint(i,d),d+=4,m==s)return y}return 0}};e._bin={readFixed:function(i,s){return(i[s]<<8|i[s+1])+(i[s+2]<<8|i[s+3])/65540},readF2dot14:function(i,s){return e._bin.readShort(i,s)/16384},readInt:function(i,s){return e._bin._view(i).getInt32(s)},readInt8:function(i,s){return e._bin._view(i).getInt8(s)},readShort:function(i,s){return e._bin._view(i).getInt16(s)},readUshort:function(i,s){return e._bin._view(i).getUint16(s)},readUshorts:function(i,s,o){for(var l=[],c=0;c<o;c++)l.push(e._bin.readUshort(i,s+2*c));return l},readUint:function(i,s){return e._bin._view(i).getUint32(s)},readUint64:function(i,s){return 4294967296*e._bin.readUint(i,s)+e._bin.readUint(i,s+4)},readASCII:function(i,s,o){for(var l="",c=0;c<o;c++)l+=String.fromCharCode(i[s+c]);return l},readUnicode:function(i,s,o){for(var l="",c=0;c<o;c++){var d=i[s++]<<8|i[s++];l+=String.fromCharCode(d)}return l},_tdec:typeof window<"u"&&window.TextDecoder?new window.TextDecoder:null,readUTF8:function(i,s,o){var l=e._bin._tdec;return l&&s==0&&o==i.length?l.decode(i):e._bin.readASCII(i,s,o)},readBytes:function(i,s,o){for(var l=[],c=0;c<o;c++)l.push(i[s+c]);return l},readASCIIArray:function(i,s,o){for(var l=[],c=0;c<o;c++)l.push(String.fromCharCode(i[s+c]));return l},_view:function(i){return i._dataView||(i._dataView=i.buffer?new DataView(i.buffer,i.byteOffset,i.byteLength):new DataView(new Uint8Array(i).buffer))}},e._lctf={},e._lctf.parse=function(i,s,o,l,c){var d=e._bin,h={},m=s;d.readFixed(i,s),s+=4;var y=d.readUshort(i,s);s+=2;var v=d.readUshort(i,s);s+=2;var C=d.readUshort(i,s);return s+=2,h.scriptList=e._lctf.readScriptList(i,m+y),h.featureList=e._lctf.readFeatureList(i,m+v),h.lookupList=e._lctf.readLookupList(i,m+C,c),h},e._lctf.readLookupList=function(i,s,o){var l=e._bin,c=s,d=[],h=l.readUshort(i,s);s+=2;for(var m=0;m<h;m++){var y=l.readUshort(i,s);s+=2;var v=e._lctf.readLookupTable(i,c+y,o);d.push(v)}return d},e._lctf.readLookupTable=function(i,s,o){var l=e._bin,c=s,d={tabs:[]};d.ltype=l.readUshort(i,s),s+=2,d.flag=l.readUshort(i,s),s+=2;var h=l.readUshort(i,s);s+=2;for(var m=d.ltype,y=0;y<h;y++){var v=l.readUshort(i,s);s+=2;var C=o(i,m,c+v,d);d.tabs.push(C)}return d},e._lctf.numOfOnes=function(i){for(var s=0,o=0;o<32;o++)(i>>>o&1)!=0&&s++;return s},e._lctf.readClassDef=function(i,s){var o=e._bin,l=[],c=o.readUshort(i,s);if(s+=2,c==1){var d=o.readUshort(i,s);s+=2;var h=o.readUshort(i,s);s+=2;for(var m=0;m<h;m++)l.push(d+m),l.push(d+m),l.push(o.readUshort(i,s)),s+=2}if(c==2){var y=o.readUshort(i,s);for(s+=2,m=0;m<y;m++)l.push(o.readUshort(i,s)),s+=2,l.push(o.readUshort(i,s)),s+=2,l.push(o.readUshort(i,s)),s+=2}return l},e._lctf.getInterval=function(i,s){for(var o=0;o<i.length;o+=3){var l=i[o],c=i[o+1];if(i[o+2],l<=s&&s<=c)return o}return-1},e._lctf.readCoverage=function(i,s){var o=e._bin,l={};l.fmt=o.readUshort(i,s),s+=2;var c=o.readUshort(i,s);return s+=2,l.fmt==1&&(l.tab=o.readUshorts(i,s,c)),l.fmt==2&&(l.tab=o.readUshorts(i,s,3*c)),l},e._lctf.coverageIndex=function(i,s){var o=i.tab;if(i.fmt==1)return o.indexOf(s);if(i.fmt==2){var l=e._lctf.getInterval(o,s);if(l!=-1)return o[l+2]+(s-o[l])}return-1},e._lctf.readFeatureList=function(i,s){var o=e._bin,l=s,c=[],d=o.readUshort(i,s);s+=2;for(var h=0;h<d;h++){var m=o.readASCII(i,s,4);s+=4;var y=o.readUshort(i,s);s+=2;var v=e._lctf.readFeatureTable(i,l+y);v.tag=m.trim(),c.push(v)}return c},e._lctf.readFeatureTable=function(i,s){var o=e._bin,l=s,c={},d=o.readUshort(i,s);s+=2,d>0&&(c.featureParams=l+d);var h=o.readUshort(i,s);s+=2,c.tab=[];for(var m=0;m<h;m++)c.tab.push(o.readUshort(i,s+2*m));return c},e._lctf.readScriptList=function(i,s){var o=e._bin,l=s,c={},d=o.readUshort(i,s);s+=2;for(var h=0;h<d;h++){var m=o.readASCII(i,s,4);s+=4;var y=o.readUshort(i,s);s+=2,c[m.trim()]=e._lctf.readScriptTable(i,l+y)}return c},e._lctf.readScriptTable=function(i,s){var o=e._bin,l=s,c={},d=o.readUshort(i,s);s+=2,d>0&&(c.default=e._lctf.readLangSysTable(i,l+d));var h=o.readUshort(i,s);s+=2;for(var m=0;m<h;m++){var y=o.readASCII(i,s,4);s+=4;var v=o.readUshort(i,s);s+=2,c[y.trim()]=e._lctf.readLangSysTable(i,l+v)}return c},e._lctf.readLangSysTable=function(i,s){var o=e._bin,l={};o.readUshort(i,s),s+=2,l.reqFeature=o.readUshort(i,s),s+=2;var c=o.readUshort(i,s);return s+=2,l.features=o.readUshorts(i,s,c),l},e.CFF={},e.CFF.parse=function(i,s,o){var l=e._bin;(i=new Uint8Array(i.buffer,s,o))[s=0],i[++s],i[++s],i[++s],s++;var c=[];s=e.CFF.readIndex(i,s,c);for(var d=[],h=0;h<c.length-1;h++)d.push(l.readASCII(i,s+c[h],c[h+1]-c[h]));s+=c[c.length-1];var m=[];s=e.CFF.readIndex(i,s,m);var y=[];for(h=0;h<m.length-1;h++)y.push(e.CFF.readDict(i,s+m[h],s+m[h+1]));s+=m[m.length-1];var v=y[0],C=[];s=e.CFF.readIndex(i,s,C);var b=[];for(h=0;h<C.length-1;h++)b.push(l.readASCII(i,s+C[h],C[h+1]-C[h]));if(s+=C[C.length-1],e.CFF.readSubrs(i,s,v),v.CharStrings){s=v.CharStrings,C=[],s=e.CFF.readIndex(i,s,C);var _=[];for(h=0;h<C.length-1;h++)_.push(l.readBytes(i,s+C[h],C[h+1]-C[h]));v.CharStrings=_}if(v.ROS){s=v.FDArray;var S=[];for(s=e.CFF.readIndex(i,s,S),v.FDArray=[],h=0;h<S.length-1;h++){var A=e.CFF.readDict(i,s+S[h],s+S[h+1]);e.CFF._readFDict(i,A,b),v.FDArray.push(A)}s+=S[S.length-1],s=v.FDSelect,v.FDSelect=[];var E=i[s];if(s++,E!=3)throw E;var P=l.readUshort(i,s);for(s+=2,h=0;h<P+1;h++)v.FDSelect.push(l.readUshort(i,s),i[s+2]),s+=3}return v.Encoding&&(v.Encoding=e.CFF.readEncoding(i,v.Encoding,v.CharStrings.length)),v.charset&&(v.charset=e.CFF.readCharset(i,v.charset,v.CharStrings.length)),e.CFF._readFDict(i,v,b),v},e.CFF._readFDict=function(i,s,o){var l;for(var c in s.Private&&(l=s.Private[1],s.Private=e.CFF.readDict(i,l,l+s.Private[0]),s.Private.Subrs&&e.CFF.readSubrs(i,l+s.Private.Subrs,s.Private)),s)["FamilyName","FontName","FullName","Notice","version","Copyright"].indexOf(c)!=-1&&(s[c]=o[s[c]-426+35])},e.CFF.readSubrs=function(i,s,o){var l=e._bin,c=[];s=e.CFF.readIndex(i,s,c);var d,h=c.length;d=h<1240?107:h<33900?1131:32768,o.Bias=d,o.Subrs=[];for(var m=0;m<c.length-1;m++)o.Subrs.push(l.readBytes(i,s+c[m],c[m+1]-c[m]))},e.CFF.tableSE=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,0,111,112,113,114,0,115,116,117,118,119,120,121,122,0,123,0,124,125,126,127,128,129,130,131,0,132,133,0,134,135,136,137,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,138,0,139,0,0,0,0,140,141,142,143,0,0,0,0,0,144,0,0,0,145,0,0,146,147,148,149,0,0,0,0],e.CFF.glyphByUnicode=function(i,s){for(var o=0;o<i.charset.length;o++)if(i.charset[o]==s)return o;return-1},e.CFF.glyphBySE=function(i,s){return s<0||s>255?-1:e.CFF.glyphByUnicode(i,e.CFF.tableSE[s])},e.CFF.readEncoding=function(i,s,o){e._bin;var l=[".notdef"],c=i[s];if(s++,c!=0)throw"error: unknown encoding format: "+c;var d=i[s];s++;for(var h=0;h<d;h++)l.push(i[s+h]);return l},e.CFF.readCharset=function(i,s,o){var l=e._bin,c=[".notdef"],d=i[s];if(s++,d==0)for(var h=0;h<o;h++){var m=l.readUshort(i,s);s+=2,c.push(m)}else{if(d!=1&&d!=2)throw"error: format: "+d;for(;c.length<o;){m=l.readUshort(i,s),s+=2;var y=0;for(d==1?(y=i[s],s++):(y=l.readUshort(i,s),s+=2),h=0;h<=y;h++)c.push(m),m++}}return c},e.CFF.readIndex=function(i,s,o){var l=e._bin,c=l.readUshort(i,s)+1,d=i[s+=2];if(s++,d==1)for(var h=0;h<c;h++)o.push(i[s+h]);else if(d==2)for(h=0;h<c;h++)o.push(l.readUshort(i,s+2*h));else if(d==3)for(h=0;h<c;h++)o.push(16777215&l.readUint(i,s+3*h-1));else if(c!=1)throw"unsupported offset size: "+d+", count: "+c;return(s+=c*d)-1},e.CFF.getCharString=function(i,s,o){var l=e._bin,c=i[s],d=i[s+1];i[s+2],i[s+3],i[s+4];var h=1,m=null,y=null;c<=20&&(m=c,h=1),c==12&&(m=100*c+d,h=2),21<=c&&c<=27&&(m=c,h=1),c==28&&(y=l.readShort(i,s+1),h=3),29<=c&&c<=31&&(m=c,h=1),32<=c&&c<=246&&(y=c-139,h=1),247<=c&&c<=250&&(y=256*(c-247)+d+108,h=2),251<=c&&c<=254&&(y=256*-(c-251)-d-108,h=2),c==255&&(y=l.readInt(i,s+1)/65535,h=5),o.val=y??"o"+m,o.size=h},e.CFF.readCharString=function(i,s,o){for(var l=s+o,c=e._bin,d=[];s<l;){var h=i[s],m=i[s+1];i[s+2],i[s+3],i[s+4];var y=1,v=null,C=null;h<=20&&(v=h,y=1),h==12&&(v=100*h+m,y=2),h!=19&&h!=20||(v=h,y=2),21<=h&&h<=27&&(v=h,y=1),h==28&&(C=c.readShort(i,s+1),y=3),29<=h&&h<=31&&(v=h,y=1),32<=h&&h<=246&&(C=h-139,y=1),247<=h&&h<=250&&(C=256*(h-247)+m+108,y=2),251<=h&&h<=254&&(C=256*-(h-251)-m-108,y=2),h==255&&(C=c.readInt(i,s+1)/65535,y=5),d.push(C??"o"+v),s+=y}return d},e.CFF.readDict=function(i,s,o){for(var l=e._bin,c={},d=[];s<o;){var h=i[s],m=i[s+1];i[s+2],i[s+3],i[s+4];var y=1,v=null,C=null;if(h==28&&(C=l.readShort(i,s+1),y=3),h==29&&(C=l.readInt(i,s+1),y=5),32<=h&&h<=246&&(C=h-139,y=1),247<=h&&h<=250&&(C=256*(h-247)+m+108,y=2),251<=h&&h<=254&&(C=256*-(h-251)-m-108,y=2),h==255)throw C=l.readInt(i,s+1)/65535,y=5,"unknown number";if(h==30){var b=[];for(y=1;;){var _=i[s+y];y++;var S=_>>4,A=15&_;if(S!=15&&b.push(S),A!=15&&b.push(A),A==15)break}for(var E="",P=[0,1,2,3,4,5,6,7,8,9,".","e","e-","reserved","-","endOfNumber"],I=0;I<b.length;I++)E+=P[b[I]];C=parseFloat(E)}h<=21&&(v=["version","Notice","FullName","FamilyName","Weight","FontBBox","BlueValues","OtherBlues","FamilyBlues","FamilyOtherBlues","StdHW","StdVW","escape","UniqueID","XUID","charset","Encoding","CharStrings","Private","Subrs","defaultWidthX","nominalWidthX"][h],y=1,h==12&&(v=["Copyright","isFixedPitch","ItalicAngle","UnderlinePosition","UnderlineThickness","PaintType","CharstringType","FontMatrix","StrokeWidth","BlueScale","BlueShift","BlueFuzz","StemSnapH","StemSnapV","ForceBold",0,0,"LanguageGroup","ExpansionFactor","initialRandomSeed","SyntheticBase","PostScript","BaseFontName","BaseFontBlend",0,0,0,0,0,0,"ROS","CIDFontVersion","CIDFontRevision","CIDFontType","CIDCount","UIDBase","FDArray","FDSelect","FontName"][m],y=2)),v!=null?(c[v]=d.length==1?d[0]:d,d=[]):d.push(C),s+=y}return c},e.cmap={},e.cmap.parse=function(i,s,o){i=new Uint8Array(i.buffer,s,o),s=0;var l=e._bin,c={};l.readUshort(i,s),s+=2;var d=l.readUshort(i,s);s+=2;var h=[];c.tables=[];for(var m=0;m<d;m++){var y=l.readUshort(i,s);s+=2;var v=l.readUshort(i,s);s+=2;var C=l.readUint(i,s);s+=4;var b="p"+y+"e"+v,_=h.indexOf(C);if(_==-1){var S;_=c.tables.length,h.push(C);var A=l.readUshort(i,C);A==0?S=e.cmap.parse0(i,C):A==4?S=e.cmap.parse4(i,C):A==6?S=e.cmap.parse6(i,C):A==12?S=e.cmap.parse12(i,C):console.debug("unknown format: "+A,y,v,C),c.tables.push(S)}if(c[b]!=null)throw"multiple tables for one platform+encoding";c[b]=_}return c},e.cmap.parse0=function(i,s){var o=e._bin,l={};l.format=o.readUshort(i,s),s+=2;var c=o.readUshort(i,s);s+=2,o.readUshort(i,s),s+=2,l.map=[];for(var d=0;d<c-6;d++)l.map.push(i[s+d]);return l},e.cmap.parse4=function(i,s){var o=e._bin,l=s,c={};c.format=o.readUshort(i,s),s+=2;var d=o.readUshort(i,s);s+=2,o.readUshort(i,s),s+=2;var h=o.readUshort(i,s);s+=2;var m=h/2;c.searchRange=o.readUshort(i,s),s+=2,c.entrySelector=o.readUshort(i,s),s+=2,c.rangeShift=o.readUshort(i,s),s+=2,c.endCount=o.readUshorts(i,s,m),s+=2*m,s+=2,c.startCount=o.readUshorts(i,s,m),s+=2*m,c.idDelta=[];for(var y=0;y<m;y++)c.idDelta.push(o.readShort(i,s)),s+=2;for(c.idRangeOffset=o.readUshorts(i,s,m),s+=2*m,c.glyphIdArray=[];s<l+d;)c.glyphIdArray.push(o.readUshort(i,s)),s+=2;return c},e.cmap.parse6=function(i,s){var o=e._bin,l={};l.format=o.readUshort(i,s),s+=2,o.readUshort(i,s),s+=2,o.readUshort(i,s),s+=2,l.firstCode=o.readUshort(i,s),s+=2;var c=o.readUshort(i,s);s+=2,l.glyphIdArray=[];for(var d=0;d<c;d++)l.glyphIdArray.push(o.readUshort(i,s)),s+=2;return l},e.cmap.parse12=function(i,s){var o=e._bin,l={};l.format=o.readUshort(i,s),s+=2,s+=2,o.readUint(i,s),s+=4,o.readUint(i,s),s+=4;var c=o.readUint(i,s);s+=4,l.groups=[];for(var d=0;d<c;d++){var h=s+12*d,m=o.readUint(i,h+0),y=o.readUint(i,h+4),v=o.readUint(i,h+8);l.groups.push([m,y,v])}return l},e.glyf={},e.glyf.parse=function(i,s,o,l){for(var c=[],d=0;d<l.maxp.numGlyphs;d++)c.push(null);return c},e.glyf._parseGlyf=function(i,s){var o=e._bin,l=i._data,c=e._tabOffset(l,"glyf",i._offset)+i.loca[s];if(i.loca[s]==i.loca[s+1])return null;var d={};if(d.noc=o.readShort(l,c),c+=2,d.xMin=o.readShort(l,c),c+=2,d.yMin=o.readShort(l,c),c+=2,d.xMax=o.readShort(l,c),c+=2,d.yMax=o.readShort(l,c),c+=2,d.xMin>=d.xMax||d.yMin>=d.yMax)return null;if(d.noc>0){d.endPts=[];for(var h=0;h<d.noc;h++)d.endPts.push(o.readUshort(l,c)),c+=2;var m=o.readUshort(l,c);if(c+=2,l.length-c<m)return null;d.instructions=o.readBytes(l,c,m),c+=m;var y=d.endPts[d.noc-1]+1;for(d.flags=[],h=0;h<y;h++){var v=l[c];if(c++,d.flags.push(v),(8&v)!=0){var C=l[c];c++;for(var b=0;b<C;b++)d.flags.push(v),h++}}for(d.xs=[],h=0;h<y;h++){var _=(2&d.flags[h])!=0,S=(16&d.flags[h])!=0;_?(d.xs.push(S?l[c]:-l[c]),c++):S?d.xs.push(0):(d.xs.push(o.readShort(l,c)),c+=2)}for(d.ys=[],h=0;h<y;h++)_=(4&d.flags[h])!=0,S=(32&d.flags[h])!=0,_?(d.ys.push(S?l[c]:-l[c]),c++):S?d.ys.push(0):(d.ys.push(o.readShort(l,c)),c+=2);var A=0,E=0;for(h=0;h<y;h++)A+=d.xs[h],E+=d.ys[h],d.xs[h]=A,d.ys[h]=E}else{var P;d.parts=[];do{P=o.readUshort(l,c),c+=2;var I={m:{a:1,b:0,c:0,d:1,tx:0,ty:0},p1:-1,p2:-1};if(d.parts.push(I),I.glyphIndex=o.readUshort(l,c),c+=2,1&P){var k=o.readShort(l,c);c+=2;var F=o.readShort(l,c);c+=2}else k=o.readInt8(l,c),c++,F=o.readInt8(l,c),c++;2&P?(I.m.tx=k,I.m.ty=F):(I.p1=k,I.p2=F),8&P?(I.m.a=I.m.d=o.readF2dot14(l,c),c+=2):64&P?(I.m.a=o.readF2dot14(l,c),c+=2,I.m.d=o.readF2dot14(l,c),c+=2):128&P&&(I.m.a=o.readF2dot14(l,c),c+=2,I.m.b=o.readF2dot14(l,c),c+=2,I.m.c=o.readF2dot14(l,c),c+=2,I.m.d=o.readF2dot14(l,c),c+=2)}while(32&P);if(256&P){var V=o.readUshort(l,c);for(c+=2,d.instr=[],h=0;h<V;h++)d.instr.push(l[c]),c++}}return d},e.GDEF={},e.GDEF.parse=function(i,s,o,l){var c=s;s+=4;var d=e._bin.readUshort(i,s);return{glyphClassDef:d===0?null:e._lctf.readClassDef(i,c+d)}},e.GPOS={},e.GPOS.parse=function(i,s,o,l){return e._lctf.parse(i,s,o,l,e.GPOS.subt)},e.GPOS.subt=function(i,s,o,l){var c=e._bin,d=o,h={};if(h.fmt=c.readUshort(i,o),o+=2,s==1||s==2||s==3||s==7||s==8&&h.fmt<=2){var m=c.readUshort(i,o);o+=2,h.coverage=e._lctf.readCoverage(i,m+d)}if(s==1&&h.fmt==1){var y=c.readUshort(i,o);o+=2,y!=0&&(h.pos=e.GPOS.readValueRecord(i,o,y))}else if(s==2&&h.fmt>=1&&h.fmt<=2){y=c.readUshort(i,o),o+=2;var v=c.readUshort(i,o);o+=2;var C=e._lctf.numOfOnes(y),b=e._lctf.numOfOnes(v);if(h.fmt==1){h.pairsets=[];var _=c.readUshort(i,o);o+=2;for(var S=0;S<_;S++){var A=d+c.readUshort(i,o);o+=2;var E=c.readUshort(i,A);A+=2;for(var P=[],I=0;I<E;I++){var k=c.readUshort(i,A);A+=2,y!=0&&(q=e.GPOS.readValueRecord(i,A,y),A+=2*C),v!=0&&(te=e.GPOS.readValueRecord(i,A,v),A+=2*b),P.push({gid2:k,val1:q,val2:te})}h.pairsets.push(P)}}if(h.fmt==2){var F=c.readUshort(i,o);o+=2;var V=c.readUshort(i,o);o+=2;var U=c.readUshort(i,o);o+=2;var O=c.readUshort(i,o);for(o+=2,h.classDef1=e._lctf.readClassDef(i,d+F),h.classDef2=e._lctf.readClassDef(i,d+V),h.matrix=[],S=0;S<U;S++){var Q=[];for(I=0;I<O;I++){var q=null,te=null;y!=0&&(q=e.GPOS.readValueRecord(i,o,y),o+=2*C),v!=0&&(te=e.GPOS.readValueRecord(i,o,v),o+=2*b),Q.push({val1:q,val2:te})}h.matrix.push(Q)}}}else if(s==4&&h.fmt==1)h.markCoverage=e._lctf.readCoverage(i,c.readUshort(i,o)+d),h.baseCoverage=e._lctf.readCoverage(i,c.readUshort(i,o+2)+d),h.markClassCount=c.readUshort(i,o+4),h.markArray=e.GPOS.readMarkArray(i,c.readUshort(i,o+6)+d),h.baseArray=e.GPOS.readBaseArray(i,c.readUshort(i,o+8)+d,h.markClassCount);else if(s==6&&h.fmt==1)h.mark1Coverage=e._lctf.readCoverage(i,c.readUshort(i,o)+d),h.mark2Coverage=e._lctf.readCoverage(i,c.readUshort(i,o+2)+d),h.markClassCount=c.readUshort(i,o+4),h.mark1Array=e.GPOS.readMarkArray(i,c.readUshort(i,o+6)+d),h.mark2Array=e.GPOS.readBaseArray(i,c.readUshort(i,o+8)+d,h.markClassCount);else{if(s==9&&h.fmt==1){var X=c.readUshort(i,o);o+=2;var le=c.readUint(i,o);if(o+=4,l.ltype==9)l.ltype=X;else if(l.ltype!=X)throw"invalid extension substitution";return e.GPOS.subt(i,l.ltype,d+le)}console.debug("unsupported GPOS table LookupType",s,"format",h.fmt)}return h},e.GPOS.readValueRecord=function(i,s,o){var l=e._bin,c=[];return c.push(1&o?l.readShort(i,s):0),s+=1&o?2:0,c.push(2&o?l.readShort(i,s):0),s+=2&o?2:0,c.push(4&o?l.readShort(i,s):0),s+=4&o?2:0,c.push(8&o?l.readShort(i,s):0),s+=8&o?2:0,c},e.GPOS.readBaseArray=function(i,s,o){var l=e._bin,c=[],d=s,h=l.readUshort(i,s);s+=2;for(var m=0;m<h;m++){for(var y=[],v=0;v<o;v++)y.push(e.GPOS.readAnchorRecord(i,d+l.readUshort(i,s))),s+=2;c.push(y)}return c},e.GPOS.readMarkArray=function(i,s){var o=e._bin,l=[],c=s,d=o.readUshort(i,s);s+=2;for(var h=0;h<d;h++){var m=e.GPOS.readAnchorRecord(i,o.readUshort(i,s+2)+c);m.markClass=o.readUshort(i,s),l.push(m),s+=4}return l},e.GPOS.readAnchorRecord=function(i,s){var o=e._bin,l={};return l.fmt=o.readUshort(i,s),l.x=o.readShort(i,s+2),l.y=o.readShort(i,s+4),l},e.GSUB={},e.GSUB.parse=function(i,s,o,l){return e._lctf.parse(i,s,o,l,e.GSUB.subt)},e.GSUB.subt=function(i,s,o,l){var c=e._bin,d=o,h={};if(h.fmt=c.readUshort(i,o),o+=2,s!=1&&s!=2&&s!=4&&s!=5&&s!=6)return null;if(s==1||s==2||s==4||s==5&&h.fmt<=2||s==6&&h.fmt<=2){var m=c.readUshort(i,o);o+=2,h.coverage=e._lctf.readCoverage(i,d+m)}if(s==1&&h.fmt>=1&&h.fmt<=2){if(h.fmt==1)h.delta=c.readShort(i,o),o+=2;else if(h.fmt==2){var y=c.readUshort(i,o);o+=2,h.newg=c.readUshorts(i,o,y),o+=2*h.newg.length}}else if(s==2&&h.fmt==1){y=c.readUshort(i,o),o+=2,h.seqs=[];for(var v=0;v<y;v++){var C=c.readUshort(i,o)+d;o+=2;var b=c.readUshort(i,C);h.seqs.push(c.readUshorts(i,C+2,b))}}else if(s==4)for(h.vals=[],y=c.readUshort(i,o),o+=2,v=0;v<y;v++){var _=c.readUshort(i,o);o+=2,h.vals.push(e.GSUB.readLigatureSet(i,d+_))}else if(s==5&&h.fmt==2){if(h.fmt==2){var S=c.readUshort(i,o);o+=2,h.cDef=e._lctf.readClassDef(i,d+S),h.scset=[];var A=c.readUshort(i,o);for(o+=2,v=0;v<A;v++){var E=c.readUshort(i,o);o+=2,h.scset.push(E==0?null:e.GSUB.readSubClassSet(i,d+E))}}}else if(s==6&&h.fmt==3){if(h.fmt==3){for(v=0;v<3;v++){y=c.readUshort(i,o),o+=2;for(var P=[],I=0;I<y;I++)P.push(e._lctf.readCoverage(i,d+c.readUshort(i,o+2*I)));o+=2*y,v==0&&(h.backCvg=P),v==1&&(h.inptCvg=P),v==2&&(h.ahedCvg=P)}y=c.readUshort(i,o),o+=2,h.lookupRec=e.GSUB.readSubstLookupRecords(i,o,y)}}else{if(s==7&&h.fmt==1){var k=c.readUshort(i,o);o+=2;var F=c.readUint(i,o);if(o+=4,l.ltype==9)l.ltype=k;else if(l.ltype!=k)throw"invalid extension substitution";return e.GSUB.subt(i,l.ltype,d+F)}console.debug("unsupported GSUB table LookupType",s,"format",h.fmt)}return h},e.GSUB.readSubClassSet=function(i,s){var o=e._bin.readUshort,l=s,c=[],d=o(i,s);s+=2;for(var h=0;h<d;h++){var m=o(i,s);s+=2,c.push(e.GSUB.readSubClassRule(i,l+m))}return c},e.GSUB.readSubClassRule=function(i,s){var o=e._bin.readUshort,l={},c=o(i,s),d=o(i,s+=2);s+=2,l.input=[];for(var h=0;h<c-1;h++)l.input.push(o(i,s)),s+=2;return l.substLookupRecords=e.GSUB.readSubstLookupRecords(i,s,d),l},e.GSUB.readSubstLookupRecords=function(i,s,o){for(var l=e._bin.readUshort,c=[],d=0;d<o;d++)c.push(l(i,s),l(i,s+2)),s+=4;return c},e.GSUB.readChainSubClassSet=function(i,s){var o=e._bin,l=s,c=[],d=o.readUshort(i,s);s+=2;for(var h=0;h<d;h++){var m=o.readUshort(i,s);s+=2,c.push(e.GSUB.readChainSubClassRule(i,l+m))}return c},e.GSUB.readChainSubClassRule=function(i,s){for(var o=e._bin,l={},c=["backtrack","input","lookahead"],d=0;d<c.length;d++){var h=o.readUshort(i,s);s+=2,d==1&&h--,l[c[d]]=o.readUshorts(i,s,h),s+=2*l[c[d]].length}return h=o.readUshort(i,s),s+=2,l.subst=o.readUshorts(i,s,2*h),s+=2*l.subst.length,l},e.GSUB.readLigatureSet=function(i,s){var o=e._bin,l=s,c=[],d=o.readUshort(i,s);s+=2;for(var h=0;h<d;h++){var m=o.readUshort(i,s);s+=2,c.push(e.GSUB.readLigature(i,l+m))}return c},e.GSUB.readLigature=function(i,s){var o=e._bin,l={chain:[]};l.nglyph=o.readUshort(i,s),s+=2;var c=o.readUshort(i,s);s+=2;for(var d=0;d<c-1;d++)l.chain.push(o.readUshort(i,s)),s+=2;return l},e.head={},e.head.parse=function(i,s,o){var l=e._bin,c={};return l.readFixed(i,s),s+=4,c.fontRevision=l.readFixed(i,s),s+=4,l.readUint(i,s),s+=4,l.readUint(i,s),s+=4,c.flags=l.readUshort(i,s),s+=2,c.unitsPerEm=l.readUshort(i,s),s+=2,c.created=l.readUint64(i,s),s+=8,c.modified=l.readUint64(i,s),s+=8,c.xMin=l.readShort(i,s),s+=2,c.yMin=l.readShort(i,s),s+=2,c.xMax=l.readShort(i,s),s+=2,c.yMax=l.readShort(i,s),s+=2,c.macStyle=l.readUshort(i,s),s+=2,c.lowestRecPPEM=l.readUshort(i,s),s+=2,c.fontDirectionHint=l.readShort(i,s),s+=2,c.indexToLocFormat=l.readShort(i,s),s+=2,c.glyphDataFormat=l.readShort(i,s),s+=2,c},e.hhea={},e.hhea.parse=function(i,s,o){var l=e._bin,c={};return l.readFixed(i,s),s+=4,c.ascender=l.readShort(i,s),s+=2,c.descender=l.readShort(i,s),s+=2,c.lineGap=l.readShort(i,s),s+=2,c.advanceWidthMax=l.readUshort(i,s),s+=2,c.minLeftSideBearing=l.readShort(i,s),s+=2,c.minRightSideBearing=l.readShort(i,s),s+=2,c.xMaxExtent=l.readShort(i,s),s+=2,c.caretSlopeRise=l.readShort(i,s),s+=2,c.caretSlopeRun=l.readShort(i,s),s+=2,c.caretOffset=l.readShort(i,s),s+=2,s+=8,c.metricDataFormat=l.readShort(i,s),s+=2,c.numberOfHMetrics=l.readUshort(i,s),s+=2,c},e.hmtx={},e.hmtx.parse=function(i,s,o,l){for(var c=e._bin,d={aWidth:[],lsBearing:[]},h=0,m=0,y=0;y<l.maxp.numGlyphs;y++)y<l.hhea.numberOfHMetrics&&(h=c.readUshort(i,s),s+=2,m=c.readShort(i,s),s+=2),d.aWidth.push(h),d.lsBearing.push(m);return d},e.kern={},e.kern.parse=function(i,s,o,l){var c=e._bin,d=c.readUshort(i,s);if(s+=2,d==1)return e.kern.parseV1(i,s-2,o,l);var h=c.readUshort(i,s);s+=2;for(var m={glyph1:[],rval:[]},y=0;y<h;y++){s+=2,o=c.readUshort(i,s),s+=2;var v=c.readUshort(i,s);s+=2;var C=v>>>8;if((C&=15)!=0)throw"unknown kern table format: "+C;s=e.kern.readFormat0(i,s,m)}return m},e.kern.parseV1=function(i,s,o,l){var c=e._bin;c.readFixed(i,s),s+=4;var d=c.readUint(i,s);s+=4;for(var h={glyph1:[],rval:[]},m=0;m<d;m++){c.readUint(i,s),s+=4;var y=c.readUshort(i,s);s+=2,c.readUshort(i,s),s+=2;var v=y>>>8;if((v&=15)!=0)throw"unknown kern table format: "+v;s=e.kern.readFormat0(i,s,h)}return h},e.kern.readFormat0=function(i,s,o){var l=e._bin,c=-1,d=l.readUshort(i,s);s+=2,l.readUshort(i,s),s+=2,l.readUshort(i,s),s+=2,l.readUshort(i,s),s+=2;for(var h=0;h<d;h++){var m=l.readUshort(i,s);s+=2;var y=l.readUshort(i,s);s+=2;var v=l.readShort(i,s);s+=2,m!=c&&(o.glyph1.push(m),o.rval.push({glyph2:[],vals:[]}));var C=o.rval[o.rval.length-1];C.glyph2.push(y),C.vals.push(v),c=m}return s},e.loca={},e.loca.parse=function(i,s,o,l){var c=e._bin,d=[],h=l.head.indexToLocFormat,m=l.maxp.numGlyphs+1;if(h==0)for(var y=0;y<m;y++)d.push(c.readUshort(i,s+(y<<1))<<1);if(h==1)for(y=0;y<m;y++)d.push(c.readUint(i,s+(y<<2)));return d},e.maxp={},e.maxp.parse=function(i,s,o){var l=e._bin,c={},d=l.readUint(i,s);return s+=4,c.numGlyphs=l.readUshort(i,s),s+=2,d==65536&&(c.maxPoints=l.readUshort(i,s),s+=2,c.maxContours=l.readUshort(i,s),s+=2,c.maxCompositePoints=l.readUshort(i,s),s+=2,c.maxCompositeContours=l.readUshort(i,s),s+=2,c.maxZones=l.readUshort(i,s),s+=2,c.maxTwilightPoints=l.readUshort(i,s),s+=2,c.maxStorage=l.readUshort(i,s),s+=2,c.maxFunctionDefs=l.readUshort(i,s),s+=2,c.maxInstructionDefs=l.readUshort(i,s),s+=2,c.maxStackElements=l.readUshort(i,s),s+=2,c.maxSizeOfInstructions=l.readUshort(i,s),s+=2,c.maxComponentElements=l.readUshort(i,s),s+=2,c.maxComponentDepth=l.readUshort(i,s),s+=2),c},e.name={},e.name.parse=function(i,s,o){var l=e._bin,c={};l.readUshort(i,s),s+=2;var d=l.readUshort(i,s);s+=2,l.readUshort(i,s);for(var h,m=["copyright","fontFamily","fontSubfamily","ID","fullName","version","postScriptName","trademark","manufacturer","designer","description","urlVendor","urlDesigner","licence","licenceURL","---","typoFamilyName","typoSubfamilyName","compatibleFull","sampleText","postScriptCID","wwsFamilyName","wwsSubfamilyName","lightPalette","darkPalette"],y=s+=2,v=0;v<d;v++){var C=l.readUshort(i,s);s+=2;var b=l.readUshort(i,s);s+=2;var _=l.readUshort(i,s);s+=2;var S=l.readUshort(i,s);s+=2;var A=l.readUshort(i,s);s+=2;var E=l.readUshort(i,s);s+=2;var P,I=m[S],k=y+12*d+E;if(C==0)P=l.readUnicode(i,k,A/2);else if(C==3&&b==0)P=l.readUnicode(i,k,A/2);else if(b==0)P=l.readASCII(i,k,A);else if(b==1)P=l.readUnicode(i,k,A/2);else if(b==3)P=l.readUnicode(i,k,A/2);else{if(C!=1)throw"unknown encoding "+b+", platformID: "+C;P=l.readASCII(i,k,A),console.debug("reading unknown MAC encoding "+b+" as ASCII")}var F="p"+C+","+_.toString(16);c[F]==null&&(c[F]={}),c[F][I!==void 0?I:S]=P,c[F]._lang=_}for(var V in c)if(c[V].postScriptName!=null&&c[V]._lang==1033)return c[V];for(var V in c)if(c[V].postScriptName!=null&&c[V]._lang==0)return c[V];for(var V in c)if(c[V].postScriptName!=null&&c[V]._lang==3084)return c[V];for(var V in c)if(c[V].postScriptName!=null)return c[V];for(var V in c){h=V;break}return console.debug("returning name table with languageID "+c[h]._lang),c[h]},e["OS/2"]={},e["OS/2"].parse=function(i,s,o){var l=e._bin.readUshort(i,s);s+=2;var c={};if(l==0)e["OS/2"].version0(i,s,c);else if(l==1)e["OS/2"].version1(i,s,c);else if(l==2||l==3||l==4)e["OS/2"].version2(i,s,c);else{if(l!=5)throw"unknown OS/2 table version: "+l;e["OS/2"].version5(i,s,c)}return c},e["OS/2"].version0=function(i,s,o){var l=e._bin;return o.xAvgCharWidth=l.readShort(i,s),s+=2,o.usWeightClass=l.readUshort(i,s),s+=2,o.usWidthClass=l.readUshort(i,s),s+=2,o.fsType=l.readUshort(i,s),s+=2,o.ySubscriptXSize=l.readShort(i,s),s+=2,o.ySubscriptYSize=l.readShort(i,s),s+=2,o.ySubscriptXOffset=l.readShort(i,s),s+=2,o.ySubscriptYOffset=l.readShort(i,s),s+=2,o.ySuperscriptXSize=l.readShort(i,s),s+=2,o.ySuperscriptYSize=l.readShort(i,s),s+=2,o.ySuperscriptXOffset=l.readShort(i,s),s+=2,o.ySuperscriptYOffset=l.readShort(i,s),s+=2,o.yStrikeoutSize=l.readShort(i,s),s+=2,o.yStrikeoutPosition=l.readShort(i,s),s+=2,o.sFamilyClass=l.readShort(i,s),s+=2,o.panose=l.readBytes(i,s,10),s+=10,o.ulUnicodeRange1=l.readUint(i,s),s+=4,o.ulUnicodeRange2=l.readUint(i,s),s+=4,o.ulUnicodeRange3=l.readUint(i,s),s+=4,o.ulUnicodeRange4=l.readUint(i,s),s+=4,o.achVendID=[l.readInt8(i,s),l.readInt8(i,s+1),l.readInt8(i,s+2),l.readInt8(i,s+3)],s+=4,o.fsSelection=l.readUshort(i,s),s+=2,o.usFirstCharIndex=l.readUshort(i,s),s+=2,o.usLastCharIndex=l.readUshort(i,s),s+=2,o.sTypoAscender=l.readShort(i,s),s+=2,o.sTypoDescender=l.readShort(i,s),s+=2,o.sTypoLineGap=l.readShort(i,s),s+=2,o.usWinAscent=l.readUshort(i,s),s+=2,o.usWinDescent=l.readUshort(i,s),s+=2},e["OS/2"].version1=function(i,s,o){var l=e._bin;return s=e["OS/2"].version0(i,s,o),o.ulCodePageRange1=l.readUint(i,s),s+=4,o.ulCodePageRange2=l.readUint(i,s),s+=4},e["OS/2"].version2=function(i,s,o){var l=e._bin;return s=e["OS/2"].version1(i,s,o),o.sxHeight=l.readShort(i,s),s+=2,o.sCapHeight=l.readShort(i,s),s+=2,o.usDefault=l.readUshort(i,s),s+=2,o.usBreak=l.readUshort(i,s),s+=2,o.usMaxContext=l.readUshort(i,s),s+=2},e["OS/2"].version5=function(i,s,o){var l=e._bin;return s=e["OS/2"].version2(i,s,o),o.usLowerOpticalPointSize=l.readUshort(i,s),s+=2,o.usUpperOpticalPointSize=l.readUshort(i,s),s+=2},e.post={},e.post.parse=function(i,s,o){var l=e._bin,c={};return c.version=l.readFixed(i,s),s+=4,c.italicAngle=l.readFixed(i,s),s+=4,c.underlinePosition=l.readShort(i,s),s+=2,c.underlineThickness=l.readShort(i,s),s+=2,c},e==null&&(e={}),e.U==null&&(e.U={}),e.U.codeToGlyph=function(i,s){var o=i.cmap,l=-1;if(o.p0e4!=null?l=o.p0e4:o.p3e1!=null?l=o.p3e1:o.p1e0!=null?l=o.p1e0:o.p0e3!=null&&(l=o.p0e3),l==-1)throw"no familiar platform and encoding!";var c=o.tables[l];if(c.format==0)return s>=c.map.length?0:c.map[s];if(c.format==4){for(var d=-1,h=0;h<c.endCount.length;h++)if(s<=c.endCount[h]){d=h;break}return d==-1||c.startCount[d]>s?0:65535&(c.idRangeOffset[d]!=0?c.glyphIdArray[s-c.startCount[d]+(c.idRangeOffset[d]>>1)-(c.idRangeOffset.length-d)]:s+c.idDelta[d])}if(c.format==12){if(s>c.groups[c.groups.length-1][1])return 0;for(h=0;h<c.groups.length;h++){var m=c.groups[h];if(m[0]<=s&&s<=m[1])return m[2]+(s-m[0])}return 0}throw"unknown cmap table format "+c.format},e.U.glyphToPath=function(i,s){var o={cmds:[],crds:[]};if(i.SVG&&i.SVG.entries[s]){var l=i.SVG.entries[s];return l==null?o:(typeof l=="string"&&(l=e.SVG.toPath(l),i.SVG.entries[s]=l),l)}if(i.CFF){var c={x:0,y:0,stack:[],nStems:0,haveWidth:!1,width:i.CFF.Private?i.CFF.Private.defaultWidthX:0,open:!1},d=i.CFF,h=i.CFF.Private;if(d.ROS){for(var m=0;d.FDSelect[m+2]<=s;)m+=2;h=d.FDArray[d.FDSelect[m+1]].Private}e.U._drawCFF(i.CFF.CharStrings[s],c,d,h,o)}else i.glyf&&e.U._drawGlyf(s,i,o);return o},e.U._drawGlyf=function(i,s,o){var l=s.glyf[i];l==null&&(l=s.glyf[i]=e.glyf._parseGlyf(s,i)),l!=null&&(l.noc>-1?e.U._simpleGlyph(l,o):e.U._compoGlyph(l,s,o))},e.U._simpleGlyph=function(i,s){for(var o=0;o<i.noc;o++){for(var l=o==0?0:i.endPts[o-1]+1,c=i.endPts[o],d=l;d<=c;d++){var h=d==l?c:d-1,m=d==c?l:d+1,y=1&i.flags[d],v=1&i.flags[h],C=1&i.flags[m],b=i.xs[d],_=i.ys[d];if(d==l)if(y){if(!v){e.U.P.moveTo(s,b,_);continue}e.U.P.moveTo(s,i.xs[h],i.ys[h])}else v?e.U.P.moveTo(s,i.xs[h],i.ys[h]):e.U.P.moveTo(s,(i.xs[h]+b)/2,(i.ys[h]+_)/2);y?v&&e.U.P.lineTo(s,b,_):C?e.U.P.qcurveTo(s,b,_,i.xs[m],i.ys[m]):e.U.P.qcurveTo(s,b,_,(b+i.xs[m])/2,(_+i.ys[m])/2)}e.U.P.closePath(s)}},e.U._compoGlyph=function(i,s,o){for(var l=0;l<i.parts.length;l++){var c={cmds:[],crds:[]},d=i.parts[l];e.U._drawGlyf(d.glyphIndex,s,c);for(var h=d.m,m=0;m<c.crds.length;m+=2){var y=c.crds[m],v=c.crds[m+1];o.crds.push(y*h.a+v*h.b+h.tx),o.crds.push(y*h.c+v*h.d+h.ty)}for(m=0;m<c.cmds.length;m++)o.cmds.push(c.cmds[m])}},e.U._getGlyphClass=function(i,s){var o=e._lctf.getInterval(s,i);return o==-1?0:s[o+2]},e.U._applySubs=function(i,s,o,l){for(var c=i.length-s-1,d=0;d<o.tabs.length;d++)if(o.tabs[d]!=null){var h,m=o.tabs[d];if(!m.coverage||(h=e._lctf.coverageIndex(m.coverage,i[s]))!=-1){if(o.ltype==1)i[s],m.fmt==1?i[s]=i[s]+m.delta:i[s]=m.newg[h];else if(o.ltype==4)for(var y=m.vals[h],v=0;v<y.length;v++){var C=y[v],b=C.chain.length;if(!(b>c)){for(var _=!0,S=0,A=0;A<b;A++){for(;i[s+S+(1+A)]==-1;)S++;C.chain[A]!=i[s+S+(1+A)]&&(_=!1)}if(_){for(i[s]=C.nglyph,A=0;A<b+S;A++)i[s+A+1]=-1;break}}}else if(o.ltype==5&&m.fmt==2)for(var E=e._lctf.getInterval(m.cDef,i[s]),P=m.cDef[E+2],I=m.scset[P],k=0;k<I.length;k++){var F=I[k],V=F.input;if(!(V.length>c)){for(_=!0,A=0;A<V.length;A++){var U=e._lctf.getInterval(m.cDef,i[s+1+A]);if(E==-1&&m.cDef[U+2]!=V[A]){_=!1;break}}if(_){var O=F.substLookupRecords;for(v=0;v<O.length;v+=2)O[v],O[v+1]}}}else if(o.ltype==6&&m.fmt==3){if(!e.U._glsCovered(i,m.backCvg,s-m.backCvg.length)||!e.U._glsCovered(i,m.inptCvg,s)||!e.U._glsCovered(i,m.ahedCvg,s+m.inptCvg.length))continue;var Q=m.lookupRec;for(k=0;k<Q.length;k+=2){E=Q[k];var q=l[Q[k+1]];e.U._applySubs(i,s+E,q,l)}}}}},e.U._glsCovered=function(i,s,o){for(var l=0;l<s.length;l++)if(e._lctf.coverageIndex(s[l],i[o+l])==-1)return!1;return!0},e.U.glyphsToPath=function(i,s,o){for(var l={cmds:[],crds:[]},c=0,d=0;d<s.length;d++){var h=s[d];if(h!=-1){for(var m=d<s.length-1&&s[d+1]!=-1?s[d+1]:0,y=e.U.glyphToPath(i,h),v=0;v<y.crds.length;v+=2)l.crds.push(y.crds[v]+c),l.crds.push(y.crds[v+1]);for(o&&l.cmds.push(o),v=0;v<y.cmds.length;v++)l.cmds.push(y.cmds[v]);o&&l.cmds.push("X"),c+=i.hmtx.aWidth[h],d<s.length-1&&(c+=e.U.getPairAdjustment(i,h,m))}}return l},e.U.P={},e.U.P.moveTo=function(i,s,o){i.cmds.push("M"),i.crds.push(s,o)},e.U.P.lineTo=function(i,s,o){i.cmds.push("L"),i.crds.push(s,o)},e.U.P.curveTo=function(i,s,o,l,c,d,h){i.cmds.push("C"),i.crds.push(s,o,l,c,d,h)},e.U.P.qcurveTo=function(i,s,o,l,c){i.cmds.push("Q"),i.crds.push(s,o,l,c)},e.U.P.closePath=function(i){i.cmds.push("Z")},e.U._drawCFF=function(i,s,o,l,c){for(var d=s.stack,h=s.nStems,m=s.haveWidth,y=s.width,v=s.open,C=0,b=s.x,_=s.y,S=0,A=0,E=0,P=0,I=0,k=0,F=0,V=0,U=0,O=0,Q={val:0,size:0};C<i.length;){e.CFF.getCharString(i,C,Q);var q=Q.val;if(C+=Q.size,q=="o1"||q=="o18")d.length%2!=0&&!m&&(y=d.shift()+l.nominalWidthX),h+=d.length>>1,d.length=0,m=!0;else if(q=="o3"||q=="o23")d.length%2!=0&&!m&&(y=d.shift()+l.nominalWidthX),h+=d.length>>1,d.length=0,m=!0;else if(q=="o4")d.length>1&&!m&&(y=d.shift()+l.nominalWidthX,m=!0),v&&e.U.P.closePath(c),_+=d.pop(),e.U.P.moveTo(c,b,_),v=!0;else if(q=="o5")for(;d.length>0;)b+=d.shift(),_+=d.shift(),e.U.P.lineTo(c,b,_);else if(q=="o6"||q=="o7")for(var te=d.length,X=q=="o6",le=0;le<te;le++){var re=d.shift();X?b+=re:_+=re,X=!X,e.U.P.lineTo(c,b,_)}else if(q=="o8"||q=="o24"){te=d.length;for(var de=0;de+6<=te;)S=b+d.shift(),A=_+d.shift(),E=S+d.shift(),P=A+d.shift(),b=E+d.shift(),_=P+d.shift(),e.U.P.curveTo(c,S,A,E,P,b,_),de+=6;q=="o24"&&(b+=d.shift(),_+=d.shift(),e.U.P.lineTo(c,b,_))}else{if(q=="o11")break;if(q=="o1234"||q=="o1235"||q=="o1236"||q=="o1237")q=="o1234"&&(A=_,E=(S=b+d.shift())+d.shift(),O=P=A+d.shift(),k=P,V=_,b=(F=(I=(U=E+d.shift())+d.shift())+d.shift())+d.shift(),e.U.P.curveTo(c,S,A,E,P,U,O),e.U.P.curveTo(c,I,k,F,V,b,_)),q=="o1235"&&(S=b+d.shift(),A=_+d.shift(),E=S+d.shift(),P=A+d.shift(),U=E+d.shift(),O=P+d.shift(),I=U+d.shift(),k=O+d.shift(),F=I+d.shift(),V=k+d.shift(),b=F+d.shift(),_=V+d.shift(),d.shift(),e.U.P.curveTo(c,S,A,E,P,U,O),e.U.P.curveTo(c,I,k,F,V,b,_)),q=="o1236"&&(S=b+d.shift(),A=_+d.shift(),E=S+d.shift(),O=P=A+d.shift(),k=P,F=(I=(U=E+d.shift())+d.shift())+d.shift(),V=k+d.shift(),b=F+d.shift(),e.U.P.curveTo(c,S,A,E,P,U,O),e.U.P.curveTo(c,I,k,F,V,b,_)),q=="o1237"&&(S=b+d.shift(),A=_+d.shift(),E=S+d.shift(),P=A+d.shift(),U=E+d.shift(),O=P+d.shift(),I=U+d.shift(),k=O+d.shift(),F=I+d.shift(),V=k+d.shift(),Math.abs(F-b)>Math.abs(V-_)?b=F+d.shift():_=V+d.shift(),e.U.P.curveTo(c,S,A,E,P,U,O),e.U.P.curveTo(c,I,k,F,V,b,_));else if(q=="o14"){if(d.length>0&&!m&&(y=d.shift()+o.nominalWidthX,m=!0),d.length==4){var j=d.shift(),Y=d.shift(),G=d.shift(),D=d.shift(),B=e.CFF.glyphBySE(o,G),ee=e.CFF.glyphBySE(o,D);e.U._drawCFF(o.CharStrings[B],s,o,l,c),s.x=j,s.y=Y,e.U._drawCFF(o.CharStrings[ee],s,o,l,c)}v&&(e.U.P.closePath(c),v=!1)}else if(q=="o19"||q=="o20")d.length%2!=0&&!m&&(y=d.shift()+l.nominalWidthX),h+=d.length>>1,d.length=0,m=!0,C+=h+7>>3;else if(q=="o21")d.length>2&&!m&&(y=d.shift()+l.nominalWidthX,m=!0),_+=d.pop(),b+=d.pop(),v&&e.U.P.closePath(c),e.U.P.moveTo(c,b,_),v=!0;else if(q=="o22")d.length>1&&!m&&(y=d.shift()+l.nominalWidthX,m=!0),b+=d.pop(),v&&e.U.P.closePath(c),e.U.P.moveTo(c,b,_),v=!0;else if(q=="o25"){for(;d.length>6;)b+=d.shift(),_+=d.shift(),e.U.P.lineTo(c,b,_);S=b+d.shift(),A=_+d.shift(),E=S+d.shift(),P=A+d.shift(),b=E+d.shift(),_=P+d.shift(),e.U.P.curveTo(c,S,A,E,P,b,_)}else if(q=="o26")for(d.length%2&&(b+=d.shift());d.length>0;)S=b,A=_+d.shift(),b=E=S+d.shift(),_=(P=A+d.shift())+d.shift(),e.U.P.curveTo(c,S,A,E,P,b,_);else if(q=="o27")for(d.length%2&&(_+=d.shift());d.length>0;)A=_,E=(S=b+d.shift())+d.shift(),P=A+d.shift(),b=E+d.shift(),_=P,e.U.P.curveTo(c,S,A,E,P,b,_);else if(q=="o10"||q=="o29"){var ie=q=="o10"?l:o;if(d.length==0)console.debug("error: empty stack");else{var se=d.pop(),pe=ie.Subrs[se+ie.Bias];s.x=b,s.y=_,s.nStems=h,s.haveWidth=m,s.width=y,s.open=v,e.U._drawCFF(pe,s,o,l,c),b=s.x,_=s.y,h=s.nStems,m=s.haveWidth,y=s.width,v=s.open}}else if(q=="o30"||q=="o31"){var me=d.length,ve=(de=0,q=="o31");for(de+=me-(te=-3&me);de<te;)ve?(A=_,E=(S=b+d.shift())+d.shift(),_=(P=A+d.shift())+d.shift(),te-de==5?(b=E+d.shift(),de++):b=E,ve=!1):(S=b,A=_+d.shift(),E=S+d.shift(),P=A+d.shift(),b=E+d.shift(),te-de==5?(_=P+d.shift(),de++):_=P,ve=!0),e.U.P.curveTo(c,S,A,E,P,b,_),de+=4}else{if((q+"").charAt(0)=="o")throw console.debug("Unknown operation: "+q,i),q;d.push(q)}}}s.x=b,s.y=_,s.nStems=h,s.haveWidth=m,s.width=y,s.open=v};var t=e,n={Typr:t};return r.Typr=t,r.default=n,Object.defineProperty(r,"__esModule",{value:!0}),r})({}).Typr}/*!
Custom bundle of woff2otf (https://github.com/arty-name/woff2otf) with fflate
(https://github.com/101arrowz/fflate) for use in Troika text rendering. 
Original licenses apply: 
- fflate: https://github.com/101arrowz/fflate/blob/master/LICENSE (MIT)
- woff2otf.js: https://github.com/arty-name/woff2otf/blob/master/woff2otf.js (Apache2)
*/function cz(){return(function(r){var e=Uint8Array,t=Uint16Array,n=Uint32Array,i=new e([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),s=new e([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),o=new e([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),l=function(q,te){for(var X=new t(31),le=0;le<31;++le)X[le]=te+=1<<q[le-1];var re=new n(X[30]);for(le=1;le<30;++le)for(var de=X[le];de<X[le+1];++de)re[de]=de-X[le]<<5|le;return[X,re]},c=l(i,2),d=c[0],h=c[1];d[28]=258,h[258]=28;for(var m=l(s,0)[0],y=new t(32768),v=0;v<32768;++v){var C=(43690&v)>>>1|(21845&v)<<1;C=(61680&(C=(52428&C)>>>2|(13107&C)<<2))>>>4|(3855&C)<<4,y[v]=((65280&C)>>>8|(255&C)<<8)>>>1}var b=function(q,te,X){for(var le=q.length,re=0,de=new t(te);re<le;++re)++de[q[re]-1];var j,Y=new t(te);for(re=0;re<te;++re)Y[re]=Y[re-1]+de[re-1]<<1;{j=new t(1<<te);var G=15-te;for(re=0;re<le;++re)if(q[re])for(var D=re<<4|q[re],B=te-q[re],ee=Y[q[re]-1]++<<B,ie=ee|(1<<B)-1;ee<=ie;++ee)j[y[ee]>>>G]=D}return j},_=new e(288);for(v=0;v<144;++v)_[v]=8;for(v=144;v<256;++v)_[v]=9;for(v=256;v<280;++v)_[v]=7;for(v=280;v<288;++v)_[v]=8;var S=new e(32);for(v=0;v<32;++v)S[v]=5;var A=b(_,9),E=b(S,5),P=function(q){for(var te=q[0],X=1;X<q.length;++X)q[X]>te&&(te=q[X]);return te},I=function(q,te,X){var le=te/8|0;return(q[le]|q[le+1]<<8)>>(7&te)&X},k=function(q,te){var X=te/8|0;return(q[X]|q[X+1]<<8|q[X+2]<<16)>>(7&te)},F=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],V=function(q,te,X){var le=new Error(te||F[q]);if(le.code=q,Error.captureStackTrace&&Error.captureStackTrace(le,V),!X)throw le;return le},U=function(q,te,X){var le=q.length;if(!le||X&&!X.l&&le<5)return te||new e(0);var re=!te||X,de=!X||X.i;X||(X={}),te||(te=new e(3*le));var j,Y=function(lt){var oe=te.length;if(lt>oe){var Te=new e(Math.max(2*oe,lt));Te.set(te),te=Te}},G=X.f||0,D=X.p||0,B=X.b||0,ee=X.l,ie=X.d,se=X.m,pe=X.n,me=8*le;do{if(!ee){X.f=G=I(q,D,1);var ve=I(q,D+1,3);if(D+=3,!ve){var ke=q[(Ke=((j=D)/8|0)+(7&j&&1)+4)-4]|q[Ke-3]<<8,$e=Ke+ke;if($e>le){de&&V(0);break}re&&Y(B+ke),te.set(q.subarray(Ke,$e),B),X.b=B+=ke,X.p=D=8*$e;continue}if(ve==1)ee=A,ie=E,se=9,pe=5;else if(ve==2){var Re=I(q,D,31)+257,Z=I(q,D+10,15)+4,Oe=Re+I(q,D+5,31)+1;D+=14;for(var Ce=new e(Oe),Ne=new e(19),Ee=0;Ee<Z;++Ee)Ne[o[Ee]]=I(q,D+3*Ee,7);D+=3*Z;var rt=P(Ne),Ae=(1<<rt)-1,We=b(Ne,rt);for(Ee=0;Ee<Oe;){var Ke,Me=We[I(q,D,Ae)];if(D+=15&Me,(Ke=Me>>>4)<16)Ce[Ee++]=Ke;else{var ht=0,K=0;for(Ke==16?(K=3+I(q,D,3),D+=2,ht=Ce[Ee-1]):Ke==17?(K=3+I(q,D,7),D+=3):Ke==18&&(K=11+I(q,D,127),D+=7);K--;)Ce[Ee++]=ht}}var H=Ce.subarray(0,Re),fe=Ce.subarray(Re);se=P(H),pe=P(fe),ee=b(H,se),ie=b(fe,pe)}else V(1);if(D>me){de&&V(0);break}}re&&Y(B+131072);for(var Ye=(1<<se)-1,Se=(1<<pe)-1,Le=D;;Le=D){var tt=(ht=ee[k(q,D)&Ye])>>>4;if((D+=15&ht)>me){de&&V(0);break}if(ht||V(2),tt<256)te[B++]=tt;else{if(tt==256){Le=D,ee=null;break}var Xe=tt-254;if(tt>264){var et=i[Ee=tt-257];Xe=I(q,D,(1<<et)-1)+d[Ee],D+=et}var gt=ie[k(q,D)&Se],yt=gt>>>4;if(gt||V(3),D+=15&gt,fe=m[yt],yt>3&&(et=s[yt],fe+=k(q,D)&(1<<et)-1,D+=et),D>me){de&&V(0);break}re&&Y(B+131072);for(var Ve=B+Xe;B<Ve;B+=4)te[B]=te[B-fe],te[B+1]=te[B+1-fe],te[B+2]=te[B+2-fe],te[B+3]=te[B+3-fe];B=Ve}}X.l=ee,X.p=Le,X.b=B,ee&&(G=1,X.m=se,X.d=ie,X.n=pe)}while(!G);return B==te.length?te:(function(lt,oe,Te){(Te==null||Te>lt.length)&&(Te=lt.length);var Je=new(lt instanceof t?t:lt instanceof n?n:e)(Te-oe);return Je.set(lt.subarray(oe,Te)),Je})(te,0,B)},O=new e(0),Q=typeof TextDecoder<"u"&&new TextDecoder;try{Q.decode(O,{stream:!0})}catch{}return r.convert_streams=function(q){var te=new DataView(q),X=0;function le(){var Re=te.getUint16(X);return X+=2,Re}function re(){var Re=te.getUint32(X);return X+=4,Re}function de(Re){ke.setUint16($e,Re),$e+=2}function j(Re){ke.setUint32($e,Re),$e+=4}for(var Y={signature:re(),flavor:re(),length:re(),numTables:le(),reserved:le(),totalSfntSize:re(),majorVersion:le(),minorVersion:le(),metaOffset:re(),metaLength:re(),metaOrigLength:re(),privOffset:re(),privLength:re()},G=0;Math.pow(2,G)<=Y.numTables;)G++;G--;for(var D=16*Math.pow(2,G),B=16*Y.numTables-D,ee=12,ie=[],se=0;se<Y.numTables;se++)ie.push({tag:re(),offset:re(),compLength:re(),origLength:re(),origChecksum:re()}),ee+=16;var pe,me=new Uint8Array(12+16*ie.length+ie.reduce((function(Re,Z){return Re+Z.origLength+4}),0)),ve=me.buffer,ke=new DataView(ve),$e=0;return j(Y.flavor),de(Y.numTables),de(D),de(G),de(B),ie.forEach((function(Re){j(Re.tag),j(Re.origChecksum),j(ee),j(Re.origLength),Re.outOffset=ee,(ee+=Re.origLength)%4!=0&&(ee+=4-ee%4)})),ie.forEach((function(Re){var Z,Oe=q.slice(Re.offset,Re.offset+Re.compLength);if(Re.compLength!=Re.origLength){var Ce=new Uint8Array(Re.origLength);Z=new Uint8Array(Oe,2),U(Z,Ce)}else Ce=new Uint8Array(Oe);me.set(Ce,Re.outOffset);var Ne=0;(ee=Re.outOffset+Re.origLength)%4!=0&&(Ne=4-ee%4),me.set(new Uint8Array(Ne).buffer,Re.outOffset+Re.origLength),pe=ee+Ne})),ve.slice(0,pe)},Object.defineProperty(r,"__esModule",{value:!0}),r})({}).convert_streams}function uz(r,e){const t={M:2,L:2,Q:4,C:6,Z:0},n={C:"18g,ca,368,1kz",D:"17k,6,2,2+4,5+c,2+6,2+1,10+1,9+f,j+11,2+1,a,2,2+1,15+2,3,j+2,6+3,2+8,2,2,2+1,w+a,4+e,3+3,2,3+2,3+5,23+w,2f+4,3,2+9,2,b,2+3,3,1k+9,6+1,3+1,2+2,2+d,30g,p+y,1,1+1g,f+x,2,sd2+1d,jf3+4,f+3,2+4,2+2,b+3,42,2,4+2,2+1,2,3,t+1,9f+w,2,el+2,2+g,d+2,2l,2+1,5,3+1,2+1,2,3,6,16wm+1v",R:"17m+3,2,2,6+3,m,15+2,2+2,h+h,13,3+8,2,2,3+1,2,p+1,x,5+4,5,a,2,2,3,u,c+2,g+1,5,2+1,4+1,5j,6+1,2,b,2+2,f,2+1,1s+2,2,3+1,7,1ez0,2,2+1,4+4,b,4,3,b,42,2+2,4,3,2+1,2,o+3,ae,ep,x,2o+2,3+1,3,5+1,6",L:"x9u,jff,a,fd,jv",T:"4t,gj+33,7o+4,1+1,7c+18,2,2+1,2+1,2,21+a,2,1b+k,h,2u+6,3+5,3+1,2+3,y,2,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,3,7,6+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+d,1,1+1,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,ek,3+1,r+4,1e+4,6+5,2p+c,1+3,1,1+2,1+b,2db+2,3y,2p+v,ff+3,30+1,n9x,1+2,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,5s,6y+2,ea,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+9,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2,2b+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,470+8,at4+4,1o+6,t5,1s+3,2a,f5l+1,2+3,43o+2,a+7,1+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,1,gzau,v+2n,3l+6n"},i=1,s=2,o=4,l=8,c=16,d=32;let h;function m(F){if(!h){const V={R:s,L:i,D:o,C:c,U:d,T:l};h=new Map;for(let U in n){let O=0;n[U].split(",").forEach(Q=>{let[q,te]=Q.split("+");q=parseInt(q,36),te=te?parseInt(te,36):0,h.set(O+=q,V[U]);for(let X=te;X--;)h.set(++O,V[U])})}}return h.get(F)||d}const y=1,v=2,C=3,b=4,_=[null,"isol","init","fina","medi"];function S(F){const V=new Uint8Array(F.length);let U=d,O=y,Q=-1;for(let q=0;q<F.length;q++){const te=F.codePointAt(q);let X=m(te)|0,le=y;X&l||(U&(i|o|c)?X&(s|o|c)?(le=C,(O===y||O===C)&&V[Q]++):X&(i|d)&&(O===v||O===b)&&V[Q]--:U&(s|d)&&(O===v||O===b)&&V[Q]--,O=V[q]=le,U=X,Q=q,te>65535&&q++)}return V}function A(F,V){const U=[];for(let Q=0;Q<V.length;Q++){const q=V.codePointAt(Q);q>65535&&Q++,U.push(r.U.codeToGlyph(F,q))}const O=F.GSUB;if(O){const{lookupList:Q,featureList:q}=O;let te;const X=/^(rlig|liga|mset|isol|init|fina|medi|half|pres|blws|ccmp)$/,le=[];q.forEach(re=>{if(X.test(re.tag))for(let de=0;de<re.tab.length;de++){if(le[re.tab[de]])continue;le[re.tab[de]]=!0;const j=Q[re.tab[de]],Y=/^(isol|init|fina|medi)$/.test(re.tag);Y&&!te&&(te=S(V));for(let G=0;G<U.length;G++)(!te||!Y||_[te[G]]===re.tag)&&r.U._applySubs(U,G,j,Q)}})}return U}function E(F,V){const U=new Int16Array(V.length*3);let O=0;for(;O<V.length;O++){const X=V[O];if(X===-1)continue;U[O*3+2]=F.hmtx.aWidth[X];const le=F.GPOS;if(le){const re=le.lookupList;for(let de=0;de<re.length;de++){const j=re[de];for(let Y=0;Y<j.tabs.length;Y++){const G=j.tabs[Y];if(j.ltype===1){if(r._lctf.coverageIndex(G.coverage,X)!==-1&&G.pos){te(G.pos,O);break}}else if(j.ltype===2){let D=null,B=Q();if(B!==-1){const ee=r._lctf.coverageIndex(G.coverage,V[B]);if(ee!==-1){if(G.fmt===1){const ie=G.pairsets[ee];for(let se=0;se<ie.length;se++)ie[se].gid2===X&&(D=ie[se])}else if(G.fmt===2){const ie=r.U._getGlyphClass(V[B],G.classDef1),se=r.U._getGlyphClass(X,G.classDef2);D=G.matrix[ie][se]}if(D){D.val1&&te(D.val1,B),D.val2&&te(D.val2,O);break}}}}else if(j.ltype===4){const D=r._lctf.coverageIndex(G.markCoverage,X);if(D!==-1){const B=Q(q),ee=B===-1?-1:r._lctf.coverageIndex(G.baseCoverage,V[B]);if(ee!==-1){const ie=G.markArray[D],se=G.baseArray[ee][ie.markClass];U[O*3]=se.x-ie.x+U[B*3]-U[B*3+2],U[O*3+1]=se.y-ie.y+U[B*3+1];break}}}else if(j.ltype===6){const D=r._lctf.coverageIndex(G.mark1Coverage,X);if(D!==-1){const B=Q();if(B!==-1){const ee=V[B];if(P(F,ee)===3){const ie=r._lctf.coverageIndex(G.mark2Coverage,ee);if(ie!==-1){const se=G.mark1Array[D],pe=G.mark2Array[ie][se.markClass];U[O*3]=pe.x-se.x+U[B*3]-U[B*3+2],U[O*3+1]=pe.y-se.y+U[B*3+1];break}}}}}}}}else if(F.kern&&!F.cff){const re=Q();if(re!==-1){const de=F.kern.glyph1.indexOf(V[re]);if(de!==-1){const j=F.kern.rval[de].glyph2.indexOf(X);j!==-1&&(U[re*3+2]+=F.kern.rval[de].vals[j])}}}}return U;function Q(X){for(let le=O-1;le>=0;le--)if(V[le]!==-1&&(!X||X(V[le])))return le;return-1}function q(X){return P(F,X)===1}function te(X,le){for(let re=0;re<3;re++)U[le*3+re]+=X[re]||0}}function P(F,V){const U=F.GDEF&&F.GDEF.glyphClassDef;return U?r.U._getGlyphClass(V,U):0}function I(...F){for(let V=0;V<F.length;V++)if(typeof F[V]=="number")return F[V]}function k(F){const V=Object.create(null),U=F["OS/2"],O=F.hhea,Q=F.head.unitsPerEm,q=I(U&&U.sTypoAscender,O&&O.ascender,Q),te={unitsPerEm:Q,ascender:q,descender:I(U&&U.sTypoDescender,O&&O.descender,0),capHeight:I(U&&U.sCapHeight,q),xHeight:I(U&&U.sxHeight,q),lineGap:I(U&&U.sTypoLineGap,O&&O.lineGap),supportsCodePoint(X){return r.U.codeToGlyph(F,X)>0},forEachGlyph(X,le,re,de){let j=0;const Y=1/te.unitsPerEm*le,G=A(F,X);let D=0;const B=E(F,G);return G.forEach((ee,ie)=>{if(ee!==-1){let se=V[ee];if(!se){const{cmds:pe,crds:me}=r.U.glyphToPath(F,ee);let ve="",ke=0;for(let Ce=0,Ne=pe.length;Ce<Ne;Ce++){const Ee=t[pe[Ce]];ve+=pe[Ce];for(let rt=1;rt<=Ee;rt++)ve+=(rt>1?",":"")+me[ke++]}let $e,Re,Z,Oe;if(me.length){$e=Re=1/0,Z=Oe=-1/0;for(let Ce=0,Ne=me.length;Ce<Ne;Ce+=2){let Ee=me[Ce],rt=me[Ce+1];Ee<$e&&($e=Ee),rt<Re&&(Re=rt),Ee>Z&&(Z=Ee),rt>Oe&&(Oe=rt)}}else $e=Z=Re=Oe=0;se=V[ee]={index:ee,advanceWidth:F.hmtx.aWidth[ee],xMin:$e,yMin:Re,xMax:Z,yMax:Oe,path:ve}}de.call(null,se,j+B[ie*3]*Y,B[ie*3+1]*Y,D),j+=B[ie*3+2]*Y,re&&(j+=re*le)}D+=X.codePointAt(D)>65535?2:1}),j}};return te}return function(V){const U=new Uint8Array(V,0,4),O=r._bin.readASCII(U,0,4);if(O==="wOFF")V=e(V);else if(O==="wOF2")throw new Error("woff2 fonts not supported");return k(r.parse(V)[0])}}const dz=pf({name:"Typr Font Parser",dependencies:[lz,cz,uz],init(r,e,t){const n=r(),i=e();return t(n,i)}});/*!
Custom bundle of @unicode-font-resolver/client v1.0.2 (https://github.com/lojjic/unicode-font-resolver)
for use in Troika text rendering. 
Original MIT license applies
*/function fz(){return(function(r){var e=function(){this.buckets=new Map};e.prototype.add=function(E){var P=E>>5;this.buckets.set(P,(this.buckets.get(P)||0)|1<<(31&E))},e.prototype.has=function(E){var P=this.buckets.get(E>>5);return P!==void 0&&(P&1<<(31&E))!=0},e.prototype.serialize=function(){var E=[];return this.buckets.forEach((function(P,I){E.push((+I).toString(36)+":"+P.toString(36))})),E.join(",")},e.prototype.deserialize=function(E){var P=this;this.buckets.clear(),E.split(",").forEach((function(I){var k=I.split(":");P.buckets.set(parseInt(k[0],36),parseInt(k[1],36))}))};var t=Math.pow(2,8),n=t-1,i=~n;function s(E){var P=(function(k){return k&i})(E).toString(16),I=(function(k){return(k&i)+t-1})(E).toString(16);return"codepoint-index/plane"+(E>>16)+"/"+P+"-"+I+".json"}function o(E,P){var I=E&n,k=P.codePointAt(I/6|0);return((k=(k||48)-48)&1<<I%6)!=0}function l(E,P){var I;(I=E,I.replace(/U\+/gi,"").replace(/^,+|,+$/g,"").split(/,+/).map((function(k){return k.split("-").map((function(F){return parseInt(F.trim(),16)}))}))).forEach((function(k){var F=k[0],V=k[1];V===void 0&&(V=F),P(F,V)}))}function c(E,P){l(E,(function(I,k){for(var F=I;F<=k;F++)P(F)}))}var d={},h={},m=new WeakMap,y="https://cdn.jsdelivr.net/gh/lojjic/unicode-font-resolver@v1.0.1/packages/data";function v(E){var P=m.get(E);return P||(P=new e,c(E.ranges,(function(I){return P.add(I)})),m.set(E,P)),P}var C,b=new Map;function _(E,P,I){return E[P]?P:E[I]?I:(function(k){for(var F in k)return F})(E)}function S(E,P){var I=P;if(!E.includes(I)){I=1/0;for(var k=0;k<E.length;k++)Math.abs(E[k]-P)<Math.abs(I-P)&&(I=E[k])}return I}function A(E){return C||(C=new Set,c("9-D,20,85,A0,1680,2000-200A,2028-202F,205F,3000",(function(P){C.add(P)}))),C.has(E)}return r.CodePointSet=e,r.clearCache=function(){d={},h={}},r.getFontsForString=function(E,P){P===void 0&&(P={});var I,k=P.lang;k===void 0&&(k=new RegExp("\\p{Script=Hangul}","u").test(I=E)?"ko":new RegExp("\\p{Script=Hiragana}|\\p{Script=Katakana}","u").test(I)?"ja":"en");var F=P.category;F===void 0&&(F="sans-serif");var V=P.style;V===void 0&&(V="normal");var U=P.weight;U===void 0&&(U=400);var O=(P.dataUrl||y).replace(/\/$/g,""),Q=new Map,q=new Uint8Array(E.length),te={},X={},le=new Array(E.length),re=new Map,de=!1;function j(D){var B=b.get(D);return B||(B=fetch(O+"/"+D).then((function(ee){if(!ee.ok)throw new Error(ee.statusText);return ee.json().then((function(ie){if(!Array.isArray(ie)||ie[0]!==1)throw new Error("Incorrect schema version; need 1, got "+ie[0]);return ie[1]}))})).catch((function(ee){if(O!==y)return de||(console.error('unicode-font-resolver: Failed loading from dataUrl "'+O+'", trying default CDN. '+ee.message),de=!0),O=y,b.delete(D),j(D);throw ee})),b.set(D,B)),B}for(var Y=function(D){var B=E.codePointAt(D),ee=s(B);le[D]=ee,d[ee]||re.has(ee)||re.set(ee,j(ee).then((function(ie){d[ee]=ie}))),B>65535&&(D++,G=D)},G=0;G<E.length;G++)Y(G);return Promise.all(re.values()).then((function(){re.clear();for(var D=function(ee){var ie=E.codePointAt(ee),se=null,pe=d[le[ee]],me=void 0;for(var ve in pe){var ke=X[ve];if(ke===void 0&&(ke=X[ve]=new RegExp(ve).test(k||"en")),ke){for(var $e in me=ve,pe[ve])if(o(ie,pe[ve][$e])){se=$e;break}break}}if(!se){e:for(var Re in pe)if(Re!==me){for(var Z in pe[Re])if(o(ie,pe[Re][Z])){se=Z;break e}}}se||(console.debug("No font coverage for U+"+ie.toString(16)),se="latin"),le[ee]=se,h[se]||re.has(se)||re.set(se,j("font-meta/"+se+".json").then((function(Oe){h[se]=Oe}))),ie>65535&&(ee++,B=ee)},B=0;B<E.length;B++)D(B);return Promise.all(re.values())})).then((function(){for(var D,B=null,ee=0;ee<E.length;ee++){var ie=E.codePointAt(ee);if(B&&(A(ie)||v(B).has(ie)))q[ee]=q[ee-1];else{B=h[le[ee]];var se=te[B.id];if(!se){var pe=B.typeforms,me=_(pe,F,"sans-serif"),ve=_(pe[me],V,"normal"),ke=S((D=pe[me])===null||D===void 0?void 0:D[ve],U);se=te[B.id]=O+"/font-files/"+B.id+"/"+me+"."+ve+"."+ke+".woff"}var $e=Q.get(se);$e==null&&($e=Q.size,Q.set(se,$e)),q[ee]=$e}ie>65535&&(ee++,q[ee]=q[ee-1])}return{fontUrls:Array.from(Q.keys()),chars:q}}))},Object.defineProperty(r,"__esModule",{value:!0}),r})({})}function hz(r,e){const t=Object.create(null),n=Object.create(null);function i(o,l){const c=d=>{console.error(`Failure loading font ${o}`,d)};try{const d=new XMLHttpRequest;d.open("get",o,!0),d.responseType="arraybuffer",d.onload=function(){if(d.status>=400)c(new Error(d.statusText));else if(d.status>0)try{const h=r(d.response);h.src=o,l(h)}catch(h){c(h)}},d.onerror=c,d.send()}catch(d){c(d)}}function s(o,l){let c=t[o];c?l(c):n[o]?n[o].push(l):(n[o]=[l],i(o,d=>{d.src=o,t[o]=d,n[o].forEach(h=>h(d)),delete n[o]}))}return function(o,l,{lang:c,fonts:d=[],style:h="normal",weight:m="normal",unicodeFontsURL:y}={}){const v=new Uint8Array(o.length),C=[];o.length||A();const b=new Map,_=[];if(h!=="italic"&&(h="normal"),typeof m!="number"&&(m=m==="bold"?700:400),d&&!Array.isArray(d)&&(d=[d]),d=d.slice().filter(P=>!P.lang||P.lang.test(c)).reverse(),d.length){let F=0;(function V(U=0){for(let O=U,Q=o.length;O<Q;O++){const q=o.codePointAt(O);if(F===1&&C[v[O-1]].supportsCodePoint(q)||O>0&&/\s/.test(o[O]))v[O]=v[O-1],F===2&&(_[_.length-1][1]=O);else for(let te=v[O],X=d.length;te<=X;te++)if(te===X){const le=F===2?_[_.length-1]:_[_.length]=[O,O];le[1]=O,F=2}else{v[O]=te;const{src:le,unicodeRange:re}=d[te];if(!re||E(q,re)){const de=t[le];if(!de){s(le,()=>{V(O)});return}if(de.supportsCodePoint(q)){let j=b.get(de);typeof j!="number"&&(j=C.length,C.push(de),b.set(de,j)),v[O]=j,F=1;break}}}q>65535&&O+1<Q&&(v[O+1]=v[O],O++,F===2&&(_[_.length-1][1]=O))}S()})()}else _.push([0,o.length-1]),S();function S(){if(_.length){const P=_.map(I=>o.substring(I[0],I[1]+1)).join(`
`);e.getFontsForString(P,{lang:c||void 0,style:h,weight:m,dataUrl:y}).then(({fontUrls:I,chars:k})=>{const F=C.length;let V=0;_.forEach(O=>{for(let Q=0,q=O[1]-O[0];Q<=q;Q++)v[O[0]+Q]=k[V++]+F;V++});let U=0;I.forEach((O,Q)=>{s(O,q=>{C[Q+F]=q,++U===I.length&&A()})})})}else A()}function A(){l({chars:v,fonts:C})}function E(P,I){for(let k=0;k<I.length;k++){const[F,V=F]=I[k];if(F<=P&&P<=V)return!0}return!1}}}const pz=pf({name:"FontResolver",dependencies:[hz,dz,fz],init(r,e,t){return r(e,t())}});function mz(r,e){const n=/[\u00AD\u034F\u061C\u115F-\u1160\u17B4-\u17B5\u180B-\u180E\u200B-\u200F\u202A-\u202E\u2060-\u206F\u3164\uFE00-\uFE0F\uFEFF\uFFA0\uFFF0-\uFFF8]/,i="[^\\S\\u00A0]",s=new RegExp(`${i}|[\\-\\u007C\\u00AD\\u2010\\u2012-\\u2014\\u2027\\u2056\\u2E17\\u2E40]`);function o({text:C,lang:b,fonts:_,style:S,weight:A,preResolvedFonts:E,unicodeFontsURL:P},I){const k=({chars:F,fonts:V})=>{let U,O;const Q=[];for(let q=0;q<F.length;q++)F[q]!==O?(O=F[q],Q.push(U={start:q,end:q,fontObj:V[F[q]]})):U.end=q;I(Q)};E?k(E):r(C,k,{lang:b,fonts:_,style:S,weight:A,unicodeFontsURL:P})}function l({text:C="",font:b,lang:_,sdfGlyphSize:S=64,fontSize:A=400,fontWeight:E=1,fontStyle:P="normal",letterSpacing:I=0,lineHeight:k="normal",maxWidth:F=1/0,direction:V,textAlign:U="left",textIndent:O=0,whiteSpace:Q="normal",overflowWrap:q="normal",anchorX:te=0,anchorY:X=0,metricsOnly:le=!1,unicodeFontsURL:re,preResolvedFonts:de=null,includeCaretPositions:j=!1,chunkedBoundsSize:Y=8192,colorRanges:G=null},D){const B=m(),ee={fontLoad:0,typesetting:0};C.indexOf("\r")>-1&&(console.info("Typesetter: got text with \\r chars; normalizing to \\n"),C=C.replace(/\r\n/g,`
`).replace(/\r/g,`
`)),A=+A,I=+I,F=+F,k=k||"normal",O=+O,o({text:C,lang:_,style:P,weight:E,fonts:typeof b=="string"?[{src:b}]:b,unicodeFontsURL:re,preResolvedFonts:de},ie=>{ee.fontLoad=m()-B;const se=isFinite(F);let pe=null,me=null,ve=null,ke=null,$e=null,Re=null,Z=null,Oe=null,Ce=0,Ne=0,Ee=Q!=="nowrap";const rt=new Map,Ae=m();let We=O,Ke=0,Me=new y;const ht=[Me];ie.forEach(Se=>{const{fontObj:Le}=Se,{ascender:tt,descender:Xe,unitsPerEm:et,lineGap:gt,capHeight:yt,xHeight:Ve}=Le;let lt=rt.get(Le);if(!lt){const nt=A/et,ce=k==="normal"?(tt-Xe+gt)*nt:k*A,ot=(ce-(tt-Xe)*nt)/2,Ze=Math.min(ce,(tt-Xe)*nt),be=(tt+Xe)/2*nt+Ze/2;lt={index:rt.size,src:Le.src,fontObj:Le,fontSizeMult:nt,unitsPerEm:et,ascender:tt*nt,descender:Xe*nt,capHeight:yt*nt,xHeight:Ve*nt,lineHeight:ce,baseline:-ot-tt*nt,caretTop:be,caretBottom:be-Ze},rt.set(Le,lt)}const{fontSizeMult:oe}=lt,Te=C.slice(Se.start,Se.end+1);let Je,Ge;Le.forEachGlyph(Te,A,I,(nt,ce,ot,Ze)=>{ce+=Ke,Ze+=Se.start,Je=ce,Ge=nt;const be=C.charAt(Ze),Qe=nt.advanceWidth*oe,ft=Me.count;let pt;if("isEmpty"in nt||(nt.isWhitespace=!!be&&new RegExp(i).test(be),nt.canBreakAfter=!!be&&s.test(be),nt.isEmpty=nt.xMin===nt.xMax||nt.yMin===nt.yMax||n.test(be)),!nt.isWhitespace&&!nt.isEmpty&&Ne++,Ee&&se&&!nt.isWhitespace&&ce+Qe+We>F&&ft){if(Me.glyphAt(ft-1).glyphObj.canBreakAfter)pt=new y,We=-ce;else for(let sn=ft;sn--;)if(sn===0&&q==="break-word"){pt=new y,We=-ce;break}else if(Me.glyphAt(sn).glyphObj.canBreakAfter){pt=Me.splitAt(sn+1);const kt=pt.glyphAt(0).x;We-=kt;for(let tn=pt.count;tn--;)pt.glyphAt(tn).x-=kt;break}pt&&(Me.isSoftWrapped=!0,Me=pt,ht.push(Me),Ce=F)}let Ut=Me.glyphAt(Me.count);Ut.glyphObj=nt,Ut.x=ce+We,Ut.y=ot,Ut.width=Qe,Ut.charIndex=Ze,Ut.fontData=lt,be===`
`&&(Me=new y,ht.push(Me),We=-(ce+Qe+I*A)+O)}),Ke=Je+Ge.advanceWidth*oe+I*A});let K=0;ht.forEach(Se=>{let Le=!0;for(let tt=Se.count;tt--;){const Xe=Se.glyphAt(tt);Le&&!Xe.glyphObj.isWhitespace&&(Se.width=Xe.x+Xe.width,Se.width>Ce&&(Ce=Se.width),Le=!1);let{lineHeight:et,capHeight:gt,xHeight:yt,baseline:Ve}=Xe.fontData;et>Se.lineHeight&&(Se.lineHeight=et);const lt=Ve-Se.baseline;lt<0&&(Se.baseline+=lt,Se.cap+=lt,Se.ex+=lt),Se.cap=Math.max(Se.cap,Se.baseline+gt),Se.ex=Math.max(Se.ex,Se.baseline+yt)}Se.baseline-=K,Se.cap-=K,Se.ex-=K,K+=Se.lineHeight});let H=0,fe=0;if(te&&(typeof te=="number"?H=-te:typeof te=="string"&&(H=-Ce*(te==="left"?0:te==="center"?.5:te==="right"?1:d(te)))),X&&(typeof X=="number"?fe=-X:typeof X=="string"&&(fe=X==="top"?0:X==="top-baseline"?-ht[0].baseline:X==="top-cap"?-ht[0].cap:X==="top-ex"?-ht[0].ex:X==="middle"?K/2:X==="bottom"?K:X==="bottom-baseline"?-ht[ht.length-1].baseline:d(X)*K)),!le){const Se=e.getEmbeddingLevels(C,V);pe=new Uint16Array(Ne),me=new Uint8Array(Ne),ve=new Float32Array(Ne*2),ke={},Z=[1/0,1/0,-1/0,-1/0],Oe=[],j&&(Re=new Float32Array(C.length*4)),G&&($e=new Uint8Array(Ne*3));let Le=0,tt=-1,Xe=-1,et,gt;if(ht.forEach((yt,Ve)=>{let{count:lt,width:oe}=yt;if(lt>0){let Te=0;for(let Ze=lt;Ze--&&yt.glyphAt(Ze).glyphObj.isWhitespace;)Te++;let Je=0,Ge=0;if(U==="center")Je=(Ce-oe)/2;else if(U==="right")Je=Ce-oe;else if(U==="justify"&&yt.isSoftWrapped){let Ze=0;for(let be=lt-Te;be--;)yt.glyphAt(be).glyphObj.isWhitespace&&Ze++;Ge=(Ce-oe)/Ze}if(Ge||Je){let Ze=0;for(let be=0;be<lt;be++){let Qe=yt.glyphAt(be);const ft=Qe.glyphObj;Qe.x+=Je+Ze,Ge!==0&&ft.isWhitespace&&be<lt-Te&&(Ze+=Ge,Qe.width+=Ge)}}const nt=e.getReorderSegments(C,Se,yt.glyphAt(0).charIndex,yt.glyphAt(yt.count-1).charIndex);for(let Ze=0;Ze<nt.length;Ze++){const[be,Qe]=nt[Ze];let ft=1/0,pt=-1/0;for(let Ut=0;Ut<lt;Ut++)if(yt.glyphAt(Ut).charIndex>=be){let sn=Ut,kt=Ut;for(;kt<lt;kt++){let tn=yt.glyphAt(kt);if(tn.charIndex>Qe)break;kt<lt-Te&&(ft=Math.min(ft,tn.x),pt=Math.max(pt,tn.x+tn.width))}for(let tn=sn;tn<kt;tn++){const Cn=yt.glyphAt(tn);Cn.x=pt-(Cn.x+Cn.width-ft)}break}}let ce;const ot=Ze=>ce=Ze;for(let Ze=0;Ze<lt;Ze++){const be=yt.glyphAt(Ze);ce=be.glyphObj;const Qe=ce.index,ft=Se.levels[be.charIndex]&1;if(ft){const pt=e.getMirroredCharacter(C[be.charIndex]);pt&&be.fontData.fontObj.forEachGlyph(pt,0,0,ot)}if(j){const{charIndex:pt,fontData:Ut}=be,sn=be.x+H,kt=be.x+be.width+H;Re[pt*4]=ft?kt:sn,Re[pt*4+1]=ft?sn:kt,Re[pt*4+2]=yt.baseline+Ut.caretBottom+fe,Re[pt*4+3]=yt.baseline+Ut.caretTop+fe;const tn=pt-tt;tn>1&&h(Re,tt,tn),tt=pt}if(G){const{charIndex:pt}=be;for(;pt>Xe;)Xe++,G.hasOwnProperty(Xe)&&(gt=G[Xe])}if(!ce.isWhitespace&&!ce.isEmpty){const pt=Le++,{fontSizeMult:Ut,src:sn,index:kt}=be.fontData,tn=ke[sn]||(ke[sn]={});tn[Qe]||(tn[Qe]={path:ce.path,pathBounds:[ce.xMin,ce.yMin,ce.xMax,ce.yMax]});const Cn=be.x+H,pi=be.y+yt.baseline+fe;ve[pt*2]=Cn,ve[pt*2+1]=pi;const ur=Cn+ce.xMin*Ut,wr=pi+ce.yMin*Ut,dr=Cn+ce.xMax*Ut,_r=pi+ce.yMax*Ut;ur<Z[0]&&(Z[0]=ur),wr<Z[1]&&(Z[1]=wr),dr>Z[2]&&(Z[2]=dr),_r>Z[3]&&(Z[3]=_r),pt%Y===0&&(et={start:pt,end:pt,rect:[1/0,1/0,-1/0,-1/0]},Oe.push(et)),et.end++;const tr=et.rect;if(ur<tr[0]&&(tr[0]=ur),wr<tr[1]&&(tr[1]=wr),dr>tr[2]&&(tr[2]=dr),_r>tr[3]&&(tr[3]=_r),pe[pt]=Qe,me[pt]=kt,G){const Yi=pt*3;$e[Yi]=gt>>16&255,$e[Yi+1]=gt>>8&255,$e[Yi+2]=gt&255}}}}}),Re){const yt=C.length-tt;yt>1&&h(Re,tt,yt)}}const Ye=[];rt.forEach(({index:Se,src:Le,unitsPerEm:tt,ascender:Xe,descender:et,lineHeight:gt,capHeight:yt,xHeight:Ve})=>{Ye[Se]={src:Le,unitsPerEm:tt,ascender:Xe,descender:et,lineHeight:gt,capHeight:yt,xHeight:Ve}}),ee.typesetting=m()-Ae,D({glyphIds:pe,glyphFontIndices:me,glyphPositions:ve,glyphData:ke,fontData:Ye,caretPositions:Re,glyphColors:$e,chunkedBounds:Oe,fontSize:A,topBaseline:fe+ht[0].baseline,blockBounds:[H,fe-K,H+Ce,fe],visibleBounds:Z,timings:ee})})}function c(C,b){l({...C,metricsOnly:!0},_=>{const[S,A,E,P]=_.blockBounds;b({width:E-S,height:P-A})})}function d(C){let b=C.match(/^([\d.]+)%$/),_=b?parseFloat(b[1]):NaN;return isNaN(_)?0:_/100}function h(C,b,_){const S=C[b*4],A=C[b*4+1],E=C[b*4+2],P=C[b*4+3],I=(A-S)/_;for(let k=0;k<_;k++){const F=(b+k)*4;C[F]=S+I*k,C[F+1]=S+I*(k+1),C[F+2]=E,C[F+3]=P}}function m(){return(self.performance||Date).now()}function y(){this.data=[]}const v=["glyphObj","x","y","width","charIndex","fontData"];return y.prototype={width:0,lineHeight:0,baseline:0,cap:0,ex:0,isSoftWrapped:!1,get count(){return Math.ceil(this.data.length/v.length)},glyphAt(C){let b=y.flyweight;return b.data=this.data,b.index=C,b},splitAt(C){let b=new y;return b.data=this.data.splice(C*v.length),b}},y.flyweight=v.reduce((C,b,_,S)=>(Object.defineProperty(C,b,{get(){return this.data[this.index*v.length+_]},set(A){this.data[this.index*v.length+_]=A}}),C),{data:null,index:0}),{typeset:l,measure:c}}const fu=()=>(self.performance||Date).now(),Ny=DA();let oS;function gz(r,e,t,n,i,s,o,l,c,d,h=!0){return h?vz(r,e,t,n,i,s,o,l,c,d).then(null,m=>(oS||(console.warn("WebGL SDF generation failed, falling back to JS",m),oS=!0),lS(r,e,t,n,i,s,o,l,c,d))):lS(r,e,t,n,i,s,o,l,c,d)}const Dg=[],yz=5;let z2=0;function IA(){const r=fu();for(;Dg.length&&fu()-r<yz;)Dg.shift()();z2=Dg.length?setTimeout(IA,0):0}const vz=(...r)=>new Promise((e,t)=>{Dg.push(()=>{const n=fu();try{Ny.webgl.generateIntoCanvas(...r),e({timing:fu()-n})}catch(i){t(i)}}),z2||(z2=setTimeout(IA,0))}),xz=4,Cz=2e3,aS={};let wz=0;function lS(r,e,t,n,i,s,o,l,c,d){const h="TroikaTextSDFGenerator_JS_"+wz++%xz;let m=aS[h];return m||(m=aS[h]={workerModule:pf({name:h,workerId:h,dependencies:[DA,fu],init(y,v){const C=y().javascript.generate;return function(...b){const _=v();return{textureData:C(...b),timing:v()-_}}},getTransferables(y){return[y.textureData.buffer]}}),requests:0,idleTimer:null}),m.requests++,clearTimeout(m.idleTimer),m.workerModule(r,e,t,n,i,s).then(({textureData:y,timing:v})=>{const C=fu(),b=new Uint8Array(y.length*4);for(let _=0;_<y.length;_++)b[_*4+d]=y[_];return Ny.webglUtils.renderImageData(o,b,l,c,r,e,1<<3-d),v+=fu()-C,--m.requests===0&&(m.idleTimer=setTimeout(()=>{QB(h)},Cz)),{timing:v}})}function _z(r){r._warm||(Ny.webgl.isSupported(r),r._warm=!0)}const Sz=Ny.webglUtils.resizeWebGLCanvasWithoutClearing,Mh={unicodeFontsURL:null,sdfGlyphSize:64,sdfMargin:1/16,sdfExponent:9,textureWidth:2048},bz=new wt;function zd(){return(self.performance||Date).now()}const cS=Object.create(null);function UA(r,e){r=Az({},r);const t=zd(),n=[];if(r.font&&n.push({label:"user",src:Tz(r.font)}),r.font=n,r.text=""+r.text,r.sdfGlyphSize=r.sdfGlyphSize||Mh.sdfGlyphSize,r.unicodeFontsURL=r.unicodeFontsURL||Mh.unicodeFontsURL,r.colorRanges!=null){let y={};for(let v in r.colorRanges)if(r.colorRanges.hasOwnProperty(v)){let C=r.colorRanges[v];typeof C!="number"&&(C=bz.set(C).getHex()),y[v]=C}r.colorRanges=y}Object.freeze(r);const{textureWidth:i,sdfExponent:s}=Mh,{sdfGlyphSize:o}=r,l=i/o*4;let c=cS[o];if(!c){const y=document.createElement("canvas");y.width=i,y.height=o*256/l,c=cS[o]={glyphCount:0,sdfGlyphSize:o,sdfCanvas:y,sdfTexture:new cr(y,void 0,void 0,void 0,Qn,Qn),contextLost:!1,glyphsByFont:new Map},c.sdfTexture.generateMipmaps=!1,Mz(c)}const{sdfTexture:d,sdfCanvas:h}=c;OA(r).then(y=>{const{glyphIds:v,glyphFontIndices:C,fontData:b,glyphPositions:_,fontSize:S,timings:A}=y,E=[],P=new Float32Array(v.length*4);let I=0,k=0;const F=zd(),V=b.map(te=>{let X=c.glyphsByFont.get(te.src);return X||c.glyphsByFont.set(te.src,X=new Map),X});v.forEach((te,X)=>{const le=C[X],{src:re,unitsPerEm:de}=b[le];let j=V[le].get(te);if(!j){const{path:ee,pathBounds:ie}=y.glyphData[re][te],se=Math.max(ie[2]-ie[0],ie[3]-ie[1])/o*(Mh.sdfMargin*o+.5),pe=c.glyphCount++,me=[ie[0]-se,ie[1]-se,ie[2]+se,ie[3]+se];V[le].set(te,j={path:ee,atlasIndex:pe,sdfViewBox:me}),E.push(j)}const{sdfViewBox:Y}=j,G=_[k++],D=_[k++],B=S/de;P[I++]=G+Y[0]*B,P[I++]=D+Y[1]*B,P[I++]=G+Y[2]*B,P[I++]=D+Y[3]*B,v[X]=j.atlasIndex}),A.quads=(A.quads||0)+(zd()-F);const U=zd();A.sdf={};const O=h.height,Q=Math.ceil(c.glyphCount/l),q=Math.pow(2,Math.ceil(Math.log2(Q*o)));q>O&&(console.info(`Increasing SDF texture size ${O}->${q}`),Sz(h,i,q),d.dispose()),Promise.all(E.map(te=>kA(te,c,r.gpuAccelerateSDF).then(({timing:X})=>{A.sdf[te.atlasIndex]=X}))).then(()=>{E.length&&!c.contextLost&&(NA(c),d.needsUpdate=!0),A.sdfTotal=zd()-U,A.total=zd()-t,e(Object.freeze({parameters:r,sdfTexture:d,sdfGlyphSize:o,sdfExponent:s,glyphBounds:P,glyphAtlasIndices:v,glyphColors:y.glyphColors,caretPositions:y.caretPositions,chunkedBounds:y.chunkedBounds,ascender:y.ascender,descender:y.descender,lineHeight:y.lineHeight,capHeight:y.capHeight,xHeight:y.xHeight,topBaseline:y.topBaseline,blockBounds:y.blockBounds,visibleBounds:y.visibleBounds,timings:y.timings}))})}),Promise.resolve().then(()=>{c.contextLost||_z(h)})}function kA({path:r,atlasIndex:e,sdfViewBox:t},{sdfGlyphSize:n,sdfCanvas:i,contextLost:s},o){if(s)return Promise.resolve({timing:-1});const{textureWidth:l,sdfExponent:c}=Mh,d=Math.max(t[2]-t[0],t[3]-t[1]),h=Math.floor(e/4),m=h%(l/n)*n,y=Math.floor(h/(l/n))*n,v=e%4;return gz(n,n,r,t,d,c,i,m,y,v,o)}function Mz(r){const e=r.sdfCanvas;e.addEventListener("webglcontextlost",t=>{console.log("Context Lost",t),t.preventDefault(),r.contextLost=!0}),e.addEventListener("webglcontextrestored",t=>{console.log("Context Restored",t),r.contextLost=!1;const n=[];r.glyphsByFont.forEach(i=>{i.forEach(s=>{n.push(kA(s,r,!0))})}),Promise.all(n).then(()=>{NA(r),r.sdfTexture.needsUpdate=!0})})}function Ez({font:r,characters:e,sdfGlyphSize:t},n){let i=Array.isArray(e)?e.join(`
`):""+e;UA({font:r,sdfGlyphSize:t,text:i},n)}function Az(r,e){for(let t in e)e.hasOwnProperty(t)&&(r[t]=e[t]);return r}let yg;function Tz(r){return yg||(yg=typeof document>"u"?{}:document.createElement("a")),yg.href=r,yg.href}function NA(r){if(typeof createImageBitmap!="function"){console.info("Safari<15: applying SDF canvas workaround");const{sdfCanvas:e,sdfTexture:t}=r,{width:n,height:i}=e,s=r.sdfCanvas.getContext("webgl");let o=t.image.data;(!o||o.length!==n*i*4)&&(o=new Uint8Array(n*i*4),t.image={width:n,height:i,data:o},t.flipY=!1,t.isDataTexture=!0),s.readPixels(0,0,n,i,s.RGBA,s.UNSIGNED_BYTE,o)}}const Pz=pf({name:"Typesetter",dependencies:[mz,pz,ez],init(r,e,t){return r(e,t())}}),OA=pf({name:"Typesetter",dependencies:[Pz],init(r){return function(e){return new Promise(t=>{r.typeset(e,t)})}},getTransferables(r){const e=[];for(let t in r)r[t]&&r[t].buffer&&e.push(r[t].buffer);return e}});OA.onMainThread;const uS={};function Rz(r){let e=uS[r];return e||(e=uS[r]=new tc(1,1,r,r).translate(.5,.5,0)),e}const Dz="aTroikaGlyphBounds",dS="aTroikaGlyphIndex",Lz="aTroikaGlyphColor";class Iz extends Kx{constructor(){super(),this.detail=1,this.curveRadius=0,this.groups=[{start:0,count:1/0,materialIndex:0},{start:0,count:1/0,materialIndex:1}],this.boundingSphere=new Ks,this.boundingBox=new qs}computeBoundingSphere(){}computeBoundingBox(){}set detail(e){if(e!==this._detail){this._detail=e,(typeof e!="number"||e<1)&&(e=1);let t=Rz(e);["position","normal","uv"].forEach(n=>{this.attributes[n]=t.attributes[n].clone()}),this.setIndex(t.getIndex().clone())}}get detail(){return this._detail}set curveRadius(e){e!==this._curveRadius&&(this._curveRadius=e,this._updateBounds())}get curveRadius(){return this._curveRadius}updateGlyphs(e,t,n,i,s){this.updateAttributeData(Dz,e,4),this.updateAttributeData(dS,t,1),this.updateAttributeData(Lz,s,3),this._blockBounds=n,this._chunkedBounds=i,this.instanceCount=t.length,this._updateBounds()}_updateBounds(){const e=this._blockBounds;if(e){const{curveRadius:t,boundingBox:n}=this;if(t){const{PI:i,floor:s,min:o,max:l,sin:c,cos:d}=Math,h=i/2,m=i*2,y=Math.abs(t),v=e[0]/y,C=e[2]/y,b=s((v+h)/m)!==s((C+h)/m)?-y:o(c(v)*y,c(C)*y),_=s((v-h)/m)!==s((C-h)/m)?y:l(c(v)*y,c(C)*y),S=s((v+i)/m)!==s((C+i)/m)?y*2:l(y-d(v)*y,y-d(C)*y);n.min.set(b,e[1],t<0?-S:0),n.max.set(_,e[3],t<0?0:S)}else n.min.set(e[0],e[1],0),n.max.set(e[2],e[3],0);n.getBoundingSphere(this.boundingSphere)}}applyClipRect(e){let t=this.getAttribute(dS).count,n=this._chunkedBounds;if(n)for(let i=n.length;i--;){t=n[i].end;let s=n[i].rect;if(s[1]<e.w&&s[3]>e.y&&s[0]<e.z&&s[2]>e.x)break}this.instanceCount=t}updateAttributeData(e,t,n){const i=this.getAttribute(e);t?i&&i.array.length===t.length?(i.array.set(t),i.needsUpdate=!0):(this.setAttribute(e,new mu(t,n)),delete this._maxInstanceCount,this.dispose()):i&&this.deleteAttribute(e)}}const Uz=`
uniform vec2 uTroikaSDFTextureSize;
uniform float uTroikaSDFGlyphSize;
uniform vec4 uTroikaTotalBounds;
uniform vec4 uTroikaClipRect;
uniform mat3 uTroikaOrient;
uniform bool uTroikaUseGlyphColors;
uniform float uTroikaEdgeOffset;
uniform float uTroikaBlurRadius;
uniform vec2 uTroikaPositionOffset;
uniform float uTroikaCurveRadius;
attribute vec4 aTroikaGlyphBounds;
attribute float aTroikaGlyphIndex;
attribute vec3 aTroikaGlyphColor;
varying vec2 vTroikaGlyphUV;
varying vec4 vTroikaTextureUVBounds;
varying float vTroikaTextureChannel;
varying vec3 vTroikaGlyphColor;
varying vec2 vTroikaGlyphDimensions;
`,kz=`
vec4 bounds = aTroikaGlyphBounds;
bounds.xz += uTroikaPositionOffset.x;
bounds.yw -= uTroikaPositionOffset.y;

vec4 outlineBounds = vec4(
  bounds.xy - uTroikaEdgeOffset - uTroikaBlurRadius,
  bounds.zw + uTroikaEdgeOffset + uTroikaBlurRadius
);
vec4 clippedBounds = vec4(
  clamp(outlineBounds.xy, uTroikaClipRect.xy, uTroikaClipRect.zw),
  clamp(outlineBounds.zw, uTroikaClipRect.xy, uTroikaClipRect.zw)
);

vec2 clippedXY = (mix(clippedBounds.xy, clippedBounds.zw, position.xy) - bounds.xy) / (bounds.zw - bounds.xy);

position.xy = mix(bounds.xy, bounds.zw, clippedXY);

uv = (position.xy - uTroikaTotalBounds.xy) / (uTroikaTotalBounds.zw - uTroikaTotalBounds.xy);

float rad = uTroikaCurveRadius;
if (rad != 0.0) {
  float angle = position.x / rad;
  position.xz = vec2(sin(angle) * rad, rad - cos(angle) * rad);
  normal.xz = vec2(sin(angle), cos(angle));
}
  
position = uTroikaOrient * position;
normal = uTroikaOrient * normal;

vTroikaGlyphUV = clippedXY.xy;
vTroikaGlyphDimensions = vec2(bounds[2] - bounds[0], bounds[3] - bounds[1]);


float txCols = uTroikaSDFTextureSize.x / uTroikaSDFGlyphSize;
vec2 txUvPerSquare = uTroikaSDFGlyphSize / uTroikaSDFTextureSize;
vec2 txStartUV = txUvPerSquare * vec2(
  mod(floor(aTroikaGlyphIndex / 4.0), txCols),
  floor(floor(aTroikaGlyphIndex / 4.0) / txCols)
);
vTroikaTextureUVBounds = vec4(txStartUV, vec2(txStartUV) + txUvPerSquare);
vTroikaTextureChannel = mod(aTroikaGlyphIndex, 4.0);
`,Nz=`
uniform sampler2D uTroikaSDFTexture;
uniform vec2 uTroikaSDFTextureSize;
uniform float uTroikaSDFGlyphSize;
uniform float uTroikaSDFExponent;
uniform float uTroikaEdgeOffset;
uniform float uTroikaFillOpacity;
uniform float uTroikaBlurRadius;
uniform vec3 uTroikaStrokeColor;
uniform float uTroikaStrokeWidth;
uniform float uTroikaStrokeOpacity;
uniform bool uTroikaSDFDebug;
varying vec2 vTroikaGlyphUV;
varying vec4 vTroikaTextureUVBounds;
varying float vTroikaTextureChannel;
varying vec2 vTroikaGlyphDimensions;

float troikaSdfValueToSignedDistance(float alpha) {
  // Inverse of exponential encoding in webgl-sdf-generator
  
  float maxDimension = max(vTroikaGlyphDimensions.x, vTroikaGlyphDimensions.y);
  float absDist = (1.0 - pow(2.0 * (alpha > 0.5 ? 1.0 - alpha : alpha), 1.0 / uTroikaSDFExponent)) * maxDimension;
  float signedDist = absDist * (alpha > 0.5 ? -1.0 : 1.0);
  return signedDist;
}

float troikaGlyphUvToSdfValue(vec2 glyphUV) {
  vec2 textureUV = mix(vTroikaTextureUVBounds.xy, vTroikaTextureUVBounds.zw, glyphUV);
  vec4 rgba = texture2D(uTroikaSDFTexture, textureUV);
  float ch = floor(vTroikaTextureChannel + 0.5); //NOTE: can't use round() in WebGL1
  return ch == 0.0 ? rgba.r : ch == 1.0 ? rgba.g : ch == 2.0 ? rgba.b : rgba.a;
}

float troikaGlyphUvToDistance(vec2 uv) {
  return troikaSdfValueToSignedDistance(troikaGlyphUvToSdfValue(uv));
}

float troikaGetAADist() {
  
  #if defined(GL_OES_standard_derivatives) || __VERSION__ >= 300
  return length(fwidth(vTroikaGlyphUV * vTroikaGlyphDimensions)) * 0.5;
  #else
  return vTroikaGlyphDimensions.x / 64.0;
  #endif
}

float troikaGetFragDistValue() {
  vec2 clampedGlyphUV = clamp(vTroikaGlyphUV, 0.5 / uTroikaSDFGlyphSize, 1.0 - 0.5 / uTroikaSDFGlyphSize);
  float distance = troikaGlyphUvToDistance(clampedGlyphUV);
 
  // Extrapolate distance when outside bounds:
  distance += clampedGlyphUV == vTroikaGlyphUV ? 0.0 : 
    length((vTroikaGlyphUV - clampedGlyphUV) * vTroikaGlyphDimensions);

  

  return distance;
}

float troikaGetEdgeAlpha(float distance, float distanceOffset, float aaDist) {
  #if defined(IS_DEPTH_MATERIAL) || defined(IS_DISTANCE_MATERIAL)
  float alpha = step(-distanceOffset, -distance);
  #else

  float alpha = smoothstep(
    distanceOffset + aaDist,
    distanceOffset - aaDist,
    distance
  );
  #endif

  return alpha;
}
`,Oz=`
float aaDist = troikaGetAADist();
float fragDistance = troikaGetFragDistValue();
float edgeAlpha = uTroikaSDFDebug ?
  troikaGlyphUvToSdfValue(vTroikaGlyphUV) :
  troikaGetEdgeAlpha(fragDistance, uTroikaEdgeOffset, max(aaDist, uTroikaBlurRadius));

#if !defined(IS_DEPTH_MATERIAL) && !defined(IS_DISTANCE_MATERIAL)
vec4 fillRGBA = gl_FragColor;
fillRGBA.a *= uTroikaFillOpacity;
vec4 strokeRGBA = uTroikaStrokeWidth == 0.0 ? fillRGBA : vec4(uTroikaStrokeColor, uTroikaStrokeOpacity);
if (fillRGBA.a == 0.0) fillRGBA.rgb = strokeRGBA.rgb;
gl_FragColor = mix(fillRGBA, strokeRGBA, smoothstep(
  -uTroikaStrokeWidth - aaDist,
  -uTroikaStrokeWidth + aaDist,
  fragDistance
));
gl_FragColor.a *= edgeAlpha;
#endif

if (edgeAlpha == 0.0) {
  discard;
}
`;function Fz(r){const e=B2(r,{chained:!0,extensions:{derivatives:!0},uniforms:{uTroikaSDFTexture:{value:null},uTroikaSDFTextureSize:{value:new qe},uTroikaSDFGlyphSize:{value:0},uTroikaSDFExponent:{value:0},uTroikaTotalBounds:{value:new xn(0,0,0,0)},uTroikaClipRect:{value:new xn(0,0,0,0)},uTroikaEdgeOffset:{value:0},uTroikaFillOpacity:{value:1},uTroikaPositionOffset:{value:new qe},uTroikaCurveRadius:{value:0},uTroikaBlurRadius:{value:0},uTroikaStrokeWidth:{value:0},uTroikaStrokeColor:{value:new wt},uTroikaStrokeOpacity:{value:1},uTroikaOrient:{value:new nn},uTroikaUseGlyphColors:{value:!0},uTroikaSDFDebug:{value:!1}},vertexDefs:Uz,vertexTransform:kz,fragmentDefs:Nz,fragmentColorTransform:Oz,customRewriter({vertexShader:t,fragmentShader:n}){let i=/\buniform\s+vec3\s+diffuse\b/;return i.test(n)&&(n=n.replace(i,"varying vec3 vTroikaGlyphColor").replace(/\bdiffuse\b/g,"vTroikaGlyphColor"),i.test(t)||(t=t.replace(LA,`uniform vec3 diffuse;
$&
vTroikaGlyphColor = uTroikaUseGlyphColors ? aTroikaGlyphColor / 255.0 : diffuse;
`))),{vertexShader:t,fragmentShader:n}}});return e.transparent=!0,e.forceSinglePass=!0,Object.defineProperties(e,{isTroikaTextMaterial:{value:!0},shadowSide:{get(){return this.side},set(){}}}),e}const r1=new Qa({color:16777215,side:To,transparent:!0}),fS=8421504,hS=new Zt,vg=new $,T0=new $,wh=[],Bz=new $,P0="+x+y";function pS(r){return Array.isArray(r)?r[0]:r}let FA=()=>{const r=new kr(new tc(1,1),r1);return FA=()=>r,r},BA=()=>{const r=new kr(new tc(1,1,32,1),r1);return BA=()=>r,r};const zz={type:"syncstart"},Vz={type:"synccomplete"},zA=["font","fontSize","fontStyle","fontWeight","lang","letterSpacing","lineHeight","maxWidth","overflowWrap","text","direction","textAlign","textIndent","whiteSpace","anchorX","anchorY","colorRanges","sdfGlyphSize"],Hz=zA.concat("material","color","depthOffset","clipRect","curveRadius","orientation","glyphGeometryDetail");let VA=class extends kr{constructor(){const e=new Iz;super(e,null),this.text="",this.anchorX=0,this.anchorY=0,this.curveRadius=0,this.direction="auto",this.font=null,this.unicodeFontsURL=null,this.fontSize=.1,this.fontWeight="normal",this.fontStyle="normal",this.lang=null,this.letterSpacing=0,this.lineHeight="normal",this.maxWidth=1/0,this.overflowWrap="normal",this.textAlign="left",this.textIndent=0,this.whiteSpace="normal",this.material=null,this.color=null,this.colorRanges=null,this.outlineWidth=0,this.outlineColor=0,this.outlineOpacity=1,this.outlineBlur=0,this.outlineOffsetX=0,this.outlineOffsetY=0,this.strokeWidth=0,this.strokeColor=fS,this.strokeOpacity=1,this.fillOpacity=1,this.depthOffset=0,this.clipRect=null,this.orientation=P0,this.glyphGeometryDetail=1,this.sdfGlyphSize=null,this.gpuAccelerateSDF=!0,this.debugSDF=!1}sync(e){this._needsSync&&(this._needsSync=!1,this._isSyncing?(this._queuedSyncs||(this._queuedSyncs=[])).push(e):(this._isSyncing=!0,this.dispatchEvent(zz),UA({text:this.text,font:this.font,lang:this.lang,fontSize:this.fontSize||.1,fontWeight:this.fontWeight||"normal",fontStyle:this.fontStyle||"normal",letterSpacing:this.letterSpacing||0,lineHeight:this.lineHeight||"normal",maxWidth:this.maxWidth,direction:this.direction||"auto",textAlign:this.textAlign,textIndent:this.textIndent,whiteSpace:this.whiteSpace,overflowWrap:this.overflowWrap,anchorX:this.anchorX,anchorY:this.anchorY,colorRanges:this.colorRanges,includeCaretPositions:!0,sdfGlyphSize:this.sdfGlyphSize,gpuAccelerateSDF:this.gpuAccelerateSDF,unicodeFontsURL:this.unicodeFontsURL},t=>{this._isSyncing=!1,this._textRenderInfo=t,this.geometry.updateGlyphs(t.glyphBounds,t.glyphAtlasIndices,t.blockBounds,t.chunkedBounds,t.glyphColors);const n=this._queuedSyncs;n&&(this._queuedSyncs=null,this._needsSync=!0,this.sync(()=>{n.forEach(i=>i&&i())})),this.dispatchEvent(Vz),e&&e()})))}onBeforeRender(e,t,n,i,s,o){this.sync(),s.isTroikaTextMaterial&&this._prepareForRender(s)}dispose(){this.geometry.dispose()}get textRenderInfo(){return this._textRenderInfo||null}createDerivedMaterial(e){return Fz(e)}get material(){let e=this._derivedMaterial;const t=this._baseMaterial||this._defaultMaterial||(this._defaultMaterial=r1.clone());if((!e||!e.isDerivedFrom(t))&&(e=this._derivedMaterial=this.createDerivedMaterial(t),t.addEventListener("dispose",function n(){t.removeEventListener("dispose",n),e.dispose()})),this.hasOutline()){let n=e._outlineMtl;return n||(n=e._outlineMtl=Object.create(e,{id:{value:e.id+.1}}),n.isTextOutlineMaterial=!0,n.depthWrite=!1,n.map=null,e.addEventListener("dispose",function i(){e.removeEventListener("dispose",i),n.dispose()})),[n,e]}else return e}set material(e){e&&e.isTroikaTextMaterial?(this._derivedMaterial=e,this._baseMaterial=e.baseMaterial):this._baseMaterial=e}hasOutline(){return!!(this.outlineWidth||this.outlineBlur||this.outlineOffsetX||this.outlineOffsetY)}get glyphGeometryDetail(){return this.geometry.detail}set glyphGeometryDetail(e){this.geometry.detail=e}get curveRadius(){return this.geometry.curveRadius}set curveRadius(e){this.geometry.curveRadius=e}get customDepthMaterial(){return pS(this.material).getDepthMaterial()}set customDepthMaterial(e){}get customDistanceMaterial(){return pS(this.material).getDistanceMaterial()}set customDistanceMaterial(e){}_prepareForRender(e){const t=e.isTextOutlineMaterial,n=e.uniforms,i=this.textRenderInfo;if(i){const{sdfTexture:l,blockBounds:c}=i;n.uTroikaSDFTexture.value=l,n.uTroikaSDFTextureSize.value.set(l.image.width,l.image.height),n.uTroikaSDFGlyphSize.value=i.sdfGlyphSize,n.uTroikaSDFExponent.value=i.sdfExponent,n.uTroikaTotalBounds.value.fromArray(c),n.uTroikaUseGlyphColors.value=!t&&!!i.glyphColors;let d=0,h=0,m=0,y,v,C,b=0,_=0;if(t){let{outlineWidth:A,outlineOffsetX:E,outlineOffsetY:P,outlineBlur:I,outlineOpacity:k}=this;d=this._parsePercent(A)||0,h=Math.max(0,this._parsePercent(I)||0),y=k,b=this._parsePercent(E)||0,_=this._parsePercent(P)||0}else m=Math.max(0,this._parsePercent(this.strokeWidth)||0),m&&(C=this.strokeColor,n.uTroikaStrokeColor.value.set(C??fS),v=this.strokeOpacity,v==null&&(v=1)),y=this.fillOpacity;n.uTroikaEdgeOffset.value=d,n.uTroikaPositionOffset.value.set(b,_),n.uTroikaBlurRadius.value=h,n.uTroikaStrokeWidth.value=m,n.uTroikaStrokeOpacity.value=v,n.uTroikaFillOpacity.value=y??1,n.uTroikaCurveRadius.value=this.curveRadius||0;let S=this.clipRect;if(S&&Array.isArray(S)&&S.length===4)n.uTroikaClipRect.value.fromArray(S);else{const A=(this.fontSize||.1)*100;n.uTroikaClipRect.value.set(c[0]-A,c[1]-A,c[2]+A,c[3]+A)}this.geometry.applyClipRect(n.uTroikaClipRect.value)}n.uTroikaSDFDebug.value=!!this.debugSDF,e.polygonOffset=!!this.depthOffset,e.polygonOffsetFactor=e.polygonOffsetUnits=this.depthOffset||0;const s=t?this.outlineColor||0:this.color;if(s==null)delete e.color;else{const l=e.hasOwnProperty("color")?e.color:e.color=new wt;(s!==l._input||typeof s=="object")&&l.set(l._input=s)}let o=this.orientation||P0;if(o!==e._orientation){let l=n.uTroikaOrient.value;o=o.replace(/[^-+xyz]/g,"");let c=o!==P0&&o.match(/^([-+])([xyz])([-+])([xyz])$/);if(c){let[,d,h,m,y]=c;vg.set(0,0,0)[h]=d==="-"?1:-1,T0.set(0,0,0)[y]=m==="-"?-1:1,hS.lookAt(Bz,vg.cross(T0),T0),l.setFromMatrix4(hS)}else l.identity();e._orientation=o}}_parsePercent(e){if(typeof e=="string"){let t=e.match(/^(-?[\d.]+)%$/),n=t?parseFloat(t[1]):NaN;e=(isNaN(n)?0:n/100)*this.fontSize}return e}localPositionToTextCoords(e,t=new qe){t.copy(e);const n=this.curveRadius;return n&&(t.x=Math.atan2(e.x,Math.abs(n)-Math.abs(e.z))*Math.abs(n)),t}worldPositionToTextCoords(e,t=new qe){return vg.copy(e),this.localPositionToTextCoords(this.worldToLocal(vg),t)}raycast(e,t){const{textRenderInfo:n,curveRadius:i}=this;if(n){const s=n.blockBounds,o=i?BA():FA(),l=o.geometry,{position:c,uv:d}=l.attributes;for(let h=0;h<d.count;h++){let m=s[0]+d.getX(h)*(s[2]-s[0]);const y=s[1]+d.getY(h)*(s[3]-s[1]);let v=0;i&&(v=i-Math.cos(m/i)*i,m=Math.sin(m/i)*i),c.setXYZ(h,m,y,v)}l.boundingSphere=this.geometry.boundingSphere,l.boundingBox=this.geometry.boundingBox,o.matrixWorld=this.matrixWorld,o.material.side=this.material.side,wh.length=0,o.raycast(e,wh);for(let h=0;h<wh.length;h++)wh[h].object=this,t.push(wh[h])}}copy(e){const t=this.geometry;return super.copy(e),this.geometry=t,Hz.forEach(n=>{this[n]=e[n]}),this}clone(){return new this.constructor().copy(this)}};zA.forEach(r=>{const e="_private_"+r;Object.defineProperty(VA.prototype,r,{get(){return this[e]},set(t){t!==this[e]&&(this[e]=t,this._needsSync=!0)}})});new qs;new wt;const mS=ue.forwardRef(({sdfGlyphSize:r=64,anchorX:e="center",anchorY:t="middle",font:n,fontSize:i=1,children:s,characters:o,onSync:l,...c},d)=>{const h=Ba(({invalidate:C})=>C),[m]=ue.useState(()=>new VA),[y,v]=ue.useMemo(()=>{const C=[];let b="";return ue.Children.forEach(s,_=>{typeof _=="string"||typeof _=="number"?b+=_:C.push(_)}),[C,b]},[s]);return Z4(()=>new Promise(C=>Ez({font:n,characters:o},C)),["troika-text",n,o]),ue.useLayoutEffect(()=>void m.sync(()=>{h(),l&&l(m)})),ue.useEffect(()=>()=>m.dispose(),[m]),ue.createElement("primitive",qg({object:m,ref:d,font:n,text:v,anchorX:e,anchorY:t,fontSize:i,sdfGlyphSize:r},c),y)}),HA=ue.forwardRef(({makeDefault:r,camera:e,regress:t,domElement:n,enableDamping:i=!0,keyEvents:s=!1,onChange:o,onStart:l,onEnd:c,...d},h)=>{const m=Ba(k=>k.invalidate),y=Ba(k=>k.camera),v=Ba(k=>k.gl),C=Ba(k=>k.events),b=Ba(k=>k.setEvents),_=Ba(k=>k.set),S=Ba(k=>k.get),A=Ba(k=>k.performance),E=e||y,P=n||C.connected||v.domElement,I=ue.useMemo(()=>new YB(E),[E]);return Eu(()=>{I.enabled&&I.update()},-1),ue.useEffect(()=>(s&&I.connect(s===!0?P:s),I.connect(P),()=>void I.dispose()),[s,P,t,I,m]),ue.useEffect(()=>{const k=U=>{m(),t&&A.regress(),o&&o(U)},F=U=>{l&&l(U)},V=U=>{c&&c(U)};return I.addEventListener("change",k),I.addEventListener("start",F),I.addEventListener("end",V),()=>{I.removeEventListener("start",F),I.removeEventListener("end",V),I.removeEventListener("change",k)}},[o,l,c,I,m,b]),ue.useEffect(()=>{if(r){const k=S().controls;return _({controls:I}),()=>_({controls:k})}},[r,I]),ue.createElement("primitive",qg({ref:h,object:I,enableDamping:i},d))});function gS({count:r=300}){const e=ue.useRef(null),t=ue.useRef(),{positions:n,colors:i,sizes:s}=ue.useMemo(()=>{const o=new Float32Array(r*3),l=new Float32Array(r*3),c=new Float32Array(r),d=new Float32Array(r*3);for(let h=0;h<r;h++){o[h*3]=(Math.random()-.5)*10,o[h*3+1]=(Math.random()-.5)*10,o[h*3+2]=(Math.random()-.5)*10;const y=Math.random()>.5?new wt("#00D4FF"):new wt("#FF6B35");l[h*3]=y.r,l[h*3+1]=y.g,l[h*3+2]=y.b,c[h]=Math.random()*.05+.01,d[h*3]=(Math.random()-.5)*.02,d[h*3+1]=(Math.random()-.5)*.02,d[h*3+2]=(Math.random()-.5)*.02}return t.current=d,{positions:o,colors:l,sizes:c}},[r]);return Eu(o=>{if(e.current&&t.current){const l=e.current.geometry.attributes.position.array,c=t.current;for(let d=0;d<r;d++)l[d*3]+=c[d*3],l[d*3+1]+=c[d*3+1],l[d*3+2]+=c[d*3+2],Math.abs(l[d*3])>5&&(l[d*3]=(Math.random()-.5)*10,c[d*3]=(Math.random()-.5)*.02),Math.abs(l[d*3+1])>5&&(l[d*3+1]=(Math.random()-.5)*10,c[d*3+1]=(Math.random()-.5)*.02),Math.abs(l[d*3+2])>5&&(l[d*3+2]=(Math.random()-.5)*10,c[d*3+2]=(Math.random()-.5)*.02);e.current.geometry.attributes.position.needsUpdate=!0,e.current.rotation.y=o.clock.elapsedTime*.05}}),z.jsxs("points",{ref:e,children:[z.jsxs("bufferGeometry",{children:[z.jsx("bufferAttribute",{attach:"attributes-position",count:r,array:n,itemSize:3}),z.jsx("bufferAttribute",{attach:"attributes-color",count:r,array:i,itemSize:3}),z.jsx("bufferAttribute",{attach:"attributes-size",count:r,array:s,itemSize:1})]}),z.jsx("pointsMaterial",{transparent:!0,opacity:.8,sizeAttenuation:!0,vertexColors:!0,blending:Gh})]})}function Gz({count:r=200}){const e=ue.useRef(null),{positions:t,colors:n}=ue.useMemo(()=>{const i=new Float32Array(r*3),s=new Float32Array(r*3);for(let o=0;o<r;o++){const l=o/r*Math.PI*2,c=2+Math.random()*3;i[o*3]=Math.cos(l)*c,i[o*3+1]=(Math.random()-.5)*8,i[o*3+2]=Math.sin(l)*c;const d=new wt("#00D4FF");d.lerp(new wt("#FFFFFF"),Math.random()*.3),s[o*3]=d.r,s[o*3+1]=d.g,s[o*3+2]=d.b}return{positions:i,colors:s}},[r]);return Eu(i=>{if(e.current){const s=e.current.geometry.attributes.position.array;for(let o=0;o<r;o++)s[o*3+1]+=.02,s[o*3+1]>4&&(s[o*3+1]=-4),s[o*3]+=Math.sin(i.clock.elapsedTime+o*.1)*.001,s[o*3+2]+=Math.cos(i.clock.elapsedTime+o*.1)*.001;e.current.geometry.attributes.position.needsUpdate=!0}}),z.jsxs("points",{ref:e,children:[z.jsxs("bufferGeometry",{children:[z.jsx("bufferAttribute",{attach:"attributes-position",count:r,array:t,itemSize:3}),z.jsx("bufferAttribute",{attach:"attributes-color",count:r,array:n,itemSize:3})]}),z.jsx("pointsMaterial",{size:.02,transparent:!0,opacity:.7,sizeAttenuation:!0,vertexColors:!0,blending:Gh})]})}function Wz(){const r=ue.useRef(null),e=ue.useMemo(()=>{const t=[],i=[];for(let s=0;s<20;s++)i.push({x:(Math.random()-.5)*8,y:(Math.random()-.5)*8,z:(Math.random()-.5)*8});for(let s=0;s<20;s++)for(let o=s+1;o<20;o++){const l=Math.sqrt(Math.pow(i[s].x-i[o].x,2)+Math.pow(i[s].y-i[o].y,2)+Math.pow(i[s].z-i[o].z,2));l<3&&t.push({start:new $(i[s].x,i[s].y,i[s].z),end:new $(i[o].x,i[o].y,i[o].z),opacity:1-l/3})}return t},[]);return Eu(t=>{r.current&&(r.current.rotation.y=t.clock.elapsedTime*.02,r.current.rotation.x=Math.sin(t.clock.elapsedTime*.5)*.1)}),z.jsx("group",{ref:r,children:e.map((t,n)=>z.jsxs("mesh",{children:[z.jsx("bufferGeometry",{children:z.jsx("bufferAttribute",{attach:"attributes-position",count:2,array:new Float32Array([t.start.x,t.start.y,t.start.z,t.end.x,t.end.y,t.end.z]),itemSize:3})}),z.jsx("lineBasicMaterial",{color:"#00D4FF",transparent:!0,opacity:t.opacity*.3})]},n))})}function jz({theme:r,particleCount:e}){return z.jsxs(z.Fragment,{children:[z.jsx("ambientLight",{intensity:.2}),z.jsx("pointLight",{position:[5,5,5],intensity:.8,color:"#00D4FF"}),z.jsx("pointLight",{position:[-5,-5,-5],intensity:.6,color:"#FF6B35"}),r==="trading"&&z.jsx(gS,{count:e}),r==="data"&&z.jsx(Gz,{count:e}),r==="network"&&z.jsxs(z.Fragment,{children:[z.jsx(gS,{count:e/2}),z.jsx(Wz,{})]}),z.jsx(HA,{enablePan:!1,enableZoom:!0,enableRotate:!0,minDistance:2,maxDistance:15,autoRotate:!0,autoRotateSpeed:.5})]})}function GA({particleCount:r=300,width:e=600,height:t=400,interactive:n=!0,theme:i="trading"}){return z.jsxs("div",{"trae-inspector-start-line":"325","trae-inspector-start-column":"4","trae-inspector-end-line":"356","trae-inspector-end-column":"10","trae-inspector-file-path":"src\\\\components\\\\3d\\\\ParticleSystem3D.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5Cyeeg2%5C%5COneDrive%5C%5CDocumentos%5C%5CProjects%5C%5Cfrontend%5C%5Cenaria-mx%22%7D",className:"relative bg-black/10 backdrop-blur-sm rounded-lg border border-accent-cyan/10 overflow-hidden w-full h-full",style:{width:e??"100%",height:t??"100%"},children:[z.jsx(PA,{camera:{position:[0,0,8],fov:75},style:{width:"100%",height:"100%"},children:z.jsx(jz,{theme:i,particleCount:r})}),z.jsxs("div",{"trae-inspector-start-line":"337","trae-inspector-start-column":"6","trae-inspector-end-line":"344","trae-inspector-end-column":"12","trae-inspector-file-path":"src\\\\components\\\\3d\\\\ParticleSystem3D.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5Cyeeg2%5C%5COneDrive%5C%5CDocumentos%5C%5CProjects%5C%5Cfrontend%5C%5Cenaria-mx%22%7D",className:"absolute top-4 left-4 text-white",children:[z.jsxs("h3",{"trae-inspector-start-line":"338","trae-inspector-start-column":"8","trae-inspector-end-line":"342","trae-inspector-end-column":"13","trae-inspector-file-path":"src\\\\components\\\\3d\\\\ParticleSystem3D.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5Cyeeg2%5C%5COneDrive%5C%5CDocumentos%5C%5CProjects%5C%5Cfrontend%5C%5Cenaria-mx%22%7D",className:"text-lg font-orbitron font-bold text-accent-cyan",children:[i==="trading"&&"Sistema de Trading",i==="data"&&"Flujo de Datos",i==="network"&&"Red Neural"]}),z.jsx("p",{"trae-inspector-start-line":"343","trae-inspector-start-column":"8","trae-inspector-end-line":"343","trae-inspector-end-column":"77","trae-inspector-file-path":"src\\\\components\\\\3d\\\\ParticleSystem3D.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Visualizaci%C3%B3n%20en%20tiempo%20real%22%2C%22textStartLine%22%3A%22343%22%2C%22textStartColumn%22%3A%2245%22%2C%22textEndLine%22%3A%22343%22%2C%22textEndColumn%22%3A%2273%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5Cyeeg2%5C%5COneDrive%5C%5CDocumentos%5C%5CProjects%5C%5Cfrontend%5C%5Cenaria-mx%22%7D",className:"text-sm text-gray-300",children:"Visualizacin en tiempo real"})]}),z.jsx("div",{"trae-inspector-start-line":"347","trae-inspector-start-column":"6","trae-inspector-end-line":"349","trae-inspector-end-column":"12","trae-inspector-file-path":"src\\\\components\\\\3d\\\\ParticleSystem3D.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5Cyeeg2%5C%5COneDrive%5C%5CDocumentos%5C%5CProjects%5C%5Cfrontend%5C%5Cenaria-mx%22%7D",className:"absolute bottom-4 left-4 text-xs text-gray-400",children:z.jsxs("p",{"trae-inspector-start-line":"348","trae-inspector-start-column":"8","trae-inspector-end-line":"348","trae-inspector-end-column":"49","trae-inspector-file-path":"src\\\\components\\\\3d\\\\ParticleSystem3D.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5Cyeeg2%5C%5COneDrive%5C%5CDocumentos%5C%5CProjects%5C%5Cfrontend%5C%5Cenaria-mx%22%7D",children:[r," partculas activas"]})}),n&&z.jsx("div",{"trae-inspector-start-line":"352","trae-inspector-start-column":"8","trae-inspector-end-line":"354","trae-inspector-end-column":"14","trae-inspector-file-path":"src\\\\components\\\\3d\\\\ParticleSystem3D.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5Cyeeg2%5C%5COneDrive%5C%5CDocumentos%5C%5CProjects%5C%5Cfrontend%5C%5Cenaria-mx%22%7D",className:"absolute bottom-4 right-4 text-xs text-gray-400",children:z.jsx("p",{"trae-inspector-start-line":"353","trae-inspector-start-column":"10","trae-inspector-end-line":"353","trae-inspector-end-column":"55","trae-inspector-file-path":"src\\\\components\\\\3d\\\\ParticleSystem3D.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Rotaci%C3%B3n%20autom%C3%A1tica%20%E2%80%A2%20Scroll%20para%20zoom%22%2C%22textStartLine%22%3A%22353%22%2C%22textStartColumn%22%3A%2213%22%2C%22textEndLine%22%3A%22353%22%2C%22textEndColumn%22%3A%2251%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5Cyeeg2%5C%5COneDrive%5C%5CDocumentos%5C%5CProjects%5C%5Cfrontend%5C%5Cenaria-mx%22%7D",children:"Rotacin automtica  Scroll para zoom"})})]})}function Xz({position:r,open:e,high:t,low:n,close:i,index:s}){const o=ue.useRef(null),l=i>e,c=Math.abs(i-e),d=Math.min(e,i)+c/2;return Eu(h=>{o.current&&(o.current.rotation.y=Math.sin(h.clock.elapsedTime*.5+s*.1)*.02)}),z.jsxs("group",{ref:o,position:r,children:[z.jsxs("mesh",{position:[0,(t+n)/2,0],castShadow:!0,receiveShadow:!0,children:[z.jsx("boxGeometry",{args:[.02,Math.max(t-n,.02),.02]}),z.jsx("meshStandardMaterial",{color:l?"#00D4FF":"#FF6B35",emissive:l?"#001a33":"#331100",emissiveIntensity:.2})]}),z.jsxs("mesh",{position:[0,d,0],castShadow:!0,receiveShadow:!0,children:[z.jsx("boxGeometry",{args:[.2,Math.max(c,.02),.2]}),z.jsx("meshStandardMaterial",{color:l?"#00D4FF":"#FF6B35",emissive:l?"#001a33":"#331100",emissiveIntensity:.3,metalness:.8,roughness:.2})]}),z.jsxs("mesh",{position:[0,d,0],children:[z.jsx("boxGeometry",{args:[.25,Math.max(c+.1,.12),.25]}),z.jsx("meshBasicMaterial",{color:l?"#00D4FF":"#FF6B35",transparent:!0,opacity:.1})]})]})}function Yz(){const r=ue.useRef(null);return Eu(e=>{r.current&&(r.current.rotation.y=Math.sin(e.clock.elapsedTime*.1)*.05)}),z.jsx("group",{ref:r,children:Array.from({length:21},(e,t)=>z.jsxs("group",{children:[z.jsxs("mesh",{position:[0,(t-10)*.2,0],receiveShadow:!0,children:[z.jsx("boxGeometry",{args:[4,.005,.005]}),z.jsx("meshBasicMaterial",{color:"#00D4FF",transparent:!0,opacity:.3})]}),z.jsxs("mesh",{position:[(t-10)*.2,0,0],receiveShadow:!0,children:[z.jsx("boxGeometry",{args:[.005,4,.005]}),z.jsx("meshBasicMaterial",{color:"#00D4FF",transparent:!0,opacity:.3})]})]},t))})}function qz(){const r=ue.useRef(null),e=ue.useMemo(()=>{const t=new on,n=new Float32Array(600);for(let i=0;i<200;i++)n[i*3]=(Math.random()-.5)*10,n[i*3+1]=(Math.random()-.5)*10,n[i*3+2]=(Math.random()-.5)*10;return t.setAttribute("position",new Dn(n,3)),t},[]);return Eu(t=>{r.current&&(r.current.rotation.y=t.clock.elapsedTime*.05,r.current.rotation.x=t.clock.elapsedTime*.02)}),z.jsx("points",{ref:r,geometry:e,children:z.jsx("pointsMaterial",{color:"#00D4FF",size:.02,transparent:!0,opacity:.6,sizeAttenuation:!0})})}function Kz({data:r}){return z.jsxs(z.Fragment,{children:[z.jsx("ambientLight",{intensity:.4}),z.jsx("pointLight",{position:[10,10,10],intensity:1,color:"#00D4FF",castShadow:!0}),z.jsx("pointLight",{position:[-10,-10,-10],intensity:.5,color:"#FF6B35"}),z.jsx("spotLight",{position:[0,10,0],angle:.3,penumbra:1,intensity:1.2,color:"#FFFFFF",castShadow:!0}),z.jsx(Yz,{}),z.jsx(qz,{}),r.map((e,t)=>z.jsx(Xz,{position:[(t-r.length/2)*.3,0,0],open:e.open,high:e.high,low:e.low,close:e.close,index:t},t)),z.jsx(mS,{position:[-2.5,2,0],fontSize:.1,color:"#00D4FF",anchorX:"center",anchorY:"middle",children:"PRECIO XAUUSD"}),z.jsx(mS,{position:[0,-2.5,0],fontSize:.1,color:"#00D4FF",anchorX:"center",anchorY:"middle",children:"TIEMPO"}),z.jsx(HA,{enablePan:!1,enableZoom:!0,enableRotate:!0,minDistance:3,maxDistance:8,minPolarAngle:Math.PI/6,maxPolarAngle:Math.PI-Math.PI/6})]})}function Zz({data:r,width:e=600,height:t=400}){const n=ue.useMemo(()=>[{open:18650,high:18820,low:18540,close:18790,date:"2024-01-01"},{open:18790,high:18950,low:18680,close:18690,date:"2024-01-02"},{open:18690,high:19020,low:18650,close:18980,date:"2024-01-03"},{open:18980,high:19110,low:18800,close:19020,date:"2024-01-04"},{open:19020,high:19240,low:18900,close:19180,date:"2024-01-05"},{open:19180,high:19300,low:19060,close:19110,date:"2024-01-06"},{open:19110,high:19280,low:18990,close:19250,date:"2024-01-07"},{open:19250,high:19520,low:19200,close:19480,date:"2024-01-08"},{open:19480,high:19600,low:19350,close:19550,date:"2024-01-09"},{open:19550,high:19720,low:19400,close:19680,date:"2024-01-10"}],[]),i=r||n,s=ue.useMemo(()=>Math.min(...i.map(h=>h.low)),[i]),o=ue.useMemo(()=>Math.max(...i.map(h=>h.high)),[i]),l=Math.max(o-s,1),c=h=>(h-s)/l*3.6-1.8,d=ue.useMemo(()=>i.map(h=>({open:c(h.open),high:c(h.high),low:c(h.low),close:c(h.close),date:h.date})),[i,s,o]);return z.jsxs("div",{"trae-inspector-start-line":"341","trae-inspector-start-column":"4","trae-inspector-end-line":"364","trae-inspector-end-column":"10","trae-inspector-file-path":"src\\\\components\\\\3d\\\\CandlestickChart3D.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5Cyeeg2%5C%5COneDrive%5C%5CDocumentos%5C%5CProjects%5C%5Cfrontend%5C%5Cenaria-mx%22%7D",className:"relative bg-black/20 backdrop-blur-sm rounded-lg border border-accent-cyan/20 w-full h-full",style:{width:e??"100%",height:t??"100%"},children:[z.jsx(PA,{shadows:!0,camera:{position:[0,0,5],fov:75},style:{width:"100%",height:"100%"},children:z.jsx(Kz,{data:d})}),z.jsxs("div",{"trae-inspector-start-line":"354","trae-inspector-start-column":"6","trae-inspector-end-line":"359","trae-inspector-end-column":"12","trae-inspector-file-path":"src\\\\components\\\\3d\\\\CandlestickChart3D.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5Cyeeg2%5C%5COneDrive%5C%5CDocumentos%5C%5CProjects%5C%5Cfrontend%5C%5Cenaria-mx%22%7D",className:"absolute top-4 left-4 text-white",children:[z.jsx("h3",{"trae-inspector-start-line":"355","trae-inspector-start-column":"8","trae-inspector-end-line":"357","trae-inspector-end-column":"13","trae-inspector-file-path":"src\\\\components\\\\3d\\\\CandlestickChart3D.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Trading%203D%22%2C%22textStartLine%22%3A%22355%22%2C%22textStartColumn%22%3A%2273%22%2C%22textEndLine%22%3A%22357%22%2C%22textEndColumn%22%3A%228%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5Cyeeg2%5C%5COneDrive%5C%5CDocumentos%5C%5CProjects%5C%5Cfrontend%5C%5Cenaria-mx%22%7D",className:"text-lg font-orbitron font-bold text-accent-cyan",children:"Trading 3D"}),z.jsx("p",{"trae-inspector-start-line":"358","trae-inspector-start-column":"8","trae-inspector-end-line":"358","trae-inspector-end-column":"72","trae-inspector-file-path":"src\\\\components\\\\3d\\\\CandlestickChart3D.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22An%C3%A1lisis%20en%20tiempo%20real%22%2C%22textStartLine%22%3A%22358%22%2C%22textStartColumn%22%3A%2245%22%2C%22textEndLine%22%3A%22358%22%2C%22textEndColumn%22%3A%2268%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5Cyeeg2%5C%5COneDrive%5C%5CDocumentos%5C%5CProjects%5C%5Cfrontend%5C%5Cenaria-mx%22%7D",className:"text-sm text-gray-300",children:"Anlisis en tiempo real"})]}),z.jsx("div",{"trae-inspector-start-line":"361","trae-inspector-start-column":"6","trae-inspector-end-line":"363","trae-inspector-end-column":"12","trae-inspector-file-path":"src\\\\components\\\\3d\\\\CandlestickChart3D.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5Cyeeg2%5C%5COneDrive%5C%5CDocumentos%5C%5CProjects%5C%5Cfrontend%5C%5Cenaria-mx%22%7D",className:"absolute bottom-4 right-4 text-xs text-gray-400",children:z.jsx("p",{"trae-inspector-start-line":"362","trae-inspector-start-column":"8","trae-inspector-end-line":"362","trae-inspector-end-column":"53","trae-inspector-file-path":"src\\\\components\\\\3d\\\\CandlestickChart3D.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Arrastra%20para%20rotar%20%E2%80%A2%20Scroll%20para%20zoom%22%2C%22textStartLine%22%3A%22362%22%2C%22textStartColumn%22%3A%2211%22%2C%22textEndLine%22%3A%22362%22%2C%22textEndColumn%22%3A%2249%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5Cyeeg2%5C%5COneDrive%5C%5CDocumentos%5C%5CProjects%5C%5Cfrontend%5C%5Cenaria-mx%22%7D",children:"Arrastra para rotar  Scroll para zoom"})})]})}function Jz(){const[r,e]=ue.useState("candlestick"),[t,n]=ue.useState(!1);ue.useEffect(()=>{n(!0)},[]);const i={hidden:{opacity:0,scale:.8,rotateY:-90},visible:{opacity:1,scale:1,rotateY:0,transition:{duration:1.2,ease:"easeOut"}}},s={hidden:{opacity:0,y:50},visible:{opacity:1,y:0,transition:{duration:.8,ease:"easeOut"}}},o={hidden:{opacity:0,scale:.8},visible:{opacity:1,scale:1,transition:{duration:.6,delay:.8,ease:"easeOut"}},hover:{scale:1.05,boxShadow:"0 0 30px rgba(0, 212, 255, 0.4)",transition:{duration:.2}}};return z.jsxs("section",{"trae-inspector-start-line":"52","trae-inspector-start-column":"4","trae-inspector-end-line":"278","trae-inspector-end-column":"14","trae-inspector-file-path":"src\\\\components\\\\sections\\\\Hero3DSection.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5Cyeeg2%5C%5COneDrive%5C%5CDocumentos%5C%5CProjects%5C%5Cfrontend%5C%5Cenaria-mx%22%7D",className:"relative min-h-screen bg-gradient-to-br from-primary via-secondary to-primary overflow-hidden",children:[z.jsx("div",{"trae-inspector-start-line":"54","trae-inspector-start-column":"6","trae-inspector-end-line":"62","trae-inspector-end-column":"12","trae-inspector-file-path":"src\\\\components\\\\sections\\\\Hero3DSection.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5Cyeeg2%5C%5COneDrive%5C%5CDocumentos%5C%5CProjects%5C%5Cfrontend%5C%5Cenaria-mx%22%7D",className:"absolute inset-0 opacity-30",children:z.jsx(GA,{width:window.innerWidth,height:window.innerHeight,particleCount:150,theme:"network",interactive:!1})}),z.jsx("div",{"trae-inspector-start-line":"65","trae-inspector-start-column":"6","trae-inspector-end-line":"65","trae-inspector-end-column":"112","trae-inspector-file-path":"src\\\\components\\\\sections\\\\Hero3DSection.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5Cyeeg2%5C%5COneDrive%5C%5CDocumentos%5C%5CProjects%5C%5Cfrontend%5C%5Cenaria-mx%22%7D",className:"absolute inset-0 bg-gradient-radial from-accent-cyan/10 via-transparent to-transparent"}),z.jsx("div",{"trae-inspector-start-line":"66","trae-inspector-start-column":"6","trae-inspector-end-line":"66","trae-inspector-end-column":"106","trae-inspector-file-path":"src\\\\components\\\\sections\\\\Hero3DSection.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5Cyeeg2%5C%5COneDrive%5C%5CDocumentos%5C%5CProjects%5C%5Cfrontend%5C%5Cenaria-mx%22%7D",className:"absolute inset-0 bg-gradient-to-t from-primary/80 via-transparent to-transparent"}),z.jsx("div",{"trae-inspector-start-line":"68","trae-inspector-start-column":"6","trae-inspector-end-line":"254","trae-inspector-end-column":"12","trae-inspector-file-path":"src\\\\components\\\\sections\\\\Hero3DSection.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5Cyeeg2%5C%5COneDrive%5C%5CDocumentos%5C%5CProjects%5C%5Cfrontend%5C%5Cenaria-mx%22%7D",className:"relative z-10 container mx-auto px-6 py-20",children:z.jsxs("div",{"trae-inspector-start-line":"69","trae-inspector-start-column":"8","trae-inspector-end-line":"253","trae-inspector-end-column":"14","trae-inspector-file-path":"src\\\\components\\\\sections\\\\Hero3DSection.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5Cyeeg2%5C%5COneDrive%5C%5CDocumentos%5C%5CProjects%5C%5Cfrontend%5C%5Cenaria-mx%22%7D",className:"grid lg:grid-cols-2 gap-12 items-center min-h-screen",children:[z.jsxs(ut.div,{className:"space-y-8",initial:"hidden",animate:t?"visible":"hidden",children:[z.jsxs(ut.div,{variants:s,className:"inline-flex items-center space-x-2 bg-accent-cyan/10 backdrop-blur-sm border border-accent-cyan/20 rounded-full px-3 py-1.5 sm:px-4 sm:py-2",children:[z.jsx(nM,{className:"w-4 h-4 text-accent-cyan"}),z.jsx("span",{"trae-inspector-start-line":"82","trae-inspector-start-column":"14","trae-inspector-end-line":"84","trae-inspector-end-column":"21","trae-inspector-file-path":"src\\\\components\\\\sections\\\\Hero3DSection.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Inteligencia%20Artificial%20Avanzada%22%2C%22textStartLine%22%3A%2282%22%2C%22textStartColumn%22%3A%2280%22%2C%22textEndLine%22%3A%2284%22%2C%22textEndColumn%22%3A%2214%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5Cyeeg2%5C%5COneDrive%5C%5CDocumentos%5C%5CProjects%5C%5Cfrontend%5C%5Cenaria-mx%22%7D",className:"text-xs sm:text-sm font-medium text-accent-cyan",children:"Inteligencia Artificial Avanzada"})]}),z.jsxs(ut.div,{id:"hero-logo-anchor",variants:s,className:"space-y-4",children:[z.jsx(hx,{}),z.jsx("div",{"trae-inspector-start-line":"95","trae-inspector-start-column":"14","trae-inspector-end-line":"95","trae-inspector-end-column":"114","trae-inspector-file-path":"src\\\\components\\\\sections\\\\Hero3DSection.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5Cyeeg2%5C%5COneDrive%5C%5CDocumentos%5C%5CProjects%5C%5Cfrontend%5C%5Cenaria-mx%22%7D",className:"w-20 sm:w-24 h-1 bg-gradient-to-r from-accent-cyan to-accent-orange rounded-full"})]}),z.jsxs(ut.p,{variants:s,className:"text-base sm:text-lg lg:text-2xl text-gray-300 font-light leading-relaxed max-w-md sm:max-w-lg",children:["Revoluciona tu trading con"," ",z.jsx("span",{"trae-inspector-start-line":"104","trae-inspector-start-column":"14","trae-inspector-end-line":"106","trae-inspector-end-column":"21","trae-inspector-file-path":"src\\\\components\\\\sections\\\\Hero3DSection.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22inteligencia%20artificial%22%2C%22textStartLine%22%3A%22104%22%2C%22textStartColumn%22%3A%2261%22%2C%22textEndLine%22%3A%22106%22%2C%22textEndColumn%22%3A%2214%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5Cyeeg2%5C%5COneDrive%5C%5CDocumentos%5C%5CProjects%5C%5Cfrontend%5C%5Cenaria-mx%22%7D",className:"text-accent-cyan font-medium",children:"inteligencia artificial"})," ","diseada para el mercado mundial."]}),z.jsx(ut.div,{variants:s,className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-3 sm:gap-4",children:[{icon:rf,text:"Anlisis Predictivo",color:"text-accent-cyan"},{icon:$b,text:"Trading Automatizado",color:"text-accent-orange"}].map((l,c)=>z.jsxs("div",{"trae-inspector-start-line":"127","trae-inspector-start-column":"16","trae-inspector-end-line":"137","trae-inspector-end-column":"22","trae-inspector-file-path":"src\\\\components\\\\sections\\\\Hero3DSection.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5Cyeeg2%5C%5COneDrive%5C%5CDocumentos%5C%5CProjects%5C%5Cfrontend%5C%5Cenaria-mx%22%7D",className:"flex items-center space-x-3 bg-white/5 backdrop-blur-sm rounded-lg p-3 sm:p-4 lg:p-5 border border-white/10",children:[z.jsx(l.icon,{className:`w-5 h-5 sm:w-6 sm:h-6 ${l.color}`}),z.jsx("span",{"trae-inspector-start-line":"134","trae-inspector-start-column":"18","trae-inspector-end-line":"136","trae-inspector-end-column":"25","trae-inspector-file-path":"src\\\\components\\\\sections\\\\Hero3DSection.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5Cyeeg2%5C%5COneDrive%5C%5CDocumentos%5C%5CProjects%5C%5Cfrontend%5C%5Cenaria-mx%22%7D",className:"text-xs sm:text-base lg:text-lg font-medium text-white",children:l.text})]},c))}),z.jsx(ut.div,{variants:s,className:"flex flex-col sm:flex-row gap-4",children:z.jsxs(ut.button,{onClick:()=>window.open("https://app.enaria.io/r/cfe1b67b","_blank"),variants:o,whileHover:"hover",className:"group w-full sm:w-auto bg-gradient-to-r from-accent-cyan to-accent-cyan/80 text-black font-bold py-4 px-8 rounded-lg flex items-center justify-center space-x-2 transition-all duration-300",children:[z.jsx("span",{"trae-inspector-start-line":"154","trae-inspector-start-column":"16","trae-inspector-end-line":"154","trae-inspector-end-column":"52","trae-inspector-file-path":"src\\\\components\\\\sections\\\\Hero3DSection.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Obtener%201%20mes%20de%20prueba%22%2C%22textStartLine%22%3A%22154%22%2C%22textStartColumn%22%3A%2222%22%2C%22textEndLine%22%3A%22154%22%2C%22textEndColumn%22%3A%2245%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5Cyeeg2%5C%5COneDrive%5C%5CDocumentos%5C%5CProjects%5C%5Cfrontend%5C%5Cenaria-mx%22%7D",children:"Obtener 1 mes de prueba"}),z.jsx(XD,{className:"w-5 h-5 group-hover:translate-x-1 transition-transform"})]})}),z.jsx(ut.div,{variants:s,className:"grid grid-cols-1 sm:grid-cols-3 gap-4 sm:gap-6 pt-8 border-t border-white/10",children:[{value:"98.7%",label:"Precisin IA"},{value:"24/7",label:"Operacin Continua"},{value:"500+",label:"Comunidad Activa"}].map((l,c)=>z.jsx("div",{"trae-inspector-start-line":"169","trae-inspector-start-column":"16","trae-inspector-end-line":"171","trae-inspector-end-column":"22","trae-inspector-file-path":"src\\\\components\\\\sections\\\\Hero3DSection.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5Cyeeg2%5C%5COneDrive%5C%5CDocumentos%5C%5CProjects%5C%5Cfrontend%5C%5Cenaria-mx%22%7D",className:"text-center",children:z.jsx("div",{"trae-inspector-start-line":"170","trae-inspector-start-column":"18","trae-inspector-end-line":"170","trae-inspector-end-column":"75","trae-inspector-file-path":"src\\\\components\\\\sections\\\\Hero3DSection.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5Cyeeg2%5C%5COneDrive%5C%5CDocumentos%5C%5CProjects%5C%5Cfrontend%5C%5Cenaria-mx%22%7D",className:"text-sm text-gray-400",children:l.label})},c))})]}),z.jsxs(ut.div,{className:"relative",initial:!1,animate:"visible",variants:i,children:[z.jsxs("div",{"trae-inspector-start-line":"184","trae-inspector-start-column":"12","trae-inspector-end-line":"225","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\sections\\\\Hero3DSection.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5Cyeeg2%5C%5COneDrive%5C%5CDocumentos%5C%5CProjects%5C%5Cfrontend%5C%5Cenaria-mx%22%7D",className:"relative bg-black/20 backdrop-blur-sm rounded-2xl border border-accent-cyan/20 overflow-hidden",children:[z.jsx(ut.div,{initial:{opacity:1,scale:1},animate:{opacity:1,scale:1},transition:{duration:.3},className:"w-full h-64 sm:h-80 md:h-[420px] lg:h-[500px]",children:r==="candlestick"&&z.jsx(Zz,{})},r),z.jsx("div",{"trae-inspector-start-line":"196","trae-inspector-start-column":"14","trae-inspector-end-line":"224","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\sections\\\\Hero3DSection.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5Cyeeg2%5C%5COneDrive%5C%5CDocumentos%5C%5CProjects%5C%5Cfrontend%5C%5Cenaria-mx%22%7D",className:"absolute bottom-4 left-4 right-4 bg-black/40 backdrop-blur-sm rounded-lg p-4 border border-white/10",children:z.jsxs("div",{"trae-inspector-start-line":"197","trae-inspector-start-column":"16","trae-inspector-end-line":"223","trae-inspector-end-column":"22","trae-inspector-file-path":"src\\\\components\\\\sections\\\\Hero3DSection.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5Cyeeg2%5C%5COneDrive%5C%5CDocumentos%5C%5CProjects%5C%5Cfrontend%5C%5Cenaria-mx%22%7D",className:"flex justify-between items-center",children:[z.jsxs("div",{"trae-inspector-start-line":"198","trae-inspector-start-column":"18","trae-inspector-end-line":"214","trae-inspector-end-column":"24","trae-inspector-file-path":"src\\\\components\\\\sections\\\\Hero3DSection.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5Cyeeg2%5C%5COneDrive%5C%5CDocumentos%5C%5CProjects%5C%5Cfrontend%5C%5Cenaria-mx%22%7D",children:[r==="candlestick"&&z.jsx("a",{"trae-inspector-start-line":"200","trae-inspector-start-column":"22","trae-inspector-end-line":"207","trae-inspector-end-column":"26","trae-inspector-file-path":"src\\\\components\\\\sections\\\\Hero3DSection.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Cuenta%20Auditada%20MyFXBook%22%2C%22textStartLine%22%3A%22205%22%2C%22textStartColumn%22%3A%2223%22%2C%22textEndLine%22%3A%22207%22%2C%22textEndColumn%22%3A%2222%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5Cyeeg2%5C%5COneDrive%5C%5CDocumentos%5C%5CProjects%5C%5Cfrontend%5C%5Cenaria-mx%22%7D",className:"text-accent-cyan underline",href:"https://www.myfxbook.com/search/Enaria",target:"_blank",rel:"noopener noreferrer",children:"Cuenta Auditada MyFXBook"}),z.jsx("p",{"trae-inspector-start-line":"210","trae-inspector-start-column":"20","trae-inspector-end-line":"213","trae-inspector-end-column":"24","trae-inspector-file-path":"src\\\\components\\\\sections\\\\Hero3DSection.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5Cyeeg2%5C%5COneDrive%5C%5CDocumentos%5C%5CProjects%5C%5Cfrontend%5C%5Cenaria-mx%22%7D",className:"text-gray-400 text-sm",children:r==="candlestick"&&"Rendimiento real y datos verificados"})]}),z.jsxs("div",{"trae-inspector-start-line":"215","trae-inspector-start-column":"18","trae-inspector-end-line":"222","trae-inspector-end-column":"24","trae-inspector-file-path":"src\\\\components\\\\sections\\\\Hero3DSection.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5Cyeeg2%5C%5COneDrive%5C%5CDocumentos%5C%5CProjects%5C%5Cfrontend%5C%5Cenaria-mx%22%7D",className:"text-right",children:[z.jsx("div",{"trae-inspector-start-line":"216","trae-inspector-start-column":"20","trae-inspector-end-line":"218","trae-inspector-end-column":"26","trae-inspector-file-path":"src\\\\components\\\\sections\\\\Hero3DSection.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5Cyeeg2%5C%5COneDrive%5C%5CDocumentos%5C%5CProjects%5C%5Cfrontend%5C%5Cenaria-mx%22%7D",className:"text-accent-cyan font-bold text-lg",children:r==="candlestick"&&"Datos Reales"}),z.jsx("div",{"trae-inspector-start-line":"219","trae-inspector-start-column":"20","trae-inspector-end-line":"221","trae-inspector-end-column":"26","trae-inspector-file-path":"src\\\\components\\\\sections\\\\Hero3DSection.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5Cyeeg2%5C%5COneDrive%5C%5CDocumentos%5C%5CProjects%5C%5Cfrontend%5C%5Cenaria-mx%22%7D",className:"text-gray-400 text-sm",children:r==="candlestick"&&"Cuenta MyFXBook"})]})]})})]}),z.jsx(ut.div,{className:"absolute -top-8 -right-8 w-16 h-16 bg-accent-cyan/20 rounded-full blur-xl",animate:{scale:[1,1.2,1],opacity:[.3,.6,.3]},transition:{duration:3,repeat:1/0,ease:"easeInOut"}}),z.jsx(ut.div,{className:"absolute -bottom-8 -left-8 w-20 h-20 bg-accent-orange/20 rounded-full blur-xl",animate:{scale:[1.2,1,1.2],opacity:[.4,.2,.4]},transition:{duration:4,repeat:1/0,ease:"easeInOut"}})]})]})}),z.jsx(ut.div,{className:"absolute bottom-8 left-1/2 transform -translate-x-1/2",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:2,duration:.8},children:z.jsxs("div",{"trae-inspector-start-line":"263","trae-inspector-start-column":"8","trae-inspector-end-line":"276","trae-inspector-end-column":"14","trae-inspector-file-path":"src\\\\components\\\\sections\\\\Hero3DSection.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5Cyeeg2%5C%5COneDrive%5C%5CDocumentos%5C%5CProjects%5C%5Cfrontend%5C%5Cenaria-mx%22%7D",className:"flex flex-col items-center space-y-2 text-gray-400",children:[z.jsx("span",{"trae-inspector-start-line":"264","trae-inspector-start-column":"10","trae-inspector-end-line":"264","trae-inspector-end-column":"55","trae-inspector-file-path":"src\\\\components\\\\sections\\\\Hero3DSection.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Descubre%20m%C3%A1s%22%2C%22textStartLine%22%3A%22264%22%2C%22textStartColumn%22%3A%2236%22%2C%22textEndLine%22%3A%22264%22%2C%22textEndColumn%22%3A%2248%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5Cyeeg2%5C%5COneDrive%5C%5CDocumentos%5C%5CProjects%5C%5Cfrontend%5C%5Cenaria-mx%22%7D",className:"text-sm",children:"Descubre ms"}),z.jsx(ut.div,{className:"w-6 h-10 border-2 border-gray-400 rounded-full flex justify-center",animate:{y:[0,5,0]},transition:{duration:1.5,repeat:1/0},children:z.jsx(ut.div,{className:"w-1 h-3 bg-accent-cyan rounded-full mt-2",animate:{opacity:[1,.3,1]},transition:{duration:1.5,repeat:1/0}})})]})})]})}const Qz=[{icon:fx,title:"IA Predictiva",description:"Algoritmos avanzados que analizan patrones de mercado para predecir movimientos futuros con alta precisin.",features:["Machine Learning","Anlisis de Sentimientos","Prediccin y analisis de Volatilidad"],color:"from-accent-cyan to-blue-400"},{icon:rf,title:"Trading Automatizado",description:"Ejecucin automtica de operaciones basado en estrategia personalizada de doble capa, seales y sentimientos de mercado",features:["Estrategias Personalizadas","Ejecucin y analisis 24/7","Gestin de Riesgo"],color:"from-accent-orange to-red-400"},{icon:tM,title:"Gestin de Riesgo",description:"Proteccin avanzada de capital con sistema de analisis all time y ajuste o edicion de la operacion",features:["Trailing stop"],color:"from-green-400 to-emerald-500"},{icon:eL,title:"Broker Agnostic",description:"Una estrategia tan eficiente que trabaja en cualquier broker",features:["Selecciona el broker de tu preferencia","Conexin Directa MT4 / MT5"],color:"from-yellow-400 to-orange-500"},{icon:qD,title:"Anlisis Multicapa",description:"Herramientas avanzadas de anlisis. Por capas e indicadores.",features:["Sentimientos de Mercado","C1 - Red Neuronal Binaria Patrone, calculo confianza","C2 - Razonamiento lenguaje natural"],color:"from-pink-400 to-pink-600"}];function $z(){const r={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.2,delayChildren:.3}}},e={hidden:{opacity:0,y:50,scale:.9},visible:{opacity:1,y:0,scale:1,transition:{duration:.6,ease:"easeOut"}}},t={hover:{y:-10,scale:1.02,transition:{duration:.3,ease:"easeOut"}}};return z.jsxs("section",{"trae-inspector-start-line":"97","trae-inspector-start-column":"4","trae-inspector-end-line":"310","trae-inspector-end-column":"14","trae-inspector-file-path":"src\\\\components\\\\sections\\\\ServicesOverview.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5Cyeeg2%5C%5COneDrive%5C%5CDocumentos%5C%5CProjects%5C%5Cfrontend%5C%5Cenaria-mx%22%7D",className:"relative py-20 bg-gradient-to-b from-primary to-secondary overflow-hidden",children:[z.jsxs("div",{"trae-inspector-start-line":"99","trae-inspector-start-column":"6","trae-inspector-end-line":"102","trae-inspector-end-column":"12","trae-inspector-file-path":"src\\\\components\\\\sections\\\\ServicesOverview.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5Cyeeg2%5C%5COneDrive%5C%5CDocumentos%5C%5CProjects%5C%5Cfrontend%5C%5Cenaria-mx%22%7D",className:"absolute inset-0 opacity-10",children:[z.jsx("div",{"trae-inspector-start-line":"100","trae-inspector-start-column":"8","trae-inspector-end-line":"100","trae-inspector-end-column":"98","trae-inspector-file-path":"src\\\\components\\\\sections\\\\ServicesOverview.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5Cyeeg2%5C%5COneDrive%5C%5CDocumentos%5C%5CProjects%5C%5Cfrontend%5C%5Cenaria-mx%22%7D",className:"absolute top-20 left-10 w-72 h-72 bg-accent-cyan rounded-full blur-3xl"}),z.jsx("div",{"trae-inspector-start-line":"101","trae-inspector-start-column":"8","trae-inspector-end-line":"101","trae-inspector-end-column":"104","trae-inspector-file-path":"src\\\\components\\\\sections\\\\ServicesOverview.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5Cyeeg2%5C%5COneDrive%5C%5CDocumentos%5C%5CProjects%5C%5Cfrontend%5C%5Cenaria-mx%22%7D",className:"absolute bottom-20 right-10 w-96 h-96 bg-accent-orange rounded-full blur-3xl"})]}),z.jsxs("div",{"trae-inspector-start-line":"104","trae-inspector-start-column":"6","trae-inspector-end-line":"309","trae-inspector-end-column":"12","trae-inspector-file-path":"src\\\\components\\\\sections\\\\ServicesOverview.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5Cyeeg2%5C%5COneDrive%5C%5CDocumentos%5C%5CProjects%5C%5Cfrontend%5C%5Cenaria-mx%22%7D",className:"relative z-10 container mx-auto px-6",children:[z.jsxs(ut.div,{className:"text-center mb-16",initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.8},children:[z.jsxs(ut.div,{className:"inline-flex items-center space-x-2 bg-accent-cyan/10 backdrop-blur-sm border border-accent-cyan/20 rounded-full px-4 py-2 mb-6",initial:{opacity:0,scale:.8},whileInView:{opacity:1,scale:1},viewport:{once:!0},transition:{duration:.6,delay:.2},children:[z.jsx(fx,{className:"w-4 h-4 text-accent-cyan"}),z.jsx("span",{"trae-inspector-start-line":"121","trae-inspector-start-column":"12","trae-inspector-end-line":"123","trae-inspector-end-column":"19","trae-inspector-file-path":"src\\\\components\\\\sections\\\\ServicesOverview.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Servicios%20de%20IA%22%2C%22textStartLine%22%3A%22121%22%2C%22textStartColumn%22%3A%2267%22%2C%22textEndLine%22%3A%22123%22%2C%22textEndColumn%22%3A%2212%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5Cyeeg2%5C%5COneDrive%5C%5CDocumentos%5C%5CProjects%5C%5Cfrontend%5C%5Cenaria-mx%22%7D",className:"text-sm font-medium text-accent-cyan",children:"Servicios de IA"})]}),z.jsxs("h2",{"trae-inspector-start-line":"126","trae-inspector-start-column":"10","trae-inspector-end-line":"131","trae-inspector-end-column":"15","trae-inspector-file-path":"src\\\\components\\\\sections\\\\ServicesOverview.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5Cyeeg2%5C%5COneDrive%5C%5CDocumentos%5C%5CProjects%5C%5Cfrontend%5C%5Cenaria-mx%22%7D",className:"text-4xl lg:text-6xl font-black font-orbitron text-white mb-6",children:["Tecnologa de"," ",z.jsx("span",{"trae-inspector-start-line":"128","trae-inspector-start-column":"12","trae-inspector-end-line":"130","trae-inspector-end-column":"19","trae-inspector-file-path":"src\\\\components\\\\sections\\\\ServicesOverview.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Vanguardia%22%2C%22textStartLine%22%3A%22128%22%2C%22textStartColumn%22%3A%22111%22%2C%22textEndLine%22%3A%22130%22%2C%22textEndColumn%22%3A%2212%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5Cyeeg2%5C%5COneDrive%5C%5CDocumentos%5C%5CProjects%5C%5Cfrontend%5C%5Cenaria-mx%22%7D",className:"text-transparent bg-clip-text bg-gradient-to-r from-accent-cyan to-accent-orange",children:"Vanguardia"})]}),z.jsx("p",{"trae-inspector-start-line":"133","trae-inspector-start-column":"10","trae-inspector-end-line":"137","trae-inspector-end-column":"14","trae-inspector-file-path":"src\\\\components\\\\sections\\\\ServicesOverview.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Nuestros%20servicios%20de%20inteligencia%20artificial%20est%C3%A1n%20dise%C3%B1ados%5Cn%20%20%20%20%20%20%20%20%20%20%20%20espec%C3%ADficamente%20para%20maximizar%20tus%20ganancias%20en%20el%20mercado%20forex%20en%5Cn%20%20%20%20%20%20%20%20%20%20%20%20el%20par%20XAU-USD.%22%2C%22textStartLine%22%3A%22133%22%2C%22textStartColumn%22%3A%2281%22%2C%22textEndLine%22%3A%22137%22%2C%22textEndColumn%22%3A%2210%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5Cyeeg2%5C%5COneDrive%5C%5CDocumentos%5C%5CProjects%5C%5Cfrontend%5C%5Cenaria-mx%22%7D",className:"text-xl text-gray-300 max-w-3xl mx-auto leading-relaxed",children:"Nuestros servicios de inteligencia artificial estn diseados especficamente para maximizar tus ganancias en el mercado forex en el par XAU-USD."})]}),z.jsx(ut.div,{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-3 gap-8",variants:r,initial:"hidden",whileInView:"visible",viewport:{once:!0,margin:"-100px"},children:Qz.map((n,i)=>i>2?z.jsx(ut.div,{variants:e,whileHover:"hover",className:"group relative w-full h-full",children:z.jsxs(ut.div,{variants:t,className:"relative bg-white/5 backdrop-blur-sm border border-white/10 rounded-2xl p-8 h-full overflow-hidden transition-all duration-300 group-hover:border-accent-cyan/30",children:[z.jsx("div",{"trae-inspector-start-line":"161","trae-inspector-start-column":"18","trae-inspector-end-line":"163","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\sections\\\\ServicesOverview.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5Cyeeg2%5C%5COneDrive%5C%5CDocumentos%5C%5CProjects%5C%5Cfrontend%5C%5Cenaria-mx%22%7D",className:`absolute inset-0 bg-gradient-to-br ${n.color} opacity-0 group-hover:opacity-5 transition-opacity duration-300`}),z.jsx("div",{"trae-inspector-start-line":"166","trae-inspector-start-column":"18","trae-inspector-end-line":"172","trae-inspector-end-column":"24","trae-inspector-file-path":"src\\\\components\\\\sections\\\\ServicesOverview.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5Cyeeg2%5C%5COneDrive%5C%5CDocumentos%5C%5CProjects%5C%5Cfrontend%5C%5Cenaria-mx%22%7D",className:"relative z-10 mb-6",children:z.jsx("div",{"trae-inspector-start-line":"167","trae-inspector-start-column":"20","trae-inspector-end-line":"171","trae-inspector-end-column":"26","trae-inspector-file-path":"src\\\\components\\\\sections\\\\ServicesOverview.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5Cyeeg2%5C%5COneDrive%5C%5CDocumentos%5C%5CProjects%5C%5Cfrontend%5C%5Cenaria-mx%22%7D",className:`inline-flex p-4 rounded-2xl bg-gradient-to-br ${n.color} bg-opacity-10 border border-white/10`,children:z.jsx(n.icon,{className:"w-8 h-8 text-white"})})}),z.jsxs("div",{"trae-inspector-start-line":"175","trae-inspector-start-column":"18","trae-inspector-end-line":"215","trae-inspector-end-column":"24","trae-inspector-file-path":"src\\\\components\\\\sections\\\\ServicesOverview.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5Cyeeg2%5C%5COneDrive%5C%5CDocumentos%5C%5CProjects%5C%5Cfrontend%5C%5Cenaria-mx%22%7D",className:"relative z-10 space-y-4",children:[z.jsx("h3",{"trae-inspector-start-line":"176","trae-inspector-start-column":"20","trae-inspector-end-line":"178","trae-inspector-end-column":"25","trae-inspector-file-path":"src\\\\components\\\\sections\\\\ServicesOverview.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5Cyeeg2%5C%5COneDrive%5C%5CDocumentos%5C%5CProjects%5C%5Cfrontend%5C%5Cenaria-mx%22%7D",className:"text-2xl font-bold text-white font-orbitron",children:n.title}),z.jsx("p",{"trae-inspector-start-line":"180","trae-inspector-start-column":"20","trae-inspector-end-line":"182","trae-inspector-end-column":"24","trae-inspector-file-path":"src\\\\components\\\\sections\\\\ServicesOverview.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5Cyeeg2%5C%5COneDrive%5C%5CDocumentos%5C%5CProjects%5C%5Cfrontend%5C%5Cenaria-mx%22%7D",className:"text-gray-300 leading-relaxed",children:n.description}),z.jsx("div",{"trae-inspector-start-line":"185","trae-inspector-start-column":"20","trae-inspector-end-line":"195","trae-inspector-end-column":"26","trae-inspector-file-path":"src\\\\components\\\\sections\\\\ServicesOverview.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5Cyeeg2%5C%5COneDrive%5C%5CDocumentos%5C%5CProjects%5C%5Cfrontend%5C%5Cenaria-mx%22%7D",className:"space-y-2",children:n.features.map((s,o)=>z.jsxs("div",{"trae-inspector-start-line":"187","trae-inspector-start-column":"24","trae-inspector-end-line":"193","trae-inspector-end-column":"30","trae-inspector-file-path":"src\\\\components\\\\sections\\\\ServicesOverview.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5Cyeeg2%5C%5COneDrive%5C%5CDocumentos%5C%5CProjects%5C%5Cfrontend%5C%5Cenaria-mx%22%7D",className:"flex items-center space-x-2 text-sm",children:[z.jsx("div",{"trae-inspector-start-line":"191","trae-inspector-start-column":"26","trae-inspector-end-line":"191","trae-inspector-end-column":"85","trae-inspector-file-path":"src\\\\components\\\\sections\\\\ServicesOverview.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5Cyeeg2%5C%5COneDrive%5C%5CDocumentos%5C%5CProjects%5C%5Cfrontend%5C%5Cenaria-mx%22%7D",className:"w-1.5 h-1.5 bg-accent-cyan rounded-full"}),z.jsx("span",{"trae-inspector-start-line":"192","trae-inspector-start-column":"26","trae-inspector-end-line":"192","trae-inspector-end-column":"74","trae-inspector-file-path":"src\\\\components\\\\sections\\\\ServicesOverview.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5Cyeeg2%5C%5COneDrive%5C%5CDocumentos%5C%5CProjects%5C%5Cfrontend%5C%5Cenaria-mx%22%7D",className:"text-gray-400",children:s})]},o))}),z.jsx(ut.div,{className:"pt-4",initial:{opacity:0},whileHover:{opacity:1},transition:{duration:.2},children:z.jsxs("button",{"trae-inspector-start-line":"204","trae-inspector-start-column":"22","trae-inspector-end-line":"213","trae-inspector-end-column":"31","trae-inspector-file-path":"src\\\\components\\\\sections\\\\ServicesOverview.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5Cyeeg2%5C%5COneDrive%5C%5CDocumentos%5C%5CProjects%5C%5Cfrontend%5C%5Cenaria-mx%22%7D",className:"text-accent-cyan hover:text-white transition-colors duration-200 text-sm font-medium flex items-center space-x-1 group",children:[z.jsx("span",{"trae-inspector-start-line":"205","trae-inspector-start-column":"24","trae-inspector-end-line":"205","trae-inspector-end-column":"46","trae-inspector-file-path":"src\\\\components\\\\sections\\\\ServicesOverview.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Saber%20m%C3%A1s%22%2C%22textStartLine%22%3A%22205%22%2C%22textStartColumn%22%3A%2230%22%2C%22textEndLine%22%3A%22205%22%2C%22textEndColumn%22%3A%2239%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5Cyeeg2%5C%5COneDrive%5C%5CDocumentos%5C%5CProjects%5C%5Cfrontend%5C%5Cenaria-mx%22%7D",children:"Saber ms"}),z.jsx(ut.div,{className:"w-4 h-4",whileHover:{x:3},transition:{duration:.2},children:""})]})})]}),z.jsx("div",{"trae-inspector-start-line":"218","trae-inspector-start-column":"18","trae-inspector-end-line":"218","trae-inspector-end-column":"156","trae-inspector-file-path":"src\\\\components\\\\sections\\\\ServicesOverview.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5Cyeeg2%5C%5COneDrive%5C%5CDocumentos%5C%5CProjects%5C%5Cfrontend%5C%5Cenaria-mx%22%7D",className:"absolute inset-0 rounded-2xl border-2 border-transparent group-hover:border-accent-cyan/20 transition-all duration-300"})]})},i):z.jsx(ut.div,{variants:e,whileHover:"hover",className:"group relative",children:z.jsxs(ut.div,{variants:t,className:"relative bg-white/5 backdrop-blur-sm border border-white/10 rounded-2xl p-8 h-full overflow-hidden transition-all duration-300 group-hover:border-accent-cyan/30",children:[z.jsx("div",{"trae-inspector-start-line":"233","trae-inspector-start-column":"18","trae-inspector-end-line":"235","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\sections\\\\ServicesOverview.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5Cyeeg2%5C%5COneDrive%5C%5CDocumentos%5C%5CProjects%5C%5Cfrontend%5C%5Cenaria-mx%22%7D",className:`absolute inset-0 bg-gradient-to-br ${n.color} opacity-0 group-hover:opacity-5 transition-opacity duration-300`}),z.jsx("div",{"trae-inspector-start-line":"238","trae-inspector-start-column":"18","trae-inspector-end-line":"244","trae-inspector-end-column":"24","trae-inspector-file-path":"src\\\\components\\\\sections\\\\ServicesOverview.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5Cyeeg2%5C%5COneDrive%5C%5CDocumentos%5C%5CProjects%5C%5Cfrontend%5C%5Cenaria-mx%22%7D",className:"relative z-10 mb-6",children:z.jsx("div",{"trae-inspector-start-line":"239","trae-inspector-start-column":"20","trae-inspector-end-line":"243","trae-inspector-end-column":"26","trae-inspector-file-path":"src\\\\components\\\\sections\\\\ServicesOverview.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5Cyeeg2%5C%5COneDrive%5C%5CDocumentos%5C%5CProjects%5C%5Cfrontend%5C%5Cenaria-mx%22%7D",className:`inline-flex p-4 rounded-2xl bg-gradient-to-br ${n.color} bg-opacity-10 border border-white/10`,children:z.jsx(n.icon,{className:"w-8 h-8 text-white"})})}),z.jsxs("div",{"trae-inspector-start-line":"247","trae-inspector-start-column":"18","trae-inspector-end-line":"287","trae-inspector-end-column":"24","trae-inspector-file-path":"src\\\\components\\\\sections\\\\ServicesOverview.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5Cyeeg2%5C%5COneDrive%5C%5CDocumentos%5C%5CProjects%5C%5Cfrontend%5C%5Cenaria-mx%22%7D",className:"relative z-10 space-y-4",children:[z.jsx("h3",{"trae-inspector-start-line":"248","trae-inspector-start-column":"20","trae-inspector-end-line":"250","trae-inspector-end-column":"25","trae-inspector-file-path":"src\\\\components\\\\sections\\\\ServicesOverview.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5Cyeeg2%5C%5COneDrive%5C%5CDocumentos%5C%5CProjects%5C%5Cfrontend%5C%5Cenaria-mx%22%7D",className:"text-2xl font-bold text-white font-orbitron",children:n.title}),z.jsx("p",{"trae-inspector-start-line":"252","trae-inspector-start-column":"20","trae-inspector-end-line":"254","trae-inspector-end-column":"24","trae-inspector-file-path":"src\\\\components\\\\sections\\\\ServicesOverview.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5Cyeeg2%5C%5COneDrive%5C%5CDocumentos%5C%5CProjects%5C%5Cfrontend%5C%5Cenaria-mx%22%7D",className:"text-gray-300 leading-relaxed",children:n.description}),z.jsx("div",{"trae-inspector-start-line":"257","trae-inspector-start-column":"20","trae-inspector-end-line":"267","trae-inspector-end-column":"26","trae-inspector-file-path":"src\\\\components\\\\sections\\\\ServicesOverview.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5Cyeeg2%5C%5COneDrive%5C%5CDocumentos%5C%5CProjects%5C%5Cfrontend%5C%5Cenaria-mx%22%7D",className:"space-y-2",children:n.features.map((s,o)=>z.jsxs("div",{"trae-inspector-start-line":"259","trae-inspector-start-column":"24","trae-inspector-end-line":"265","trae-inspector-end-column":"30","trae-inspector-file-path":"src\\\\components\\\\sections\\\\ServicesOverview.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5Cyeeg2%5C%5COneDrive%5C%5CDocumentos%5C%5CProjects%5C%5Cfrontend%5C%5Cenaria-mx%22%7D",className:"flex items-center space-x-2 text-sm",children:[z.jsx("div",{"trae-inspector-start-line":"263","trae-inspector-start-column":"26","trae-inspector-end-line":"263","trae-inspector-end-column":"85","trae-inspector-file-path":"src\\\\components\\\\sections\\\\ServicesOverview.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5Cyeeg2%5C%5COneDrive%5C%5CDocumentos%5C%5CProjects%5C%5Cfrontend%5C%5Cenaria-mx%22%7D",className:"w-1.5 h-1.5 bg-accent-cyan rounded-full"}),z.jsx("span",{"trae-inspector-start-line":"264","trae-inspector-start-column":"26","trae-inspector-end-line":"264","trae-inspector-end-column":"74","trae-inspector-file-path":"src\\\\components\\\\sections\\\\ServicesOverview.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5Cyeeg2%5C%5COneDrive%5C%5CDocumentos%5C%5CProjects%5C%5Cfrontend%5C%5Cenaria-mx%22%7D",className:"text-gray-400",children:s})]},o))}),z.jsx(ut.div,{className:"pt-4",initial:{opacity:0},whileHover:{opacity:1},transition:{duration:.2},children:z.jsxs("button",{"trae-inspector-start-line":"276","trae-inspector-start-column":"22","trae-inspector-end-line":"285","trae-inspector-end-column":"31","trae-inspector-file-path":"src\\\\components\\\\sections\\\\ServicesOverview.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5Cyeeg2%5C%5COneDrive%5C%5CDocumentos%5C%5CProjects%5C%5Cfrontend%5C%5Cenaria-mx%22%7D",className:"text-accent-cyan hover:text-white transition-colors duration-200 text-sm font-medium flex items-center space-x-1 group",children:[z.jsx("span",{"trae-inspector-start-line":"277","trae-inspector-start-column":"24","trae-inspector-end-line":"277","trae-inspector-end-column":"46","trae-inspector-file-path":"src\\\\components\\\\sections\\\\ServicesOverview.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Saber%20m%C3%A1s%22%2C%22textStartLine%22%3A%22277%22%2C%22textStartColumn%22%3A%2230%22%2C%22textEndLine%22%3A%22277%22%2C%22textEndColumn%22%3A%2239%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5Cyeeg2%5C%5COneDrive%5C%5CDocumentos%5C%5CProjects%5C%5Cfrontend%5C%5Cenaria-mx%22%7D",children:"Saber ms"}),z.jsx(ut.div,{className:"w-4 h-4",whileHover:{x:3},transition:{duration:.2},children:""})]})})]}),z.jsx("div",{"trae-inspector-start-line":"290","trae-inspector-start-column":"18","trae-inspector-end-line":"290","trae-inspector-end-column":"156","trae-inspector-file-path":"src\\\\components\\\\sections\\\\ServicesOverview.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5Cyeeg2%5C%5COneDrive%5C%5CDocumentos%5C%5CProjects%5C%5Cfrontend%5C%5Cenaria-mx%22%7D",className:"absolute inset-0 rounded-2xl border-2 border-transparent group-hover:border-accent-cyan/20 transition-all duration-300"})]})},i))}),z.jsx(ut.div,{className:"text-center mt-16",initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.8,delay:.5},children:z.jsx("p",{"trae-inspector-start-line":"305","trae-inspector-start-column":"10","trae-inspector-end-line":"307","trae-inspector-end-column":"14","trae-inspector-file-path":"src\\\\components\\\\sections\\\\ServicesOverview.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22%C2%BFListo%20para%20revolucionar%20tu%20estrategia%20de%20trading%3F%22%2C%22textStartLine%22%3A%22305%22%2C%22textStartColumn%22%3A%2252%22%2C%22textEndLine%22%3A%22307%22%2C%22textEndColumn%22%3A%2210%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5Cyeeg2%5C%5COneDrive%5C%5CDocumentos%5C%5CProjects%5C%5Cfrontend%5C%5Cenaria-mx%22%7D",className:"text-gray-300 mb-8 text-lg",children:"Listo para revolucionar tu estrategia de trading?"})})]})]})}const e6=["Gestion completamente por IA","Conexion directa MT4 y/o MT5","1 Mes de prueba completamente libre","Asistencia inteligente 24/7","Centro de Aprendizaje"];function t6(){const r={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.2,delayChildren:.3}}},e={hidden:{opacity:0,y:30},visible:{opacity:1,y:0,transition:{duration:.6,ease:"easeOut"}}};return z.jsxs("section",{"trae-inspector-start-line":"38","trae-inspector-start-column":"4","trae-inspector-end-line":"188","trae-inspector-end-column":"14","trae-inspector-file-path":"src\\\\components\\\\sections\\\\CTASection.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5Cyeeg2%5C%5COneDrive%5C%5CDocumentos%5C%5CProjects%5C%5Cfrontend%5C%5Cenaria-mx%22%7D",className:"relative py-20 bg-gradient-to-br from-secondary via-primary to-secondary overflow-hidden",children:[z.jsx("div",{"trae-inspector-start-line":"40","trae-inspector-start-column":"6","trae-inspector-end-line":"48","trae-inspector-end-column":"12","trae-inspector-file-path":"src\\\\components\\\\sections\\\\CTASection.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5Cyeeg2%5C%5COneDrive%5C%5CDocumentos%5C%5CProjects%5C%5Cfrontend%5C%5Cenaria-mx%22%7D",className:"absolute inset-0 opacity-20",children:z.jsx(GA,{width:window.innerWidth,height:600,particleCount:200,theme:"data",interactive:!1})}),z.jsxs("div",{"trae-inspector-start-line":"51","trae-inspector-start-column":"6","trae-inspector-end-line":"54","trae-inspector-end-column":"12","trae-inspector-file-path":"src\\\\components\\\\sections\\\\CTASection.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5Cyeeg2%5C%5COneDrive%5C%5CDocumentos%5C%5CProjects%5C%5Cfrontend%5C%5Cenaria-mx%22%7D",className:"absolute inset-0",children:[z.jsx("div",{"trae-inspector-start-line":"52","trae-inspector-start-column":"8","trae-inspector-end-line":"52","trae-inspector-end-column":"132","trae-inspector-file-path":"src\\\\components\\\\sections\\\\CTASection.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5Cyeeg2%5C%5COneDrive%5C%5CDocumentos%5C%5CProjects%5C%5Cfrontend%5C%5Cenaria-mx%22%7D",className:"absolute top-0 left-0 w-full h-full bg-gradient-radial from-accent-cyan/5 via-transparent to-transparent"}),z.jsx("div",{"trae-inspector-start-line":"53","trae-inspector-start-column":"8","trae-inspector-end-line":"53","trae-inspector-end-column":"105","trae-inspector-file-path":"src\\\\components\\\\sections\\\\CTASection.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5Cyeeg2%5C%5COneDrive%5C%5CDocumentos%5C%5CProjects%5C%5Cfrontend%5C%5Cenaria-mx%22%7D",className:"absolute bottom-0 right-0 w-96 h-96 bg-accent-orange/10 rounded-full blur-3xl"})]}),z.jsx("div",{"trae-inspector-start-line":"56","trae-inspector-start-column":"6","trae-inspector-end-line":"187","trae-inspector-end-column":"12","trae-inspector-file-path":"src\\\\components\\\\sections\\\\CTASection.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5Cyeeg2%5C%5COneDrive%5C%5CDocumentos%5C%5CProjects%5C%5Cfrontend%5C%5Cenaria-mx%22%7D",className:"relative z-10 container mx-auto px-6",children:z.jsxs(ut.div,{variants:r,initial:"hidden",whileInView:"visible",viewport:{once:!0},className:"max-w-6xl mx-auto",children:[z.jsxs("div",{"trae-inspector-start-line":"65","trae-inspector-start-column":"10","trae-inspector-end-line":"107","trae-inspector-end-column":"16","trae-inspector-file-path":"src\\\\components\\\\sections\\\\CTASection.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5Cyeeg2%5C%5COneDrive%5C%5CDocumentos%5C%5CProjects%5C%5Cfrontend%5C%5Cenaria-mx%22%7D",className:"text-center mb-16",children:[z.jsxs(ut.div,{variants:e,className:"inline-flex items-center space-x-2 bg-accent-cyan/10 backdrop-blur-sm border border-accent-cyan/20 rounded-full px-4 py-2 mb-6",children:[z.jsx(rf,{className:"w-4 h-4 text-accent-cyan"}),z.jsx("span",{"trae-inspector-start-line":"71","trae-inspector-start-column":"14","trae-inspector-end-line":"73","trae-inspector-end-column":"21","trae-inspector-file-path":"src\\\\components\\\\sections\\\\CTASection.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22%C3%9Anete%20a%20la%20Revoluci%C3%B3n%22%2C%22textStartLine%22%3A%2271%22%2C%22textStartColumn%22%3A%2269%22%2C%22textEndLine%22%3A%2273%22%2C%22textEndColumn%22%3A%2214%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5Cyeeg2%5C%5COneDrive%5C%5CDocumentos%5C%5CProjects%5C%5Cfrontend%5C%5Cenaria-mx%22%7D",className:"text-sm font-medium text-accent-cyan",children:"nete a la Revolucin"})]}),z.jsxs(ut.h2,{variants:e,className:"text-4xl lg:text-6xl font-black font-orbitron text-white mb-6",children:["Comienza tu"," ",z.jsx("span",{"trae-inspector-start-line":"81","trae-inspector-start-column":"14","trae-inspector-end-line":"83","trae-inspector-end-column":"21","trae-inspector-file-path":"src\\\\components\\\\sections\\\\CTASection.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Transformaci%C3%B3n%22%2C%22textStartLine%22%3A%2281%22%2C%22textStartColumn%22%3A%22113%22%2C%22textEndLine%22%3A%2283%22%2C%22textEndColumn%22%3A%2214%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5Cyeeg2%5C%5COneDrive%5C%5CDocumentos%5C%5CProjects%5C%5Cfrontend%5C%5Cenaria-mx%22%7D",className:"text-transparent bg-clip-text bg-gradient-to-r from-accent-cyan to-accent-orange",children:"Transformacin"})," ","Hoy"]}),z.jsx(ut.p,{variants:e,className:"text-xl text-gray-300 max-w-3xl mx-auto mb-12 leading-relaxed",children:"No requiere experiencia. nete a la comunidad que ya estn maximizando sus ganancias con la inteligencia artificial ms avanzada del mercado."}),z.jsx(ut.div,{variants:e,className:"grid grid-cols-1 md:grid-cols-3 gap-8 mb-12",children:[{icon:tL,value:"500+",label:"Traders Activos"},{icon:rf,value:"127%",label:"Ganancia Promedio"},{icon:$D,value:"4.9/5",label:"Calificacin"}].map(()=>null)})]}),z.jsxs("div",{"trae-inspector-start-line":"110","trae-inspector-start-column":"10","trae-inspector-end-line":"160","trae-inspector-end-column":"16","trae-inspector-file-path":"src\\\\components\\\\sections\\\\CTASection.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5Cyeeg2%5C%5COneDrive%5C%5CDocumentos%5C%5CProjects%5C%5Cfrontend%5C%5Cenaria-mx%22%7D",className:"grid lg:grid-cols-2 gap-12 items-start",children:[z.jsx(ut.div,{variants:e,className:"space-y-8",children:z.jsx(ut.div,{className:"bg-white/5 backdrop-blur-sm border border-white/10 rounded-2xl p-6",whileHover:{scale:1.02},transition:{duration:.2},children:z.jsxs("div",{"trae-inspector-start-line":"119","trae-inspector-start-column":"16","trae-inspector-end-line":"134","trae-inspector-end-column":"22","trae-inspector-file-path":"src\\\\components\\\\sections\\\\CTASection.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5Cyeeg2%5C%5COneDrive%5C%5CDocumentos%5C%5CProjects%5C%5Cfrontend%5C%5Cenaria-mx%22%7D",className:"text-center",children:[z.jsx("div",{"trae-inspector-start-line":"120","trae-inspector-start-column":"18","trae-inspector-end-line":"122","trae-inspector-end-column":"24","trae-inspector-file-path":"src\\\\components\\\\sections\\\\CTASection.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Contacto%20directo%22%2C%22textStartLine%22%3A%22120%22%2C%22textStartColumn%22%3A%2262%22%2C%22textEndLine%22%3A%22122%22%2C%22textEndColumn%22%3A%2218%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5Cyeeg2%5C%5COneDrive%5C%5CDocumentos%5C%5CProjects%5C%5Cfrontend%5C%5Cenaria-mx%22%7D",className:"text-sm text-gray-400 mb-2",children:"Contacto directo"}),z.jsx("div",{"trae-inspector-start-line":"123","trae-inspector-start-column":"18","trae-inspector-end-line":"125","trae-inspector-end-column":"24","trae-inspector-file-path":"src\\\\components\\\\sections\\\\CTASection.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Cesar%20Evangelista%22%2C%22textStartLine%22%3A%22123%22%2C%22textStartColumn%22%3A%2284%22%2C%22textEndLine%22%3A%22125%22%2C%22textEndColumn%22%3A%2218%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5Cyeeg2%5C%5COneDrive%5C%5CDocumentos%5C%5CProjects%5C%5Cfrontend%5C%5Cenaria-mx%22%7D",className:"text-2xl font-bold text-white font-orbitron mb-2",children:"Cesar Evangelista"}),z.jsx("a",{"trae-inspector-start-line":"126","trae-inspector-start-column":"18","trae-inspector-end-line":"133","trae-inspector-end-column":"22","trae-inspector-file-path":"src\\\\components\\\\sections\\\\CTASection.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Contactar%20por%20WhatsApp%22%2C%22textStartLine%22%3A%22131%22%2C%22textStartColumn%22%3A%2219%22%2C%22textEndLine%22%3A%22133%22%2C%22textEndColumn%22%3A%2218%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5Cyeeg2%5C%5COneDrive%5C%5CDocumentos%5C%5CProjects%5C%5Cfrontend%5C%5Cenaria-mx%22%7D",href:"https://wa.me/523311763919?text=Hola%20Cesar%2C%20me%20interesa%20Enaria%20MX",target:"_blank",rel:"noopener noreferrer",className:"inline-block bg-gradient-to-r from-accent-cyan to-accent-cyan/80 text-black font-bold py-3 px-6 rounded-lg hover:shadow-lg hover:shadow-accent-cyan/25 transition-all duration-300",children:"Contactar por WhatsApp"})]})})}),z.jsxs(ut.div,{variants:e,className:"space-y-6",children:[z.jsx("h3",{"trae-inspector-start-line":"140","trae-inspector-start-column":"14","trae-inspector-end-line":"142","trae-inspector-end-column":"19","trae-inspector-file-path":"src\\\\components\\\\sections\\\\CTASection.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Lo%20que%20obtienes%3A%22%2C%22textStartLine%22%3A%22140%22%2C%22textStartColumn%22%3A%2279%22%2C%22textEndLine%22%3A%22142%22%2C%22textEndColumn%22%3A%2214%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5Cyeeg2%5C%5COneDrive%5C%5CDocumentos%5C%5CProjects%5C%5Cfrontend%5C%5Cenaria-mx%22%7D",className:"text-2xl font-bold text-white font-orbitron mb-6",children:"Lo que obtienes:"}),z.jsx("div",{"trae-inspector-start-line":"144","trae-inspector-start-column":"14","trae-inspector-end-line":"158","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\components\\\\sections\\\\CTASection.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5Cyeeg2%5C%5COneDrive%5C%5CDocumentos%5C%5CProjects%5C%5Cfrontend%5C%5Cenaria-mx%22%7D",className:"space-y-4",children:e6.map((t,n)=>z.jsxs(ut.div,{className:"flex items-start space-x-3",initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.5,delay:n*.1},children:[z.jsx(Vd,{className:"w-6 h-6 text-accent-cyan flex-shrink-0 mt-0.5"}),z.jsx("span",{"trae-inspector-start-line":"155","trae-inspector-start-column":"20","trae-inspector-end-line":"155","trae-inspector-end-column":"68","trae-inspector-file-path":"src\\\\components\\\\sections\\\\CTASection.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5Cyeeg2%5C%5COneDrive%5C%5CDocumentos%5C%5CProjects%5C%5Cfrontend%5C%5Cenaria-mx%22%7D",className:"text-gray-300",children:t})]},n))})]})]}),z.jsxs(ut.div,{variants:e,className:"text-center mt-16",children:[z.jsx("div",{"trae-inspector-start-line":"164","trae-inspector-start-column":"12","trae-inspector-end-line":"179","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\sections\\\\CTASection.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5Cyeeg2%5C%5COneDrive%5C%5CDocumentos%5C%5CProjects%5C%5Cfrontend%5C%5Cenaria-mx%22%7D",className:"flex justify-center",children:z.jsx(ut.div,{className:"w-full max-w-2xl rounded-2xl overflow-hidden border border-white/10 bg-black/30",initial:{opacity:0,scale:.98},animate:{opacity:1,scale:1},transition:{duration:.4},children:z.jsx("iframe",{"trae-inspector-start-line":"171","trae-inspector-start-column":"16","trae-inspector-end-line":"177","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\components\\\\sections\\\\CTASection.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5Cyeeg2%5C%5COneDrive%5C%5CDocumentos%5C%5CProjects%5C%5Cfrontend%5C%5Cenaria-mx%22%7D",className:"w-full h-64 md:h-96",src:"https://www.youtube.com/embed/k-JO-EVrMvY?si=eK64rq57mCbmiyex",title:"YouTube video player",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",allowFullScreen:!0})})}),z.jsx("p",{"trae-inspector-start-line":"181","trae-inspector-start-column":"12","trae-inspector-end-line":"184","trae-inspector-end-column":"16","trae-inspector-file-path":"src\\\\components\\\\sections\\\\CTASection.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Prueba%20un%20mes%20sin%20compromiso%2C%20sin%20letras%20chiquitas%2C%20en%20cuenta%20real%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20o%20demo%22%2C%22textStartLine%22%3A%22181%22%2C%22textStartColumn%22%3A%2254%22%2C%22textEndLine%22%3A%22184%22%2C%22textEndColumn%22%3A%2212%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5Cyeeg2%5C%5COneDrive%5C%5CDocumentos%5C%5CProjects%5C%5Cfrontend%5C%5Cenaria-mx%22%7D",className:"text-gray-400 text-sm mt-6",children:"Prueba un mes sin compromiso, sin letras chiquitas, en cuenta real o demo"})]})]})})]})}function n6(){return z.jsxs("div",{"trae-inspector-start-line":"8","trae-inspector-start-column":"4","trae-inspector-end-line":"17","trae-inspector-end-column":"10","trae-inspector-file-path":"src\\\\pages\\\\HomePage.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5Cyeeg2%5C%5COneDrive%5C%5CDocumentos%5C%5CProjects%5C%5Cfrontend%5C%5Cenaria-mx%22%7D",className:"min-h-screen",children:[z.jsx(Jz,{}),z.jsx($z,{}),z.jsx(t6,{})]})}const r6=[{icon:fx,title:"Anlisis Predictivo con IA",description:"Algoritmos avanzados que analizan patrones de mercado y predicen tendencias futuras con alta precisin.",features:["Machine Learning","Anlisis de Sentimientos","Red Neuronal binaria","Calculo de Confianza"]},{icon:YD,title:"Trading Automatizado",description:"Sistema de trading automtico que ejecuta operaciones 24/7 basado en estrategia optimizada por IA.",features:["Ejecucin Automtica","Ordenes limite","Optimizacin Continua","Especializacion en Oro"]},{icon:tM,title:"Gestin Inteligente de Riesgos",description:"Herramientas de IA para identificar, evaluar y mitigar riesgos en tiempo real.",features:["Risk Assessment","Stop Loss Dinmico","Escenarios alta confianza 4 o 5","T mantienes el 100% del control de tu cuenta"]},{icon:$b,title:"Puntos a tomar en cuenta",description:"",features:["Control total: Mantienes el 100% del control de tu cuenta","Transparencia completa: Ver los niveles de confianza de la IA","Prueba gratuita de 30 das","Aprendizaje continuo: Aprende y mejora su precisin analtica con el tiempo"]}];function i6(){return z.jsxs("div",{"trae-inspector-start-line":"56","trae-inspector-start-column":"4","trae-inspector-end-line":"179","trae-inspector-end-column":"10","trae-inspector-file-path":"src\\\\pages\\\\ServicesPage.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5Cyeeg2%5C%5COneDrive%5C%5CDocumentos%5C%5CProjects%5C%5Cfrontend%5C%5Cenaria-mx%22%7D",className:"min-h-screen pt-16",children:[z.jsx("section",{"trae-inspector-start-line":"58","trae-inspector-start-column":"6","trae-inspector-end-line":"79","trae-inspector-end-column":"16","trae-inspector-file-path":"src\\\\pages\\\\ServicesPage.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5Cyeeg2%5C%5COneDrive%5C%5CDocumentos%5C%5CProjects%5C%5Cfrontend%5C%5Cenaria-mx%22%7D",className:"relative py-20 bg-gradient-to-b from-black via-gray-900 to-black",children:z.jsx("div",{"trae-inspector-start-line":"59","trae-inspector-start-column":"8","trae-inspector-end-line":"78","trae-inspector-end-column":"14","trae-inspector-file-path":"src\\\\pages\\\\ServicesPage.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5Cyeeg2%5C%5COneDrive%5C%5CDocumentos%5C%5CProjects%5C%5Cfrontend%5C%5Cenaria-mx%22%7D",className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:z.jsxs(ut.div,{className:"text-center",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},children:[z.jsxs("h1",{"trae-inspector-start-line":"66","trae-inspector-start-column":"12","trae-inspector-end-line":"71","trae-inspector-end-column":"17","trae-inspector-file-path":"src\\\\pages\\\\ServicesPage.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5Cyeeg2%5C%5COneDrive%5C%5CDocumentos%5C%5CProjects%5C%5Cfrontend%5C%5Cenaria-mx%22%7D",className:"text-5xl md:text-6xl font-bold text-white mb-6",children:["Servicios de"," ",z.jsx("span",{"trae-inspector-start-line":"68","trae-inspector-start-column":"14","trae-inspector-end-line":"70","trae-inspector-end-column":"21","trae-inspector-file-path":"src\\\\pages\\\\ServicesPage.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22IA%20Avanzada%22%2C%22textStartLine%22%3A%2268%22%2C%22textStartColumn%22%3A%22105%22%2C%22textEndLine%22%3A%2270%22%2C%22textEndColumn%22%3A%2214%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5Cyeeg2%5C%5COneDrive%5C%5CDocumentos%5C%5CProjects%5C%5Cfrontend%5C%5Cenaria-mx%22%7D",className:"text-transparent bg-clip-text bg-gradient-to-r from-cyan-400 to-blue-500",children:"IA Avanzada"})]}),z.jsx("p",{"trae-inspector-start-line":"72","trae-inspector-start-column":"12","trae-inspector-end-line":"76","trae-inspector-end-column":"16","trae-inspector-file-path":"src\\\\pages\\\\ServicesPage.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Transformamos%20el%20trading%20tradicional%20con%20inteligencia%20artificial%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20(Fine%20Tuning)%2C%20dise%C3%B1ada%20espec%C3%ADficamente%20para%20operar%20el%20oro%20en%20el%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20mercado%20de%20Forex%22%2C%22textStartLine%22%3A%2272%22%2C%22textStartColumn%22%3A%2283%22%2C%22textEndLine%22%3A%2276%22%2C%22textEndColumn%22%3A%2212%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5Cyeeg2%5C%5COneDrive%5C%5CDocumentos%5C%5CProjects%5C%5Cfrontend%5C%5Cenaria-mx%22%7D",className:"text-xl text-gray-300 max-w-3xl mx-auto leading-relaxed",children:"Transformamos el trading tradicional con inteligencia artificial (Fine Tuning), diseada especficamente para operar el oro en el mercado de Forex"})]})})}),z.jsx("section",{"trae-inspector-start-line":"82","trae-inspector-start-column":"6","trae-inspector-end-line":"128","trae-inspector-end-column":"16","trae-inspector-file-path":"src\\\\pages\\\\ServicesPage.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5Cyeeg2%5C%5COneDrive%5C%5CDocumentos%5C%5CProjects%5C%5Cfrontend%5C%5Cenaria-mx%22%7D",className:"py-20 bg-black",children:z.jsx("div",{"trae-inspector-start-line":"83","trae-inspector-start-column":"8","trae-inspector-end-line":"127","trae-inspector-end-column":"14","trae-inspector-file-path":"src\\\\pages\\\\ServicesPage.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5Cyeeg2%5C%5COneDrive%5C%5CDocumentos%5C%5CProjects%5C%5Cfrontend%5C%5Cenaria-mx%22%7D",className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:z.jsx("div",{"trae-inspector-start-line":"84","trae-inspector-start-column":"10","trae-inspector-end-line":"126","trae-inspector-end-column":"16","trae-inspector-file-path":"src\\\\pages\\\\ServicesPage.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5Cyeeg2%5C%5COneDrive%5C%5CDocumentos%5C%5CProjects%5C%5Cfrontend%5C%5Cenaria-mx%22%7D",className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:r6.map((r,e)=>z.jsxs(ut.div,{className:"bg-gray-900/50 backdrop-blur-sm border border-white/10 rounded-xl p-8 hover:border-cyan-400/50 transition-all duration-300",initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:e*.1},whileHover:{scale:1.02,y:-5},children:[z.jsxs("div",{"trae-inspector-start-line":"94","trae-inspector-start-column":"16","trae-inspector-end-line":"101","trae-inspector-end-column":"22","trae-inspector-file-path":"src\\\\pages\\\\ServicesPage.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5Cyeeg2%5C%5COneDrive%5C%5CDocumentos%5C%5CProjects%5C%5Cfrontend%5C%5Cenaria-mx%22%7D",className:"flex items-center mb-6",children:[z.jsx("div",{"trae-inspector-start-line":"95","trae-inspector-start-column":"18","trae-inspector-end-line":"97","trae-inspector-end-column":"24","trae-inspector-file-path":"src\\\\pages\\\\ServicesPage.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5Cyeeg2%5C%5COneDrive%5C%5CDocumentos%5C%5CProjects%5C%5Cfrontend%5C%5Cenaria-mx%22%7D",className:"p-3 bg-cyan-400/10 rounded-lg mr-4",children:z.jsx(r.icon,{className:"w-8 h-8 text-cyan-400"})}),z.jsx("h3",{"trae-inspector-start-line":"98","trae-inspector-start-column":"18","trae-inspector-end-line":"100","trae-inspector-end-column":"23","trae-inspector-file-path":"src\\\\pages\\\\ServicesPage.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5Cyeeg2%5C%5COneDrive%5C%5CDocumentos%5C%5CProjects%5C%5Cfrontend%5C%5Cenaria-mx%22%7D",className:"text-2xl font-bold text-white",children:r.title})]}),z.jsx("p",{"trae-inspector-start-line":"103","trae-inspector-start-column":"16","trae-inspector-end-line":"105","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\pages\\\\ServicesPage.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5Cyeeg2%5C%5COneDrive%5C%5CDocumentos%5C%5CProjects%5C%5Cfrontend%5C%5Cenaria-mx%22%7D",className:"text-gray-300 mb-6 leading-relaxed",children:r.description}),z.jsx("div",{"trae-inspector-start-line":"107","trae-inspector-start-column":"16","trae-inspector-end-line":"123","trae-inspector-end-column":"22","trae-inspector-file-path":"src\\\\pages\\\\ServicesPage.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5Cyeeg2%5C%5COneDrive%5C%5CDocumentos%5C%5CProjects%5C%5Cfrontend%5C%5Cenaria-mx%22%7D",className:"space-y-2",children:r.features.map((t,n)=>z.jsxs(ut.div,{className:"flex items-center text-sm text-gray-400",initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},transition:{duration:.4,delay:e*.1+n*.05},children:[z.jsx(nM,{className:"w-4 h-4 text-orange-400 mr-2"}),t]},t))})]},r.title))})})}),z.jsx("section",{"trae-inspector-start-line":"131","trae-inspector-start-column":"6","trae-inspector-end-line":"178","trae-inspector-end-column":"16","trae-inspector-file-path":"src\\\\pages\\\\ServicesPage.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5Cyeeg2%5C%5COneDrive%5C%5CDocumentos%5C%5CProjects%5C%5Cfrontend%5C%5Cenaria-mx%22%7D",className:"py-20 bg-gradient-to-b from-black to-gray-900",children:z.jsx("div",{"trae-inspector-start-line":"132","trae-inspector-start-column":"8","trae-inspector-end-line":"177","trae-inspector-end-column":"14","trae-inspector-file-path":"src\\\\pages\\\\ServicesPage.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5Cyeeg2%5C%5COneDrive%5C%5CDocumentos%5C%5CProjects%5C%5Cfrontend%5C%5Cenaria-mx%22%7D",className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:z.jsxs(ut.div,{className:"text-center mb-16",initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.8},children:[z.jsx("h2",{"trae-inspector-start-line":"139","trae-inspector-start-column":"12","trae-inspector-end-line":"141","trae-inspector-end-column":"17","trae-inspector-file-path":"src\\\\pages\\\\ServicesPage.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22%C2%BFListo%20para%20revolucionar%20tu%20trading%3F%22%2C%22textStartLine%22%3A%22139%22%2C%22textStartColumn%22%3A%2275%22%2C%22textEndLine%22%3A%22141%22%2C%22textEndColumn%22%3A%2212%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5Cyeeg2%5C%5COneDrive%5C%5CDocumentos%5C%5CProjects%5C%5Cfrontend%5C%5Cenaria-mx%22%7D",className:"text-4xl md:text-5xl font-bold text-white mb-6",children:"Listo para revolucionar tu trading?"}),z.jsx("p",{"trae-inspector-start-line":"142","trae-inspector-start-column":"12","trae-inspector-end-line":"145","trae-inspector-end-column":"16","trae-inspector-file-path":"src\\\\pages\\\\ServicesPage.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22%C3%9Anete%20a%20los%20traders%20que%20ya%20est%C3%A1n%20utilizando%20IA%20para%20maximizar%20sus%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20ganancias%22%2C%22textStartLine%22%3A%22142%22%2C%22textStartColumn%22%3A%2272%22%2C%22textEndLine%22%3A%22145%22%2C%22textEndColumn%22%3A%2212%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5Cyeeg2%5C%5COneDrive%5C%5CDocumentos%5C%5CProjects%5C%5Cfrontend%5C%5Cenaria-mx%22%7D",className:"text-xl text-gray-300 mb-8 max-w-2xl mx-auto",children:"nete a los traders que ya estn utilizando IA para maximizar sus ganancias"}),z.jsx(ut.button,{onClick:()=>window.open("https://www.myfxbook.com/search/Enaria","_blank"),whileHover:{scale:1.05},whileTap:{scale:.95},className:"inline-flex items-center justify-center px-8 py-4 text-lg font-semibold text-white bg-gradient-to-r from-cyan-500 to-blue-600 rounded-xl shadow-lg hover:shadow-cyan-500/50 transition-all duration-300 focus:outline-none focus:ring-4 focus:ring-cyan-400/50",children:"Comenzar Ahora"}),z.jsx("iframe",{"trae-inspector-start-line":"158","trae-inspector-start-column":"12","trae-inspector-end-line":"161","trae-inspector-end-column":"22","trae-inspector-file-path":"src\\\\pages\\\\ServicesPage.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5Cyeeg2%5C%5COneDrive%5C%5CDocumentos%5C%5CProjects%5C%5Cfrontend%5C%5Cenaria-mx%22%7D",src:"https://widget.myfxbook.com/widget/market-hours.html",style:{border:"0",width:"100%",height:"50vh",margin:40}}),z.jsx("div",{"trae-inspector-start-line":"162","trae-inspector-start-column":"12","trae-inspector-end-line":"175","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\pages\\\\ServicesPage.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5Cyeeg2%5C%5COneDrive%5C%5CDocumentos%5C%5CProjects%5C%5Cfrontend%5C%5Cenaria-mx%22%7D",style:{marginTop:"10px"},children:z.jsxs("div",{"trae-inspector-start-line":"163","trae-inspector-start-column":"14","trae-inspector-end-line":"174","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\pages\\\\ServicesPage.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5Cyeeg2%5C%5COneDrive%5C%5CDocumentos%5C%5CProjects%5C%5Cfrontend%5C%5Cenaria-mx%22%7D",className:"w-fit mx-auto font-family: roboto,sans-serif!important; font-size: 13px; color: #666666;",children:[z.jsx("a",{"trae-inspector-start-line":"164","trae-inspector-start-column":"16","trae-inspector-end-line":"172","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\pages\\\\ServicesPage.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5Cyeeg2%5C%5COneDrive%5C%5CDocumentos%5C%5CProjects%5C%5Cfrontend%5C%5Cenaria-mx%22%7D",href:"https://www.myfxbook.com/market-hours",title:"Forex Market Hours",className:"myfxbookLink",target:"_blank",rel:"noopener",children:z.jsx("b",{"trae-inspector-start-line":"171","trae-inspector-start-column":"18","trae-inspector-end-line":"171","trae-inspector-end-column":"63","trae-inspector-file-path":"src\\\\pages\\\\ServicesPage.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Market%20Hours%22%2C%22textStartLine%22%3A%22171%22%2C%22textStartColumn%22%3A%2247%22%2C%22textEndLine%22%3A%22171%22%2C%22textEndColumn%22%3A%2259%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5Cyeeg2%5C%5COneDrive%5C%5CDocumentos%5C%5CProjects%5C%5Cfrontend%5C%5Cenaria-mx%22%7D",className:"text-gray-300",children:"Market Hours"})}),"by Myfxbook.com"]})})]})})})]})}function s6(){const[r,e]=ue.useState({name:"",email:"",company:"",phone:"",message:"",interest:"general"}),[t,n]=ue.useState(!1),i=o=>{o.preventDefault(),setTimeout(()=>{n(!0)},1e3)},s=o=>{e({...r,[o.target.name]:o.target.value})};return t?z.jsx("div",{"trae-inspector-start-line":"37","trae-inspector-start-column":"6","trae-inspector-end-line":"61","trae-inspector-end-column":"12","trae-inspector-file-path":"src\\\\pages\\\\ContactPage.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5Cyeeg2%5C%5COneDrive%5C%5CDocumentos%5C%5CProjects%5C%5Cfrontend%5C%5Cenaria-mx%22%7D",className:"min-h-screen pt-16 flex items-center justify-center bg-black",children:z.jsxs(ut.div,{className:"text-center",initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.6},children:[z.jsx(Vd,{className:"w-20 h-20 text-green-400 mx-auto mb-6"}),z.jsx("h2",{"trae-inspector-start-line":"45","trae-inspector-start-column":"10","trae-inspector-end-line":"47","trae-inspector-end-column":"15","trae-inspector-file-path":"src\\\\pages\\\\ContactPage.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22%C2%A1Mensaje%20Enviado!%22%2C%22textStartLine%22%3A%2245%22%2C%22textStartColumn%22%3A%2261%22%2C%22textEndLine%22%3A%2247%22%2C%22textEndColumn%22%3A%2210%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5Cyeeg2%5C%5COneDrive%5C%5CDocumentos%5C%5CProjects%5C%5Cfrontend%5C%5Cenaria-mx%22%7D",className:"text-3xl font-bold text-white mb-4",children:"Mensaje Enviado!"}),z.jsx("p",{"trae-inspector-start-line":"48","trae-inspector-start-column":"10","trae-inspector-end-line":"51","trae-inspector-end-column":"14","trae-inspector-file-path":"src\\\\pages\\\\ContactPage.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Gracias%20por%20tu%20inter%C3%A9s.%20Nos%20pondremos%20en%20contacto%20contigo%20en%20las%5Cn%20%20%20%20%20%20%20%20%20%20%20%20pr%C3%B3ximas%2024%20horas.%22%2C%22textStartLine%22%3A%2248%22%2C%22textStartColumn%22%3A%2244%22%2C%22textEndLine%22%3A%2251%22%2C%22textEndColumn%22%3A%2210%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5Cyeeg2%5C%5COneDrive%5C%5CDocumentos%5C%5CProjects%5C%5Cfrontend%5C%5Cenaria-mx%22%7D",className:"text-gray-300 mb-8",children:"Gracias por tu inters. Nos pondremos en contacto contigo en las prximas 24 horas."}),z.jsx(ut.button,{onClick:()=>n(!1),className:"bg-cyan-500 text-white px-6 py-3 rounded-lg hover:bg-cyan-400 transition-colors",whileHover:{scale:1.05},whileTap:{scale:.95},children:"Enviar Otro Mensaje"})]})}):z.jsxs("div",{"trae-inspector-start-line":"66","trae-inspector-start-column":"4","trae-inspector-end-line":"251","trae-inspector-end-column":"10","trae-inspector-file-path":"src\\\\pages\\\\ContactPage.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5Cyeeg2%5C%5COneDrive%5C%5CDocumentos%5C%5CProjects%5C%5Cfrontend%5C%5Cenaria-mx%22%7D",className:"min-h-screen pt-16 bg-gradient-to-b from-black via-gray-900 to-black",children:[z.jsx("section",{"trae-inspector-start-line":"68","trae-inspector-start-column":"6","trae-inspector-end-line":"88","trae-inspector-end-column":"16","trae-inspector-file-path":"src\\\\pages\\\\ContactPage.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5Cyeeg2%5C%5COneDrive%5C%5CDocumentos%5C%5CProjects%5C%5Cfrontend%5C%5Cenaria-mx%22%7D",className:"py-20",children:z.jsx("div",{"trae-inspector-start-line":"69","trae-inspector-start-column":"8","trae-inspector-end-line":"87","trae-inspector-end-column":"14","trae-inspector-file-path":"src\\\\pages\\\\ContactPage.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5Cyeeg2%5C%5COneDrive%5C%5CDocumentos%5C%5CProjects%5C%5Cfrontend%5C%5Cenaria-mx%22%7D",className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:z.jsxs(ut.div,{className:"text-center mb-16",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},children:[z.jsxs("h1",{"trae-inspector-start-line":"76","trae-inspector-start-column":"12","trae-inspector-end-line":"81","trae-inspector-end-column":"17","trae-inspector-file-path":"src\\\\pages\\\\ContactPage.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5Cyeeg2%5C%5COneDrive%5C%5CDocumentos%5C%5CProjects%5C%5Cfrontend%5C%5Cenaria-mx%22%7D",className:"text-5xl md:text-6xl font-bold text-white mb-6",children:["Hablemos de tu"," ",z.jsx("span",{"trae-inspector-start-line":"78","trae-inspector-start-column":"14","trae-inspector-end-line":"80","trae-inspector-end-column":"21","trae-inspector-file-path":"src\\\\pages\\\\ContactPage.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Futuro%22%2C%22textStartLine%22%3A%2278%22%2C%22textStartColumn%22%3A%22105%22%2C%22textEndLine%22%3A%2280%22%2C%22textEndColumn%22%3A%2214%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5Cyeeg2%5C%5COneDrive%5C%5CDocumentos%5C%5CProjects%5C%5Cfrontend%5C%5Cenaria-mx%22%7D",className:"text-transparent bg-clip-text bg-gradient-to-r from-cyan-400 to-blue-500",children:"Futuro"})]}),z.jsx("p",{"trae-inspector-start-line":"82","trae-inspector-start-column":"12","trae-inspector-end-line":"85","trae-inspector-end-column":"16","trae-inspector-file-path":"src\\\\pages\\\\ContactPage.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Estamos%20aqu%C3%AD%20para%20ayudarte%20a%20transformar%20tu%20trading%20con%20IA.%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20Cont%C3%A1ctanos%20para%20una%20consulta%20personalizada.%22%2C%22textStartLine%22%3A%2282%22%2C%22textStartColumn%22%3A%2283%22%2C%22textEndLine%22%3A%2285%22%2C%22textEndColumn%22%3A%2212%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5Cyeeg2%5C%5COneDrive%5C%5CDocumentos%5C%5CProjects%5C%5Cfrontend%5C%5Cenaria-mx%22%7D",className:"text-xl text-gray-300 max-w-3xl mx-auto leading-relaxed",children:"Estamos aqu para ayudarte a transformar tu trading con IA. Contctanos para una consulta personalizada."})]})})}),z.jsx("div",{"trae-inspector-start-line":"90","trae-inspector-start-column":"6","trae-inspector-end-line":"250","trae-inspector-end-column":"12","trae-inspector-file-path":"src\\\\pages\\\\ContactPage.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5Cyeeg2%5C%5COneDrive%5C%5CDocumentos%5C%5CProjects%5C%5Cfrontend%5C%5Cenaria-mx%22%7D",className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pb-20",children:z.jsxs("div",{"trae-inspector-start-line":"91","trae-inspector-start-column":"8","trae-inspector-end-line":"249","trae-inspector-end-column":"14","trae-inspector-file-path":"src\\\\pages\\\\ContactPage.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5Cyeeg2%5C%5COneDrive%5C%5CDocumentos%5C%5CProjects%5C%5Cfrontend%5C%5Cenaria-mx%22%7D",className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[z.jsxs(ut.div,{className:"bg-gray-900/50 backdrop-blur-sm border border-white/10 rounded-xl p-8",initial:{opacity:0,x:-30},animate:{opacity:1,x:0},transition:{duration:.8,delay:.2},children:[z.jsx("h2",{"trae-inspector-start-line":"99","trae-inspector-start-column":"12","trae-inspector-end-line":"101","trae-inspector-end-column":"17","trae-inspector-file-path":"src\\\\pages\\\\ContactPage.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Sera%20un%20placer%20ayudarte...%22%2C%22textStartLine%22%3A%2299%22%2C%22textStartColumn%22%3A%2263%22%2C%22textEndLine%22%3A%22101%22%2C%22textEndColumn%22%3A%2212%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5Cyeeg2%5C%5COneDrive%5C%5CDocumentos%5C%5CProjects%5C%5Cfrontend%5C%5Cenaria-mx%22%7D",className:"text-3xl font-bold text-white mb-6",children:"Sera un placer ayudarte..."}),z.jsxs("form",{"trae-inspector-start-line":"103","trae-inspector-start-column":"12","trae-inspector-end-line":"186","trae-inspector-end-column":"19","trae-inspector-file-path":"src\\\\pages\\\\ContactPage.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5Cyeeg2%5C%5COneDrive%5C%5CDocumentos%5C%5CProjects%5C%5Cfrontend%5C%5Cenaria-mx%22%7D",onSubmit:i,className:"space-y-6",children:[z.jsxs("div",{"trae-inspector-start-line":"104","trae-inspector-start-column":"14","trae-inspector-end-line":"134","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\pages\\\\ContactPage.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5Cyeeg2%5C%5COneDrive%5C%5CDocumentos%5C%5CProjects%5C%5Cfrontend%5C%5Cenaria-mx%22%7D",className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[z.jsxs("div",{"trae-inspector-start-line":"105","trae-inspector-start-column":"16","trae-inspector-end-line":"118","trae-inspector-end-column":"22","trae-inspector-file-path":"src\\\\pages\\\\ContactPage.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5Cyeeg2%5C%5COneDrive%5C%5CDocumentos%5C%5CProjects%5C%5Cfrontend%5C%5Cenaria-mx%22%7D",children:[z.jsx("label",{"trae-inspector-start-line":"106","trae-inspector-start-column":"18","trae-inspector-end-line":"108","trae-inspector-end-column":"26","trae-inspector-file-path":"src\\\\pages\\\\ContactPage.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Nombre%20Completo%20*%22%2C%22textStartLine%22%3A%22106%22%2C%22textStartColumn%22%3A%2282%22%2C%22textEndLine%22%3A%22108%22%2C%22textEndColumn%22%3A%2218%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5Cyeeg2%5C%5COneDrive%5C%5CDocumentos%5C%5CProjects%5C%5Cfrontend%5C%5Cenaria-mx%22%7D",className:"block text-sm font-medium text-gray-300 mb-2",children:"Nombre Completo *"}),z.jsx("input",{"trae-inspector-start-line":"109","trae-inspector-start-column":"18","trae-inspector-end-line":"117","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\pages\\\\ContactPage.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5Cyeeg2%5C%5COneDrive%5C%5CDocumentos%5C%5CProjects%5C%5Cfrontend%5C%5Cenaria-mx%22%7D",type:"text",name:"name",required:!0,value:r.name,onChange:s,className:"w-full px-4 py-3 bg-black/50 border border-white/20 rounded-lg text-white placeholder-gray-400 focus:border-cyan-400 focus:ring-1 focus:ring-cyan-400 transition-colors",placeholder:"Tu nombre"})]}),z.jsxs("div",{"trae-inspector-start-line":"120","trae-inspector-start-column":"16","trae-inspector-end-line":"133","trae-inspector-end-column":"22","trae-inspector-file-path":"src\\\\pages\\\\ContactPage.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5Cyeeg2%5C%5COneDrive%5C%5CDocumentos%5C%5CProjects%5C%5Cfrontend%5C%5Cenaria-mx%22%7D",children:[z.jsx("label",{"trae-inspector-start-line":"121","trae-inspector-start-column":"18","trae-inspector-end-line":"123","trae-inspector-end-column":"26","trae-inspector-file-path":"src\\\\pages\\\\ContactPage.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Email%20*%22%2C%22textStartLine%22%3A%22121%22%2C%22textStartColumn%22%3A%2282%22%2C%22textEndLine%22%3A%22123%22%2C%22textEndColumn%22%3A%2218%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5Cyeeg2%5C%5COneDrive%5C%5CDocumentos%5C%5CProjects%5C%5Cfrontend%5C%5Cenaria-mx%22%7D",className:"block text-sm font-medium text-gray-300 mb-2",children:"Email *"}),z.jsx("input",{"trae-inspector-start-line":"124","trae-inspector-start-column":"18","trae-inspector-end-line":"132","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\pages\\\\ContactPage.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5Cyeeg2%5C%5COneDrive%5C%5CDocumentos%5C%5CProjects%5C%5Cfrontend%5C%5Cenaria-mx%22%7D",type:"email",name:"email",required:!0,value:r.email,onChange:s,className:"w-full px-4 py-3 bg-black/50 border border-white/20 rounded-lg text-white placeholder-gray-400 focus:border-cyan-400 focus:ring-1 focus:ring-cyan-400 transition-colors",placeholder:"tu@email.com"})]})]}),z.jsx("div",{"trae-inspector-start-line":"136","trae-inspector-start-column":"14","trae-inspector-end-line":"150","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\pages\\\\ContactPage.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5Cyeeg2%5C%5COneDrive%5C%5CDocumentos%5C%5CProjects%5C%5Cfrontend%5C%5Cenaria-mx%22%7D",className:"grid grid-cols-1 md:grid-cols-1 gap-6",children:z.jsxs("div",{"trae-inspector-start-line":"137","trae-inspector-start-column":"16","trae-inspector-end-line":"149","trae-inspector-end-column":"22","trae-inspector-file-path":"src\\\\pages\\\\ContactPage.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5Cyeeg2%5C%5COneDrive%5C%5CDocumentos%5C%5CProjects%5C%5Cfrontend%5C%5Cenaria-mx%22%7D",children:[z.jsx("label",{"trae-inspector-start-line":"138","trae-inspector-start-column":"18","trae-inspector-end-line":"140","trae-inspector-end-column":"26","trae-inspector-file-path":"src\\\\pages\\\\ContactPage.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Tel%C3%A9fono%22%2C%22textStartLine%22%3A%22138%22%2C%22textStartColumn%22%3A%2282%22%2C%22textEndLine%22%3A%22140%22%2C%22textEndColumn%22%3A%2218%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5Cyeeg2%5C%5COneDrive%5C%5CDocumentos%5C%5CProjects%5C%5Cfrontend%5C%5Cenaria-mx%22%7D",className:"block text-sm font-medium text-gray-300 mb-2",children:"Telfono"}),z.jsx("input",{"trae-inspector-start-line":"141","trae-inspector-start-column":"18","trae-inspector-end-line":"148","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\pages\\\\ContactPage.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5Cyeeg2%5C%5COneDrive%5C%5CDocumentos%5C%5CProjects%5C%5Cfrontend%5C%5Cenaria-mx%22%7D",type:"tel",name:"phone",value:r.phone,onChange:s,className:"w-full px-4 py-3 bg-black/50 border border-white/20 rounded-lg text-white placeholder-gray-400 focus:border-cyan-400 focus:ring-1 focus:ring-cyan-400 transition-colors",placeholder:"+52 55 1234 5678"})]})}),z.jsxs("div",{"trae-inspector-start-line":"152","trae-inspector-start-column":"14","trae-inspector-end-line":"165","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\pages\\\\ContactPage.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5Cyeeg2%5C%5COneDrive%5C%5CDocumentos%5C%5CProjects%5C%5Cfrontend%5C%5Cenaria-mx%22%7D",children:[z.jsx("label",{"trae-inspector-start-line":"153","trae-inspector-start-column":"16","trae-inspector-end-line":"155","trae-inspector-end-column":"24","trae-inspector-file-path":"src\\\\pages\\\\ContactPage.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Mensaje%20*%22%2C%22textStartLine%22%3A%22153%22%2C%22textStartColumn%22%3A%2280%22%2C%22textEndLine%22%3A%22155%22%2C%22textEndColumn%22%3A%2216%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5Cyeeg2%5C%5COneDrive%5C%5CDocumentos%5C%5CProjects%5C%5Cfrontend%5C%5Cenaria-mx%22%7D",className:"block text-sm font-medium text-gray-300 mb-2",children:"Mensaje *"}),z.jsx("textarea",{"trae-inspector-start-line":"156","trae-inspector-start-column":"16","trae-inspector-end-line":"164","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\pages\\\\ContactPage.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5Cyeeg2%5C%5COneDrive%5C%5CDocumentos%5C%5CProjects%5C%5Cfrontend%5C%5Cenaria-mx%22%7D",name:"message",required:!0,rows:4,value:r.message,onChange:s,className:"w-full px-4 py-3 bg-black/50 border border-white/20 rounded-lg text-white placeholder-gray-400 focus:border-cyan-400 focus:ring-1 focus:ring-cyan-400 transition-colors resize-none",placeholder:"Cuntanos sobre tus necesidades de trading y cmo podemos ayudarte..."})]}),z.jsxs(ut.button,{type:"submit",className:"w-full bg-gradient-to-r from-cyan-500 to-blue-600 text-white px-8 py-4 rounded-lg font-semibold text-lg hover:from-cyan-400 hover:to-blue-500 transition-all duration-300 shadow-lg hover:shadow-cyan-500/25 flex items-center justify-center space-x-2",whileHover:{scale:1.02},whileTap:{scale:.98},children:[z.jsx(QD,{className:"w-5 h-5"}),z.jsx("span",{"trae-inspector-start-line":"174","trae-inspector-start-column":"16","trae-inspector-end-line":"174","trae-inspector-end-column":"43","trae-inspector-file-path":"src\\\\pages\\\\ContactPage.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Enviar%20Mensaje%22%2C%22textStartLine%22%3A%22174%22%2C%22textStartColumn%22%3A%2222%22%2C%22textEndLine%22%3A%22174%22%2C%22textEndColumn%22%3A%2236%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5Cyeeg2%5C%5COneDrive%5C%5CDocumentos%5C%5CProjects%5C%5Cfrontend%5C%5Cenaria-mx%22%7D",children:"Enviar Mensaje"})]}),z.jsxs(ut.button,{type:"submit",className:"w-full bg-gradient-to-r from-cyan-500 to-blue-600 text-white px-8 py-4 rounded-lg font-semibold text-lg hover:from-cyan-400 hover:to-blue-500 transition-all duration-300 shadow-lg hover:shadow-cyan-500/25 flex items-center justify-center space-x-2",whileHover:{scale:1.02},whileTap:{scale:.98},children:[z.jsx(JD,{className:"w-5 h-5"}),z.jsx("span",{"trae-inspector-start-line":"184","trae-inspector-start-column":"16","trae-inspector-end-line":"184","trae-inspector-end-column":"64","trae-inspector-file-path":"src\\\\pages\\\\ContactPage.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22QUIERO%20INICIAR%20MI%20PRUEBA%20DE%2030%20DIAS%22%2C%22textStartLine%22%3A%22184%22%2C%22textStartColumn%22%3A%2222%22%2C%22textEndLine%22%3A%22184%22%2C%22textEndColumn%22%3A%2257%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5Cyeeg2%5C%5COneDrive%5C%5CDocumentos%5C%5CProjects%5C%5Cfrontend%5C%5Cenaria-mx%22%7D",children:"QUIERO INICIAR MI PRUEBA DE 30 DIAS"})]})]})]}),z.jsxs(ut.div,{className:"space-y-8",initial:{opacity:0,x:30},animate:{opacity:1,x:0},transition:{duration:.8,delay:.4},children:[z.jsxs("div",{"trae-inspector-start-line":"197","trae-inspector-start-column":"12","trae-inspector-end-line":"221","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\pages\\\\ContactPage.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5Cyeeg2%5C%5COneDrive%5C%5CDocumentos%5C%5CProjects%5C%5Cfrontend%5C%5Cenaria-mx%22%7D",className:"space-y-6",children:[z.jsxs("div",{"trae-inspector-start-line":"198","trae-inspector-start-column":"14","trae-inspector-end-line":"209","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\pages\\\\ContactPage.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5Cyeeg2%5C%5COneDrive%5C%5CDocumentos%5C%5CProjects%5C%5Cfrontend%5C%5Cenaria-mx%22%7D",className:"bg-gray-900/50 backdrop-blur-sm border border-white/10 rounded-xl p-6",children:[z.jsxs("div",{"trae-inspector-start-line":"199","trae-inspector-start-column":"16","trae-inspector-end-line":"205","trae-inspector-end-column":"22","trae-inspector-file-path":"src\\\\pages\\\\ContactPage.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5Cyeeg2%5C%5COneDrive%5C%5CDocumentos%5C%5CProjects%5C%5Cfrontend%5C%5Cenaria-mx%22%7D",className:"flex items-center mb-4",children:[z.jsx(eM,{className:"w-8 h-8 text-cyan-400 mr-4"}),z.jsxs("div",{"trae-inspector-start-line":"201","trae-inspector-start-column":"18","trae-inspector-end-line":"204","trae-inspector-end-column":"24","trae-inspector-file-path":"src\\\\pages\\\\ContactPage.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5Cyeeg2%5C%5COneDrive%5C%5CDocumentos%5C%5CProjects%5C%5Cfrontend%5C%5Cenaria-mx%22%7D",children:[z.jsx("h3",{"trae-inspector-start-line":"202","trae-inspector-start-column":"20","trae-inspector-end-line":"202","trae-inspector-end-column":"79","trae-inspector-file-path":"src\\\\pages\\\\ContactPage.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Email%22%2C%22textStartLine%22%3A%22202%22%2C%22textStartColumn%22%3A%2269%22%2C%22textEndLine%22%3A%22202%22%2C%22textEndColumn%22%3A%2274%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5Cyeeg2%5C%5COneDrive%5C%5CDocumentos%5C%5CProjects%5C%5Cfrontend%5C%5Cenaria-mx%22%7D",className:"text-xl font-semibold text-white",children:"Email"}),z.jsx("p",{"trae-inspector-start-line":"203","trae-inspector-start-column":"20","trae-inspector-end-line":"203","trae-inspector-end-column":"71","trae-inspector-file-path":"src\\\\pages\\\\ContactPage.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22enariamx%40gmail.com%22%2C%22textStartLine%22%3A%22203%22%2C%22textStartColumn%22%3A%2249%22%2C%22textEndLine%22%3A%22203%22%2C%22textEndColumn%22%3A%2267%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5Cyeeg2%5C%5COneDrive%5C%5CDocumentos%5C%5CProjects%5C%5Cfrontend%5C%5Cenaria-mx%22%7D",className:"text-gray-300",children:"enariamx@gmail.com"})]})]}),z.jsx("p",{"trae-inspector-start-line":"206","trae-inspector-start-column":"16","trae-inspector-end-line":"208","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\pages\\\\ContactPage.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Respuesta%20garantizada%20en%20menos%20de%2024%20horas%22%2C%22textStartLine%22%3A%22206%22%2C%22textStartColumn%22%3A%2253%22%2C%22textEndLine%22%3A%22208%22%2C%22textEndColumn%22%3A%2216%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5Cyeeg2%5C%5COneDrive%5C%5CDocumentos%5C%5CProjects%5C%5Cfrontend%5C%5Cenaria-mx%22%7D",className:"text-gray-400 text-sm",children:"Respuesta garantizada en menos de 24 horas"})]}),z.jsx("div",{"trae-inspector-start-line":"211","trae-inspector-start-column":"14","trae-inspector-end-line":"220","trae-inspector-end-column":"20","trae-inspector-file-path":"src\\\\pages\\\\ContactPage.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5Cyeeg2%5C%5COneDrive%5C%5CDocumentos%5C%5CProjects%5C%5Cfrontend%5C%5Cenaria-mx%22%7D",className:"bg-gray-900/50 backdrop-blur-sm border border-white/10 rounded-xl p-6",children:z.jsxs("div",{"trae-inspector-start-line":"212","trae-inspector-start-column":"16","trae-inspector-end-line":"219","trae-inspector-end-column":"22","trae-inspector-file-path":"src\\\\pages\\\\ContactPage.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5Cyeeg2%5C%5COneDrive%5C%5CDocumentos%5C%5CProjects%5C%5Cfrontend%5C%5Cenaria-mx%22%7D",className:"flex items-center mb-4 cursor-pointer",children:[z.jsx(ZD,{className:"w-8 h-8 text-cyan-400 mr-4"}),z.jsx("div",{"trae-inspector-start-line":"214","trae-inspector-start-column":"18","trae-inspector-end-line":"218","trae-inspector-end-column":"24","trae-inspector-file-path":"src\\\\pages\\\\ContactPage.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5Cyeeg2%5C%5COneDrive%5C%5CDocumentos%5C%5CProjects%5C%5Cfrontend%5C%5Cenaria-mx%22%7D",children:z.jsx("h3",{"trae-inspector-start-line":"215","trae-inspector-start-column":"20","trae-inspector-end-line":"217","trae-inspector-end-column":"25","trae-inspector-file-path":"src\\\\pages\\\\ContactPage.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22WhatsApp%22%2C%22textStartLine%22%3A%22215%22%2C%22textStartColumn%22%3A%2269%22%2C%22textEndLine%22%3A%22217%22%2C%22textEndColumn%22%3A%2220%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5Cyeeg2%5C%5COneDrive%5C%5CDocumentos%5C%5CProjects%5C%5Cfrontend%5C%5Cenaria-mx%22%7D",className:"text-xl font-semibold text-white",children:"WhatsApp"})})]})})]}),z.jsxs("div",{"trae-inspector-start-line":"224","trae-inspector-start-column":"12","trae-inspector-end-line":"247","trae-inspector-end-column":"18","trae-inspector-file-path":"src\\\\pages\\\\ContactPage.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5Cyeeg2%5C%5COneDrive%5C%5CDocumentos%5C%5CProjects%5C%5Cfrontend%5C%5Cenaria-mx%22%7D",className:"bg-gradient-to-r from-cyan-500/10 to-blue-500/10 border border-cyan-400/20 rounded-xl p-6",children:[z.jsx("h3",{"trae-inspector-start-line":"225","trae-inspector-start-column":"14","trae-inspector-end-line":"227","trae-inspector-end-column":"19","trae-inspector-file-path":"src\\\\pages\\\\ContactPage.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22%C2%BFPor%20qu%C3%A9%20elegir%20Enaria%3F%22%2C%22textStartLine%22%3A%22225%22%2C%22textStartColumn%22%3A%2268%22%2C%22textEndLine%22%3A%22227%22%2C%22textEndColumn%22%3A%2214%22%2C%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5Cyeeg2%5C%5COneDrive%5C%5CDocumentos%5C%5CProjects%5C%5Cfrontend%5C%5Cenaria-mx%22%7D",className:"text-xl font-semibold text-white mb-4",children:"Por qu elegir Enaria?"}),z.jsxs("ul",{"trae-inspector-start-line":"228","trae-inspector-start-column":"14","trae-inspector-end-line":"246","trae-inspector-end-column":"19","trae-inspector-file-path":"src\\\\pages\\\\ContactPage.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5Cyeeg2%5C%5COneDrive%5C%5CDocumentos%5C%5CProjects%5C%5Cfrontend%5C%5Cenaria-mx%22%7D",className:"space-y-2 text-gray-300 text-sm",children:[z.jsxs("li",{"trae-inspector-start-line":"229","trae-inspector-start-column":"16","trae-inspector-end-line":"232","trae-inspector-end-column":"21","trae-inspector-file-path":"src\\\\pages\\\\ContactPage.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5Cyeeg2%5C%5COneDrive%5C%5CDocumentos%5C%5CProjects%5C%5Cfrontend%5C%5Cenaria-mx%22%7D",className:"flex items-center",children:[z.jsx(Vd,{className:"w-4 h-4 text-green-400 mr-2"}),"Control total: Mantienes el 100% del control de tu cuenta"]}),z.jsxs("li",{"trae-inspector-start-line":"233","trae-inspector-start-column":"16","trae-inspector-end-line":"236","trae-inspector-end-column":"21","trae-inspector-file-path":"src\\\\pages\\\\ContactPage.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5Cyeeg2%5C%5COneDrive%5C%5CDocumentos%5C%5CProjects%5C%5Cfrontend%5C%5Cenaria-mx%22%7D",className:"flex items-center",children:[z.jsx(Vd,{className:"w-4 h-4 text-green-400 mr-2"}),"Transparencia completa: Ver los niveles de confianza de la IA"]}),z.jsxs("li",{"trae-inspector-start-line":"237","trae-inspector-start-column":"16","trae-inspector-end-line":"240","trae-inspector-end-column":"21","trae-inspector-file-path":"src\\\\pages\\\\ContactPage.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5Cyeeg2%5C%5COneDrive%5C%5CDocumentos%5C%5CProjects%5C%5Cfrontend%5C%5Cenaria-mx%22%7D",className:"flex items-center",children:[z.jsx(Vd,{className:"w-4 h-4 text-green-400 mr-2"}),"Prueba gratuita de 30 das"]}),z.jsxs("li",{"trae-inspector-start-line":"241","trae-inspector-start-column":"16","trae-inspector-end-line":"245","trae-inspector-end-column":"21","trae-inspector-file-path":"src\\\\pages\\\\ContactPage.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22C%3A%5C%5CUsers%5C%5Cyeeg2%5C%5COneDrive%5C%5CDocumentos%5C%5CProjects%5C%5Cfrontend%5C%5Cenaria-mx%22%7D",className:"flex items-center",children:[z.jsx(Vd,{className:"w-4 h-4 text-green-400 mr-2"}),"Aprendizaje continuo: Aprende y mejora su precisin analtica con el tiempo"]})]})]})]})]})})]})}function o6(){const[r,e]=ue.useState(!0);return z.jsxs(_5,{children:[r&&z.jsx(GD,{onComplete:()=>e(!1)}),z.jsxs(m5,{children:[z.jsx(xg,{path:"/",element:z.jsx(Rv,{transparentNav:!0,children:z.jsx(n6,{})})}),z.jsx(xg,{path:"/servicios",element:z.jsx(Rv,{children:z.jsx(i6,{})})}),z.jsx(xg,{path:"/contacto",element:z.jsx(Rv,{children:z.jsx(s6,{})})})]})]})}ST.createRoot(document.getElementById("root")).render(z.jsx(ue.StrictMode,{children:z.jsx(o6,{})}));
